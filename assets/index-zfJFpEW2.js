(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function qb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Dd={exports:{}},Vl={};var F_;function Hb(){if(F_)return Vl;F_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Vl.Fragment=e,Vl.jsx=i,Vl.jsxs=i,Vl}var G_;function Fb(){return G_||(G_=1,Dd.exports=Hb()),Dd.exports}var b=Fb(),Od={exports:{}},Ie={};var $_;function Gb(){if($_)return Ie;$_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function $(N){return N===null||typeof N!="object"?null:(N=M&&N[M]||N["@@iterator"],typeof N=="function"?N:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,ee={};function fe(N,K,ie){this.props=N,this.context=K,this.refs=ee,this.updater=ie||Z}fe.prototype.isReactComponent={},fe.prototype.setState=function(N,K){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,K,"setState")},fe.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function be(){}be.prototype=fe.prototype;function Ee(N,K,ie){this.props=N,this.context=K,this.refs=ee,this.updater=ie||Z}var Ke=Ee.prototype=new be;Ke.constructor=Ee,te(Ke,fe.prototype),Ke.isPureReactComponent=!0;var at=Array.isArray;function ke(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function x(N,K,ie){var re=ie.ref;return{$$typeof:s,type:N,key:K,ref:re!==void 0?re:null,props:ie}}function V(N,K){return x(N.type,K,N.props)}function D(N){return typeof N=="object"&&N!==null&&N.$$typeof===s}function L(N){var K={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ie){return K[ie]})}var R=/\/+/g;function pe(N,K){return typeof N=="object"&&N!==null&&N.key!=null?L(""+N.key):K.toString(36)}function xt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(ke,ke):(N.status="pending",N.then(function(K){N.status==="pending"&&(N.status="fulfilled",N.value=K)},function(K){N.status==="pending"&&(N.status="rejected",N.reason=K)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function B(N,K,ie,re,de){var Ce=typeof N;(Ce==="undefined"||Ce==="boolean")&&(N=null);var Ve=!1;if(N===null)Ve=!0;else switch(Ce){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(N.$$typeof){case s:case e:Ve=!0;break;case E:return Ve=N._init,B(Ve(N._payload),K,ie,re,de)}}if(Ve)return de=de(N),Ve=re===""?"."+pe(N,0):re,at(de)?(ie="",Ve!=null&&(ie=Ve.replace(R,"$&/")+"/"),B(de,K,ie,"",function(Ti){return Ti})):de!=null&&(D(de)&&(de=V(de,ie+(de.key==null||N&&N.key===de.key?"":(""+de.key).replace(R,"$&/")+"/")+Ve)),K.push(de)),1;Ve=0;var bt=re===""?".":re+":";if(at(N))for(var tt=0;tt<N.length;tt++)re=N[tt],Ce=bt+pe(re,tt),Ve+=B(re,K,ie,Ce,de);else if(tt=$(N),typeof tt=="function")for(N=tt.call(N),tt=0;!(re=N.next()).done;)re=re.value,Ce=bt+pe(re,tt++),Ve+=B(re,K,ie,Ce,de);else if(Ce==="object"){if(typeof N.then=="function")return B(xt(N),K,ie,re,de);throw K=String(N),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function se(N,K,ie){if(N==null)return N;var re=[],de=0;return B(N,re,"","",function(Ce){return K.call(ie,Ce,de++)}),re}function ce(N){if(N._status===-1){var K=N._result;K=K(),K.then(function(ie){(N._status===0||N._status===-1)&&(N._status=1,N._result=ie)},function(ie){(N._status===0||N._status===-1)&&(N._status=2,N._result=ie)}),N._status===-1&&(N._status=0,N._result=K)}if(N._status===1)return N._result.default;throw N._result}var Le=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},ye={map:se,forEach:function(N,K,ie){se(N,function(){K.apply(this,arguments)},ie)},count:function(N){var K=0;return se(N,function(){K++}),K},toArray:function(N){return se(N,function(K){return K})||[]},only:function(N){if(!D(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Ie.Activity=S,Ie.Children=ye,Ie.Component=fe,Ie.Fragment=i,Ie.Profiler=l,Ie.PureComponent=Ee,Ie.StrictMode=r,Ie.Suspense=y,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(N){return I.H.useMemoCache(N)}},Ie.cache=function(N){return function(){return N.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(N,K,ie){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var re=te({},N.props),de=N.key;if(K!=null)for(Ce in K.key!==void 0&&(de=""+K.key),K)!w.call(K,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&K.ref===void 0||(re[Ce]=K[Ce]);var Ce=arguments.length-2;if(Ce===1)re.children=ie;else if(1<Ce){for(var Ve=Array(Ce),bt=0;bt<Ce;bt++)Ve[bt]=arguments[bt+2];re.children=Ve}return x(N.type,de,re)},Ie.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},Ie.createElement=function(N,K,ie){var re,de={},Ce=null;if(K!=null)for(re in K.key!==void 0&&(Ce=""+K.key),K)w.call(K,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(de[re]=K[re]);var Ve=arguments.length-2;if(Ve===1)de.children=ie;else if(1<Ve){for(var bt=Array(Ve),tt=0;tt<Ve;tt++)bt[tt]=arguments[tt+2];de.children=bt}if(N&&N.defaultProps)for(re in Ve=N.defaultProps,Ve)de[re]===void 0&&(de[re]=Ve[re]);return x(N,Ce,de)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(N){return{$$typeof:g,render:N}},Ie.isValidElement=D,Ie.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:ce}},Ie.memo=function(N,K){return{$$typeof:_,type:N,compare:K===void 0?null:K}},Ie.startTransition=function(N){var K=I.T,ie={};I.T=ie;try{var re=N(),de=I.S;de!==null&&de(ie,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(ke,Le)}catch(Ce){Le(Ce)}finally{K!==null&&ie.types!==null&&(K.types=ie.types),I.T=K}},Ie.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ie.use=function(N){return I.H.use(N)},Ie.useActionState=function(N,K,ie){return I.H.useActionState(N,K,ie)},Ie.useCallback=function(N,K){return I.H.useCallback(N,K)},Ie.useContext=function(N){return I.H.useContext(N)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(N,K){return I.H.useDeferredValue(N,K)},Ie.useEffect=function(N,K){return I.H.useEffect(N,K)},Ie.useEffectEvent=function(N){return I.H.useEffectEvent(N)},Ie.useId=function(){return I.H.useId()},Ie.useImperativeHandle=function(N,K,ie){return I.H.useImperativeHandle(N,K,ie)},Ie.useInsertionEffect=function(N,K){return I.H.useInsertionEffect(N,K)},Ie.useLayoutEffect=function(N,K){return I.H.useLayoutEffect(N,K)},Ie.useMemo=function(N,K){return I.H.useMemo(N,K)},Ie.useOptimistic=function(N,K){return I.H.useOptimistic(N,K)},Ie.useReducer=function(N,K,ie){return I.H.useReducer(N,K,ie)},Ie.useRef=function(N){return I.H.useRef(N)},Ie.useState=function(N){return I.H.useState(N)},Ie.useSyncExternalStore=function(N,K,ie){return I.H.useSyncExternalStore(N,K,ie)},Ie.useTransition=function(){return I.H.useTransition()},Ie.version="19.2.0",Ie}var Q_;function xm(){return Q_||(Q_=1,Od.exports=Gb()),Od.exports}var xe=xm();const $b=qb(xe);var Md={exports:{}},kl={},Vd={exports:{}},kd={};var K_;function Qb(){return K_||(K_=1,(function(s){function e(B,se){var ce=B.length;B.push(se);e:for(;0<ce;){var Le=ce-1>>>1,ye=B[Le];if(0<l(ye,se))B[Le]=se,B[ce]=ye,ce=Le;else break e}}function i(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var se=B[0],ce=B.pop();if(ce!==se){B[0]=ce;e:for(var Le=0,ye=B.length,N=ye>>>1;Le<N;){var K=2*(Le+1)-1,ie=B[K],re=K+1,de=B[re];if(0>l(ie,ce))re<ye&&0>l(de,ie)?(B[Le]=de,B[re]=ce,Le=re):(B[Le]=ie,B[K]=ce,Le=K);else if(re<ye&&0>l(de,ce))B[Le]=de,B[re]=ce,Le=re;else break e}}return se}function l(B,se){var ce=B.sortIndex-se.sortIndex;return ce!==0?ce:B.id-se.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],_=[],E=1,S=null,M=3,$=!1,Z=!1,te=!1,ee=!1,fe=typeof setTimeout=="function"?setTimeout:null,be=typeof clearTimeout=="function"?clearTimeout:null,Ee=typeof setImmediate<"u"?setImmediate:null;function Ke(B){for(var se=i(_);se!==null;){if(se.callback===null)r(_);else if(se.startTime<=B)r(_),se.sortIndex=se.expirationTime,e(y,se);else break;se=i(_)}}function at(B){if(te=!1,Ke(B),!Z)if(i(y)!==null)Z=!0,ke||(ke=!0,L());else{var se=i(_);se!==null&&xt(at,se.startTime-B)}}var ke=!1,I=-1,w=5,x=-1;function V(){return ee?!0:!(s.unstable_now()-x<w)}function D(){if(ee=!1,ke){var B=s.unstable_now();x=B;var se=!0;try{e:{Z=!1,te&&(te=!1,be(I),I=-1),$=!0;var ce=M;try{t:{for(Ke(B),S=i(y);S!==null&&!(S.expirationTime>B&&V());){var Le=S.callback;if(typeof Le=="function"){S.callback=null,M=S.priorityLevel;var ye=Le(S.expirationTime<=B);if(B=s.unstable_now(),typeof ye=="function"){S.callback=ye,Ke(B),se=!0;break t}S===i(y)&&r(y),Ke(B)}else r(y);S=i(y)}if(S!==null)se=!0;else{var N=i(_);N!==null&&xt(at,N.startTime-B),se=!1}}break e}finally{S=null,M=ce,$=!1}se=void 0}}finally{se?L():ke=!1}}}var L;if(typeof Ee=="function")L=function(){Ee(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,pe=R.port2;R.port1.onmessage=D,L=function(){pe.postMessage(null)}}else L=function(){fe(D,0)};function xt(B,se){I=fe(function(){B(s.unstable_now())},se)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(B){switch(M){case 1:case 2:case 3:var se=3;break;default:se=M}var ce=M;M=se;try{return B()}finally{M=ce}},s.unstable_requestPaint=function(){ee=!0},s.unstable_runWithPriority=function(B,se){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ce=M;M=B;try{return se()}finally{M=ce}},s.unstable_scheduleCallback=function(B,se,ce){var Le=s.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Le+ce:Le):ce=Le,B){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=ce+ye,B={id:E++,callback:se,priorityLevel:B,startTime:ce,expirationTime:ye,sortIndex:-1},ce>Le?(B.sortIndex=ce,e(_,B),i(y)===null&&B===i(_)&&(te?(be(I),I=-1):te=!0,xt(at,ce-Le))):(B.sortIndex=ye,e(y,B),Z||$||(Z=!0,ke||(ke=!0,L()))),B},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(B){var se=M;return function(){var ce=M;M=se;try{return B.apply(this,arguments)}finally{M=ce}}}})(kd)),kd}var Y_;function Kb(){return Y_||(Y_=1,Vd.exports=Qb()),Vd.exports}var Ld={exports:{}},an={};var X_;function Yb(){if(X_)return an;X_=1;var s=xm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:_,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,an.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,E)},an.flushSync=function(y){var _=d.T,E=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=_,r.p=E,r.d.f()}},an.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},an.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},an.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,S=g(E,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,$=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:$}):E==="script"&&r.d.X(y,{crossOrigin:S,integrity:M,fetchPriority:$,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},an.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=g(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},an.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,S=g(E,_.crossOrigin);r.d.L(y,E,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},an.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=g(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},an.requestFormReset=function(y){r.d.r(y)},an.unstable_batchedUpdates=function(y,_){return y(_)},an.useFormState=function(y,_,E){return d.H.useFormState(y,_,E)},an.useFormStatus=function(){return d.H.useHostTransitionStatus()},an.version="19.2.0",an}var J_;function Xb(){if(J_)return Ld.exports;J_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ld.exports=Yb(),Ld.exports}var Z_;function Jb(){if(Z_)return kl;Z_=1;var s=Kb(),e=xm(),i=Xb();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),t;if(f===o)return y(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var p=!1,T=h.child;T;){if(T===a){p=!0,a=h,o=f;break}if(T===o){p=!0,o=h,a=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===a){p=!0,a=f,o=h;break}if(T===o){p=!0,o=f,a=h;break}T=T.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),$=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),fe=Symbol.for("react.profiler"),be=Symbol.for("react.consumer"),Ee=Symbol.for("react.context"),Ke=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case te:return"Fragment";case fe:return"Profiler";case ee:return"StrictMode";case at:return"Suspense";case ke:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case Ee:return t.displayName||"Context";case be:return(t._context.displayName||"Context")+".Consumer";case Ke:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:pe(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return pe(t(n))}catch{}}return null}var xt=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Le=[],ye=-1;function N(t){return{current:t}}function K(t){0>ye||(t.current=Le[ye],Le[ye]=null,ye--)}function ie(t,n){ye++,Le[ye]=t.current,t.current=n}var re=N(null),de=N(null),Ce=N(null),Ve=N(null);function bt(t,n){switch(ie(Ce,n),ie(de,t),ie(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?d_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=d_(n),t=m_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(re),ie(re,t)}function tt(){K(re),K(de),K(Ce)}function Ti(t){t.memoizedState!==null&&ie(Ve,t);var n=re.current,a=m_(n,t.type);n!==a&&(ie(de,t),ie(re,a))}function bi(t){de.current===t&&(K(re),K(de)),Ve.current===t&&(K(Ve),Nl._currentValue=ce)}var gn,es;function wn(t){if(gn===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);gn=n&&n[1]||"",es=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gn+t+es}var Os=!1;function ts(t,n){if(!t||Os)return"";Os=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(F){var z=F}Reflect.construct(t,[],X)}else{try{X.call()}catch(F){z=F}t.call(X.prototype)}}else{try{throw Error()}catch(F){z=F}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(F){if(F&&z&&typeof F.stack=="string")return[F.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var C=p.split(`
`),j=T.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===j.length)for(o=C.length-1,h=j.length-1;1<=o&&0<=h&&C[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==j[h]){var G=`
`+C[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{Os=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?wn(a):""}function Ai(t,n){switch(t.tag){case 26:case 27:case 5:return wn(t.type);case 16:return wn("Lazy");case 13:return t.child!==n&&n!==null?wn("Suspense Fallback"):wn("Suspense");case 19:return wn("SuspenseList");case 0:case 15:return ts(t.type,!1);case 11:return ts(t.type.render,!1);case 1:return ts(t.type,!0);case 31:return wn("Activity");default:return""}}function Dt(t){try{var n="",a=null;do n+=Ai(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pt=Object.prototype.hasOwnProperty,yt=s.unstable_scheduleCallback,Si=s.unstable_cancelCallback,Ms=s.unstable_shouldYield,Vs=s.unstable_requestPaint,Yt=s.unstable_now,wi=s.unstable_getCurrentPriorityLevel,hn=s.unstable_ImmediatePriority,jn=s.unstable_UserBlockingPriority,zn=s.unstable_NormalPriority,ga=s.unstable_LowPriority,pa=s.unstable_IdlePriority,ya=s.log,_a=s.unstable_setDisableYieldValue,xn=null,Bt=null;function pn(t){if(typeof ya=="function"&&_a(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(xn,t)}catch{}}var Et=Math.clz32?Math.clz32:Ea,va=Math.log,ns=Math.LN2;function Ea(t){return t>>>=0,t===0?32:31-(va(t)/ns|0)|0}var Rn=256,xi=262144,At=4194304;function Bn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function qn(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=Bn(o):(p&=T,p!==0?h=Bn(p):a||(a=T&~t,a!==0&&(h=Bn(a))))):(T=o&~f,T!==0?h=Bn(T):p!==0?h=Bn(p):a||(a=o&~t,a!==0&&(h=Bn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Cn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ko(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ta(){var t=At;return At<<=1,(At&62914560)===0&&(At=4194304),t}function Hn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function is(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lo(t,n,a,o,h,f){var p=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,j=t.hiddenUpdates;for(a=p&~a;0<a;){var G=31-Et(a),X=1<<G;T[G]=0,C[G]=-1;var z=j[G];if(z!==null)for(j[G]=null,G=0;G<z.length;G++){var F=z[G];F!==null&&(F.lane&=-536870913)}a&=~X}o!==0&&Fn(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Fn(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Et(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Ir(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-Et(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function H(t,n){var a=n&-n;return a=(a&42)!==0?1:ss(a),(a&(t.suspendedLanes|n))!==0?0:a}function ss(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Y(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function le(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:U_(t.type))}function we(t,n){var a=se.p;try{return se.p=t,n()}finally{se.p=a}}var _e=Math.random().toString(36).slice(2),ve="__reactFiber$"+_e,Fe="__reactProps$"+_e,Qe="__reactContainer$"+_e,We="__reactEvents$"+_e,In="__reactListeners$"+_e,Nr="__reactHandles$"+_e,rs="__reactResources$"+_e,Xt="__reactMarker$"+_e;function Ri(t){delete t[ve],delete t[Fe],delete t[We],delete t[In],delete t[Nr]}function Gn(t){var n=t[ve];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Qe]||a[ve]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=T_(t);t!==null;){if(a=t[ve])return a;t=T_(t)}return n}t=a,a=t.parentNode}return null}function $n(t){if(t=t[ve]||t[Qe]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Nn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Ci(t){var n=t[rs];return n||(n=t[rs]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ot(t){t[Xt]=!0}var Uo=new Set,Po={};function Ii(t,n){Ni(t,n),Ni(t+"Capture",n)}function Ni(t,n){for(Po[t]=n,t=0;t<n.length;t++)Uo.add(n[t])}var jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Bo={};function gu(t){return pt.call(Bo,t)?!0:pt.call(zo,t)?!1:jo.test(t)?Bo[t]=!0:(zo[t]=!0,!1)}function ba(t,n,a){if(gu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Dn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Mt(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Gt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ks(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function qo(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function nt(t){if(!t._valueTracker){var n=ks(t)?"checked":"value";t._valueTracker=qo(t,n,""+t[n])}}function Dr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=ks(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function Di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Or=/[\n"\\]/g;function yn(t){return t.replace(Or,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Aa(t,n,a,o,h,f,p,T){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Gt(n)):t.value!==""+Gt(n)&&(t.value=""+Gt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Ho(t,p,Gt(n)):a!=null?Ho(t,p,Gt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Gt(T):t.removeAttribute("name")}function pu(t,n,a,o,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){nt(t);return}a=a!=null?""+Gt(a):"",n=n!=null?""+Gt(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),nt(t)}function Ho(t,n,a){n==="number"&&Di(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ls(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Gt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function yu(t,n,a){if(n!=null&&(n=""+Gt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Gt(a):""}function Us(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(xt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Gt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),nt(t)}function _n(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var _u=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fo(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||_u.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Go(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Fo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Fo(t,f,n[f])}function Sa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ps=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wa(t){return Ps.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function oi(){}var $o=null;function Qn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var js=null,Oi=null;function Mr(t){var n=$n(t);if(n&&(t=n.stateNode)){var a=t[Fe]||null;e:switch(t=n.stateNode,n.type){case"input":if(Aa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+yn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Fe]||null;if(!h)throw Error(r(90));Aa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&Dr(o)}break e;case"textarea":yu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Ls(t,!!a.multiple,n,!1)}}}var xa=!1;function zs(t,n,a){if(xa)return t(n,a);xa=!0;try{var o=t(n);return o}finally{if(xa=!1,(js!==null||Oi!==null)&&(fc(),js&&(n=js,t=Oi,Oi=js=null,Mr(n),t)))for(n=0;n<t.length;n++)Mr(t[n])}}function li(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Fe]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vr=!1;if(Kn)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){Vr=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{Vr=!1}var Mi=null,Qo=null,kr=null;function Ko(){if(kr)return kr;var t,n=Qo,a=n.length,o,h="value"in Mi?Mi.value:Mi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var p=a-t;for(o=1;o<=p&&n[a-o]===h[f-o];o++);return kr=h.slice(t,1<o?1-o:void 0)}function Lr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function as(){return!0}function ui(){return!1}function Jt(t){function n(a,o,h,f,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?as:ui,this.isPropagationStopped=ui,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),n}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=Jt(os),Bs=S({},os,{view:0,detail:0}),Yo=Jt(Bs),qs,Ra,ki,Ca=S({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ki&&(ki&&t.type==="mousemove"?(qs=t.screenX-ki.screenX,Ra=t.screenY-ki.screenY):Ra=qs=0,ki=t),qs)},movementY:function(t){return"movementY"in t?t.movementY:Ra}}),Xo=Jt(Ca),Ur=S({},Ca,{dataTransfer:0}),Eu=Jt(Ur),Tu=S({},Bs,{relatedTarget:0}),Pr=Jt(Tu),Jo=S({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),bu=Jt(Jo),Ia=S({},os,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Au=Jt(Ia),Su=S({},os,{data:0}),Li=Jt(Su),wu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ru[t])?!!n[t]:!1}function Hs(){return Cu}var fn=S({},Bs,{key:function(t){if(t.key){var n=wu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Lr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(t){return t.type==="keypress"?Lr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Iu=Jt(fn),Nu=S({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ls=Jt(Nu),u=S({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),m=Jt(u),v=S({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Jt(v),U=S({},Ca,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Jt(U),ne=S({},os,{newState:0,oldState:0}),De=Jt(ne),Rt=[9,13,27,32],Je=Kn&&"CompositionEvent"in window,_t=null;Kn&&"documentMode"in document&&(_t=document.documentMode);var Yn=Kn&&"TextEvent"in window&&!_t,Ui=Kn&&(!Je||_t&&8<_t&&11>=_t),ci=" ",hi=!1;function jr(t,n){switch(t){case"keyup":return Rt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Na(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Da=!1;function f1(t,n){switch(t){case"compositionend":return Na(n);case"keypress":return n.which!==32?null:(hi=!0,ci);case"textInput":return t=n.data,t===ci&&hi?null:t;default:return null}}function d1(t,n){if(Da)return t==="compositionend"||!Je&&jr(t,n)?(t=Ko(),kr=Qo=Mi=null,Da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ui&&n.locale!=="ko"?null:n.data;default:return null}}var m1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!m1[t.type]:n==="textarea"}function wg(t,n,a,o){js?Oi?Oi.push(o):Oi=[o]:js=o,n=vc(n,"onChange"),0<n.length&&(a=new Vi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Zo=null,Wo=null;function g1(t){o_(t,0)}function Du(t){var n=Nn(t);if(Dr(n))return t}function xg(t,n){if(t==="change")return n}var Rg=!1;if(Kn){var Uh;if(Kn){var Ph="oninput"in document;if(!Ph){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),Ph=typeof Cg.oninput=="function"}Uh=Ph}else Uh=!1;Rg=Uh&&(!document.documentMode||9<document.documentMode)}function Ig(){Zo&&(Zo.detachEvent("onpropertychange",Ng),Wo=Zo=null)}function Ng(t){if(t.propertyName==="value"&&Du(Wo)){var n=[];wg(n,Wo,t,Qn(t)),zs(g1,n)}}function p1(t,n,a){t==="focusin"?(Ig(),Zo=n,Wo=a,Zo.attachEvent("onpropertychange",Ng)):t==="focusout"&&Ig()}function y1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Du(Wo)}function _1(t,n){if(t==="click")return Du(n)}function v1(t,n){if(t==="input"||t==="change")return Du(n)}function E1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var On=typeof Object.is=="function"?Object.is:E1;function el(t,n){if(On(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!pt.call(n,h)||!On(t[h],n[h]))return!1}return!0}function Dg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Og(t,n){var a=Dg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Dg(a)}}function Mg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Mg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Vg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Di(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Di(t.document)}return n}function jh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var T1=Kn&&"documentMode"in document&&11>=document.documentMode,Oa=null,zh=null,tl=null,Bh=!1;function kg(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bh||Oa==null||Oa!==Di(o)||(o=Oa,"selectionStart"in o&&jh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),tl&&el(tl,o)||(tl=o,o=vc(zh,"onSelect"),0<o.length&&(n=new Vi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=Oa)))}function zr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ma={animationend:zr("Animation","AnimationEnd"),animationiteration:zr("Animation","AnimationIteration"),animationstart:zr("Animation","AnimationStart"),transitionrun:zr("Transition","TransitionRun"),transitionstart:zr("Transition","TransitionStart"),transitioncancel:zr("Transition","TransitionCancel"),transitionend:zr("Transition","TransitionEnd")},qh={},Lg={};Kn&&(Lg=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function Br(t){if(qh[t])return qh[t];if(!Ma[t])return t;var n=Ma[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Lg)return qh[t]=n[a];return t}var Ug=Br("animationend"),Pg=Br("animationiteration"),jg=Br("animationstart"),b1=Br("transitionrun"),A1=Br("transitionstart"),S1=Br("transitioncancel"),zg=Br("transitionend"),Bg=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function fi(t,n){Bg.set(t,n),Ii(n,[t])}var Ou=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Xn=[],Va=0,Fh=0;function Mu(){for(var t=Va,n=Fh=Va=0;n<t;){var a=Xn[n];Xn[n++]=null;var o=Xn[n];Xn[n++]=null;var h=Xn[n];Xn[n++]=null;var f=Xn[n];if(Xn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&qg(a,h,f)}}function Vu(t,n,a,o){Xn[Va++]=t,Xn[Va++]=n,Xn[Va++]=a,Xn[Va++]=o,Fh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Gh(t,n,a,o){return Vu(t,n,a,o),ku(t)}function qr(t,n){return Vu(t,null,null,n),ku(t)}function qg(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Et(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function ku(t){if(50<Al)throw Al=0,td=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ka={};function w1(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,n,a,o){return new w1(t,n,a,o)}function $h(t){return t=t.prototype,!(!t||!t.isReactComponent)}function us(t,n){var a=t.alternate;return a===null?(a=Mn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Hg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Lu(t,n,a,o,h,f){var p=0;if(o=t,typeof t=="function")$h(t)&&(p=1);else if(typeof t=="string")p=Nb(t,a,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=Mn(31,a,n,h),t.elementType=x,t.lanes=f,t;case te:return Hr(a.children,h,f,n);case ee:p=8,h|=24;break;case fe:return t=Mn(12,a,n,h|2),t.elementType=fe,t.lanes=f,t;case at:return t=Mn(13,a,n,h),t.elementType=at,t.lanes=f,t;case ke:return t=Mn(19,a,n,h),t.elementType=ke,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ee:p=10;break e;case be:p=9;break e;case Ke:p=11;break e;case I:p=14;break e;case w:p=16,o=null;break e}p=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=Mn(p,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Hr(t,n,a,o){return t=Mn(7,t,o,n),t.lanes=a,t}function Qh(t,n,a){return t=Mn(6,t,null,n),t.lanes=a,t}function Fg(t){var n=Mn(18,null,null,0);return n.stateNode=t,n}function Kh(t,n,a){return n=Mn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Gg=new WeakMap;function Jn(t,n){if(typeof t=="object"&&t!==null){var a=Gg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Dt(n)},Gg.set(t,n),n)}return{value:t,source:n,stack:Dt(n)}}var La=[],Ua=0,Uu=null,nl=0,Zn=[],Wn=0,Fs=null,Pi=1,ji="";function cs(t,n){La[Ua++]=nl,La[Ua++]=Uu,Uu=t,nl=n}function $g(t,n,a){Zn[Wn++]=Pi,Zn[Wn++]=ji,Zn[Wn++]=Fs,Fs=t;var o=Pi;t=ji;var h=32-Et(o)-1;o&=~(1<<h),a+=1;var f=32-Et(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Pi=1<<32-Et(n)+h|a<<h|o,ji=f+t}else Pi=1<<f|a<<h|o,ji=t}function Yh(t){t.return!==null&&(cs(t,1),$g(t,1,0))}function Xh(t){for(;t===Uu;)Uu=La[--Ua],La[Ua]=null,nl=La[--Ua],La[Ua]=null;for(;t===Fs;)Fs=Zn[--Wn],Zn[Wn]=null,ji=Zn[--Wn],Zn[Wn]=null,Pi=Zn[--Wn],Zn[Wn]=null}function Qg(t,n){Zn[Wn++]=Pi,Zn[Wn++]=ji,Zn[Wn++]=Fs,Pi=n.id,ji=n.overflow,Fs=t}var Zt=null,dt=null,Ge=!1,Gs=null,ei=!1,Jh=Error(r(519));function $s(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il(Jn(n,t)),Jh}function Kg(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[ve]=t,n[Fe]=o,a){case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":case"embed":Pe("load",n);break;case"video":case"audio":for(a=0;a<wl.length;a++)Pe(wl[a],n);break;case"source":Pe("error",n);break;case"img":case"image":case"link":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"input":Pe("invalid",n),pu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Pe("invalid",n);break;case"textarea":Pe("invalid",n),Us(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||h_(n.textContent,a)?(o.popover!=null&&(Pe("beforetoggle",n),Pe("toggle",n)),o.onScroll!=null&&Pe("scroll",n),o.onScrollEnd!=null&&Pe("scrollend",n),o.onClick!=null&&(n.onclick=oi),n=!0):n=!1,n||$s(t,!0)}function Yg(t){for(Zt=t.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:Zt=Zt.return}}function Pa(t){if(t!==Zt)return!1;if(!Ge)return Yg(t),Ge=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||pd(t.type,t.memoizedProps)),a=!a),a&&dt&&$s(t),Yg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));dt=E_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));dt=E_(t)}else n===27?(n=dt,ar(t.type)?(t=Td,Td=null,dt=t):dt=n):dt=Zt?ni(t.stateNode.nextSibling):null;return!0}function Fr(){dt=Zt=null,Ge=!1}function Zh(){var t=Gs;return t!==null&&(bn===null?bn=t:bn.push.apply(bn,t),Gs=null),t}function il(t){Gs===null?Gs=[t]:Gs.push(t)}var Wh=N(null),Gr=null,hs=null;function Qs(t,n,a){ie(Wh,n._currentValue),n._currentValue=a}function fs(t){t._currentValue=Wh.current,K(Wh)}function ef(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function tf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),ef(f.return,a,t),o||(p=null);break e}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),ef(p,a,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function ja(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var T=h.type;On(h.pendingProps.value,p.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ve.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&tf(n,t,a,o),n.flags|=262144}function Pu(t){for(t=t.firstContext;t!==null;){if(!On(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $r(t){Gr=t,hs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return Xg(Gr,t)}function ju(t,n){return Gr===null&&$r(t),Xg(t,n)}function Xg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},hs===null){if(t===null)throw Error(r(308));hs=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else hs=hs.next=n;return a}var x1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},R1=s.unstable_scheduleCallback,C1=s.unstable_NormalPriority,Vt={$$typeof:Ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nf(){return{controller:new x1,data:new Map,refCount:0}}function sl(t){t.refCount--,t.refCount===0&&R1(C1,function(){t.controller.abort()})}var rl=null,sf=0,za=0,Ba=null;function I1(t,n){if(rl===null){var a=rl=[];sf=0,za=od(),Ba={status:"pending",value:void 0,then:function(o){a.push(o)}}}return sf++,n.then(Jg,Jg),n}function Jg(){if(--sf===0&&rl!==null){Ba!==null&&(Ba.status="fulfilled");var t=rl;rl=null,za=0,Ba=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function N1(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Zg=B.S;B.S=function(t,n){ky=Yt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&I1(t,n),Zg!==null&&Zg(t,n)};var Qr=N(null);function rf(){var t=Qr.current;return t!==null?t:ht.pooledCache}function zu(t,n){n===null?ie(Qr,Qr.current):ie(Qr,n.pool)}function Wg(){var t=rf();return t===null?null:{parent:Vt._currentValue,pool:t}}var qa=Error(r(460)),af=Error(r(474)),Bu=Error(r(542)),qu={then:function(){}};function ep(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(oi,oi),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ip(t),t;default:if(typeof n.status=="string")n.then(oi,oi);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ip(t),t}throw Yr=n,qa}}function Kr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Yr=a,qa):a}}var Yr=null;function np(){if(Yr===null)throw Error(r(459));var t=Yr;return Yr=null,t}function ip(t){if(t===qa||t===Bu)throw Error(r(483))}var Ha=null,al=0;function Hu(t){var n=al;return al+=1,Ha===null&&(Ha=[]),tp(Ha,t,n)}function ol(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Fu(t,n){throw n.$$typeof===M?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function sp(t){function n(k,O){if(t){var P=k.deletions;P===null?(k.deletions=[O],k.flags|=16):P.push(O)}}function a(k,O){if(!t)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=us(k,O),k.index=0,k.sibling=null,k}function f(k,O,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<O?(k.flags|=67108866,O):P):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,O,P,Q){return O===null||O.tag!==6?(O=Qh(P,k.mode,Q),O.return=k,O):(O=h(O,P),O.return=k,O)}function C(k,O,P,Q){var me=P.type;return me===te?G(k,O,P.props.children,Q,P.key):O!==null&&(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===w&&Kr(me)===O.type)?(O=h(O,P.props),ol(O,P),O.return=k,O):(O=Lu(P.type,P.key,P.props,null,k.mode,Q),ol(O,P),O.return=k,O)}function j(k,O,P,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Kh(P,k.mode,Q),O.return=k,O):(O=h(O,P.children||[]),O.return=k,O)}function G(k,O,P,Q,me){return O===null||O.tag!==7?(O=Hr(P,k.mode,Q,me),O.return=k,O):(O=h(O,P),O.return=k,O)}function X(k,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Qh(""+O,k.mode,P),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case $:return P=Lu(O.type,O.key,O.props,null,k.mode,P),ol(P,O),P.return=k,P;case Z:return O=Kh(O,k.mode,P),O.return=k,O;case w:return O=Kr(O),X(k,O,P)}if(xt(O)||L(O))return O=Hr(O,k.mode,P,null),O.return=k,O;if(typeof O.then=="function")return X(k,Hu(O),P);if(O.$$typeof===Ee)return X(k,ju(k,O),P);Fu(k,O)}return null}function z(k,O,P,Q){var me=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return me!==null?null:T(k,O,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case $:return P.key===me?C(k,O,P,Q):null;case Z:return P.key===me?j(k,O,P,Q):null;case w:return P=Kr(P),z(k,O,P,Q)}if(xt(P)||L(P))return me!==null?null:G(k,O,P,Q,null);if(typeof P.then=="function")return z(k,O,Hu(P),Q);if(P.$$typeof===Ee)return z(k,O,ju(k,P),Q);Fu(k,P)}return null}function F(k,O,P,Q,me){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,T(O,k,""+Q,me);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case $:return k=k.get(Q.key===null?P:Q.key)||null,C(O,k,Q,me);case Z:return k=k.get(Q.key===null?P:Q.key)||null,j(O,k,Q,me);case w:return Q=Kr(Q),F(k,O,P,Q,me)}if(xt(Q)||L(Q))return k=k.get(P)||null,G(O,k,Q,me,null);if(typeof Q.then=="function")return F(k,O,P,Hu(Q),me);if(Q.$$typeof===Ee)return F(k,O,P,ju(O,Q),me);Fu(O,Q)}return null}function ue(k,O,P,Q){for(var me=null,Ye=null,he=O,Me=O=0,ze=null;he!==null&&Me<P.length;Me++){he.index>Me?(ze=he,he=null):ze=he.sibling;var Xe=z(k,he,P[Me],Q);if(Xe===null){he===null&&(he=ze);break}t&&he&&Xe.alternate===null&&n(k,he),O=f(Xe,O,Me),Ye===null?me=Xe:Ye.sibling=Xe,Ye=Xe,he=ze}if(Me===P.length)return a(k,he),Ge&&cs(k,Me),me;if(he===null){for(;Me<P.length;Me++)he=X(k,P[Me],Q),he!==null&&(O=f(he,O,Me),Ye===null?me=he:Ye.sibling=he,Ye=he);return Ge&&cs(k,Me),me}for(he=o(he);Me<P.length;Me++)ze=F(he,k,Me,P[Me],Q),ze!==null&&(t&&ze.alternate!==null&&he.delete(ze.key===null?Me:ze.key),O=f(ze,O,Me),Ye===null?me=ze:Ye.sibling=ze,Ye=ze);return t&&he.forEach(function(hr){return n(k,hr)}),Ge&&cs(k,Me),me}function Te(k,O,P,Q){if(P==null)throw Error(r(151));for(var me=null,Ye=null,he=O,Me=O=0,ze=null,Xe=P.next();he!==null&&!Xe.done;Me++,Xe=P.next()){he.index>Me?(ze=he,he=null):ze=he.sibling;var hr=z(k,he,Xe.value,Q);if(hr===null){he===null&&(he=ze);break}t&&he&&hr.alternate===null&&n(k,he),O=f(hr,O,Me),Ye===null?me=hr:Ye.sibling=hr,Ye=hr,he=ze}if(Xe.done)return a(k,he),Ge&&cs(k,Me),me;if(he===null){for(;!Xe.done;Me++,Xe=P.next())Xe=X(k,Xe.value,Q),Xe!==null&&(O=f(Xe,O,Me),Ye===null?me=Xe:Ye.sibling=Xe,Ye=Xe);return Ge&&cs(k,Me),me}for(he=o(he);!Xe.done;Me++,Xe=P.next())Xe=F(he,k,Me,Xe.value,Q),Xe!==null&&(t&&Xe.alternate!==null&&he.delete(Xe.key===null?Me:Xe.key),O=f(Xe,O,Me),Ye===null?me=Xe:Ye.sibling=Xe,Ye=Xe);return t&&he.forEach(function(Bb){return n(k,Bb)}),Ge&&cs(k,Me),me}function ct(k,O,P,Q){if(typeof P=="object"&&P!==null&&P.type===te&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case $:e:{for(var me=P.key;O!==null;){if(O.key===me){if(me=P.type,me===te){if(O.tag===7){a(k,O.sibling),Q=h(O,P.props.children),Q.return=k,k=Q;break e}}else if(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===w&&Kr(me)===O.type){a(k,O.sibling),Q=h(O,P.props),ol(Q,P),Q.return=k,k=Q;break e}a(k,O);break}else n(k,O);O=O.sibling}P.type===te?(Q=Hr(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=Lu(P.type,P.key,P.props,null,k.mode,Q),ol(Q,P),Q.return=k,k=Q)}return p(k);case Z:e:{for(me=P.key;O!==null;){if(O.key===me)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){a(k,O.sibling),Q=h(O,P.children||[]),Q.return=k,k=Q;break e}else{a(k,O);break}else n(k,O);O=O.sibling}Q=Kh(P,k.mode,Q),Q.return=k,k=Q}return p(k);case w:return P=Kr(P),ct(k,O,P,Q)}if(xt(P))return ue(k,O,P,Q);if(L(P)){if(me=L(P),typeof me!="function")throw Error(r(150));return P=me.call(P),Te(k,O,P,Q)}if(typeof P.then=="function")return ct(k,O,Hu(P),Q);if(P.$$typeof===Ee)return ct(k,O,ju(k,P),Q);Fu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(a(k,O.sibling),Q=h(O,P),Q.return=k,k=Q):(a(k,O),Q=Qh(P,k.mode,Q),Q.return=k,k=Q),p(k)):a(k,O)}return function(k,O,P,Q){try{al=0;var me=ct(k,O,P,Q);return Ha=null,me}catch(he){if(he===qa||he===Bu)throw he;var Ye=Mn(29,he,null,k.mode);return Ye.lanes=Q,Ye.return=k,Ye}finally{}}}var Xr=sp(!0),rp=sp(!1),Ks=!1;function of(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ys(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xs(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ze&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=ku(t),qg(t,null,a),n}return Vu(t,o,n,a),ku(t)}function ll(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Ir(t,a)}}function uf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var cf=!1;function ul(){if(cf){var t=Ba;if(t!==null)throw t}}function cl(t,n,a,o){cf=!1;var h=t.updateQueue;Ks=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,j=C.next;C.next=null,p===null?f=j:p.next=j,p=C;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==p&&(T===null?G.firstBaseUpdate=j:T.next=j,G.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;p=0,G=j=C=null,T=f;do{var z=T.lane&-536870913,F=z!==T.lane;if(F?(je&z)===z:(o&z)===z){z!==0&&z===za&&(cf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ue=t,Te=T;z=n;var ct=a;switch(Te.tag){case 1:if(ue=Te.payload,typeof ue=="function"){X=ue.call(ct,X,z);break e}X=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=Te.payload,z=typeof ue=="function"?ue.call(ct,X,z):ue,z==null)break e;X=S({},X,z);break e;case 2:Ks=!0}}z=T.callback,z!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[z]:F.push(z))}else F={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(j=G=F,C=X):G=G.next=F,p|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);G===null&&(C=X),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),tr|=p,t.lanes=p,t.memoizedState=X}}function ap(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function op(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ap(a[t],n)}var Fa=N(null),Gu=N(0);function lp(t,n){t=Ts,ie(Gu,t),ie(Fa,n),Ts=t|n.baseLanes}function hf(){ie(Gu,Ts),ie(Fa,Fa.current)}function ff(){Ts=Gu.current,K(Fa),K(Gu)}var Vn=N(null),ti=null;function Js(t){var n=t.alternate;ie(Ct,Ct.current&1),ie(Vn,t),ti===null&&(n===null||Fa.current!==null||n.memoizedState!==null)&&(ti=t)}function df(t){ie(Ct,Ct.current),ie(Vn,t),ti===null&&(ti=t)}function up(t){t.tag===22?(ie(Ct,Ct.current),ie(Vn,t),ti===null&&(ti=t)):Zs()}function Zs(){ie(Ct,Ct.current),ie(Vn,Vn.current)}function kn(t){K(Vn),ti===t&&(ti=null),K(Ct)}var Ct=N(0);function $u(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||vd(a)||Ed(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ds=0,Oe=null,lt=null,kt=null,Qu=!1,Ga=!1,Jr=!1,Ku=0,hl=0,$a=null,D1=0;function St(){throw Error(r(321))}function mf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!On(t[a],n[a]))return!1;return!0}function gf(t,n,a,o,h,f){return ds=f,Oe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,B.H=t===null||t.memoizedState===null?$p:Nf,Jr=!1,f=a(o,h),Jr=!1,Ga&&(f=hp(n,a,o,h)),cp(t),f}function cp(t){B.H=ml;var n=lt!==null&&lt.next!==null;if(ds=0,kt=lt=Oe=null,Qu=!1,hl=0,$a=null,n)throw Error(r(300));t===null||Lt||(t=t.dependencies,t!==null&&Pu(t)&&(Lt=!0))}function hp(t,n,a,o){Oe=t;var h=0;do{if(Ga&&($a=null),hl=0,Ga=!1,25<=h)throw Error(r(301));if(h+=1,kt=lt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}B.H=Qp,f=n(a,o)}while(Ga);return f}function O1(){var t=B.H,n=t.useState()[0];return n=typeof n.then=="function"?fl(n):n,t=t.useState()[0],(lt!==null?lt.memoizedState:null)!==t&&(Oe.flags|=1024),n}function pf(){var t=Ku!==0;return Ku=0,t}function yf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function _f(t){if(Qu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Qu=!1}ds=0,kt=lt=Oe=null,Ga=!1,hl=Ku=0,$a=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Oe.memoizedState=kt=t:kt=kt.next=t,kt}function It(){if(lt===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var n=kt===null?Oe.memoizedState:kt.next;if(n!==null)kt=n,lt=t;else{if(t===null)throw Oe.alternate===null?Error(r(467)):Error(r(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},kt===null?Oe.memoizedState=kt=t:kt=kt.next=t}return kt}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var n=hl;return hl+=1,$a===null&&($a=[]),t=tp($a,t,n),n=Oe,(kt===null?n.memoizedState:kt.next)===null&&(n=n.alternate,B.H=n===null||n.memoizedState===null?$p:Nf),t}function Xu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===Ee)return Wt(t)}throw Error(r(438,String(t)))}function vf(t){var n=null,a=Oe.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Oe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Yu(),Oe.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=V;return n.index++,a}function ms(t,n){return typeof n=="function"?n(t):n}function Ju(t){var n=It();return Ef(n,lt,t)}function Ef(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=p=null,C=null,j=n,G=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(je&X)===X:(ds&X)===X){var z=j.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===za&&(G=!0);else if((ds&z)===z){j=j.next,z===za&&(G=!0);continue}else X={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=X,p=f):C=C.next=X,Oe.lanes|=z,tr|=z;X=j.action,Jr&&a(f,X),f=j.hasEagerState?j.eagerState:a(f,X)}else z={lane:X,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=z,p=f):C=C.next=z,Oe.lanes|=X,tr|=X;j=j.next}while(j!==null&&j!==n);if(C===null?p=f:C.next=T,!On(f,t.memoizedState)&&(Lt=!0,G&&(a=Ba,a!==null)))throw a;t.memoizedState=f,t.baseState=p,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Tf(t){var n=It(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);On(f,n.memoizedState)||(Lt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function fp(t,n,a){var o=Oe,h=It(),f=Ge;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var p=!On((lt||h).memoizedState,a);if(p&&(h.memoizedState=a,Lt=!0),h=h.queue,Sf(gp.bind(null,o,h,t),[t]),h.getSnapshot!==n||p||kt!==null&&kt.memoizedState.tag&1){if(o.flags|=2048,Qa(9,{destroy:void 0},mp.bind(null,o,h,a,n),null),ht===null)throw Error(r(349));f||(ds&127)!==0||dp(o,n,a)}return a}function dp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Oe.updateQueue,n===null?(n=Yu(),Oe.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function mp(t,n,a,o){n.value=a,n.getSnapshot=o,pp(n)&&yp(t)}function gp(t,n,a){return a(function(){pp(n)&&yp(t)})}function pp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!On(t,a)}catch{return!0}}function yp(t){var n=qr(t,2);n!==null&&An(n,t,2)}function bf(t){var n=dn();if(typeof t=="function"){var a=t;if(t=a(),Jr){pn(!0);try{a()}finally{pn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:t},n}function _p(t,n,a,o){return t.baseState=a,Ef(t,lt,typeof o=="function"?o:ms)}function M1(t,n,a,o,h){if(ec(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};B.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,vp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function vp(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=B.T,p={};B.T=p;try{var T=a(h,o),C=B.S;C!==null&&C(p,T),Ep(t,n,T)}catch(j){Af(t,n,j)}finally{f!==null&&p.types!==null&&(f.types=p.types),B.T=f}}else try{f=a(h,o),Ep(t,n,f)}catch(j){Af(t,n,j)}}function Ep(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Tp(t,n,o)},function(o){return Af(t,n,o)}):Tp(t,n,a)}function Tp(t,n,a){n.status="fulfilled",n.value=a,bp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,vp(t,a)))}function Af(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,bp(n),n=n.next;while(n!==o)}t.action=null}function bp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ap(t,n){return n}function Sp(t,n){if(Ge){var a=ht.formState;if(a!==null){e:{var o=Oe;if(Ge){if(dt){t:{for(var h=dt,f=ei;h.nodeType!==8;){if(!f){h=null;break t}if(h=ni(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){dt=ni(h.nextSibling),o=h.data==="F!";break e}}$s(o)}o=!1}o&&(n=a[0])}}return a=dn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ap,lastRenderedState:n},a.queue=o,a=Hp.bind(null,Oe,o),o.dispatch=a,o=bf(!1),f=If.bind(null,Oe,!1,o.queue),o=dn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=M1.bind(null,Oe,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function wp(t){var n=It();return xp(n,lt,t)}function xp(t,n,a){if(n=Ef(t,n,Ap)[0],t=Ju(ms)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=fl(n)}catch(p){throw p===qa?Bu:p}else o=n;n=It();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Oe.flags|=2048,Qa(9,{destroy:void 0},V1.bind(null,h,a),null)),[o,f,t]}function V1(t,n){t.action=n}function Rp(t){var n=It(),a=lt;if(a!==null)return xp(n,a,t);It(),n=n.memoizedState,a=It();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function Qa(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Oe.updateQueue,n===null&&(n=Yu(),Oe.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Cp(){return It().memoizedState}function Zu(t,n,a,o){var h=dn();Oe.flags|=t,h.memoizedState=Qa(1|n,{destroy:void 0},a,o===void 0?null:o)}function Wu(t,n,a,o){var h=It();o=o===void 0?null:o;var f=h.memoizedState.inst;lt!==null&&o!==null&&mf(o,lt.memoizedState.deps)?h.memoizedState=Qa(n,f,a,o):(Oe.flags|=t,h.memoizedState=Qa(1|n,f,a,o))}function Ip(t,n){Zu(8390656,8,t,n)}function Sf(t,n){Wu(2048,8,t,n)}function k1(t){Oe.flags|=4;var n=Oe.updateQueue;if(n===null)n=Yu(),Oe.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Np(t){var n=It().memoizedState;return k1({ref:n,nextImpl:t}),function(){if((Ze&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Dp(t,n){return Wu(4,2,t,n)}function Op(t,n){return Wu(4,4,t,n)}function Mp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Vp(t,n,a){a=a!=null?a.concat([t]):null,Wu(4,4,Mp.bind(null,n,t),a)}function wf(){}function kp(t,n){var a=It();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&mf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Lp(t,n){var a=It();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&mf(n,o[1]))return o[0];if(o=t(),Jr){pn(!0);try{t()}finally{pn(!1)}}return a.memoizedState=[o,n],o}function xf(t,n,a){return a===void 0||(ds&1073741824)!==0&&(je&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Uy(),Oe.lanes|=t,tr|=t,a)}function Up(t,n,a,o){return On(a,n)?a:Fa.current!==null?(t=xf(t,a,o),On(t,n)||(Lt=!0),t):(ds&42)===0||(ds&1073741824)!==0&&(je&261930)===0?(Lt=!0,t.memoizedState=a):(t=Uy(),Oe.lanes|=t,tr|=t,n)}function Pp(t,n,a,o,h){var f=se.p;se.p=f!==0&&8>f?f:8;var p=B.T,T={};B.T=T,If(t,!1,n,a);try{var C=h(),j=B.S;if(j!==null&&j(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=N1(C,o);dl(t,n,G,Pn(t))}else dl(t,n,o,Pn(t))}catch(X){dl(t,n,{then:function(){},status:"rejected",reason:X},Pn())}finally{se.p=f,p!==null&&T.types!==null&&(p.types=T.types),B.T=p}}function L1(){}function Rf(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=jp(t).queue;Pp(t,h,n,ce,a===null?L1:function(){return zp(t),a(o)})}function jp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:ce},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function zp(t){var n=jp(t);n.next===null&&(n=t.alternate.memoizedState),dl(t,n.next.queue,{},Pn())}function Cf(){return Wt(Nl)}function Bp(){return It().memoizedState}function qp(){return It().memoizedState}function U1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Pn();t=Ys(a);var o=Xs(n,t,a);o!==null&&(An(o,n,a),ll(o,n,a)),n={cache:nf()},t.payload=n;return}n=n.return}}function P1(t,n,a){var o=Pn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ec(t)?Fp(n,a):(a=Gh(t,n,a,o),a!==null&&(An(a,t,o),Gp(a,n,o)))}function Hp(t,n,a){var o=Pn();dl(t,n,a,o)}function dl(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ec(t))Fp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,a);if(h.hasEagerState=!0,h.eagerState=T,On(T,p))return Vu(t,n,h,0),ht===null&&Mu(),!1}catch{}finally{}if(a=Gh(t,n,h,o),a!==null)return An(a,t,o),Gp(a,n,o),!0}return!1}function If(t,n,a,o){if(o={lane:2,revertLane:od(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ec(t)){if(n)throw Error(r(479))}else n=Gh(t,a,o,2),n!==null&&An(n,t,2)}function ec(t){var n=t.alternate;return t===Oe||n!==null&&n===Oe}function Fp(t,n){Ga=Qu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Gp(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Ir(t,a)}}var ml={readContext:Wt,use:Xu,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St};ml.useEffectEvent=St;var $p={readContext:Wt,use:Xu,useCallback:function(t,n){return dn().memoizedState=[t,n===void 0?null:n],t},useContext:Wt,useEffect:Ip,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Zu(4194308,4,Mp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Zu(4194308,4,t,n)},useInsertionEffect:function(t,n){Zu(4,2,t,n)},useMemo:function(t,n){var a=dn();n=n===void 0?null:n;var o=t();if(Jr){pn(!0);try{t()}finally{pn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=dn();if(a!==void 0){var h=a(n);if(Jr){pn(!0);try{a(n)}finally{pn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=P1.bind(null,Oe,t),[o.memoizedState,t]},useRef:function(t){var n=dn();return t={current:t},n.memoizedState=t},useState:function(t){t=bf(t);var n=t.queue,a=Hp.bind(null,Oe,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:wf,useDeferredValue:function(t,n){var a=dn();return xf(a,t,n)},useTransition:function(){var t=bf(!1);return t=Pp.bind(null,Oe,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Oe,h=dn();if(Ge){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ht===null)throw Error(r(349));(je&127)!==0||dp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Ip(gp.bind(null,o,f,t),[t]),o.flags|=2048,Qa(9,{destroy:void 0},mp.bind(null,o,f,a,n),null),a},useId:function(){var t=dn(),n=ht.identifierPrefix;if(Ge){var a=ji,o=Pi;a=(o&~(1<<32-Et(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Ku++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=D1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Cf,useFormState:Sp,useActionState:Sp,useOptimistic:function(t){var n=dn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=If.bind(null,Oe,!0,a),a.dispatch=n,[t,n]},useMemoCache:vf,useCacheRefresh:function(){return dn().memoizedState=U1.bind(null,Oe)},useEffectEvent:function(t){var n=dn(),a={impl:t};return n.memoizedState=a,function(){if((Ze&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Nf={readContext:Wt,use:Xu,useCallback:kp,useContext:Wt,useEffect:Sf,useImperativeHandle:Vp,useInsertionEffect:Dp,useLayoutEffect:Op,useMemo:Lp,useReducer:Ju,useRef:Cp,useState:function(){return Ju(ms)},useDebugValue:wf,useDeferredValue:function(t,n){var a=It();return Up(a,lt.memoizedState,t,n)},useTransition:function(){var t=Ju(ms)[0],n=It().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:fp,useId:Bp,useHostTransitionStatus:Cf,useFormState:wp,useActionState:wp,useOptimistic:function(t,n){var a=It();return _p(a,lt,t,n)},useMemoCache:vf,useCacheRefresh:qp};Nf.useEffectEvent=Np;var Qp={readContext:Wt,use:Xu,useCallback:kp,useContext:Wt,useEffect:Sf,useImperativeHandle:Vp,useInsertionEffect:Dp,useLayoutEffect:Op,useMemo:Lp,useReducer:Tf,useRef:Cp,useState:function(){return Tf(ms)},useDebugValue:wf,useDeferredValue:function(t,n){var a=It();return lt===null?xf(a,t,n):Up(a,lt.memoizedState,t,n)},useTransition:function(){var t=Tf(ms)[0],n=It().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:fp,useId:Bp,useHostTransitionStatus:Cf,useFormState:Rp,useActionState:Rp,useOptimistic:function(t,n){var a=It();return lt!==null?_p(a,lt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:vf,useCacheRefresh:qp};Qp.useEffectEvent=Np;function Df(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Of={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=Pn(),h=Ys(o);h.payload=n,a!=null&&(h.callback=a),n=Xs(t,h,o),n!==null&&(An(n,t,o),ll(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=Pn(),h=Ys(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Xs(t,h,o),n!==null&&(An(n,t,o),ll(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Pn(),o=Ys(a);o.tag=2,n!=null&&(o.callback=n),n=Xs(t,o,a),n!==null&&(An(n,t,a),ll(n,t,a))}};function Kp(t,n,a,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!el(a,o)||!el(h,f):!0}function Yp(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Of.enqueueReplaceState(n,n.state,null)}function Zr(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Xp(t){Ou(t)}function Jp(t){console.error(t)}function Zp(t){Ou(t)}function tc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Wp(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(t,n,a){return a=Ys(a),a.tag=3,a.payload={element:null},a.callback=function(){tc(t,n)},a}function ey(t){return t=Ys(t),t.tag=3,t}function ty(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Wp(n,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Wp(n,a,o),typeof h!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function j1(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&ja(n,a,h,!0),a=Vn.current,a!==null){switch(a.tag){case 31:case 13:return ti===null?dc():a.alternate===null&&wt===0&&(wt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===qu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),sd(t,o,h)),!1;case 22:return a.flags|=65536,o===qu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),sd(t,o,h)),!1}throw Error(r(435,a.tag))}return sd(t,o,h),dc(),!1}if(Ge)return n=Vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Jh&&(t=Error(r(422),{cause:o}),il(Jn(t,a)))):(o!==Jh&&(n=Error(r(423),{cause:o}),il(Jn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Jn(o,a),h=Mf(t.stateNode,o,h),uf(t,h),wt!==4&&(wt=2)),!1;var f=Error(r(520),{cause:o});if(f=Jn(f,a),bl===null?bl=[f]:bl.push(f),wt!==4&&(wt=2),n===null)return!0;o=Jn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Mf(a.stateNode,o,t),uf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(nr===null||!nr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ey(h),ty(h,t,a,o),uf(a,h),!1}a=a.return}while(a!==null);return!1}var Vf=Error(r(461)),Lt=!1;function en(t,n,a,o){n.child=t===null?rp(n,null,a,o):Xr(n,t.child,a,o)}function ny(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var p={};for(var T in o)T!=="ref"&&(p[T]=o[T])}else p=o;return $r(n),o=gf(t,n,a,p,f,h),T=pf(),t!==null&&!Lt?(yf(t,n,h),gs(t,n,h)):(Ge&&T&&Yh(n),n.flags|=1,en(t,n,o,h),n.child)}function iy(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!$h(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,sy(t,n,f,o,h)):(t=Lu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!qf(t,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:el,a(p,o)&&t.ref===n.ref)return gs(t,n,h)}return n.flags|=1,t=us(f,o),t.ref=n.ref,t.return=n,n.child=t}function sy(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(el(f,o)&&t.ref===n.ref)if(Lt=!1,n.pendingProps=o=f,qf(t,h))(t.flags&131072)!==0&&(Lt=!0);else return n.lanes=t.lanes,gs(t,n,h)}return kf(t,n,a,o,h)}function ry(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ay(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&zu(n,f!==null?f.cachePool:null),f!==null?lp(n,f):hf(),up(n);else return o=n.lanes=536870912,ay(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(zu(n,f.cachePool),lp(n,f),Zs(),n.memoizedState=null):(t!==null&&zu(n,null),hf(),Zs());return en(t,n,h,a),n.child}function gl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ay(t,n,a,o,h){var f=rf();return f=f===null?null:{parent:Vt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&zu(n,null),hf(),up(n),t!==null&&ja(t,n,o,!0),n.childLanes=h,null}function nc(t,n){return n=sc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function oy(t,n,a){return Xr(n,t.child,null,a),t=nc(n,n.pendingProps),t.flags|=2,kn(n),n.memoizedState=null,t}function z1(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ge){if(o.mode==="hidden")return t=nc(n,o),n.lanes=536870912,gl(null,t);if(df(n),(t=dt)?(t=v_(t,ei),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Fs!==null?{id:Pi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=Fg(t),a.return=n,n.child=a,Zt=n,dt=null)):t=null,t===null)throw $s(n);return n.lanes=536870912,null}return nc(n,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(df(n),h)if(n.flags&256)n.flags&=-257,n=oy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Lt||ja(t,n,a,!1),h=(a&t.childLanes)!==0,Lt||h){if(o=ht,o!==null&&(p=H(o,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,qr(t,p),An(o,t,p),Vf;dc(),n=oy(t,n,a)}else t=f.treeContext,dt=ni(p.nextSibling),Zt=n,Ge=!0,Gs=null,ei=!1,t!==null&&Qg(n,t),n=nc(n,o),n.flags|=4096;return n}return t=us(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ic(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function kf(t,n,a,o,h){return $r(n),a=gf(t,n,a,o,void 0,h),o=pf(),t!==null&&!Lt?(yf(t,n,h),gs(t,n,h)):(Ge&&o&&Yh(n),n.flags|=1,en(t,n,a,h),n.child)}function ly(t,n,a,o,h,f){return $r(n),n.updateQueue=null,a=hp(n,o,a,h),cp(t),o=pf(),t!==null&&!Lt?(yf(t,n,f),gs(t,n,f)):(Ge&&o&&Yh(n),n.flags|=1,en(t,n,a,f),n.child)}function uy(t,n,a,o,h){if($r(n),n.stateNode===null){var f=ka,p=a.contextType;typeof p=="object"&&p!==null&&(f=Wt(p)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Of,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},of(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?Wt(p):ka,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Df(n,a,p,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Of.enqueueReplaceState(f,f.state,null),cl(n,o,f,h),ul(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,C=Zr(a,T);f.props=C;var j=f.context,G=a.contextType;p=ka,typeof G=="object"&&G!==null&&(p=Wt(G));var X=a.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||j!==p)&&Yp(n,f,o,p),Ks=!1;var z=n.memoizedState;f.state=z,cl(n,o,f,h),ul(),j=n.memoizedState,T||z!==j||Ks?(typeof X=="function"&&(Df(n,a,X,o),j=n.memoizedState),(C=Ks||Kp(n,a,C,o,z,j,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=p,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,lf(t,n),p=n.memoizedProps,G=Zr(a,p),f.props=G,X=n.pendingProps,z=f.context,j=a.contextType,C=ka,typeof j=="object"&&j!==null&&(C=Wt(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||z!==C)&&Yp(n,f,o,C),Ks=!1,z=n.memoizedState,f.state=z,cl(n,o,f,h),ul();var F=n.memoizedState;p!==X||z!==F||Ks||t!==null&&t.dependencies!==null&&Pu(t.dependencies)?(typeof T=="function"&&(Df(n,a,T,o),F=n.memoizedState),(G=Ks||Kp(n,a,G,o,z,F,C)||t!==null&&t.dependencies!==null&&Pu(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=C,o=G):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,ic(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Xr(n,t.child,null,h),n.child=Xr(n,null,a,h)):en(t,n,a,h),n.memoizedState=f.state,t=n.child):t=gs(t,n,h),t}function cy(t,n,a,o){return Fr(),n.flags|=256,en(t,n,a,o),n.child}var Lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(t){return{baseLanes:t,cachePool:Wg()}}function Pf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Un),t}function hy(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ge){if(h?Js(n):Zs(),(t=dt)?(t=v_(t,ei),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Fs!==null?{id:Pi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=Fg(t),a.return=n,n.child=a,Zt=n,dt=null)):t=null,t===null)throw $s(n);return Ed(t)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Zs(),h=n.mode,T=sc({mode:"hidden",children:T},h),o=Hr(o,h,a,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Uf(a),o.childLanes=Pf(t,p,a),n.memoizedState=Lf,gl(null,o)):(Js(n),jf(n,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(Js(n),n.flags&=-257,n=zf(t,n,a)):n.memoizedState!==null?(Zs(),n.child=t.child,n.flags|=128,n=null):(Zs(),T=o.fallback,h=n.mode,o=sc({mode:"visible",children:o.children},h),T=Hr(T,h,a,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Xr(n,t.child,null,a),o=n.child,o.memoizedState=Uf(a),o.childLanes=Pf(t,p,a),n.memoizedState=Lf,n=gl(null,o));else if(Js(n),Ed(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var j=p.dgst;p=j,o=Error(r(419)),o.stack="",o.digest=p,il({value:o,source:null,stack:null}),n=zf(t,n,a)}else if(Lt||ja(t,n,a,!1),p=(a&t.childLanes)!==0,Lt||p){if(p=ht,p!==null&&(o=H(p,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,qr(t,o),An(p,t,o),Vf;vd(T)||dc(),n=zf(t,n,a)}else vd(T)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,dt=ni(T.nextSibling),Zt=n,Ge=!0,Gs=null,ei=!1,t!==null&&Qg(n,t),n=jf(n,o.children),n.flags|=4096);return n}return h?(Zs(),T=o.fallback,h=n.mode,C=t.child,j=C.sibling,o=us(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,j!==null?T=us(j,T):(T=Hr(T,h,a,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,gl(null,o),o=n.child,T=t.child.memoizedState,T===null?T=Uf(a):(h=T.cachePool,h!==null?(C=Vt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Wg(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=Pf(t,p,a),n.memoizedState=Lf,gl(t.child,o)):(Js(n),a=t.child,t=a.sibling,a=us(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=a,n.memoizedState=null,a)}function jf(t,n){return n=sc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function sc(t,n){return t=Mn(22,t,null,n),t.lanes=0,t}function zf(t,n,a){return Xr(n,t.child,null,a),t=jf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function fy(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),ef(t.return,n,a)}function Bf(t,n,a,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function dy(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=Ct.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,ie(Ct,p),en(t,n,o,a),o=Ge?nl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fy(t,a,n);else if(t.tag===19)fy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&$u(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Bf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&$u(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Bf(n,!0,a,null,f,o);break;case"together":Bf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function gs(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),tr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ja(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=us(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=us(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function qf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Pu(t)))}function B1(t,n,a){switch(n.tag){case 3:bt(n,n.stateNode.containerInfo),Qs(n,Vt,t.memoizedState.cache),Fr();break;case 27:case 5:Ti(n);break;case 4:bt(n,n.stateNode.containerInfo);break;case 10:Qs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,df(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Js(n),n.flags|=128,null):(a&n.child.childLanes)!==0?hy(t,n,a):(Js(n),t=gs(t,n,a),t!==null?t.sibling:null);Js(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(ja(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return dy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Ct,Ct.current),o)break;return null;case 22:return n.lanes=0,ry(t,n,a,n.pendingProps);case 24:Qs(n,Vt,t.memoizedState.cache)}return gs(t,n,a)}function my(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Lt=!0;else{if(!qf(t,a)&&(n.flags&128)===0)return Lt=!1,B1(t,n,a);Lt=(t.flags&131072)!==0}else Lt=!1,Ge&&(n.flags&1048576)!==0&&$g(n,nl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Kr(n.elementType),n.type=t,typeof t=="function")$h(t)?(o=Zr(t,o),n.tag=1,n=uy(null,n,t,o,a)):(n.tag=0,n=kf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Ke){n.tag=11,n=ny(null,n,t,o,a);break e}else if(h===I){n.tag=14,n=iy(null,n,t,o,a);break e}}throw n=pe(t)||t,Error(r(306,n,""))}}return n;case 0:return kf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Zr(o,n.pendingProps),uy(t,n,o,h,a);case 3:e:{if(bt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,lf(t,n),cl(n,o,null,a);var p=n.memoizedState;if(o=p.cache,Qs(n,Vt,o),o!==f.cache&&tf(n,[Vt],a,!0),ul(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=cy(t,n,o,a);break e}else if(o!==h){h=Jn(Error(r(424)),n),il(h),n=cy(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(dt=ni(t.firstChild),Zt=n,Ge=!0,Gs=null,ei=!0,a=rp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Fr(),o===h){n=gs(t,n,a);break e}en(t,n,o,a)}n=n.child}return n;case 26:return ic(t,n),t===null?(a=w_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ge||(a=n.type,t=n.pendingProps,o=Ec(Ce.current).createElement(a),o[ve]=n,o[Fe]=t,tn(o,a,t),Ot(o),n.stateNode=o):n.memoizedState=w_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ti(n),t===null&&Ge&&(o=n.stateNode=b_(n.type,n.pendingProps,Ce.current),Zt=n,ei=!0,h=dt,ar(n.type)?(Td=h,dt=ni(o.firstChild)):dt=h),en(t,n,n.pendingProps.children,a),ic(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ge&&((h=o=dt)&&(o=yb(o,n.type,n.pendingProps,ei),o!==null?(n.stateNode=o,Zt=n,dt=ni(o.firstChild),ei=!1,h=!0):h=!1),h||$s(n)),Ti(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,pd(h,f)?o=null:p!==null&&pd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=gf(t,n,O1,null,null,a),Nl._currentValue=h),ic(t,n),en(t,n,o,a),n.child;case 6:return t===null&&Ge&&((t=a=dt)&&(a=_b(a,n.pendingProps,ei),a!==null?(n.stateNode=a,Zt=n,dt=null,t=!0):t=!1),t||$s(n)),null;case 13:return hy(t,n,a);case 4:return bt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Xr(n,null,o,a):en(t,n,o,a),n.child;case 11:return ny(t,n,n.type,n.pendingProps,a);case 7:return en(t,n,n.pendingProps,a),n.child;case 8:return en(t,n,n.pendingProps.children,a),n.child;case 12:return en(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Qs(n,n.type,o.value),en(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,$r(n),h=Wt(h),o=o(h),n.flags|=1,en(t,n,o,a),n.child;case 14:return iy(t,n,n.type,n.pendingProps,a);case 15:return sy(t,n,n.type,n.pendingProps,a);case 19:return dy(t,n,a);case 31:return z1(t,n,a);case 22:return ry(t,n,a,n.pendingProps);case 24:return $r(n),o=Wt(Vt),t===null?(h=rf(),h===null&&(h=ht,f=nf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},of(n),Qs(n,Vt,h)):((t.lanes&a)!==0&&(lf(t,n),cl(n,null,null,a),ul()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Qs(n,Vt,o)):(o=f.cache,Qs(n,Vt,o),o!==h.cache&&tf(n,[Vt],a,!0))),en(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ps(t){t.flags|=4}function Hf(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(By())t.flags|=8192;else throw Yr=qu,af}else t.flags&=-16777217}function gy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!N_(n))if(By())t.flags|=8192;else throw Yr=qu,af}function rc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ta():536870912,t.lanes|=n,Ja|=n)}function pl(t,n){if(!Ge)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function mt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function q1(t,n,a){var o=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(n),null;case 1:return mt(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),fs(Vt),tt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Pa(n)?ps(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zh())),mt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ps(n),f!==null?(mt(n),gy(n,f)):(mt(n),Hf(n,h,null,o,a))):f?f!==t.memoizedState?(ps(n),mt(n),gy(n,f)):(mt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ps(n),mt(n),Hf(n,h,t,o,a)),null;case 27:if(bi(n),a=Ce.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ps(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return mt(n),null}t=re.current,Pa(n)?Kg(n):(t=b_(h,o,a),n.stateNode=t,ps(n))}return mt(n),null;case 5:if(bi(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ps(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return mt(n),null}if(f=re.current,Pa(n))Kg(n);else{var p=Ec(Ce.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[ve]=n,f[Fe]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(tn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ps(n)}}return mt(n),Hf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ps(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=Ce.current,Pa(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Zt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[ve]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||h_(t.nodeValue,a)),t||$s(n,!0)}else t=Ec(t).createTextNode(o),t[ve]=n,n.stateNode=t}return mt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=Pa(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[ve]=n}else Fr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;mt(n),t=!1}else a=Zh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(kn(n),n):(kn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return mt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Pa(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[ve]=n}else Fr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;mt(n),h=!1}else h=Zh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(kn(n),n):(kn(n),null)}return kn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),rc(n,n.updateQueue),mt(n),null);case 4:return tt(),t===null&&hd(n.stateNode.containerInfo),mt(n),null;case 10:return fs(n.type),mt(n),null;case 19:if(K(Ct),o=n.memoizedState,o===null)return mt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)pl(o,!1);else{if(wt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=$u(t),f!==null){for(n.flags|=128,pl(o,!1),t=f.updateQueue,n.updateQueue=t,rc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Hg(a,t),a=a.sibling;return ie(Ct,Ct.current&1|2),Ge&&cs(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Yt()>cc&&(n.flags|=128,h=!0,pl(o,!1),n.lanes=4194304)}else{if(!h)if(t=$u(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,rc(n,t),pl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ge)return mt(n),null}else 2*Yt()-o.renderingStartTime>cc&&a!==536870912&&(n.flags|=128,h=!0,pl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Yt(),t.sibling=null,a=Ct.current,ie(Ct,h?a&1|2:a&1),Ge&&cs(n,o.treeForkCount),t):(mt(n),null);case 22:case 23:return kn(n),ff(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(mt(n),n.subtreeFlags&6&&(n.flags|=8192)):mt(n),a=n.updateQueue,a!==null&&rc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&K(Qr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),fs(Vt),mt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function H1(t,n){switch(Xh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return fs(Vt),tt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return bi(n),null;case 31:if(n.memoizedState!==null){if(kn(n),n.alternate===null)throw Error(r(340));Fr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(kn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Fr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(Ct),null;case 4:return tt(),null;case 10:return fs(n.type),null;case 22:case 23:return kn(n),ff(),t!==null&&K(Qr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return fs(Vt),null;case 25:return null;default:return null}}function py(t,n){switch(Xh(n),n.tag){case 3:fs(Vt),tt();break;case 26:case 27:case 5:bi(n);break;case 4:tt();break;case 31:n.memoizedState!==null&&kn(n);break;case 13:kn(n);break;case 19:K(Ct);break;case 10:fs(n.type);break;case 22:case 23:kn(n),ff(),t!==null&&K(Qr);break;case 24:fs(Vt)}}function yl(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,p=a.inst;o=f(),p.destroy=o}a=a.next}while(a!==h)}}catch(T){st(n,n.return,T)}}function Ws(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var C=a,j=T;try{j()}catch(G){st(h,C,G)}}}o=o.next}while(o!==f)}}catch(G){st(n,n.return,G)}}function yy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{op(n,a)}catch(o){st(t,t.return,o)}}}function _y(t,n,a){a.props=Zr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){st(t,n,o)}}function _l(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){st(t,n,h)}}function zi(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){st(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){st(t,n,h)}else a.current=null}function vy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){st(t,t.return,h)}}function Ff(t,n,a){try{var o=t.stateNode;hb(o,t.type,a,n),o[Fe]=n}catch(h){st(t,t.return,h)}}function Ey(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ar(t.type)||t.tag===4}function Gf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ey(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ar(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $f(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=oi));else if(o!==4&&(o===27&&ar(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for($f(t,n,a),t=t.sibling;t!==null;)$f(t,n,a),t=t.sibling}function ac(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&ar(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ac(t,n,a),t=t.sibling;t!==null;)ac(t,n,a),t=t.sibling}function Ty(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);tn(n,o,a),n[ve]=t,n[Fe]=a}catch(f){st(t,t.return,f)}}var ys=!1,Ut=!1,Qf=!1,by=typeof WeakSet=="function"?WeakSet:Set,$t=null;function F1(t,n){if(t=t.containerInfo,md=Rc,t=Vg(t),jh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var p=0,T=-1,C=-1,j=0,G=0,X=t,z=null;t:for(;;){for(var F;X!==a||h!==0&&X.nodeType!==3||(T=p+h),X!==f||o!==0&&X.nodeType!==3||(C=p+o),X.nodeType===3&&(p+=X.nodeValue.length),(F=X.firstChild)!==null;)z=X,X=F;for(;;){if(X===t)break t;if(z===a&&++j===h&&(T=p),z===f&&++G===o&&(C=p),(F=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=F}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(gd={focusedElem:t,selectionRange:a},Rc=!1,$t=n;$t!==null;)if(n=$t,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,$t=t;else for(;$t!==null;){switch(n=$t,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ue=Zr(a.type,h);t=o.getSnapshotBeforeUpdate(ue,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(Te){st(a,a.return,Te)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)_d(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_d(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,$t=t;break}$t=n.return}}function Ay(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:vs(t,a),o&4&&yl(5,a);break;case 1:if(vs(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(p){st(a,a.return,p)}else{var h=Zr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){st(a,a.return,p)}}o&64&&yy(a),o&512&&_l(a,a.return);break;case 3:if(vs(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{op(t,n)}catch(p){st(a,a.return,p)}}break;case 27:n===null&&o&4&&Ty(a);case 26:case 5:vs(t,a),n===null&&o&4&&vy(a),o&512&&_l(a,a.return);break;case 12:vs(t,a);break;case 31:vs(t,a),o&4&&xy(t,a);break;case 13:vs(t,a),o&4&&Ry(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=W1.bind(null,a),vb(t,a))));break;case 22:if(o=a.memoizedState!==null||ys,!o){n=n!==null&&n.memoizedState!==null||Ut,h=ys;var f=Ut;ys=o,(Ut=n)&&!f?Es(t,a,(a.subtreeFlags&8772)!==0):vs(t,a),ys=h,Ut=f}break;case 30:break;default:vs(t,a)}}function Sy(t){var n=t.alternate;n!==null&&(t.alternate=null,Sy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ri(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,vn=!1;function _s(t,n,a){for(a=a.child;a!==null;)wy(t,n,a),a=a.sibling}function wy(t,n,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(xn,a)}catch{}switch(a.tag){case 26:Ut||zi(a,n),_s(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ut||zi(a,n);var o=vt,h=vn;ar(a.type)&&(vt=a.stateNode,vn=!1),_s(t,n,a),Rl(a.stateNode),vt=o,vn=h;break;case 5:Ut||zi(a,n);case 6:if(o=vt,h=vn,vt=null,_s(t,n,a),vt=o,vn=h,vt!==null)if(vn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(a.stateNode)}catch(f){st(a,n,f)}else try{vt.removeChild(a.stateNode)}catch(f){st(a,n,f)}break;case 18:vt!==null&&(vn?(t=vt,y_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ro(t)):y_(vt,a.stateNode));break;case 4:o=vt,h=vn,vt=a.stateNode.containerInfo,vn=!0,_s(t,n,a),vt=o,vn=h;break;case 0:case 11:case 14:case 15:Ws(2,a,n),Ut||Ws(4,a,n),_s(t,n,a);break;case 1:Ut||(zi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&_y(a,n,o)),_s(t,n,a);break;case 21:_s(t,n,a);break;case 22:Ut=(o=Ut)||a.memoizedState!==null,_s(t,n,a),Ut=o;break;default:_s(t,n,a)}}function xy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ro(t)}catch(a){st(n,n.return,a)}}}function Ry(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ro(t)}catch(a){st(n,n.return,a)}}function G1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new by),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new by),n;default:throw Error(r(435,t.tag))}}function oc(t,n){var a=G1(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=eb.bind(null,t,o);o.then(h,h)}})}function En(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,p=n,T=p;e:for(;T!==null;){switch(T.tag){case 27:if(ar(T.type)){vt=T.stateNode,vn=!1;break e}break;case 5:vt=T.stateNode,vn=!1;break e;case 3:case 4:vt=T.stateNode.containerInfo,vn=!0;break e}T=T.return}if(vt===null)throw Error(r(160));wy(f,p,h),vt=null,vn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Cy(n,t),n=n.sibling}var di=null;function Cy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(n,t),Tn(t),o&4&&(Ws(3,t,t.return),yl(3,t),Ws(5,t,t.return));break;case 1:En(n,t),Tn(t),o&512&&(Ut||a===null||zi(a,a.return)),o&64&&ys&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=di;if(En(n,t),Tn(t),o&512&&(Ut||a===null||zi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Xt]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),tn(f,o,a),f[ve]=t,Ot(f),o=f;break e;case"link":var p=C_("link","href",h).get(o+(a.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(T,1);break t}}f=h.createElement(o),tn(f,o,a),h.head.appendChild(f);break;case"meta":if(p=C_("meta","content",h).get(o+(a.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(T,1);break t}}f=h.createElement(o),tn(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[ve]=t,Ot(f),o=f}t.stateNode=o}else I_(h,t.type,t.stateNode);else t.stateNode=R_(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?I_(h,t.type,t.stateNode):R_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Ff(t,t.memoizedProps,a.memoizedProps)}break;case 27:En(n,t),Tn(t),o&512&&(Ut||a===null||zi(a,a.return)),a!==null&&o&4&&Ff(t,t.memoizedProps,a.memoizedProps);break;case 5:if(En(n,t),Tn(t),o&512&&(Ut||a===null||zi(a,a.return)),t.flags&32){h=t.stateNode;try{_n(h,"")}catch(ue){st(t,t.return,ue)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Ff(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Qf=!0);break;case 6:if(En(n,t),Tn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ue){st(t,t.return,ue)}}break;case 3:if(Ac=null,h=di,di=Tc(n.containerInfo),En(n,t),di=h,Tn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ro(n.containerInfo)}catch(ue){st(t,t.return,ue)}Qf&&(Qf=!1,Iy(t));break;case 4:o=di,di=Tc(t.stateNode.containerInfo),En(n,t),Tn(t),di=o;break;case 12:En(n,t),Tn(t);break;case 31:En(n,t),Tn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,oc(t,o)));break;case 13:En(n,t),Tn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(uc=Yt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,oc(t,o)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,j=ys,G=Ut;if(ys=j||h,Ut=G||C,En(n,t),Ut=G,ys=j,Tn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||ys||Ut||Wr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=C.stateNode;var X=C.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ue){st(C,C.return,ue)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ue){st(C,C.return,ue)}}}else if(n.tag===18){if(a===null){C=n;try{var F=C.stateNode;h?__(F,!0):__(C.stateNode,!1)}catch(ue){st(C,C.return,ue)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,oc(t,a))));break;case 19:En(n,t),Tn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,oc(t,o)));break;case 30:break;case 21:break;default:En(n,t),Tn(t)}}function Tn(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(Ey(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Gf(t);ac(t,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(_n(p,""),a.flags&=-33);var T=Gf(t);ac(t,T,p);break;case 3:case 4:var C=a.stateNode.containerInfo,j=Gf(t);$f(t,j,C);break;default:throw Error(r(161))}}catch(G){st(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Iy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Iy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function vs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ay(t,n.alternate,n),n=n.sibling}function Wr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ws(4,n,n.return),Wr(n);break;case 1:zi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&_y(n,n.return,a),Wr(n);break;case 27:Rl(n.stateNode);case 26:case 5:zi(n,n.return),Wr(n);break;case 22:n.memoizedState===null&&Wr(n);break;case 30:Wr(n);break;default:Wr(n)}t=t.sibling}}function Es(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Es(h,f,a),yl(4,f);break;case 1:if(Es(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){st(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)ap(C[h],T)}catch(j){st(o,o.return,j)}}a&&p&64&&yy(f),_l(f,f.return);break;case 27:Ty(f);case 26:case 5:Es(h,f,a),a&&o===null&&p&4&&vy(f),_l(f,f.return);break;case 12:Es(h,f,a);break;case 31:Es(h,f,a),a&&p&4&&xy(h,f);break;case 13:Es(h,f,a),a&&p&4&&Ry(h,f);break;case 22:f.memoizedState===null&&Es(h,f,a),_l(f,f.return);break;case 30:break;default:Es(h,f,a)}n=n.sibling}}function Kf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&sl(a))}function Yf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&sl(t))}function mi(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ny(t,n,a,o),n=n.sibling}function Ny(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:mi(t,n,a,o),h&2048&&yl(9,n);break;case 1:mi(t,n,a,o);break;case 3:mi(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&sl(t)));break;case 12:if(h&2048){mi(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){st(n,n.return,C)}}else mi(t,n,a,o);break;case 31:mi(t,n,a,o);break;case 13:mi(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?mi(t,n,a,o):vl(t,n):f._visibility&2?mi(t,n,a,o):(f._visibility|=2,Ka(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Kf(p,n);break;case 24:mi(t,n,a,o),h&2048&&Yf(n.alternate,n);break;default:mi(t,n,a,o)}}function Ka(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,T=a,C=o,j=p.flags;switch(p.tag){case 0:case 11:case 15:Ka(f,p,T,C,h),yl(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Ka(f,p,T,C,h):vl(f,p):(G._visibility|=2,Ka(f,p,T,C,h)),h&&j&2048&&Kf(p.alternate,p);break;case 24:Ka(f,p,T,C,h),h&&j&2048&&Yf(p.alternate,p);break;default:Ka(f,p,T,C,h)}n=n.sibling}}function vl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:vl(a,o),h&2048&&Kf(o.alternate,o);break;case 24:vl(a,o),h&2048&&Yf(o.alternate,o);break;default:vl(a,o)}n=n.sibling}}var El=8192;function Ya(t,n,a){if(t.subtreeFlags&El)for(t=t.child;t!==null;)Dy(t,n,a),t=t.sibling}function Dy(t,n,a){switch(t.tag){case 26:Ya(t,n,a),t.flags&El&&t.memoizedState!==null&&Db(a,di,t.memoizedState,t.memoizedProps);break;case 5:Ya(t,n,a);break;case 3:case 4:var o=di;di=Tc(t.stateNode.containerInfo),Ya(t,n,a),di=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=El,El=16777216,Ya(t,n,a),El=o):Ya(t,n,a));break;default:Ya(t,n,a)}}function Oy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Tl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];$t=o,Vy(o,t)}Oy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)My(t),t=t.sibling}function My(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&Ws(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,lc(t)):Tl(t);break;default:Tl(t)}}function lc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];$t=o,Vy(o,t)}Oy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ws(8,n,n.return),lc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,lc(n));break;default:lc(n)}t=t.sibling}}function Vy(t,n){for(;$t!==null;){var a=$t;switch(a.tag){case 0:case 11:case 15:Ws(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:sl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,$t=o;else e:for(a=t;$t!==null;){o=$t;var h=o.sibling,f=o.return;if(Sy(o),o===a){$t=null;break e}if(h!==null){h.return=f,$t=h;break e}$t=f}}}var $1={getCacheForType:function(t){var n=Wt(Vt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Wt(Vt).controller.signal}},Q1=typeof WeakMap=="function"?WeakMap:Map,Ze=0,ht=null,Ue=null,je=0,it=0,Ln=null,er=!1,Xa=!1,Xf=!1,Ts=0,wt=0,tr=0,ea=0,Jf=0,Un=0,Ja=0,bl=null,bn=null,Zf=!1,uc=0,ky=0,cc=1/0,hc=null,nr=null,qt=0,ir=null,Za=null,bs=0,Wf=0,ed=null,Ly=null,Al=0,td=null;function Pn(){return(Ze&2)!==0&&je!==0?je&-je:B.T!==null?od():le()}function Uy(){if(Un===0)if((je&536870912)===0||Ge){var t=xi;xi<<=1,(xi&3932160)===0&&(xi=262144),Un=t}else Un=536870912;return t=Vn.current,t!==null&&(t.flags|=32),Un}function An(t,n,a){(t===ht&&(it===2||it===9)||t.cancelPendingCommit!==null)&&(Wa(t,0),sr(t,je,Un,!1)),is(t,a),((Ze&2)===0||t!==ht)&&(t===ht&&((Ze&2)===0&&(ea|=a),wt===4&&sr(t,je,Un,!1)),Bi(t))}function Py(t,n,a){if((Ze&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Cn(t,n),h=o?X1(t,n):id(t,n,!0),f=o;do{if(h===0){Xa&&!o&&sr(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!K1(a)){h=id(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var T=t;h=bl;var C=T.current.memoizedState.isDehydrated;if(C&&(Wa(T,p).flags|=256),p=id(T,p,!1),p!==2){if(Xf&&!C){T.errorRecoveryDisabledLanes|=f,ea|=f,h=4;break e}f=bn,bn=h,f!==null&&(bn===null?bn=f:bn.push.apply(bn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Wa(t,0),sr(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:sr(o,n,Un,!er);break e;case 2:bn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=uc+300-Yt(),10<h)){if(sr(o,n,Un,!er),qn(o,0,!0)!==0)break e;bs=n,o.timeoutHandle=g_(jy.bind(null,o,a,bn,hc,Zf,n,Un,ea,Ja,er,f,"Throttled",-0,0),h);break e}jy(o,a,bn,hc,Zf,n,Un,ea,Ja,er,f,null,-0,0)}}break}while(!0);Bi(t)}function jy(t,n,a,o,h,f,p,T,C,j,G,X,z,F){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},Dy(n,f,X);var ue=(f&62914560)===f?uc-Yt():(f&4194048)===f?ky-Yt():0;if(ue=Ob(X,ue),ue!==null){bs=f,t.cancelPendingCommit=ue(Qy.bind(null,t,n,f,a,o,h,p,T,C,G,X,null,z,F)),sr(t,f,p,!j);return}}Qy(t,n,f,a,o,h,p,T,C)}function K1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!On(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function sr(t,n,a,o){n&=~Jf,n&=~ea,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-Et(h),p=1<<f;o[f]=-1,h&=~p}a!==0&&Fn(t,a,n)}function fc(){return(Ze&6)===0?(Sl(0),!1):!0}function nd(){if(Ue!==null){if(it===0)var t=Ue.return;else t=Ue,hs=Gr=null,_f(t),Ha=null,al=0,t=Ue;for(;t!==null;)py(t.alternate,t),t=t.return;Ue=null}}function Wa(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,mb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),bs=0,nd(),ht=t,Ue=a=us(t.current,null),je=n,it=0,Ln=null,er=!1,Xa=Cn(t,n),Xf=!1,Ja=Un=Jf=ea=tr=wt=0,bn=bl=null,Zf=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-Et(o),f=1<<h;n|=t[h],o&=~f}return Ts=n,Mu(),a}function zy(t,n){Oe=null,B.H=ml,n===qa||n===Bu?(n=np(),it=3):n===af?(n=np(),it=4):it=n===Vf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ln=n,Ue===null&&(wt=1,tc(t,Jn(n,t.current)))}function By(){var t=Vn.current;return t===null?!0:(je&4194048)===je?ti===null:(je&62914560)===je||(je&536870912)!==0?t===ti:!1}function qy(){var t=B.H;return B.H=ml,t===null?ml:t}function Hy(){var t=B.A;return B.A=$1,t}function dc(){wt=4,er||(je&4194048)!==je&&Vn.current!==null||(Xa=!0),(tr&134217727)===0&&(ea&134217727)===0||ht===null||sr(ht,je,Un,!1)}function id(t,n,a){var o=Ze;Ze|=2;var h=qy(),f=Hy();(ht!==t||je!==n)&&(hc=null,Wa(t,n)),n=!1;var p=wt;e:do try{if(it!==0&&Ue!==null){var T=Ue,C=Ln;switch(it){case 8:nd(),p=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(n=!0);var j=it;if(it=0,Ln=null,eo(t,T,C,j),a&&Xa){p=0;break e}break;default:j=it,it=0,Ln=null,eo(t,T,C,j)}}Y1(),p=wt;break}catch(G){zy(t,G)}while(!0);return n&&t.shellSuspendCounter++,hs=Gr=null,Ze=o,B.H=h,B.A=f,Ue===null&&(ht=null,je=0,Mu()),p}function Y1(){for(;Ue!==null;)Fy(Ue)}function X1(t,n){var a=Ze;Ze|=2;var o=qy(),h=Hy();ht!==t||je!==n?(hc=null,cc=Yt()+500,Wa(t,n)):Xa=Cn(t,n);e:do try{if(it!==0&&Ue!==null){n=Ue;var f=Ln;t:switch(it){case 1:it=0,Ln=null,eo(t,n,f,1);break;case 2:case 9:if(ep(f)){it=0,Ln=null,Gy(n);break}n=function(){it!==2&&it!==9||ht!==t||(it=7),Bi(t)},f.then(n,n);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:ep(f)?(it=0,Ln=null,Gy(n)):(it=0,Ln=null,eo(t,n,f,7));break;case 5:var p=null;switch(Ue.tag){case 26:p=Ue.memoizedState;case 5:case 27:var T=Ue;if(p?N_(p):T.stateNode.complete){it=0,Ln=null;var C=T.sibling;if(C!==null)Ue=C;else{var j=T.return;j!==null?(Ue=j,mc(j)):Ue=null}break t}}it=0,Ln=null,eo(t,n,f,5);break;case 6:it=0,Ln=null,eo(t,n,f,6);break;case 8:nd(),wt=6;break e;default:throw Error(r(462))}}J1();break}catch(G){zy(t,G)}while(!0);return hs=Gr=null,B.H=o,B.A=h,Ze=a,Ue!==null?0:(ht=null,je=0,Mu(),wt)}function J1(){for(;Ue!==null&&!Ms();)Fy(Ue)}function Fy(t){var n=my(t.alternate,t,Ts);t.memoizedProps=t.pendingProps,n===null?mc(t):Ue=n}function Gy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=ly(a,n,n.pendingProps,n.type,void 0,je);break;case 11:n=ly(a,n,n.pendingProps,n.type.render,n.ref,je);break;case 5:_f(n);default:py(a,n),n=Ue=Hg(n,Ts),n=my(a,n,Ts)}t.memoizedProps=t.pendingProps,n===null?mc(t):Ue=n}function eo(t,n,a,o){hs=Gr=null,_f(n),Ha=null,al=0;var h=n.return;try{if(j1(t,h,n,a,je)){wt=1,tc(t,Jn(a,t.current)),Ue=null;return}}catch(f){if(h!==null)throw Ue=h,f;wt=1,tc(t,Jn(a,t.current)),Ue=null;return}n.flags&32768?(Ge||o===1?t=!0:Xa||(je&536870912)!==0?t=!1:(er=t=!0,(o===2||o===9||o===3||o===6)&&(o=Vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),$y(n,t)):mc(n)}function mc(t){var n=t;do{if((n.flags&32768)!==0){$y(n,er);return}t=n.return;var a=q1(n.alternate,n,Ts);if(a!==null){Ue=a;return}if(n=n.sibling,n!==null){Ue=n;return}Ue=n=t}while(n!==null);wt===0&&(wt=5)}function $y(t,n){do{var a=H1(t.alternate,t);if(a!==null){a.flags&=32767,Ue=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ue=t;return}Ue=t=a}while(t!==null);wt=6,Ue=null}function Qy(t,n,a,o,h,f,p,T,C){t.cancelPendingCommit=null;do gc();while(qt!==0);if((Ze&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Fh,Lo(t,a,f,p,T,C),t===ht&&(Ue=ht=null,je=0),Za=n,ir=t,bs=a,Wf=f,ed=h,Ly=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,tb(zn,function(){return Zy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=B.T,B.T=null,h=se.p,se.p=2,p=Ze,Ze|=4;try{F1(t,n,a)}finally{Ze=p,se.p=h,B.T=o}}qt=1,Ky(),Yy(),Xy()}}function Ky(){if(qt===1){qt=0;var t=ir,n=Za,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var o=se.p;se.p=2;var h=Ze;Ze|=4;try{Cy(n,t);var f=gd,p=Vg(t.containerInfo),T=f.focusedElem,C=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&Mg(T.ownerDocument.documentElement,T)){if(C!==null&&jh(T)){var j=C.start,G=C.end;if(G===void 0&&(G=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(G,T.value.length);else{var X=T.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var F=z.getSelection(),ue=T.textContent.length,Te=Math.min(C.start,ue),ct=C.end===void 0?Te:Math.min(C.end,ue);!F.extend&&Te>ct&&(p=ct,ct=Te,Te=p);var k=Og(T,Te),O=Og(T,ct);if(k&&O&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==O.node||F.focusOffset!==O.offset)){var P=X.createRange();P.setStart(k.node,k.offset),F.removeAllRanges(),Te>ct?(F.addRange(P),F.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),F.addRange(P))}}}}for(X=[],F=T;F=F.parentNode;)F.nodeType===1&&X.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Q=X[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Rc=!!md,gd=md=null}finally{Ze=h,se.p=o,B.T=a}}t.current=n,qt=2}}function Yy(){if(qt===2){qt=0;var t=ir,n=Za,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var o=se.p;se.p=2;var h=Ze;Ze|=4;try{Ay(t,n.alternate,n)}finally{Ze=h,se.p=o,B.T=a}}qt=3}}function Xy(){if(qt===4||qt===3){qt=0,Vs();var t=ir,n=Za,a=bs,o=Ly;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?qt=5:(qt=0,Za=ir=null,Jy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(nr=null),Y(a),n=n.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(xn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=B.T,h=se.p,se.p=2,B.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var T=o[p];f(T.value,{componentStack:T.stack})}}finally{B.T=n,se.p=h}}(bs&3)!==0&&gc(),Bi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===td?Al++:(Al=0,td=t):Al=0,Sl(0)}}function Jy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,sl(n)))}function gc(){return Ky(),Yy(),Xy(),Zy()}function Zy(){if(qt!==5)return!1;var t=ir,n=Wf;Wf=0;var a=Y(bs),o=B.T,h=se.p;try{se.p=32>a?32:a,B.T=null,a=ed,ed=null;var f=ir,p=bs;if(qt=0,Za=ir=null,bs=0,(Ze&6)!==0)throw Error(r(331));var T=Ze;if(Ze|=4,My(f.current),Ny(f,f.current,p,a),Ze=T,Sl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(xn,f)}catch{}return!0}finally{se.p=h,B.T=o,Jy(t,n)}}function Wy(t,n,a){n=Jn(a,n),n=Mf(t.stateNode,n,2),t=Xs(t,n,2),t!==null&&(is(t,2),Bi(t))}function st(t,n,a){if(t.tag===3)Wy(t,t,a);else for(;n!==null;){if(n.tag===3){Wy(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(nr===null||!nr.has(o))){t=Jn(a,t),a=ey(2),o=Xs(n,a,2),o!==null&&(ty(a,o,n,t),is(o,2),Bi(o));break}}n=n.return}}function sd(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new Q1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Xf=!0,h.add(a),t=Z1.bind(null,t,n,a),n.then(t,t))}function Z1(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ht===t&&(je&a)===a&&(wt===4||wt===3&&(je&62914560)===je&&300>Yt()-uc?(Ze&2)===0&&Wa(t,0):Jf|=a,Ja===je&&(Ja=0)),Bi(t)}function e_(t,n){n===0&&(n=Ta()),t=qr(t,n),t!==null&&(is(t,n),Bi(t))}function W1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),e_(t,a)}function eb(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),e_(t,a)}function tb(t,n){return yt(t,n)}var pc=null,to=null,rd=!1,yc=!1,ad=!1,rr=0;function Bi(t){t!==to&&t.next===null&&(to===null?pc=to=t:to=to.next=t),yc=!0,rd||(rd=!0,ib())}function Sl(t,n){if(!ad&&yc){ad=!0;do for(var a=!1,o=pc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-Et(42|t)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,s_(o,f))}else f=je,f=qn(o,o===ht?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Cn(o,f)||(a=!0,s_(o,f));o=o.next}while(a);ad=!1}}function nb(){t_()}function t_(){yc=rd=!1;var t=0;rr!==0&&db()&&(t=rr);for(var n=Yt(),a=null,o=pc;o!==null;){var h=o.next,f=n_(o,n);f===0?(o.next=null,a===null?pc=h:a.next=h,h===null&&(to=a)):(a=o,(t!==0||(f&3)!==0)&&(yc=!0)),o=h}qt!==0&&qt!==5||Sl(t),rr!==0&&(rr=0)}function n_(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Et(f),T=1<<p,C=h[p];C===-1?((T&a)===0||(T&o)!==0)&&(h[p]=ko(T,n)):C<=n&&(t.expiredLanes|=T),f&=~T}if(n=ht,a=je,a=qn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(it===2||it===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Si(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Cn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&Si(o),Y(a)){case 2:case 8:a=jn;break;case 32:a=zn;break;case 268435456:a=pa;break;default:a=zn}return o=i_.bind(null,t),a=yt(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&Si(o),t.callbackPriority=2,t.callbackNode=null,2}function i_(t,n){if(qt!==0&&qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(gc()&&t.callbackNode!==a)return null;var o=je;return o=qn(t,t===ht?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Py(t,o,n),n_(t,Yt()),t.callbackNode!=null&&t.callbackNode===a?i_.bind(null,t):null)}function s_(t,n){if(gc())return null;Py(t,n,!0)}function ib(){gb(function(){(Ze&6)!==0?yt(hn,nb):t_()})}function od(){if(rr===0){var t=za;t===0&&(t=Rn,Rn<<=1,(Rn&261888)===0&&(Rn=256)),rr=t}return rr}function r_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:wa(""+t)}function a_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function sb(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=r_((h[Fe]||null).action),p=o.submitter;p&&(n=(n=p[Fe]||null)?r_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new Vi("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(rr!==0){var C=p?a_(h,p):new FormData(h);Rf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=p?a_(h,p):new FormData(h),Rf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var ld=0;ld<Hh.length;ld++){var ud=Hh[ld],rb=ud.toLowerCase(),ab=ud[0].toUpperCase()+ud.slice(1);fi(rb,"on"+ab)}fi(Ug,"onAnimationEnd"),fi(Pg,"onAnimationIteration"),fi(jg,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(b1,"onTransitionRun"),fi(A1,"onTransitionStart"),fi(S1,"onTransitionCancel"),fi(zg,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ob=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function o_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var T=o[p],C=T.instance,j=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=j;try{f(h)}catch(G){Ou(G)}h.currentTarget=null,f=C}else for(p=0;p<o.length;p++){if(T=o[p],C=T.instance,j=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=j;try{f(h)}catch(G){Ou(G)}h.currentTarget=null,f=C}}}}function Pe(t,n){var a=n[We];a===void 0&&(a=n[We]=new Set);var o=t+"__bubble";a.has(o)||(l_(n,t,2,!1),a.add(o))}function cd(t,n,a){var o=0;n&&(o|=4),l_(a,t,o,n)}var _c="_reactListening"+Math.random().toString(36).slice(2);function hd(t){if(!t[_c]){t[_c]=!0,Uo.forEach(function(a){a!=="selectionchange"&&(ob.has(a)||cd(a,!1,t),cd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[_c]||(n[_c]=!0,cd("selectionchange",!1,n))}}function l_(t,n,a,o){switch(U_(n)){case 2:var h=kb;break;case 8:h=Lb;break;default:h=xd}a=h.bind(null,n,a,t),h=void 0,!Vr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function fd(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var T=o.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=o.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=Gn(T),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){o=f=p;continue e}T=T.parentNode}}o=o.return}zs(function(){var j=f,G=Qn(a),X=[];e:{var z=Bg.get(t);if(z!==void 0){var F=Vi,ue=t;switch(t){case"keypress":if(Lr(a)===0)break e;case"keydown":case"keyup":F=Iu;break;case"focusin":ue="focus",F=Pr;break;case"focusout":ue="blur",F=Pr;break;case"beforeblur":case"afterblur":F=Pr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Ug:case Pg:case jg:F=bu;break;case zg:F=A;break;case"scroll":case"scrollend":F=Yo;break;case"wheel":F=q;break;case"copy":case"cut":case"paste":F=Au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=ls;break;case"toggle":case"beforetoggle":F=De}var Te=(n&4)!==0,ct=!Te&&(t==="scroll"||t==="scrollend"),k=Te?z!==null?z+"Capture":null:z;Te=[];for(var O=j,P;O!==null;){var Q=O;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=li(O,k),Q!=null&&Te.push(xl(O,Q,P))),ct)break;O=O.return}0<Te.length&&(z=new F(z,ue,null,a,G),X.push({event:z,listeners:Te}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",z&&a!==$o&&(ue=a.relatedTarget||a.fromElement)&&(Gn(ue)||ue[Qe]))break e;if((F||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,F?(ue=a.relatedTarget||a.toElement,F=j,ue=ue?Gn(ue):null,ue!==null&&(ct=c(ue),Te=ue.tag,ue!==ct||Te!==5&&Te!==27&&Te!==6)&&(ue=null)):(F=null,ue=j),F!==ue)){if(Te=Xo,Q="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Te=ls,Q="onPointerLeave",k="onPointerEnter",O="pointer"),ct=F==null?z:Nn(F),P=ue==null?z:Nn(ue),z=new Te(Q,O+"leave",F,a,G),z.target=ct,z.relatedTarget=P,Q=null,Gn(G)===j&&(Te=new Te(k,O+"enter",ue,a,G),Te.target=P,Te.relatedTarget=ct,Q=Te),ct=Q,F&&ue)t:{for(Te=lb,k=F,O=ue,P=0,Q=k;Q;Q=Te(Q))P++;Q=0;for(var me=O;me;me=Te(me))Q++;for(;0<P-Q;)k=Te(k),P--;for(;0<Q-P;)O=Te(O),Q--;for(;P--;){if(k===O||O!==null&&k===O.alternate){Te=k;break t}k=Te(k),O=Te(O)}Te=null}else Te=null;F!==null&&u_(X,z,F,Te,!1),ue!==null&&ct!==null&&u_(X,ct,ue,Te,!0)}}e:{if(z=j?Nn(j):window,F=z.nodeName&&z.nodeName.toLowerCase(),F==="select"||F==="input"&&z.type==="file")var Ye=xg;else if(Sg(z))if(Rg)Ye=v1;else{Ye=y1;var he=p1}else F=z.nodeName,!F||F.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&Sa(j.elementType)&&(Ye=xg):Ye=_1;if(Ye&&(Ye=Ye(t,j))){wg(X,Ye,a,G);break e}he&&he(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Ho(z,"number",z.value)}switch(he=j?Nn(j):window,t){case"focusin":(Sg(he)||he.contentEditable==="true")&&(Oa=he,zh=j,tl=null);break;case"focusout":tl=zh=Oa=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,kg(X,a,G);break;case"selectionchange":if(T1)break;case"keydown":case"keyup":kg(X,a,G)}var Me;if(Je)e:{switch(t){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Da?jr(t,a)&&(ze="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ze="onCompositionStart");ze&&(Ui&&a.locale!=="ko"&&(Da||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Da&&(Me=Ko()):(Mi=G,Qo="value"in Mi?Mi.value:Mi.textContent,Da=!0)),he=vc(j,ze),0<he.length&&(ze=new Li(ze,t,null,a,G),X.push({event:ze,listeners:he}),Me?ze.data=Me:(Me=Na(a),Me!==null&&(ze.data=Me)))),(Me=Yn?f1(t,a):d1(t,a))&&(ze=vc(j,"onBeforeInput"),0<ze.length&&(he=new Li("onBeforeInput","beforeinput",null,a,G),X.push({event:he,listeners:ze}),he.data=Me)),sb(X,t,j,a,G)}o_(X,n)})}function xl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function vc(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=li(t,a),h!=null&&o.unshift(xl(t,h,f)),h=li(t,n),h!=null&&o.push(xl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function lb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function u_(t,n,a,o,h){for(var f=n._reactName,p=[];a!==null&&a!==o;){var T=a,C=T.alternate,j=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||j===null||(C=j,h?(j=li(a,f),j!=null&&p.unshift(xl(a,j,C))):h||(j=li(a,f),j!=null&&p.push(xl(a,j,C)))),a=a.return}p.length!==0&&t.push({event:n,listeners:p})}var ub=/\r\n?/g,cb=/\u0000|\uFFFD/g;function c_(t){return(typeof t=="string"?t:""+t).replace(ub,`
`).replace(cb,"")}function h_(t,n){return n=c_(n),c_(t)===n}function ut(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||_n(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&_n(t,""+o);break;case"className":Dn(t,"class",o);break;case"tabIndex":Dn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(t,a,o);break;case"style":Go(t,o,f);break;case"data":if(n!=="object"){Dn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=wa(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ut(t,n,"name",h.name,h,null),ut(t,n,"formEncType",h.formEncType,h,null),ut(t,n,"formMethod",h.formMethod,h,null),ut(t,n,"formTarget",h.formTarget,h,null)):(ut(t,n,"encType",h.encType,h,null),ut(t,n,"method",h.method,h,null),ut(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=wa(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=oi);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=wa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),ba(t,"popover",o);break;case"xlinkActuate":Mt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Mt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Mt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Mt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Mt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Mt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Mt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Mt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Mt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ba(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=vu.get(a)||a,ba(t,a,o))}}function dd(t,n,a,o,h,f){switch(a){case"style":Go(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?_n(t,o):(typeof o=="number"||typeof o=="bigint")&&_n(t,""+o);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Po.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Fe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ba(t,a,o)}}}function tn(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ut(t,n,f,p,a,null)}}h&&ut(t,n,"srcSet",a.srcSet,a,null),o&&ut(t,n,"src",a.src,a,null);return;case"input":Pe("invalid",t);var T=f=p=h=null,C=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":p=G;break;case"checked":C=G;break;case"defaultChecked":j=G;break;case"value":f=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:ut(t,n,o,G,a,null)}}pu(t,f,T,C,j,p,h,!1);return;case"select":Pe("invalid",t),o=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":o=T;default:ut(t,n,h,T,a,null)}n=f,a=p,t.multiple=!!o,n!=null?Ls(t,!!o,n,!1):a!=null&&Ls(t,!!o,a,!0);return;case"textarea":Pe("invalid",t),f=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(T=a[p],T!=null))switch(p){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:ut(t,n,p,T,a,null)}Us(t,o,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ut(t,n,C,o,a,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(o=0;o<wl.length;o++)Pe(wl[o],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ut(t,n,j,o,a,null)}return;default:if(Sa(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&dd(t,n,G,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&ut(t,n,T,o,a,null))}function hb(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,C=null,j=null,G=null;for(F in a){var X=a[F];if(a.hasOwnProperty(F)&&X!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(F)||ut(t,n,F,null,o,X)}}for(var z in o){var F=o[z];if(X=a[z],o.hasOwnProperty(z)&&(F!=null||X!=null))switch(z){case"type":f=F;break;case"name":h=F;break;case"checked":j=F;break;case"defaultChecked":G=F;break;case"value":p=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==X&&ut(t,n,z,F,o,X)}}Aa(t,p,T,C,j,G,f,h);return;case"select":F=p=T=z=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":F=C;default:o.hasOwnProperty(f)||ut(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==C&&ut(t,n,h,f,o,C)}n=T,a=p,o=F,z!=null?Ls(t,!!a,z,!1):!!o!=!!a&&(n!=null?Ls(t,!!a,n,!0):Ls(t,!!a,a?[]:"",!1));return;case"textarea":F=z=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ut(t,n,T,null,o,h)}for(p in o)if(h=o[p],f=a[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ut(t,n,p,h,o,f)}yu(t,z,F);return;case"option":for(var ue in a)if(z=a[ue],a.hasOwnProperty(ue)&&z!=null&&!o.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:ut(t,n,ue,null,o,z)}for(C in o)if(z=o[C],F=a[C],o.hasOwnProperty(C)&&z!==F&&(z!=null||F!=null))switch(C){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:ut(t,n,C,z,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)z=a[Te],a.hasOwnProperty(Te)&&z!=null&&!o.hasOwnProperty(Te)&&ut(t,n,Te,null,o,z);for(j in o)if(z=o[j],F=a[j],o.hasOwnProperty(j)&&z!==F&&(z!=null||F!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:ut(t,n,j,z,o,F)}return;default:if(Sa(n)){for(var ct in a)z=a[ct],a.hasOwnProperty(ct)&&z!==void 0&&!o.hasOwnProperty(ct)&&dd(t,n,ct,void 0,o,z);for(G in o)z=o[G],F=a[G],!o.hasOwnProperty(G)||z===F||z===void 0&&F===void 0||dd(t,n,G,z,o,F);return}}for(var k in a)z=a[k],a.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&ut(t,n,k,null,o,z);for(X in o)z=o[X],F=a[X],!o.hasOwnProperty(X)||z===F||z==null&&F==null||ut(t,n,X,z,o,F)}function f_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&f_(p)){for(p=0,T=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],j=C.startTime;if(j>T)break;var G=C.transferSize,X=C.initiatorType;G&&f_(X)&&(C=C.responseEnd,p+=G*(C<T?1:(T-j)/(C-j)))}if(--o,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var md=null,gd=null;function Ec(t){return t.nodeType===9?t:t.ownerDocument}function d_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function m_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function pd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yd=null;function db(){var t=window.event;return t&&t.type==="popstate"?t===yd?!1:(yd=t,!0):(yd=null,!1)}var g_=typeof setTimeout=="function"?setTimeout:void 0,mb=typeof clearTimeout=="function"?clearTimeout:void 0,p_=typeof Promise=="function"?Promise:void 0,gb=typeof queueMicrotask=="function"?queueMicrotask:typeof p_<"u"?function(t){return p_.resolve(null).then(t).catch(pb)}:g_;function pb(t){setTimeout(function(){throw t})}function ar(t){return t==="head"}function y_(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),ro(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Rl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Rl(a);for(var f=a.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[Xt]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&Rl(t.ownerDocument.body);a=h}while(a);ro(n)}function __(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function _d(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_d(a),Ri(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function yb(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Xt])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ni(t.nextSibling),t===null)break}return null}function _b(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ni(t.nextSibling),t===null))return null;return t}function v_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ni(t.nextSibling),t===null))return null;return t}function vd(t){return t.data==="$?"||t.data==="$~"}function Ed(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function vb(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ni(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Td=null;function E_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return ni(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function T_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function b_(t,n,a){switch(n=Ec(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Rl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ri(t)}var ii=new Map,A_=new Set;function Tc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var As=se.d;se.d={f:Eb,r:Tb,D:bb,C:Ab,L:Sb,m:wb,X:Rb,S:xb,M:Cb};function Eb(){var t=As.f(),n=fc();return t||n}function Tb(t){var n=$n(t);n!==null&&n.tag===5&&n.type==="form"?zp(n):As.r(t)}var no=typeof document>"u"?null:document;function S_(t,n,a){var o=no;if(o&&typeof n=="string"&&n){var h=yn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),A_.has(h)||(A_.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),tn(n,"link",t),Ot(n),o.head.appendChild(n)))}}function bb(t){As.D(t),S_("dns-prefetch",t,null)}function Ab(t,n){As.C(t,n),S_("preconnect",t,n)}function Sb(t,n,a){As.L(t,n,a);var o=no;if(o&&t&&n){var h='link[rel="preload"][as="'+yn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+yn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+yn(a.imageSizes)+'"]')):h+='[href="'+yn(t)+'"]';var f=h;switch(n){case"style":f=io(t);break;case"script":f=so(t)}ii.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),ii.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Cl(f))||n==="script"&&o.querySelector(Il(f))||(n=o.createElement("link"),tn(n,"link",t),Ot(n),o.head.appendChild(n)))}}function wb(t,n){As.m(t,n);var a=no;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+yn(o)+'"][href="'+yn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=so(t)}if(!ii.has(f)&&(t=S({rel:"modulepreload",href:t},n),ii.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(f)))return}o=a.createElement("link"),tn(o,"link",t),Ot(o),a.head.appendChild(o)}}}function xb(t,n,a){As.S(t,n,a);var o=no;if(o&&t){var h=Ci(o).hoistableStyles,f=io(t);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=o.querySelector(Cl(f)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=ii.get(f))&&bd(t,a);var C=p=o.createElement("link");Ot(C),tn(C,"link",t),C._p=new Promise(function(j,G){C.onload=j,C.onerror=G}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,bc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function Rb(t,n){As.X(t,n);var a=no;if(a&&t){var o=Ci(a).hoistableScripts,h=so(t),f=o.get(h);f||(f=a.querySelector(Il(h)),f||(t=S({src:t,async:!0},n),(n=ii.get(h))&&Ad(t,n),f=a.createElement("script"),Ot(f),tn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Cb(t,n){As.M(t,n);var a=no;if(a&&t){var o=Ci(a).hoistableScripts,h=so(t),f=o.get(h);f||(f=a.querySelector(Il(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=ii.get(h))&&Ad(t,n),f=a.createElement("script"),Ot(f),tn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function w_(t,n,a,o){var h=(h=Ce.current)?Tc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=io(a.href),a=Ci(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=io(a.href);var f=Ci(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(Cl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),ii.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ii.set(t,a),f||Ib(h,t,a,p.state))),n&&o===null)throw Error(r(528,""));return p}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=so(a),a=Ci(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function io(t){return'href="'+yn(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function x_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function Ib(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),tn(n,"link",a),Ot(n),t.head.appendChild(n))}function so(t){return'[src="'+yn(t)+'"]'}function Il(t){return"script[async]"+t}function R_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+yn(a.href)+'"]');if(o)return n.instance=o,Ot(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ot(o),tn(o,"style",h),bc(o,a.precedence,t),n.instance=o;case"stylesheet":h=io(a.href);var f=t.querySelector(Cl(h));if(f)return n.state.loading|=4,n.instance=f,Ot(f),f;o=x_(a),(h=ii.get(h))&&bd(o,h),f=(t.ownerDocument||t).createElement("link"),Ot(f);var p=f;return p._p=new Promise(function(T,C){p.onload=T,p.onerror=C}),tn(f,"link",o),n.state.loading|=4,bc(f,a.precedence,t),n.instance=f;case"script":return f=so(a.src),(h=t.querySelector(Il(f)))?(n.instance=h,Ot(h),h):(o=a,(h=ii.get(f))&&(o=S({},a),Ad(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ot(h),tn(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,bc(o,a.precedence,t));return n.instance}function bc(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var T=o[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function bd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ad(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ac=null;function C_(t,n,a){if(Ac===null){var o=new Map,h=Ac=new Map;h.set(a,o)}else h=Ac,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Xt]||f[ve]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var T=o.get(p);T?T.push(f):o.set(p,[f])}}return o}function I_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function Nb(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function N_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Db(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=io(o.href),f=n.querySelector(Cl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Sc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Ot(f);return}f=n.ownerDocument||n,o=x_(o),(h=ii.get(h))&&bd(o,h),f=f.createElement("link"),Ot(f);var p=f;p._p=new Promise(function(T,C){p.onload=T,p.onerror=C}),tn(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Sc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Sd=0;function Ob(t,n){return t.stylesheets&&t.count===0&&xc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&xc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Sd===0&&(Sd=62500*fb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&xc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Sd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wc=null;function xc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wc=new Map,n.forEach(Mb,t),wc=null,Sc.call(t))}function Mb(t,n){if(!(n.state.loading&4)){var a=wc.get(t);if(a)var o=a.get(null);else{a=new Map,wc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||o,f===o&&a.set(null,h),a.set(p,h),this.count++,o=Sc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Nl={$$typeof:Ee,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function Vb(t,n,a,o,h,f,p,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hn(0),this.hiddenUpdates=Hn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function D_(t,n,a,o,h,f,p,T,C,j,G,X){return t=new Vb(t,n,a,p,C,j,G,X,T),n=1,f===!0&&(n|=24),f=Mn(3,null,null,n),t.current=f,f.stateNode=t,n=nf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},of(f),t}function O_(t){return t?(t=ka,t):ka}function M_(t,n,a,o,h,f){h=O_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ys(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Xs(t,o,n),a!==null&&(An(a,t,n),ll(a,t,n))}function V_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function wd(t,n){V_(t,n),(t=t.alternate)&&V_(t,n)}function k_(t){if(t.tag===13||t.tag===31){var n=qr(t,67108864);n!==null&&An(n,t,67108864),wd(t,67108864)}}function L_(t){if(t.tag===13||t.tag===31){var n=Pn();n=ss(n);var a=qr(t,n);a!==null&&An(a,t,n),wd(t,n)}}var Rc=!0;function kb(t,n,a,o){var h=B.T;B.T=null;var f=se.p;try{se.p=2,xd(t,n,a,o)}finally{se.p=f,B.T=h}}function Lb(t,n,a,o){var h=B.T;B.T=null;var f=se.p;try{se.p=8,xd(t,n,a,o)}finally{se.p=f,B.T=h}}function xd(t,n,a,o){if(Rc){var h=Rd(o);if(h===null)fd(t,n,o,Cc,a),P_(t,o);else if(Pb(h,t,n,a,o))o.stopPropagation();else if(P_(t,o),n&4&&-1<Ub.indexOf(t)){for(;h!==null;){var f=$n(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Bn(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var C=1<<31-Et(p);T.entanglements[1]|=C,p&=~C}Bi(f),(Ze&6)===0&&(cc=Yt()+500,Sl(0))}}break;case 31:case 13:T=qr(f,2),T!==null&&An(T,f,2),fc(),wd(f,2)}if(f=Rd(o),f===null&&fd(t,n,o,Cc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else fd(t,n,o,null,a)}}function Rd(t){return t=Qn(t),Cd(t)}var Cc=null;function Cd(t){if(Cc=null,t=Gn(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Cc=t,null}function U_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wi()){case hn:return 2;case jn:return 8;case zn:case ga:return 32;case pa:return 268435456;default:return 32}default:return 32}}var Id=!1,or=null,lr=null,ur=null,Dl=new Map,Ol=new Map,cr=[],Ub="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P_(t,n){switch(t){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":Dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(n.pointerId)}}function Ml(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=$n(n),n!==null&&k_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Pb(t,n,a,o,h){switch(n){case"focusin":return or=Ml(or,t,n,a,o,h),!0;case"dragenter":return lr=Ml(lr,t,n,a,o,h),!0;case"mouseover":return ur=Ml(ur,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Dl.set(f,Ml(Dl.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Ol.set(f,Ml(Ol.get(f)||null,t,n,a,o,h)),!0}return!1}function j_(t){var n=Gn(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,we(t.priority,function(){L_(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,we(t.priority,function(){L_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ic(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Rd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);$o=o,a.target.dispatchEvent(o),$o=null}else return n=$n(a),n!==null&&k_(n),t.blockedOn=a,!1;n.shift()}return!0}function z_(t,n,a){Ic(t)&&a.delete(n)}function jb(){Id=!1,or!==null&&Ic(or)&&(or=null),lr!==null&&Ic(lr)&&(lr=null),ur!==null&&Ic(ur)&&(ur=null),Dl.forEach(z_),Ol.forEach(z_)}function Nc(t,n){t.blockedOn===n&&(t.blockedOn=null,Id||(Id=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,jb)))}var Dc=null;function B_(t){Dc!==t&&(Dc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Dc===t&&(Dc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Cd(o||a)===null)continue;break}var f=$n(a);f!==null&&(t.splice(n,3),n-=3,Rf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ro(t){function n(C){return Nc(C,t)}or!==null&&Nc(or,t),lr!==null&&Nc(lr,t),ur!==null&&Nc(ur,t),Dl.forEach(n),Ol.forEach(n);for(var a=0;a<cr.length;a++){var o=cr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<cr.length&&(a=cr[0],a.blockedOn===null);)j_(a),a.blockedOn===null&&cr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],p=h[Fe]||null;if(typeof f=="function")p||B_(a);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Fe]||null)T=p.formAction;else if(Cd(h)!==null)continue}else T=p.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),B_(a)}}}function q_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Nd(t){this._internalRoot=t}Oc.prototype.render=Nd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Pn();M_(a,o,t,n,null,null)},Oc.prototype.unmount=Nd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;M_(t.current,2,null,t,null,null),fc(),n[Qe]=null}};function Oc(t){this._internalRoot=t}Oc.prototype.unstable_scheduleHydration=function(t){if(t){var n=le();t={blockedOn:null,target:t,priority:n};for(var a=0;a<cr.length&&n!==0&&n<cr[a].priority;a++);cr.splice(a,0,t),a===0&&j_(t)}};var H_=e.version;if(H_!=="19.2.0")throw Error(r(527,H_,"19.2.0"));se.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var zb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{xn=Mc.inject(zb),Bt=Mc}catch{}}return kl.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=Xp,f=Jp,p=Zp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=D_(t,1,!1,null,null,a,o,null,h,f,p,q_),t[Qe]=n.current,hd(t),new Nd(n)},kl.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=Xp,p=Jp,T=Zp,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=D_(t,1,!0,n,a??null,o,h,C,f,p,T,q_),n.context=O_(null),a=n.current,o=Pn(),o=ss(o),h=Ys(o),h.callback=null,Xs(a,h,o),a=o,n.current.lanes=a,is(n,a),Bi(n),t[Qe]=n.current,hd(t),new Oc(n)},kl.version="19.2.0",kl}var W_;function Zb(){if(W_)return Md.exports;W_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Md.exports=Jb(),Md.exports}var Wb=Zb();const eA=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tA=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),e0=s=>{const e=tA(s);return e.charAt(0).toUpperCase()+e.slice(1)},Pv=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),nA=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var iA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sA=xe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...g},y)=>xe.createElement("svg",{ref:y,...iA,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:Pv("lucide",l),...!c&&!nA(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,E])=>xe.createElement(_,E)),...Array.isArray(c)?c:[c]]));const rt=(s,e)=>{const i=xe.forwardRef(({className:r,...l},c)=>xe.createElement(sA,{ref:c,iconNode:e,className:Pv(`lucide-${eA(e0(s))}`,`lucide-${s}`,r),...l}));return i.displayName=e0(s),i};const rA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Vc=rt("arrow-right",rA);const aA=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],oA=rt("book-open",aA);const lA=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],uA=rt("book",lA);const cA=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Ud=rt("brain",cA);const hA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],fA=rt("calendar",hA);const dA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],mA=rt("chevron-right",dA);const gA=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],pA=rt("chevron-up",gA);const yA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Pd=rt("circle-check-big",yA);const _A=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],vA=rt("circle-x",_A);const EA=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]],TA=rt("git-compare",EA);const bA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],t0=rt("history",bA);const AA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],SA=rt("info",AA);const wA=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],xA=rt("key-round",wA);const RA=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],n0=rt("lightbulb",RA);const CA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],IA=rt("loader-circle",CA);const NA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],DA=rt("lock",NA);const OA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],MA=rt("log-out",OA);const VA=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],i0=rt("mail",VA);const kA=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],kc=rt("moon",kA);const LA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],UA=rt("refresh-cw",LA);const PA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],jA=rt("rotate-ccw",PA);const zA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],s0=rt("search",zA);const BA=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],qA=rt("send",BA);const HA=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],r0=rt("skip-forward",HA);const FA=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],jd=rt("sparkles",FA);const GA=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Lc=rt("sun",GA);const $A=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],QA=rt("triangle-alert",$A);const KA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],YA=rt("user",KA);const XA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zd=rt("x",XA),JA=()=>{};var a0={};const jv=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},ZA=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,E=c>>2,S=(c&3)<<4|g>>4;let M=(g&15)<<2|_>>6,$=_&63;y||($=64,d||(M=64)),r.push(i[E],i[S],i[M],i[$])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(jv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):ZA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||_==null||S==null)throw new WA;const M=c<<2|g>>4;if(r.push(M),_!==64){const $=g<<4&240|_>>2;if(r.push($),S!==64){const Z=_<<6&192|S;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class WA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eS=function(s){const e=jv(s);return zv.encodeByteArray(e,!0)},eh=function(s){return eS(s).replace(/\./g,"")},Bv=function(s){try{return zv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const nS=()=>tS().__FIREBASE_DEFAULTS__,iS=()=>{if(typeof process>"u"||typeof a0>"u")return;const s=a0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},sS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Bv(s[1]);return e&&JSON.parse(e)},Eh=()=>{try{return JA()||nS()||iS()||sS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},qv=s=>Eh()?.emulatorHosts?.[s],rS=s=>{const e=qv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Hv=()=>Eh()?.config,Fv=s=>Eh()?.[`_${s}`];class aS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function xo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Gv(s){return(await fetch(s,{credentials:"include"})).ok}function oS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[eh(JSON.stringify(i)),eh(JSON.stringify(d)),""].join(".")}const ql={};function lS(){const s={prod:[],emulator:[]};for(const e of Object.keys(ql))ql[e]?s.emulator.push(e):s.prod.push(e);return s}function uS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let o0=!1;function $v(s,e){if(typeof window>"u"||typeof document>"u"||!xo(window.location.host)||ql[s]===e||ql[s]||o0)return;ql[s]=e;function i(M){return`__firebase__banner__${M}`}const r="__firebase__banner",c=lS().prod.length>0;function d(){const M=document.getElementById(r);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,$){M.setAttribute("width","24"),M.setAttribute("id",$),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{o0=!0,d()},M}function E(M,$){M.setAttribute("id",$),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=uS(r),$=i("text"),Z=document.getElementById($)||document.createElement("span"),te=i("learnmore"),ee=document.getElementById(te)||document.createElement("a"),fe=i("preprendIcon"),be=document.getElementById(fe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const Ee=M.element;g(Ee),E(ee,te);const Ke=_();y(be,fe),Ee.append(be,Z,ee,Ke),document.body.appendChild(Ee)}c?(Z.innerText="Preview backend disconnected.",be.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(be.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",$)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function hS(){const s=Eh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function mS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gS(){const s=cn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function pS(){return!hS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yS(){try{return typeof indexedDB=="object"}catch{return!1}}function _S(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const vS="FirebaseError";class Ds extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=vS,Object.setPrototypeOf(this,Ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ru.prototype.create)}}class ru{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?ES(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Ds(l,g,r)}}function ES(s,e){return s.replace(TS,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const TS=/\{\$([^}]+)}/g;function bS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function aa(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=e[l];if(l0(c)&&l0(d)){if(!aa(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function l0(s){return s!==null&&typeof s=="object"}function au(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ll(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Ul(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function AS(s,e){const i=new SS(s,e);return i.subscribe.bind(i)}class SS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");wS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=Bd),l.error===void 0&&(l.error=Bd),l.complete===void 0&&(l.complete=Bd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Bd(){}function Kt(s){return s&&s._delegate?s._delegate:s}class oa{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ta="[DEFAULT]";class xS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new aS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CS(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RS(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RS(s){return s===ta?void 0:s}function CS(s){return s.instantiationMode==="EAGER"}class IS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new xS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Be;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Be||(Be={}));const NS={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},DS=Be.INFO,OS={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},MS=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=OS[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rm{constructor(e){this.name=e,this._logLevel=DS,this._logHandler=MS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const VS=(s,e)=>e.some(i=>s instanceof i);let u0,c0;function kS(){return u0||(u0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LS(){return c0||(c0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qv=new WeakMap,nm=new WeakMap,Kv=new WeakMap,qd=new WeakMap,Cm=new WeakMap;function US(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(yr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Qv.set(i,s)}).catch(()=>{}),Cm.set(e,s),e}function PS(s){if(nm.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});nm.set(s,e)}let im={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return nm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Kv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return yr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function jS(s){im=s(im)}function zS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Hd(this),e,...i);return Kv.set(r,e.sort?e.sort():[e]),yr(r)}:LS().includes(s)?function(...e){return s.apply(Hd(this),e),yr(Qv.get(this))}:function(...e){return yr(s.apply(Hd(this),e))}}function BS(s){return typeof s=="function"?zS(s):(s instanceof IDBTransaction&&PS(s),VS(s,kS())?new Proxy(s,im):s)}function yr(s){if(s instanceof IDBRequest)return US(s);if(qd.has(s))return qd.get(s);const e=BS(s);return e!==s&&(qd.set(s,e),Cm.set(e,s)),e}const Hd=s=>Cm.get(s);function qS(s,e,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),g=yr(d);return r&&d.addEventListener("upgradeneeded",y=>{r(yr(d.result),y.oldVersion,y.newVersion,yr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const HS=["get","getKey","getAll","getAllKeys","count"],FS=["put","add","delete","clear"],Fd=new Map;function h0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Fd.get(e))return Fd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=FS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||HS.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&y.done]))[0]};return Fd.set(e,c),c}jS(s=>({...s,get:(e,i,r)=>h0(e,i)||s.get(e,i,r),has:(e,i)=>!!h0(e,i)||s.has(e,i)}));class GS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if($S(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function $S(s){return s.getComponent()?.type==="VERSION"}const sm="@firebase/app",f0="0.14.6";const Rs=new Rm("@firebase/app"),QS="@firebase/app-compat",KS="@firebase/analytics-compat",YS="@firebase/analytics",XS="@firebase/app-check-compat",JS="@firebase/app-check",ZS="@firebase/auth",WS="@firebase/auth-compat",ew="@firebase/database",tw="@firebase/data-connect",nw="@firebase/database-compat",iw="@firebase/functions",sw="@firebase/functions-compat",rw="@firebase/installations",aw="@firebase/installations-compat",ow="@firebase/messaging",lw="@firebase/messaging-compat",uw="@firebase/performance",cw="@firebase/performance-compat",hw="@firebase/remote-config",fw="@firebase/remote-config-compat",dw="@firebase/storage",mw="@firebase/storage-compat",gw="@firebase/firestore",pw="@firebase/ai",yw="@firebase/firestore-compat",_w="firebase",vw="12.6.0";const rm="[DEFAULT]",Ew={[sm]:"fire-core",[QS]:"fire-core-compat",[YS]:"fire-analytics",[KS]:"fire-analytics-compat",[JS]:"fire-app-check",[XS]:"fire-app-check-compat",[ZS]:"fire-auth",[WS]:"fire-auth-compat",[ew]:"fire-rtdb",[tw]:"fire-data-connect",[nw]:"fire-rtdb-compat",[iw]:"fire-fn",[sw]:"fire-fn-compat",[rw]:"fire-iid",[aw]:"fire-iid-compat",[ow]:"fire-fcm",[lw]:"fire-fcm-compat",[uw]:"fire-perf",[cw]:"fire-perf-compat",[hw]:"fire-rc",[fw]:"fire-rc-compat",[dw]:"fire-gcs",[mw]:"fire-gcs-compat",[gw]:"fire-fst",[yw]:"fire-fst-compat",[pw]:"fire-vertex","fire-js":"fire-js",[_w]:"fire-js-all"};const th=new Map,Tw=new Map,am=new Map;function d0(s,e){try{s.container.addComponent(e)}catch(i){Rs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function _o(s){const e=s.name;if(am.has(e))return Rs.debug(`There were multiple attempts to register component ${e}.`),!1;am.set(e,s);for(const i of th.values())d0(i,s);for(const i of Tw.values())d0(i,s);return!0}function Im(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function mn(s){return s==null?!1:s.settings!==void 0}const bw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_r=new ru("app","Firebase",bw);class Aw{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}const Ro=vw;function Yv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:rm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw _r.create("bad-app-name",{appName:String(l)});if(i||(i=Hv()),!i)throw _r.create("no-options");const c=th.get(l);if(c){if(aa(i,c.options)&&aa(r,c.config))return c;throw _r.create("duplicate-app",{appName:l})}const d=new IS(l);for(const y of am.values())d.addComponent(y);const g=new Aw(i,r,d);return th.set(l,g),g}function Xv(s=rm){const e=th.get(s);if(!e&&s===rm&&Hv())return Yv();if(!e)throw _r.create("no-app",{appName:s});return e}function vr(s,e,i){let r=Ew[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rs.warn(d.join(" "));return}_o(new oa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Sw="firebase-heartbeat-database",ww=1,Kl="firebase-heartbeat-store";let Gd=null;function Jv(){return Gd||(Gd=qS(Sw,ww,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Kl)}catch(i){console.warn(i)}}}}).catch(s=>{throw _r.create("idb-open",{originalErrorMessage:s.message})})),Gd}async function xw(s){try{const i=(await Jv()).transaction(Kl),r=await i.objectStore(Kl).get(Zv(s));return await i.done,r}catch(e){if(e instanceof Ds)Rs.warn(e.message);else{const i=_r.create("idb-get",{originalErrorMessage:e?.message});Rs.warn(i.message)}}}async function m0(s,e){try{const r=(await Jv()).transaction(Kl,"readwrite");await r.objectStore(Kl).put(e,Zv(s)),await r.done}catch(i){if(i instanceof Ds)Rs.warn(i.message);else{const r=_r.create("idb-set",{originalErrorMessage:i?.message});Rs.warn(r.message)}}}function Zv(s){return`${s.name}!${s.options.appId}`}const Rw=1024,Cw=30;class Iw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Dw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=g0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>Cw){const l=Ow(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Rs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=g0(),{heartbeatsToSend:i,unsentEntries:r}=Nw(this._heartbeatsCache.heartbeats),l=eh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Rs.warn(e),""}}}function g0(){return new Date().toISOString().substring(0,10)}function Nw(s,e=Rw){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),p0(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),p0(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Dw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yS()?_S().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await xw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return m0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return m0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function p0(s){return eh(JSON.stringify({version:2,heartbeats:s})).length}function Ow(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function Mw(s){_o(new oa("platform-logger",e=>new GS(e),"PRIVATE")),_o(new oa("heartbeat",e=>new Iw(e),"PRIVATE")),vr(sm,f0,s),vr(sm,f0,"esm2020"),vr("fire-js","")}Mw("");var Vw="firebase",kw="12.6.0";vr(Vw,kw,"app");function Wv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Lw=Wv,eE=new ru("auth","Firebase",Wv());const nh=new Rm("@firebase/auth");function Uw(s,...e){nh.logLevel<=Be.WARN&&nh.warn(`Auth (${Ro}): ${s}`,...e)}function Fc(s,...e){nh.logLevel<=Be.ERROR&&nh.error(`Auth (${Ro}): ${s}`,...e)}function ai(s,...e){throw Dm(s,...e)}function yi(s,...e){return Dm(s,...e)}function Nm(s,e,i){const r={...Lw(),[e]:i};return new ru("auth","Firebase",r).create(e,{appName:s.name})}function _i(s){return Nm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pw(s,e,i){const r=i;if(!(e instanceof r))throw r.name!==e.constructor.name&&ai(s,"argument-error"),Nm(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dm(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return eE.create(s,...e)}function Ae(s,e,...i){if(!s)throw Dm(e,...i)}function ws(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Fc(e),new Error(e)}function Cs(s,e){s||ws(e)}function om(){return typeof self<"u"&&self.location?.href||""}function jw(){return y0()==="http:"||y0()==="https:"}function y0(){return typeof self<"u"&&self.location?.protocol||null}function zw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jw()||dS()||"connection"in navigator)?navigator.onLine:!0}function Bw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class ou{constructor(e,i){this.shortDelay=e,this.longDelay=i,Cs(i>e,"Short delay should be less than long delay!"),this.isMobile=cS()||mS()}get(){return zw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Om(s,e){Cs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class tE{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Hw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Fw=new ou(3e4,6e4);function Zi(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Wi(s,e,i,r,l={}){return nE(s,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const g=au({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:y,...c};return fS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&xo(s.emulatorConfig.host)&&(_.credentials="include"),tE.fetch()(await iE(s,s.config.apiHost,i,g),_)})}async function nE(s,e,i){s._canInitEmulator=!1;const r={...qw,...e};try{const l=new $w(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Uc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Uc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Uc(s,"user-disabled",d);const E=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Nm(s,E,_);ai(s,E)}}catch(l){if(l instanceof Ds)throw l;ai(s,"network-request-failed",{message:String(l)})}}async function Co(s,e,i,r,l={}){const c=await Wi(s,e,i,r,l);return"mfaPendingCredential"in c&&ai(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function iE(s,e,i,r){const l=`${e}${i}?${r}`,c=s,d=c.config.emulator?Om(s.config,l):`${s.config.apiScheme}://${l}`;return Hw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function Gw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $w{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(yi(this.auth,"network-request-failed")),Fw.get())})}}function Uc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=yi(s,e,r);return l.customData._tokenResponse=i,l}function _0(s){return s!==void 0&&s.enterprise!==void 0}class Qw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return Gw(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Kw(s,e){return Wi(s,"GET","/v2/recaptchaConfig",Zi(s,e))}async function Yw(s,e){return Wi(s,"POST","/v1/accounts:delete",e)}async function ih(s,e){return Wi(s,"POST","/v1/accounts:lookup",e)}function Hl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Xw(s,e=!1){const i=Kt(s),r=await i.getIdToken(e),l=Mm(r);Ae(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Hl($d(l.auth_time)),issuedAtTime:Hl($d(l.iat)),expirationTime:Hl($d(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function $d(s){return Number(s)*1e3}function Mm(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Fc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Bv(i);return l?JSON.parse(l):(Fc("Failed to decode base64 JWT payload"),null)}catch(l){return Fc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function v0(s){const e=Mm(s);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function vo(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof Ds&&Jw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Jw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Zw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class lm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hl(this.lastLoginAt),this.creationTime=Hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sh(s){const e=s.auth,i=await s.getIdToken(),r=await vo(s,ih(e,{idToken:i}));Ae(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?sE(l.providerUserInfo):[],d=ex(s.providerData,c),g=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,_=g?y:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new lm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,E)}async function Ww(s){const e=Kt(s);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ex(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function sE(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function tx(s,e){const i=await nE(s,{},async()=>{const r=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await iE(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:r};return s.emulatorConfig&&xo(s.emulatorConfig.host)&&(y.credentials="include"),tE.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function nx(s,e){return Wi(s,"POST","/v2/accounts:revokeToken",Zi(s,e))}class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):v0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const i=v0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await tx(e,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new ho;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(Ae(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Ae(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return ws("not implemented")}}function fr(s,e){Ae(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class gi{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new Zw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new lm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await vo(this,this.stsTokenManager.getToken(this.auth,e));return Ae(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Xw(this,e)}reload(){return Ww(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mn(this.auth.app))return Promise.reject(_i(this.auth));const e=await this.getIdToken();return await vo(this,Yw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:$,providerData:Z,stsTokenManager:te}=i;Ae(S&&te,e,"internal-error");const ee=ho.fromJSON(this.name,te);Ae(typeof S=="string",e,"internal-error"),fr(r,e.name),fr(l,e.name),Ae(typeof M=="boolean",e,"internal-error"),Ae(typeof $=="boolean",e,"internal-error"),fr(c,e.name),fr(d,e.name),fr(g,e.name),fr(y,e.name),fr(_,e.name),fr(E,e.name);const fe=new gi({uid:S,auth:e,email:l,emailVerified:M,displayName:r,isAnonymous:$,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:ee,createdAt:_,lastLoginAt:E});return Z&&Array.isArray(Z)&&(fe.providerData=Z.map(be=>({...be}))),y&&(fe._redirectEventId=y),fe}static async _fromIdTokenResponse(e,i,r=!1){const l=new ho;l.updateFromServerResponse(i);const c=new gi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await sh(c),c}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];Ae(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?sE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new ho;g.updateFromIdToken(r);const y=new gi({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new lm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const E0=new Map;function xs(s){Cs(s instanceof Function,"Expected a class definition");let e=E0.get(s);return e?(Cs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,E0.set(s,e),e)}class rE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}rE.type="NONE";const T0=rE;function Gc(s,e,i){return`firebase:${s}:${e}:${i}`}class fo{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Gc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Gc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await ih(this.auth,{idToken:e}).catch(()=>{});return i?gi._fromGetAccountInfoResponse(this.auth,i,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new fo(xs(T0),e,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||xs(T0);const d=Gc(r,e.config.apiKey,e.name);let g=null;for(const _ of i)try{const E=await _._get(d);if(E){let S;if(typeof E=="string"){const M=await ih(e,{idToken:E}).catch(()=>{});if(!M)break;S=await gi._fromGetAccountInfoResponse(e,M,E)}else S=gi._fromJSON(e,E);_!==c&&(g=S),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new fo(c,e,r):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new fo(c,e,r))}}function b0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hE(e))return"Blackberry";if(fE(e))return"Webos";if(oE(e))return"Safari";if((e.includes("chrome/")||lE(e))&&!e.includes("edge/"))return"Chrome";if(cE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function aE(s=cn()){return/firefox\//i.test(s)}function oE(s=cn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lE(s=cn()){return/crios\//i.test(s)}function uE(s=cn()){return/iemobile/i.test(s)}function cE(s=cn()){return/android/i.test(s)}function hE(s=cn()){return/blackberry/i.test(s)}function fE(s=cn()){return/webos/i.test(s)}function Vm(s=cn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function ix(s=cn()){return Vm(s)&&!!window.navigator?.standalone}function sx(){return gS()&&document.documentMode===10}function dE(s=cn()){return Vm(s)||cE(s)||fE(s)||hE(s)||/windows phone/i.test(s)||uE(s)}function mE(s,e=[]){let i;switch(s){case"Browser":i=b0(cn());break;case"Worker":i=`${b0(cn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ro}/${r}`}class rx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,g)=>{try{const y=e(c);d(y)}catch(y){g(y)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function ax(s,e={}){return Wi(s,"GET","/v2/passwordPolicy",Zi(s,e))}const ox=6;class lx{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??ox,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class ux{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new A0(this),this.idTokenSubscription=new A0(this),this.beforeStateQueue=new rx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=xs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await ih(this,{idToken:e}),r=await gi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(mn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Bw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mn(this.app))return Promise.reject(_i(this));const i=e?Kt(e):null;return i&&Ae(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mn(this.app)?Promise.reject(_i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mn(this.app)?Promise.reject(_i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ax(this),i=new lx(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ru("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await nx(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&xs(e)||this._popupRedirectResolver;Ae(i,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[xs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,r,l);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Uw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ei(s){return Kt(s)}class A0{constructor(e){this.auth=e,this.observer=null,this.addObserver=AS(i=>this.observer=i)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Th={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cx(s){Th=s}function gE(s){return Th.loadJS(s)}function hx(){return Th.recaptchaEnterpriseScript}function fx(){return Th.gapiScript}function dx(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class mx{constructor(){this.enterprise=new gx}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class gx{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const px="recaptcha-enterprise",pE="NO_RECAPTCHA";class yx{constructor(e){this.type=px,this.auth=Ei(e)}async verify(e="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{Kw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new Qw(y);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(y=>{g(y)})})}function l(c,d,g){const y=window.grecaptcha;_0(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:e}).then(_=>{d(_)}).catch(()=>{d(pE)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mx().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(g=>{if(!i&&_0(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=hx();y.length!==0&&(y+=g),gE(y).then(()=>{l(g,c,d)}).catch(_=>{d(_)})}}).catch(g=>{d(g)})})}}async function S0(s,e,i,r=!1,l=!1){const c=new yx(s);let d;if(l)d=pE;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const g={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function rh(s,e,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await S0(s,e,i,i==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await S0(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function _x(s,e){const i=Im(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(aa(c,e??{}))return l;ai(l,"already-initialized")}return i.initialize({options:e})}function vx(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(xs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function Ex(s,e,i){const r=Ei(s);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=yE(e),{host:d,port:g}=Tx(e),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},E=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(aa(_,r.config.emulator)&&aa(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,xo(d)?(Gv(`${c}//${d}${y}`),$v("Auth",!0)):bx()}function yE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function Tx(s){const e=yE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:w0(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:w0(d)}}}function w0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function bx(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class km{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ws("not implemented")}_getIdTokenResponse(e){return ws("not implemented")}_linkToIdToken(e,i){return ws("not implemented")}_getReauthenticationResolver(e){return ws("not implemented")}}async function Ax(s,e){return Wi(s,"POST","/v1/accounts:signUp",e)}async function Sx(s,e){return Co(s,"POST","/v1/accounts:signInWithPassword",Zi(s,e))}async function _E(s,e){return Wi(s,"POST","/v1/accounts:sendOobCode",Zi(s,e))}async function wx(s,e){return _E(s,e)}async function xx(s,e){return _E(s,e)}async function Rx(s,e){return Co(s,"POST","/v1/accounts:signInWithEmailLink",Zi(s,e))}async function Cx(s,e){return Co(s,"POST","/v1/accounts:signInWithEmailLink",Zi(s,e))}class Yl extends km{constructor(e,i,r,l=null){super("password",r),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new Yl(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new Yl(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rh(e,i,"signInWithPassword",Sx);case"emailLink":return Rx(e,{email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rh(e,r,"signUpPassword",Ax);case"emailLink":return Cx(e,{idToken:i,email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function mo(s,e){return Co(s,"POST","/v1/accounts:signInWithIdp",Zi(s,e))}const Ix="http://localhost";class la extends km{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new la(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ai("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new la(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return mo(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,mo(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,mo(e,i)}buildRequest(){const e={requestUri:Ix,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=au(i)}return e}}function Nx(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Dx(s){const e=Ll(Ul(s)).link,i=e?Ll(Ul(e)).deep_link_id:null,r=Ll(Ul(s)).deep_link_id;return(r?Ll(Ul(r)).link:null)||r||i||e||s}class Lm{constructor(e){const i=Ll(Ul(e)),r=i.apiKey??null,l=i.oobCode??null,c=Nx(i.mode??null);Ae(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=Dx(e);try{return new Lm(i)}catch{return null}}}class Io{constructor(){this.providerId=Io.PROVIDER_ID}static credential(e,i){return Yl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Lm.parseLink(i);return Ae(r,"argument-error"),Yl._fromEmailAndCode(e,r.code,r.tenantId)}}Io.PROVIDER_ID="password";Io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Um{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lu extends Um{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class dr extends lu{constructor(){super("facebook.com")}static credential(e){return la._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dr.credential(e.oauthAccessToken)}catch{return null}}}dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";dr.PROVIDER_ID="facebook.com";class Ss extends lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return la._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Ss.credential(i,r)}catch{return null}}}Ss.GOOGLE_SIGN_IN_METHOD="google.com";Ss.PROVIDER_ID="google.com";class mr extends lu{constructor(){super("github.com")}static credential(e){return la._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mr.credential(e.oauthAccessToken)}catch{return null}}}mr.GITHUB_SIGN_IN_METHOD="github.com";mr.PROVIDER_ID="github.com";class gr extends lu{constructor(){super("twitter.com")}static credential(e,i){return la._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return gr.credential(i,r)}catch{return null}}}gr.TWITTER_SIGN_IN_METHOD="twitter.com";gr.PROVIDER_ID="twitter.com";async function vE(s,e){return Co(s,"POST","/v1/accounts:signUp",Zi(s,e))}class Xi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const c=await gi._fromIdTokenResponse(e,r,l),d=x0(r);return new Xi({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=x0(r);return new Xi({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function x0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function Ox(s){if(mn(s.app))return Promise.reject(_i(s));const e=Ei(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Xi({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await vE(e,{returnSecureToken:!0}),r=await Xi._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(r.user),r}class ah extends Ds{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,ah.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new ah(e,i,r,l)}}function EE(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ah._fromErrorAndOperation(s,c,e,r):c})}async function Mx(s,e,i=!1){const r=await vo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Xi._forOperation(s,"link",r)}async function Vx(s,e,i=!1){const{auth:r}=s;if(mn(r.app))return Promise.reject(_i(r));const l="reauthenticate";try{const c=await vo(s,EE(r,l,e,s),i);Ae(c.idToken,r,"internal-error");const d=Mm(c.idToken);Ae(d,r,"internal-error");const{sub:g}=d;return Ae(s.uid===g,r,"user-mismatch"),Xi._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ai(r,"user-mismatch"),c}}async function TE(s,e,i=!1){if(mn(s.app))return Promise.reject(_i(s));const r="signIn",l=await EE(s,r,e),c=await Xi._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}async function kx(s,e){return TE(Ei(s),e)}async function Lx(s,e){return Co(s,"POST","/v1/accounts:signInWithCustomToken",Zi(s,e))}async function Ux(s,e){if(mn(s.app))return Promise.reject(_i(s));const i=Ei(s),r=await Lx(i,{token:e,returnSecureToken:!0}),l=await Xi._fromIdTokenResponse(i,"signIn",r);return await i._updateCurrentUser(l.user),l}async function bE(s){const e=Ei(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Px(s,e,i){const r=Ei(s);await rh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",xx)}async function jx(s,e,i){if(mn(s.app))return Promise.reject(_i(s));const r=Ei(s),d=await rh(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vE).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&bE(s),y}),g=await Xi._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(g.user),g}function zx(s,e,i){return mn(s.app)?Promise.reject(_i(s)):kx(Kt(s),Io.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&bE(s),r})}async function Bx(s,e){const i=Kt(s),l={requestType:"VERIFY_EMAIL",idToken:await s.getIdToken()},{email:c}=await wx(i.auth,l);c!==s.email&&await s.reload()}async function qx(s,e){return Wi(s,"POST","/v1/accounts:update",e)}async function Hx(s,{displayName:e,photoURL:i}){if(e===void 0&&i===void 0)return;const r=Kt(s),c={idToken:await r.getIdToken(),displayName:e,photoUrl:i,returnSecureToken:!0},d=await vo(r,qx(r.auth,c));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const g=r.providerData.find(({providerId:y})=>y==="password");g&&(g.displayName=r.displayName,g.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function Fx(s,e,i,r){return Kt(s).onIdTokenChanged(e,i,r)}function Gx(s,e,i){return Kt(s).beforeAuthStateChanged(e,i)}function $x(s,e,i,r){return Kt(s).onAuthStateChanged(e,i,r)}function Qd(s){return Kt(s).signOut()}const oh="__sak";class AE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Qx=1e3,Kx=10;class SE extends AE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);sx()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,Kx):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},Qx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}SE.type="LOCAL";const Yx=SE;class wE extends AE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}wE.type="SESSION";const xE=wE;function Xx(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new bh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,c)),y=await Xx(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bh.receivers=[];function Pm(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class Jx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=Pm("",20);l.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const M=S;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(E),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Fi(){return window}function Zx(s){Fi().location.href=s}function RE(){return typeof Fi().WorkerGlobalScope<"u"&&typeof Fi().importScripts=="function"}async function Wx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function e2(){return navigator?.serviceWorker?.controller||null}function t2(){return RE()?self:null}const CE="firebaseLocalStorageDb",n2=1,lh="firebaseLocalStorage",IE="fbase_key";class uu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ah(s,e){return s.transaction([lh],e?"readwrite":"readonly").objectStore(lh)}function i2(){const s=indexedDB.deleteDatabase(CE);return new uu(s).toPromise()}function um(){const s=indexedDB.open(CE,n2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(lh,{keyPath:IE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(lh)?e(r):(r.close(),await i2(),e(await um()))})})}async function R0(s,e,i){const r=Ah(s,!0).put({[IE]:e,value:i});return new uu(r).toPromise()}async function s2(s,e){const i=Ah(s,!1).get(e),r=await new uu(i).toPromise();return r===void 0?null:r.value}function C0(s,e){const i=Ah(s,!0).delete(e);return new uu(i).toPromise()}const r2=800,a2=3;class NE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await um(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>a2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bh._getInstance(t2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Wx(),!this.activeServiceWorker)return;this.sender=new Jx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||e2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await um();return await R0(e,oh,"1"),await C0(e,oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>R0(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>s2(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>C0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Ah(l,!1).getAll();return new uu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),r2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NE.type="LOCAL";const o2=NE;new ou(3e4,6e4);function DE(s,e){return e?xs(e):(Ae(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class jm extends km{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return mo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function l2(s){return TE(s.auth,new jm(s),s.bypassAuthState)}function u2(s){const{auth:e,user:i}=s;return Ae(i,e,"internal-error"),Vx(i,new jm(s),s.bypassAuthState)}async function c2(s){const{auth:e,user:i}=s;return Ae(i,e,"internal-error"),Mx(i,new jm(s),s.bypassAuthState)}class OE{constructor(e,i,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return l2;case"linkViaPopup":case"linkViaRedirect":return c2;case"reauthViaPopup":case"reauthViaRedirect":return u2;default:ai(this.auth,"internal-error")}}resolve(e){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const h2=new ou(2e3,1e4);async function f2(s,e,i){if(mn(s.app))return Promise.reject(yi(s,"operation-not-supported-in-this-environment"));const r=Ei(s);Pw(s,e,Um);const l=DE(r,i);return new na(r,"signInViaPopup",e,l).executeNotNull()}class na extends OE{constructor(e,i,r,l,c){super(e,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,na.currentPopupAction&&na.currentPopupAction.cancel(),na.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Cs(this.filter.length===1,"Popup operations only handle one event");const e=Pm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,na.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,h2.get())};e()}}na.currentPopupAction=null;const d2="pendingRedirect",$c=new Map;class m2 extends OE{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=$c.get(this.auth._key());if(!e){try{const r=await g2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}$c.set(this.auth._key(),e)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function g2(s,e){const i=_2(e),r=y2(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function p2(s,e){$c.set(s._key(),e)}function y2(s){return xs(s._redirectPersistence)}function _2(s){return Gc(d2,s.config.apiKey,s.name)}async function v2(s,e,i=!1){if(mn(s.app))return Promise.reject(_i(s));const r=Ei(s),l=DE(r,e),d=await new m2(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const E2=600*1e3;class T2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!b2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!ME(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(yi(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=E2&&this.cachedEventUids.clear(),this.cachedEventUids.has(I0(e))}saveEventToCache(e){this.cachedEventUids.add(I0(e)),this.lastProcessedEventTime=Date.now()}}function I0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function ME({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function b2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ME(s);default:return!1}}async function A2(s,e={}){return Wi(s,"GET","/v1/projects",e)}const S2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,w2=/^https?/;async function x2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await A2(s);for(const i of e)try{if(R2(i))return}catch{}ai(s,"unauthorized-domain")}function R2(s){const e=om(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!w2.test(i))return!1;if(S2.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const C2=new ou(3e4,6e4);function N0(){const s=Fi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function I2(s){return new Promise((e,i)=>{function r(){N0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{N0(),i(yi(s,"network-request-failed"))},timeout:C2.get()})}if(Fi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fi().gapi?.load)r();else{const l=dx("iframefcb");return Fi()[l]=()=>{gapi.load?r():i(yi(s,"network-request-failed"))},gE(`${fx()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Qc=null,e})}let Qc=null;function N2(s){return Qc=Qc||I2(s),Qc}const D2=new ou(5e3,15e3),O2="__/auth/iframe",M2="emulator/auth/iframe",V2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},k2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function L2(s){const e=s.config;Ae(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Om(e,M2):`https://${s.config.authDomain}/${O2}`,r={apiKey:e.apiKey,appName:s.name,v:Ro},l=k2.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${au(r).slice(1)}`}async function U2(s){const e=await N2(s),i=Fi().gapi;return Ae(i,s,"internal-error"),e.open({where:document.body,url:L2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:V2,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=yi(s,"network-request-failed"),g=Fi().setTimeout(()=>{c(d)},D2.get());function y(){Fi().clearTimeout(g),l(r)}r.ping(y).then(y,()=>{c(d)})}))}const P2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},j2=500,z2=600,B2="_blank",q2="http://localhost";class D0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function H2(s,e,i,r=j2,l=z2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const y={...P2,width:r.toString(),height:l.toString(),top:c,left:d},_=cn().toLowerCase();i&&(g=lE(_)?B2:i),aE(_)&&(e=e||q2,y.scrollbars="yes");const E=Object.entries(y).reduce((M,[$,Z])=>`${M}${$}=${Z},`,"");if(ix(_)&&g!=="_self")return F2(e||"",g),new D0(null);const S=window.open(e||"",g,E);Ae(S,s,"popup-blocked");try{S.focus()}catch{}return new D0(S)}function F2(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const G2="__/auth/handler",$2="emulator/auth/handler",Q2=encodeURIComponent("fac");async function O0(s,e,i,r,l,c){Ae(s.config.authDomain,s,"auth-domain-config-required"),Ae(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Ro,eventId:l};if(e instanceof Um){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",bS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))d[E]=S}if(e instanceof lu){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const y=await s._getAppCheckToken(),_=y?`#${Q2}=${encodeURIComponent(y)}`:"";return`${K2(s)}?${au(g).slice(1)}${_}`}function K2({config:s}){return s.emulator?Om(s,$2):`https://${s.authDomain}/${G2}`}const Kd="webStorageSupport";class Y2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xE,this._completeRedirectFn=v2,this._overrideRedirectResult=p2}async _openPopup(e,i,r,l){Cs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await O0(e,i,r,om(),l);return H2(e,c,Pm())}async _openRedirect(e,i,r,l){await this._originValidation(e);const c=await O0(e,i,r,om(),l);return Zx(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Cs(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await U2(e),r=new T2(e);return i.register("authEvent",l=>(Ae(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Kd,{type:Kd},l=>{const c=l?.[0]?.[Kd];c!==void 0&&i(!!c),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=x2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return dE()||oE()||Vm()}}const X2=Y2;var M0="@firebase/auth",V0="1.11.1";class J2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Z2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function W2(s){_o(new oa("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;Ae(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mE(s)},_=new ux(r,l,c,y);return vx(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),_o(new oa("auth-internal",e=>{const i=Ei(e.getProvider("auth").getImmediate());return(r=>new J2(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),vr(M0,V0,Z2(s)),vr(M0,V0,"esm2020")}const eR=300,tR=Fv("authIdTokenMaxAge")||eR;let k0=null;const nR=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>tR)return;const l=i?.token;k0!==l&&(k0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function iR(s=Xv()){const e=Im(s,"auth");if(e.isInitialized())return e.getImmediate();const i=_x(s,{popupRedirectResolver:X2,persistence:[o2,Yx,xE]}),r=Fv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=nR(c.toString());Gx(i,d,()=>d(i.currentUser)),Fx(i,g=>d(g))}}const l=qv("auth");return l&&Ex(i,`http://${l}`),i}function sR(){return document.getElementsByTagName("head")?.[0]??document}cx({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=yi("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",sR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});W2("Browser");var L0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Er,VE;(function(){var s;function e(I,w){function x(){}x.prototype=w.prototype,I.F=w.prototype,I.prototype=new x,I.prototype.constructor=I,I.D=function(V,D,L){for(var R=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)R[pe-2]=arguments[pe];return w.prototype[D].apply(V,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,w,x){x||(x=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(x++)|w.charCodeAt(x++)<<8|w.charCodeAt(x++)<<16|w.charCodeAt(x++)<<24;else for(D=0;D<16;++D)V[D]=w[x++]|w[x++]<<8|w[x++]<<16|w[x++]<<24;w=I.g[0],x=I.g[1],D=I.g[2];let L=I.g[3],R;R=w+(L^x&(D^L))+V[0]+3614090360&4294967295,w=x+(R<<7&4294967295|R>>>25),R=L+(D^w&(x^D))+V[1]+3905402710&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(x^L&(w^x))+V[2]+606105819&4294967295,D=L+(R<<17&4294967295|R>>>15),R=x+(w^D&(L^w))+V[3]+3250441966&4294967295,x=D+(R<<22&4294967295|R>>>10),R=w+(L^x&(D^L))+V[4]+4118548399&4294967295,w=x+(R<<7&4294967295|R>>>25),R=L+(D^w&(x^D))+V[5]+1200080426&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(x^L&(w^x))+V[6]+2821735955&4294967295,D=L+(R<<17&4294967295|R>>>15),R=x+(w^D&(L^w))+V[7]+4249261313&4294967295,x=D+(R<<22&4294967295|R>>>10),R=w+(L^x&(D^L))+V[8]+1770035416&4294967295,w=x+(R<<7&4294967295|R>>>25),R=L+(D^w&(x^D))+V[9]+2336552879&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(x^L&(w^x))+V[10]+4294925233&4294967295,D=L+(R<<17&4294967295|R>>>15),R=x+(w^D&(L^w))+V[11]+2304563134&4294967295,x=D+(R<<22&4294967295|R>>>10),R=w+(L^x&(D^L))+V[12]+1804603682&4294967295,w=x+(R<<7&4294967295|R>>>25),R=L+(D^w&(x^D))+V[13]+4254626195&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(x^L&(w^x))+V[14]+2792965006&4294967295,D=L+(R<<17&4294967295|R>>>15),R=x+(w^D&(L^w))+V[15]+1236535329&4294967295,x=D+(R<<22&4294967295|R>>>10),R=w+(D^L&(x^D))+V[1]+4129170786&4294967295,w=x+(R<<5&4294967295|R>>>27),R=L+(x^D&(w^x))+V[6]+3225465664&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^x&(L^w))+V[11]+643717713&4294967295,D=L+(R<<14&4294967295|R>>>18),R=x+(L^w&(D^L))+V[0]+3921069994&4294967295,x=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(x^D))+V[5]+3593408605&4294967295,w=x+(R<<5&4294967295|R>>>27),R=L+(x^D&(w^x))+V[10]+38016083&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^x&(L^w))+V[15]+3634488961&4294967295,D=L+(R<<14&4294967295|R>>>18),R=x+(L^w&(D^L))+V[4]+3889429448&4294967295,x=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(x^D))+V[9]+568446438&4294967295,w=x+(R<<5&4294967295|R>>>27),R=L+(x^D&(w^x))+V[14]+3275163606&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^x&(L^w))+V[3]+4107603335&4294967295,D=L+(R<<14&4294967295|R>>>18),R=x+(L^w&(D^L))+V[8]+1163531501&4294967295,x=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(x^D))+V[13]+2850285829&4294967295,w=x+(R<<5&4294967295|R>>>27),R=L+(x^D&(w^x))+V[2]+4243563512&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^x&(L^w))+V[7]+1735328473&4294967295,D=L+(R<<14&4294967295|R>>>18),R=x+(L^w&(D^L))+V[12]+2368359562&4294967295,x=D+(R<<20&4294967295|R>>>12),R=w+(x^D^L)+V[5]+4294588738&4294967295,w=x+(R<<4&4294967295|R>>>28),R=L+(w^x^D)+V[8]+2272392833&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^x)+V[11]+1839030562&4294967295,D=L+(R<<16&4294967295|R>>>16),R=x+(D^L^w)+V[14]+4259657740&4294967295,x=D+(R<<23&4294967295|R>>>9),R=w+(x^D^L)+V[1]+2763975236&4294967295,w=x+(R<<4&4294967295|R>>>28),R=L+(w^x^D)+V[4]+1272893353&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^x)+V[7]+4139469664&4294967295,D=L+(R<<16&4294967295|R>>>16),R=x+(D^L^w)+V[10]+3200236656&4294967295,x=D+(R<<23&4294967295|R>>>9),R=w+(x^D^L)+V[13]+681279174&4294967295,w=x+(R<<4&4294967295|R>>>28),R=L+(w^x^D)+V[0]+3936430074&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^x)+V[3]+3572445317&4294967295,D=L+(R<<16&4294967295|R>>>16),R=x+(D^L^w)+V[6]+76029189&4294967295,x=D+(R<<23&4294967295|R>>>9),R=w+(x^D^L)+V[9]+3654602809&4294967295,w=x+(R<<4&4294967295|R>>>28),R=L+(w^x^D)+V[12]+3873151461&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^x)+V[15]+530742520&4294967295,D=L+(R<<16&4294967295|R>>>16),R=x+(D^L^w)+V[2]+3299628645&4294967295,x=D+(R<<23&4294967295|R>>>9),R=w+(D^(x|~L))+V[0]+4096336452&4294967295,w=x+(R<<6&4294967295|R>>>26),R=L+(x^(w|~D))+V[7]+1126891415&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~x))+V[14]+2878612391&4294967295,D=L+(R<<15&4294967295|R>>>17),R=x+(L^(D|~w))+V[5]+4237533241&4294967295,x=D+(R<<21&4294967295|R>>>11),R=w+(D^(x|~L))+V[12]+1700485571&4294967295,w=x+(R<<6&4294967295|R>>>26),R=L+(x^(w|~D))+V[3]+2399980690&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~x))+V[10]+4293915773&4294967295,D=L+(R<<15&4294967295|R>>>17),R=x+(L^(D|~w))+V[1]+2240044497&4294967295,x=D+(R<<21&4294967295|R>>>11),R=w+(D^(x|~L))+V[8]+1873313359&4294967295,w=x+(R<<6&4294967295|R>>>26),R=L+(x^(w|~D))+V[15]+4264355552&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~x))+V[6]+2734768916&4294967295,D=L+(R<<15&4294967295|R>>>17),R=x+(L^(D|~w))+V[13]+1309151649&4294967295,x=D+(R<<21&4294967295|R>>>11),R=w+(D^(x|~L))+V[4]+4149444226&4294967295,w=x+(R<<6&4294967295|R>>>26),R=L+(x^(w|~D))+V[11]+3174756917&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~x))+V[2]+718787259&4294967295,D=L+(R<<15&4294967295|R>>>17),R=x+(L^(D|~w))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+L&4294967295}r.prototype.v=function(I,w){w===void 0&&(w=I.length);const x=w-this.blockSize,V=this.C;let D=this.h,L=0;for(;L<w;){if(D==0)for(;L<=x;)l(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<w;)if(V[D++]=I.charCodeAt(L++),D==this.blockSize){l(this,V),D=0;break}}else for(;L<w;)if(V[D++]=I[L++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=w},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var x=I.length-8;x<I.length;++x)I[x]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,x=0;x<4;++x)for(let V=0;V<32;V+=8)I[w++]=this.g[x]>>>V&255;return I};function c(I,w){var x=g;return Object.prototype.hasOwnProperty.call(x,I)?x[I]:x[I]=w(I)}function d(I,w){this.h=w;const x=[];let V=!0;for(let D=I.length-1;D>=0;D--){const L=I[D]|0;V&&L==w||(x[D]=L,V=!1)}this.g=x}var g={};function y(I){return-128<=I&&I<128?c(I,function(w){return new d([w|0],w<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return ee(_(-I));const w=[];let x=1;for(let V=0;I>=x;V++)w[V]=I/x|0,x*=4294967296;return new d(w,0)}function E(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return ee(E(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=_(Math.pow(w,8));let V=S;for(let L=0;L<I.length;L+=8){var D=Math.min(8,I.length-L);const R=parseInt(I.substring(L,L+D),w);D<8?(D=_(Math.pow(w,D)),V=V.j(D).add(_(R))):(V=V.j(x),V=V.add(_(R)))}return V}var S=y(0),M=y(1),$=y(16777216);s=d.prototype,s.m=function(){if(te(this))return-ee(this).m();let I=0,w=1;for(let x=0;x<this.g.length;x++){const V=this.i(x);I+=(V>=0?V:4294967296+V)*w,w*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(Z(this))return"0";if(te(this))return"-"+ee(this).toString(I);const w=_(Math.pow(I,6));var x=this;let V="";for(;;){const D=Ke(x,w).g;x=fe(x,D.j(w));let L=((x.g.length>0?x.g[0]:x.h)>>>0).toString(I);if(x=D,Z(x))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function Z(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function te(I){return I.h==-1}s.l=function(I){return I=fe(this,I),te(I)?-1:Z(I)?0:1};function ee(I){const w=I.g.length,x=[];for(let V=0;V<w;V++)x[V]=~I.g[V];return new d(x,~I.h).add(M)}s.abs=function(){return te(this)?ee(this):this},s.add=function(I){const w=Math.max(this.g.length,I.g.length),x=[];let V=0;for(let D=0;D<=w;D++){let L=V+(this.i(D)&65535)+(I.i(D)&65535),R=(L>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);V=R>>>16,L&=65535,R&=65535,x[D]=R<<16|L}return new d(x,x[x.length-1]&-2147483648?-1:0)};function fe(I,w){return I.add(ee(w))}s.j=function(I){if(Z(this)||Z(I))return S;if(te(this))return te(I)?ee(this).j(ee(I)):ee(ee(this).j(I));if(te(I))return ee(this.j(ee(I)));if(this.l($)<0&&I.l($)<0)return _(this.m()*I.m());const w=this.g.length+I.g.length,x=[];for(var V=0;V<2*w;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<I.g.length;D++){const L=this.i(V)>>>16,R=this.i(V)&65535,pe=I.i(D)>>>16,xt=I.i(D)&65535;x[2*V+2*D]+=R*xt,be(x,2*V+2*D),x[2*V+2*D+1]+=L*xt,be(x,2*V+2*D+1),x[2*V+2*D+1]+=R*pe,be(x,2*V+2*D+1),x[2*V+2*D+2]+=L*pe,be(x,2*V+2*D+2)}for(I=0;I<w;I++)x[I]=x[2*I+1]<<16|x[2*I];for(I=w;I<2*w;I++)x[I]=0;return new d(x,0)};function be(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function Ee(I,w){this.g=I,this.h=w}function Ke(I,w){if(Z(w))throw Error("division by zero");if(Z(I))return new Ee(S,S);if(te(I))return w=Ke(ee(I),w),new Ee(ee(w.g),ee(w.h));if(te(w))return w=Ke(I,ee(w)),new Ee(ee(w.g),w.h);if(I.g.length>30){if(te(I)||te(w))throw Error("slowDivide_ only works with positive integers.");for(var x=M,V=w;V.l(I)<=0;)x=at(x),V=at(V);var D=ke(x,1),L=ke(V,1);for(V=ke(V,2),x=ke(x,2);!Z(V);){var R=L.add(V);R.l(I)<=0&&(D=D.add(x),L=R),V=ke(V,1),x=ke(x,1)}return w=fe(I,D.j(w)),new Ee(D,w)}for(D=S;I.l(w)>=0;){for(x=Math.max(1,Math.floor(I.m()/w.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=_(x),R=L.j(w);te(R)||R.l(I)>0;)x-=V,L=_(x),R=L.j(w);Z(L)&&(L=M),D=D.add(L),I=fe(I,R)}return new Ee(D,I)}s.B=function(I){return Ke(this,I).h},s.and=function(I){const w=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<w;V++)x[V]=this.i(V)&I.i(V);return new d(x,this.h&I.h)},s.or=function(I){const w=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<w;V++)x[V]=this.i(V)|I.i(V);return new d(x,this.h|I.h)},s.xor=function(I){const w=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<w;V++)x[V]=this.i(V)^I.i(V);return new d(x,this.h^I.h)};function at(I){const w=I.g.length+1,x=[];for(let V=0;V<w;V++)x[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(x,I.h)}function ke(I,w){const x=w>>5;w%=32;const V=I.g.length-x,D=[];for(let L=0;L<V;L++)D[L]=w>0?I.i(L+x)>>>w|I.i(L+x+1)<<32-w:I.i(L+x);return new d(D,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,VE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=E,Er=d}).apply(typeof L0<"u"?L0:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var kE,Pl,LE,Kc,cm,UE,PE,jE;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)e:{var v=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var U=u[A];if(!(U in v))break e;v=v[U]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,U,q){for(var ne=Array(arguments.length-2),De=2;De<arguments.length;De++)ne[De-2]=arguments[De];return m.prototype[U].apply(A,ne)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function $(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function Z(u,m){for(let A=1;A<arguments.length;A++){const U=arguments[A];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const q=U.length||0;u.length=v+q;for(let ne=0;ne<q;ne++)u[v+ne]=U[ne]}else u.push(U)}}class te{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(u){d.setTimeout(()=>{throw u},0)}function fe(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class be{constructor(){this.h=this.g=null}add(m,v){const A=Ee.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Ee=new te(()=>new Ke,u=>u.reset());class Ke{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ke=!1,I=new be,w=()=>{const u=Promise.resolve(void 0);at=()=>{u.then(x)}};function x(){for(var u;u=fe();){try{u.h.call(u.g)}catch(v){ee(v)}var m=Ee;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ke=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function pe(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(pe,D),pe.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var xt="closure_listenable_"+(Math.random()*1e6|0),B=0;function se(u,m,v,A,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=U,this.key=++B,this.da=this.fa=!1}function ce(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Le(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function ye(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function N(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,m){let v,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(v in A)u[v]=A[v];for(let q=0;q<K.length;q++)v=K[q],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,m,v,A,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const ne=Ce(u,m,A,U);return ne>-1?(m=u[ne],v||(m.fa=!1)):(m=new se(m,this.src,q,!!A,U),m.fa=v,u.push(m)),m};function de(u,m){const v=m.type;if(v in u.g){var A=u.g[v],U=Array.prototype.indexOf.call(A,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(A,U,1),q&&(ce(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ce(u,m,v,A){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==A)return U}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),bt={};function tt(u,m,v,A,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)tt(u,m[q],v,A,U);return null}return v=Dt(v),u&&u[xt]?u.J(m,v,g(A)?!!A.capture:!1,U):Ti(u,m,v,!1,A,U)}function Ti(u,m,v,A,U,q){if(!m)throw Error("Invalid event type");const ne=g(U)?!!U.capture:!!U;let De=ts(u);if(De||(u[Ve]=De=new re(u)),v=De.add(m,v,A,ne,q),v.proxy)return v;if(A=bi(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)L||(U=ne),U===void 0&&(U=!1),u.addEventListener(m.toString(),A,U);else if(u.attachEvent)u.attachEvent(wn(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function bi(){function u(v){return m.call(u.src,u.listener,v)}const m=Os;return u}function gn(u,m,v,A,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)gn(u,m[q],v,A,U);else A=g(A)?!!A.capture:!!A,v=Dt(v),u&&u[xt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=Ce(m,v,A,U),v>-1&&(ce(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=ts(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ce(m,v,A,U)),(v=u>-1?m[u]:null)&&es(v))}function es(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[xt])de(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(wn(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=ts(m))?(de(v,u),v.h==0&&(v.src=null,m[Ve]=null)):ce(u)}}}function wn(u){return u in bt?bt[u]:bt[u]="on"+u}function Os(u,m){if(u.da)u=!0;else{m=new pe(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&es(u),u=v.call(A,m)}return u}function ts(u){return u=u[Ve],u instanceof re?u:null}var Ai="__closure_events_fn_"+(Math.random()*1e9>>>0);function Dt(u){return typeof u=="function"?u:(u[Ai]||(u[Ai]=function(m){return u.handleEvent(m)}),u[Ai])}function pt(){V.call(this),this.i=new re(this),this.M=this,this.G=null}S(pt,V),pt.prototype[xt]=!0,pt.prototype.removeEventListener=function(u,m,v,A){gn(this,u,m,v,A)};function yt(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(A,u),ie(m,U)}U=!0;let q,ne;if(v)for(ne=v.length-1;ne>=0;ne--)q=m.g=v[ne],U=Si(q,A,!0,m)&&U;if(q=m.g=u,U=Si(q,A,!0,m)&&U,U=Si(q,A,!1,m)&&U,v)for(ne=0;ne<v.length;ne++)q=m.g=v[ne],U=Si(q,A,!1,m)&&U}pt.prototype.N=function(){if(pt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)ce(v[A]);delete u.g[m],u.h--}}this.G=null},pt.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},pt.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function Si(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const ne=m[q];if(ne&&!ne.da&&ne.capture==v){const De=ne.listener,Rt=ne.ha||ne.src;ne.fa&&de(u.i,ne),U=De.call(Rt,A)!==!1&&U}}return U&&!A.defaultPrevented}function Ms(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Vs(u){u.g=Ms(()=>{u.g=null,u.i&&(u.i=!1,Vs(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Yt extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Vs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wi(u){V.call(this),this.h=u,this.g={}}S(wi,V);var hn=[];function jn(u){Le(u.g,function(m,v){this.g.hasOwnProperty(v)&&es(m)},u),u.g={}}wi.prototype.N=function(){wi.Z.N.call(this),jn(this)},wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=d.JSON.stringify,ga=d.JSON.parse,pa=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ya(){}function _a(){}var xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){D.call(this,"d")}S(Bt,D);function pn(){D.call(this,"c")}S(pn,D);var Et={},va=null;function ns(){return va=va||new pt}Et.Ia="serverreachability";function Ea(u){D.call(this,Et.Ia,u)}S(Ea,D);function Rn(u){const m=ns();yt(m,new Ea(m))}Et.STAT_EVENT="statevent";function xi(u,m){D.call(this,Et.STAT_EVENT,u),this.stat=m}S(xi,D);function At(u){const m=ns();yt(m,new xi(m,u))}Et.Ja="timingevent";function Bn(u,m){D.call(this,Et.Ja,u),this.size=m}S(Bn,D);function qn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Cn(){this.g=!0}Cn.prototype.ua=function(){this.g=!1};function ko(u,m,v,A,U,q){u.info(function(){if(u.g)if(q){var ne="",De=q.split("&");for(let Je=0;Je<De.length;Je++){var Rt=De[Je].split("=");if(Rt.length>1){const _t=Rt[0];Rt=Rt[1];const Yn=_t.split("_");ne=Yn.length>=2&&Yn[1]=="type"?ne+(_t+"="+Rt+"&"):ne+(_t+"=redacted&")}}}else ne=null;else ne=q;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+v+`
`+ne})}function Ta(u,m,v,A,U,q,ne){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+v+`
`+q+" "+ne})}function Hn(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Lo(u,v)+(A?" "+A:"")})}function is(u,m){u.info(function(){return"TIMEOUT: "+m})}Cn.prototype.info=function(){};function Lo(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ne=1;ne<A.length;ne++)A[ne]=""}}}}return zn(q)}catch{return m}}var Fn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ir={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},H;function ss(){}S(ss,ya),ss.prototype.g=function(){return new XMLHttpRequest},H=new ss;function Y(u){return encodeURIComponent(String(u))}function le(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function we(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new wi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new _e}function _e(){this.i=null,this.g="",this.h=!1}var ve={},Fe={};function Qe(u,m,v){u.M=1,u.A=Dr(Mt(m)),u.u=v,u.R=!0,We(u,null)}function We(u,m){u.F=Date.now(),Xt(u),u.B=Mt(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),Sa(v.i,"t",A),u.C=0,v=u.j.L,u.h=new _e,u.g=Ru(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Yt(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(hn[0]=U.toString()),U=hn);for(let q=0;q<U.length;q++){const ne=tt(v,U[q],A||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.J?N(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Rn(),ko(u.i,u.v,u.B,u.l,u.S,u.u)}we.prototype.ba=function(u){u=u.target;const m=this.O;m&&ui(u)==3?m.j():this.Y(u)},we.prototype.Y=function(u){try{if(u==this.g)e:{const De=ui(this.g),Rt=this.g.ya(),Je=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Jt(this.g)))){this.K||De!=4||Rt==7||(Rt==8||Je<=0?Rn(3):Rn(2)),Gn(this);var m=this.g.ca();this.X=m;var v=In(this);if(this.o=m==200,Ta(this.i,this.v,this.B,this.l,this.S,De,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var q=A;break t}}q=null}if(u=q)Hn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ci(this,u);else{this.o=!1,this.m=3,At(12),Nn(this),$n(this);break e}}if(this.R){u=!0;let _t;for(;!this.K&&this.C<v.length;)if(_t=rs(this,v),_t==Fe){De==4&&(this.m=4,At(14),u=!1),Hn(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==ve){this.m=4,At(15),Hn(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Hn(this.i,this.l,_t,null),Ci(this,_t);if(Nr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||v.length!=0||this.h.h||(this.m=1,At(16),u=!1),this.o=this.o&&u,!u)Hn(this.i,this.l,v,"[Invalid Chunked Response]"),Nn(this),$n(this);else if(v.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Jo(ne),ne.P=!0,At(11))}}else Hn(this.i,this.l,v,null),Ci(this,v);De==4&&Nn(this),this.o&&!this.K&&(De==4?Au(this.j,this):(this.o=!1,Xt(this)))}else os(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),Nn(this),$n(this)}}}catch{}finally{}};function In(u){if(!Nr(u))return u.g.la();const m=Jt(u.g);if(m==="")return"";let v="";const A=m.length,U=ui(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Nn(u),$n(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<A;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(U&&q==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Nr(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function rs(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Fe:(v=Number(m.substring(v,A)),isNaN(v)?ve:(A+=1,A+v>m.length?Fe:(m=m.slice(A,A+v),u.C=A+v,m)))}we.prototype.cancel=function(){this.K=!0,Nn(this)};function Xt(u){u.T=Date.now()+u.H,Ri(u,u.H)}function Ri(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=qn(_(u.aa,u),m)}function Gn(u){u.D&&(d.clearTimeout(u.D),u.D=null)}we.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(is(this.i,this.B),this.M!=2&&(Rn(),At(17)),Nn(this),this.m=2,$n(this)):Ri(this,this.T-u)};function $n(u){u.j.I==0||u.K||Au(u.j,u)}function Nn(u){Gn(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,jn(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ci(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ni(v.h,u))){if(!u.L&&Ni(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ia(v),qs(v);else break e;Pr(v),At(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=qn(_(v.Va,v),6e3));Ii(v.h)<=1&&v.ta&&(v.ta=void 0)}else Li(v,11)}else if((u.L||v.g==u)&&Ia(v),!R(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Je=U[m];const _t=Je[0];if(!(_t<=v.K))if(v.K=_t,Je=Je[1],v.I==2)if(Je[0]=="c"){v.M=Je[1],v.ba=Je[2];const Yn=Je[3];Yn!=null&&(v.ka=Yn,v.j.info("VER="+v.ka));const Ui=Je[4];Ui!=null&&(v.za=Ui,v.j.info("SVER="+v.za));const ci=Je[5];ci!=null&&typeof ci=="number"&&ci>0&&(A=1.5*ci,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const hi=u.g;if(hi){const jr=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jr){var q=A.h;q.g||jr.indexOf("spdy")==-1&&jr.indexOf("quic")==-1&&jr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(jo(q,q.h),q.h=null))}if(A.G){const Na=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;Na&&(A.wa=Na,nt(A.J,A.G,Na))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ne=u;if(A.na=xu(A,A.L?A.ba:null,A.W),ne.L){zo(A.h,ne);var De=ne,Rt=A.O;Rt&&(De.H=Rt),De.D&&(Gn(De),Xt(De)),A.g=ne}else Tu(A);v.i.length>0&&ki(v)}else Je[0]!="stop"&&Je[0]!="close"||Li(v,7);else v.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?Li(v,7):Yo(v):Je[0]!="noop"&&v.l&&v.l.qa(Je),v.A=0)}}Rn(4)}catch{}}var Ot=class{constructor(u,m){this.g=u,this.map=m}};function Uo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Po(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ii(u){return u.h?1:u.g?u.g.size:0}function Ni(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function jo(u,m){u.g?u.g.add(m):u.h=m}function zo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Uo.prototype.cancel=function(){if(this.i=Bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Bo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return $(u.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let U,q=null;A>=0?(U=u[v].substring(0,A),q=u[v].substring(A+1)):U=u[v],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Dn?(this.l=u.l,Gt(this,u.j),this.o=u.o,this.g=u.g,ks(this,u.u),this.h=u.h,qo(this,vu(u.i)),this.m=u.m):u&&(m=String(u).match(gu))?(this.l=!1,Gt(this,m[1]||"",!0),this.o=Di(m[2]||""),this.g=Di(m[3]||"",!0),ks(this,m[4]),this.h=Di(m[5]||"",!0),qo(this,m[6]||"",!0),this.m=Di(m[7]||"")):(this.l=!1,this.i=new Us(null,this.l))}Dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Or(m,Aa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Or(m,Aa,!0),"@"),u.push(Y(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Or(v,v.charAt(0)=="/"?Ho:pu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Or(v,yu)),u.join("")},Dn.prototype.resolve=function(u){const m=Mt(this);let v=!!u.j;v?Gt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)ks(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=m.h.lastIndexOf("/");U!=-1&&(A=m.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let ne=0;ne<U.length;){const De=U[ne++];De=="."?A&&ne==U.length&&q.push(""):De==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&ne==U.length&&q.push("")):(q.push(De),A=!0)}A=q.join("/")}else A=U}return v?m.h=A:v=u.i.toString()!=="",v?qo(m,vu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Mt(u){return new Dn(u)}function Gt(u,m,v){u.j=v?Di(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ks(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function qo(u,m,v){m instanceof Us?(u.i=m,wa(u.i,u.l)):(v||(m=Or(m,Ls)),u.i=new Us(m,u.l))}function nt(u,m,v){u.i.set(m,v)}function Dr(u){return nt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Di(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Or(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,yn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function yn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Aa=/[#\/\?@]/g,pu=/[#\?:]/g,Ho=/[#\?]/g,Ls=/[#\?@]/g,yu=/#/g;function Us(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&ba(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Us.prototype,s.add=function(u,m){_n(this),this.i=null,u=Ps(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function _u(u,m){_n(u),m=Ps(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Fo(u,m){return _n(u),m=Ps(u,m),u.g.has(m)}s.forEach=function(u,m){_n(this),this.g.forEach(function(v,A){v.forEach(function(U){u.call(m,U,A,this)},this)},this)};function Go(u,m){_n(u);let v=[];if(typeof m=="string")Fo(u,m)&&(v=v.concat(u.g.get(Ps(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return _n(this),this.i=null,u=Ps(this,u),Fo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Go(this,u),u.length>0?String(u[0]):m):m};function Sa(u,m,v){_u(u,m),v.length>0&&(u.i=null,u.g.set(Ps(u,m),$(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const U=Y(v);v=Go(this,v);for(let q=0;q<v.length;q++){let ne=U;v[q]!==""&&(ne+="="+Y(v[q])),u.push(ne)}}return this.i=u.join("&")};function vu(u){const m=new Us;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ps(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function wa(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(v,A){const U=A.toLowerCase();A!=U&&(_u(this,A),Sa(this,U,v))},u)),u.j=m}function oi(u,m){const v=new Cn;if(d.Image){const A=new Image;A.onload=E(Qn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=E(Qn,v,"TestLoadImage: error",!1,m,A),A.onabort=E(Qn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=E(Qn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function $o(u,m){const v=new Cn,A=new AbortController,U=setTimeout(()=>{A.abort(),Qn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(U),q.ok?Qn(v,"TestPingServer: ok",!0,m):Qn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Qn(v,"TestPingServer: error",!1,m)})}function Qn(u,m,v,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(v)}catch{}}function js(){this.g=new pa}function Oi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Oi,ya),Oi.prototype.g=function(){return new Mr(this.i,this.h)};function Mr(u,m){pt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Mr,pt),s=Mr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,li(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function xa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?zs(this):li(this),this.readyState==3&&xa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,zs(this))},s.Na=function(u){this.g&&(this.response=u,zs(this))},s.ga=function(){this.g&&zs(this)};function zs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,li(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function li(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Kn(u){let m="";return Le(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Vr(u,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Kn(v),typeof u=="string"?v!=null&&Y(v):nt(u,m,v))}function ot(u){pt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ot,pt);var Mi=/^https?$/i,Qo=["POST","PUT"];s=ot.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():H.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){kr(this,q);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)v.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Qo,m,void 0)>=0)||A||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ne]of v)this.g.setRequestHeader(q,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){kr(this,q)}};function kr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ko(u),as(u)}function Ko(u){u.A||(u.A=!0,yt(u,"complete"),yt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,yt(this,"complete"),yt(this,"abort"),as(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),as(this,!0)),ot.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Lr(this):this.Xa())},s.Xa=function(){Lr(this)};function Lr(u){if(u.h&&typeof c<"u"){if(u.v&&ui(u)==4)setTimeout(u.Ca.bind(u),0);else if(yt(u,"readystatechange"),ui(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=q===0){let ne=String(u.D).match(gu)[1]||null;!ne&&d.self&&d.self.location&&(ne=d.self.location.protocol.slice(0,-1)),A=!Mi.test(ne?ne.toLowerCase():"")}v=A}if(v)yt(u,"complete"),yt(u,"success");else{u.o=6;try{var U=ui(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Ko(u)}}finally{as(u)}}}}function as(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||yt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ui(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ui(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ga(m)}};function Jt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function os(u){const m={};u=(u.g&&ui(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(R(u[A]))continue;var v=le(u[A]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[U]||[];m[U]=q,q.push(v)}ye(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Bs(u){this.za=0,this.i=[],this.j=new Cn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vi("baseRetryDelayMs",5e3,u),this.Za=Vi("retryDelaySeedMs",1e4,u),this.Ta=Vi("forwardChannelMaxRetries",2,u),this.va=Vi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Uo(u&&u.concurrentRequestLimit),this.Ba=new js,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Bs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,A){At(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=xu(this,null,this.W),ki(this)};function Yo(u){if(Ra(u),u.I==3){var m=u.V++,v=Mt(u.J);if(nt(v,"SID",u.M),nt(v,"RID",m),nt(v,"TYPE","terminate"),Ur(u,v),m=new we(u,u.j,m),m.M=2,m.A=Dr(Mt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Ru(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Xt(m)}wu(u)}function qs(u){u.g&&(Jo(u),u.g.cancel(),u.g=null)}function Ra(u){qs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ia(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ki(u){if(!Po(u.h)&&!u.m){u.m=!0;var m=u.Ea;at||w(),ke||(at(),ke=!0),I.add(m,u),u.D=0}}function Ca(u,m){return Ii(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=qn(_(u.Ea,u,m),Su(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new we(this,this.j,u);let q=this.o;if(this.U&&(q?(q=N(q),ie(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Eu(this,U,m),v=Mt(this.J),nt(v,"RID",u),nt(v,"CVER",22),this.G&&nt(v,"X-HTTP-Session-Id",this.G),Ur(this,v),q&&(this.R?m="headers="+Y(Kn(q))+"&"+m:this.u&&Vr(v,this.u,q)),jo(this.h,U),this.Ra&&nt(v,"TYPE","init"),this.S?(nt(v,"$req",m),nt(v,"SID","null"),U.U=!0,Qe(U,v,null)):Qe(U,v,m),this.I=2}}else this.I==3&&(u?Xo(this,u):this.i.length==0||Po(this.h)||Xo(this))};function Xo(u,m){var v;m?v=m.l:v=u.V++;const A=Mt(u.J);nt(A,"SID",u.M),nt(A,"RID",v),nt(A,"AID",u.K),Ur(u,A),u.u&&u.o&&Vr(A,u.u,u.o),v=new we(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Eu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),jo(u.h,v),Qe(v,A,m)}function Ur(u,m){u.H&&Le(u.H,function(v,A){nt(m,A,v)}),u.l&&Le({},function(v,A){nt(m,A,v)})}function Eu(u,m,v){v=Math.min(u.i.length,v);const A=u.l?_(u.l.Ka,u.l,u):null;e:{var U=u.i;let De=-1;for(;;){const Rt=["count="+v];De==-1?v>0?(De=U[0].g,Rt.push("ofs="+De)):De=0:Rt.push("ofs="+De);let Je=!0;for(let _t=0;_t<v;_t++){var q=U[_t].g;const Yn=U[_t].map;if(q-=De,q<0)De=Math.max(0,U[_t].g-100),Je=!1;else try{q="req"+q+"_"||"";try{var ne=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Ui,ci]of ne){let hi=ci;g(ci)&&(hi=zn(ci)),Rt.push(q+Ui+"="+encodeURIComponent(hi))}}catch(Ui){throw Rt.push(q+"type="+encodeURIComponent("_badmap")),Ui}}catch{A&&A(Yn)}}if(Je){ne=Rt.join("&");break e}}ne=void 0}return u=u.i.splice(0,v),m.G=u,ne}function Tu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;at||w(),ke||(at(),ke=!0),I.add(m,u),u.A=0}}function Pr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=qn(_(u.Da,u),Su(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=qn(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),qs(this),bu(this))};function Jo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function bu(u){u.g=new we(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Mt(u.na);nt(m,"RID","rpc"),nt(m,"SID",u.M),nt(m,"AID",u.K),nt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&nt(m,"TO",u.ia),nt(m,"TYPE","xmlhttp"),Ur(u,m),u.u&&u.o&&Vr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Dr(Mt(m)),v.u=null,v.R=!0,We(v,u)}s.Va=function(){this.C!=null&&(this.C=null,qs(this),Pr(this),At(19))};function Ia(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Au(u,m){var v=null;if(u.g==m){Ia(u),Jo(u),u.g=null;var A=2}else if(Ni(u.h,m))v=m.G,zo(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;A=ns(),yt(A,new Bn(A,v)),ki(u)}else Tu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(A==1&&Ca(u,m)||A==2&&Pr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Li(u,5);break;case 4:Li(u,10);break;case 3:Li(u,6);break;default:Li(u,2)}}}function Su(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Li(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),A=u.Ua;const U=!A;A=new Dn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Gt(A,"https"),Dr(A),U?oi(A.toString(),v):$o(A.toString(),v)}else At(2);u.I=0,u.l&&u.l.pa(m),wu(u),Ra(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function wu(u){if(u.I=0,u.ja=[],u.l){const m=Bo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,$(u.i),u.i.length=0),u.l.oa()}}function xu(u,m,v){var A=v instanceof Dn?Mt(v):new Dn(v);if(A.g!="")m&&(A.g=m+"."+A.g),ks(A,A.u);else{var U=d.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new Dn(null);A&&Gt(q,A),m&&(q.g=m),U&&ks(q,U),v&&(q.h=v),A=q}return v=u.G,m=u.wa,v&&m&&nt(A,v,m),nt(A,"VER",u.ka),Ur(u,A),A}function Ru(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ot(new Oi({ab:v})):new ot(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cu(){}s=Cu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Hs(){}Hs.prototype.g=function(u,m){return new fn(u,m)};function fn(u,m){pt.call(this),this.g=new Bs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ls(this)}S(fn,pt),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Yo(this.g)},fn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=zn(u),u=v);m.i.push(new Ot(m.Ya++,u)),m.I==3&&ki(m)},fn.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,fn.Z.N.call(this)};function Iu(u){Bt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Iu,Bt);function Nu(){pn.call(this),this.status=1}S(Nu,pn);function ls(u){this.g=u}S(ls,Cu),ls.prototype.ra=function(){yt(this.g,"a")},ls.prototype.qa=function(u){yt(this.g,new Iu(u))},ls.prototype.pa=function(u){yt(this.g,new Nu)},ls.prototype.oa=function(){yt(this.g,"b")},Hs.prototype.createWebChannel=Hs.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,jE=function(){return new Hs},PE=function(){return ns()},UE=Et,cm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fn.NO_ERROR=0,Fn.TIMEOUT=8,Fn.HTTP_ERROR=6,Kc=Fn,Ir.COMPLETE="complete",LE=Ir,_a.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",pt.prototype.listen=pt.prototype.J,Pl=_a,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,kE=ot}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});const U0="@firebase/firestore",P0="4.9.2";class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let No="12.3.0";const ua=new Rm("@firebase/firestore");function oo(){return ua.logLevel}function oe(s,...e){if(ua.logLevel<=Be.DEBUG){const i=e.map(zm);ua.debug(`Firestore (${No}): ${s}`,...i)}}function Is(s,...e){if(ua.logLevel<=Be.ERROR){const i=e.map(zm);ua.error(`Firestore (${No}): ${s}`,...i)}}function Eo(s,...e){if(ua.logLevel<=Be.WARN){const i=e.map(zm);ua.warn(`Firestore (${No}): ${s}`,...i)}}function zm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Se(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,zE(s,r,i)}function zE(s,e,i){let r=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Is(r),new Error(r)}function et(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||zE(e,l,r)}function Ne(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Ds{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class sa{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class BE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(ln.UNAUTHENTICATED)))}shutdown(){}}class aR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class oR{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){et(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let c=new sa;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new sa,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new sa)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(et(typeof r.accessToken=="string",31837,{l:r}),new BE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class lR{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uR{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new lR(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class j0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cR{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){et(this.o===void 0,3512);const r=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new j0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(et(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new j0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function hR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Bm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=hR(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=e.charAt(l[c]%62))}return r}}function qe(s,e){return s<e?-1:s>e?1:0}function hm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return Yd(l)===Yd(c)?qe(l,c):Yd(l)?1:-1}return qe(s.length,e.length)}const fR=55296,dR=57343;function Yd(s){const e=s.charCodeAt(0);return e>=fR&&e<=dR}function To(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}const z0="__name__";class Hi{constructor(e,i,r){i===void 0?i=0:i>e.length&&Se(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Se(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Hi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Hi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const c=Hi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return qe(e.length,i.length)}static compareSegments(e,i){const r=Hi.isNumericId(e),l=Hi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Hi.extractNumericId(e).compare(Hi.extractNumericId(i)):hm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Er.fromString(e.substring(4,e.length-2))}}class ft extends Hi{construct(e,i,r){return new ft(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ft(i)}static emptyPath(){return new ft([])}}const mR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Hi{construct(e,i,r){return new sn(e,i,r)}static isValidIdentifier(e){return mR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===z0}static keyField(){return new sn([z0])}static fromServerFormat(e){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ae(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new ae(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ae(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new ae(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(i)}static emptyPath(){return new sn([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(ft.fromString(e))}static fromName(e){return new ge(ft.fromString(e).popFirst(5))}static empty(){return new ge(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ft.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new ft(e.slice()))}}function qE(s,e,i){if(!i)throw new ae(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function gR(s,e,i,r){if(e===!0&&r===!0)throw new ae(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function B0(s){if(!ge.isDocumentKey(s))throw new ae(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function q0(s){if(ge.isDocumentKey(s))throw new ae(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function HE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Sh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Se(12329,{type:typeof s})}function go(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ae(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Sh(s);throw new ae(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function zt(s,e){const i={typeString:s};return e&&(i.value=e),i}function cu(s,e){if(!HE(s))throw new ae(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ae(J.INVALID_ARGUMENT,i);return!0}const H0=-62135596800,F0=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*F0);return new gt(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ae(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ae(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<H0)throw new ae(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/F0}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cu(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-H0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:zt("string",gt._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new gt(0,0))}static max(){return new Re(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Xl=-1;function pR(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Re.fromTimestamp(r===1e9?new gt(i+1,0):new gt(i,r));return new br(l,ge.empty(),e)}function yR(s){return new br(s.readTime,s.key,Xl)}class br{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new br(Re.min(),ge.empty(),Xl)}static max(){return new br(Re.max(),ge.empty(),Xl)}}function _R(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ge.comparator(s.documentKey,e.documentKey),i!==0?i:qe(s.largestBatchId,e.largestBatchId))}const vR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ER{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Do(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==vR)throw s;oe("LocalStore","Unexpectedly lost primary lease")}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new W(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):W.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):W.reject(i)}static resolve(e){return new W(((i,r)=>{i(e)}))}static reject(e){return new W(((i,r)=>{r(e)}))}static waitFor(e){return new W(((i,r)=>{let l=0,c=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(y=>r(y)))})),d=!0,c===l&&i()}))}static or(e){let i=W.resolve(!1);for(const r of e)i=i.next((l=>l?W.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(e,i){return new W(((r,l)=>{const c=e.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((E=>{d[_]=E,++g,g===c&&r(d)}),(E=>l(E)))}}))}static doWhile(e,i){return new W(((r,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):r()};c()}))}}function TR(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Oo(s){return s.name==="IndexedDbTransactionError"}class wh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wh.ce=-1;const qm=-1;function xh(s){return s==null}function uh(s){return s===0&&1/s==-1/0}function bR(s){return typeof s=="number"&&Number.isInteger(s)&&!uh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const FE="";function AR(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=G0(e)),e=SR(s.get(i),e);return G0(e)}function SR(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case FE:i+="";break;default:i+=c}}return i}function G0(s){return s+FE+""}function $0(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function ha(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function GE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Tt{constructor(e,i){this.comparator=e,this.root=i||nn.EMPTY}insert(e,i){return new Tt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jc(this.root,e,this.comparator,!0)}}class jc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,i,r,l,c){this.key=e,this.value=i,this.color=r??nn.RED,this.left=l??nn.EMPTY,this.right=c??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,c){return new nn(e??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return nn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,i,r,l,c){return this}insert(e,i,r){return new nn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Q0(this.data.getIterator())}getIteratorFrom(e){return new Q0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ft(this.comparator);return i.data=e,i}}class Q0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class pi{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new pi([])}unionWith(e){let i=new Ft(sn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new pi(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return To(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class $E extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new $E("Invalid base64 string: "+c):c}})(e);return new rn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new rn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const wR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ar(s){if(et(!!s,39018),typeof s=="string"){let e=0;const i=wR.exec(s);if(et(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nt(s.seconds),nanos:Nt(s.nanos)}}function Nt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Sr(s){return typeof s=="string"?rn.fromBase64String(s):rn.fromUint8Array(s)}const QE="server_timestamp",KE="__type__",YE="__previous_value__",XE="__local_write_time__";function Hm(s){return(s?.mapValue?.fields||{})[KE]?.stringValue===QE}function Rh(s){const e=s.mapValue.fields[YE];return Hm(e)?Rh(e):e}function Jl(s){const e=Ar(s.mapValue.fields[XE].timestampValue);return new gt(e.seconds,e.nanos)}class xR{constructor(e,i,r,l,c,d,g,y,_,E){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=E}}const ch="(default)";class Zl{constructor(e,i){this.projectId=e,this.database=i||ch}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===ch}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}const JE="__type__",RR="__max__",zc={mapValue:{}},ZE="__vector__",hh="value";function wr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Hm(s)?4:IR(s)?9007199254740991:CR(s)?10:11:Se(28295,{value:s})}function Ji(s,e){if(s===e)return!0;const i=wr(s);if(i!==wr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Jl(s).isEqual(Jl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Ar(l.timestampValue),g=Ar(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return Sr(l.bytesValue).isEqual(Sr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Nt(l.geoPointValue.latitude)===Nt(c.geoPointValue.latitude)&&Nt(l.geoPointValue.longitude)===Nt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Nt(l.integerValue)===Nt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Nt(l.doubleValue),g=Nt(c.doubleValue);return d===g?uh(d)===uh(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return To(s.arrayValue.values||[],e.arrayValue.values||[],Ji);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if($0(d)!==$0(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Ji(d[y],g[y])))return!1;return!0})(s,e);default:return Se(52216,{left:s})}}function Wl(s,e){return(s.values||[]).find((i=>Ji(i,e)))!==void 0}function bo(s,e){if(s===e)return 0;const i=wr(s),r=wr(e);if(i!==r)return qe(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return qe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Nt(c.integerValue||c.doubleValue),y=Nt(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,e);case 3:return K0(s.timestampValue,e.timestampValue);case 4:return K0(Jl(s),Jl(e));case 5:return hm(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=Sr(c),y=Sr(d);return g.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const E=qe(g[_],y[_]);if(E!==0)return E}return qe(g.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=qe(Nt(c.latitude),Nt(d.latitude));return g!==0?g:qe(Nt(c.longitude),Nt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Y0(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},_=g[hh]?.arrayValue,E=y[hh]?.arrayValue,S=qe(_?.values?.length||0,E?.values?.length||0);return S!==0?S:Y0(_,E)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===zc.mapValue&&d===zc.mapValue)return 0;if(c===zc.mapValue)return 1;if(d===zc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let S=0;S<y.length&&S<E.length;++S){const M=hm(y[S],E[S]);if(M!==0)return M;const $=bo(g[y[S]],_[E[S]]);if($!==0)return $}return qe(y.length,E.length)})(s.mapValue,e.mapValue);default:throw Se(23264,{he:i})}}function K0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return qe(s,e);const i=Ar(s),r=Ar(e),l=qe(i.seconds,r.seconds);return l!==0?l:qe(i.nanos,r.nanos)}function Y0(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=bo(i[l],r[l]);if(c)return c}return qe(i.length,r.length)}function Ao(s){return fm(s)}function fm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Ar(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Sr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ge.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=fm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${fm(i.fields[d])}`;return l+"}"})(s.mapValue):Se(61005,{value:s})}function Yc(s){switch(wr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rh(s);return e?16+Yc(e):16;case 5:return 2*s.stringValue.length;case 6:return Sr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Yc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return ha(r.fields,((c,d)=>{l+=c.length+Yc(d)})),l})(s.mapValue);default:throw Se(13486,{value:s})}}function X0(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function dm(s){return!!s&&"integerValue"in s}function Fm(s){return!!s&&"arrayValue"in s}function J0(s){return!!s&&"nullValue"in s}function Z0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Xc(s){return!!s&&"mapValue"in s}function CR(s){return(s?.mapValue?.fields||{})[JE]?.stringValue===ZE}function Fl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return ha(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Fl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Fl(s.arrayValue.values[i]);return e}return{...s}}function IR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===RR}class si{constructor(e){this.value=e}static empty(){return new si({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Xc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(i)}setAll(e){let i=sn.emptyPath(),r={},l=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=Fl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(e){const i=this.field(e.popLast());Xc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ji(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];Xc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){ha(i,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new si(Fl(this.value))}}function WE(s){const e=[];return ha(s.fields,((i,r)=>{const l=new sn([i]);if(Xc(r)){const c=WE(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new pi(e)}class un{constructor(e,i,r,l,c,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new un(e,0,Re.min(),Re.min(),Re.min(),si.empty(),0)}static newFoundDocument(e,i,r,l){return new un(e,1,i,Re.min(),r,l,0)}static newNoDocument(e,i){return new un(e,2,i,Re.min(),Re.min(),si.empty(),0)}static newUnknownDocument(e,i){return new un(e,3,i,Re.min(),Re.min(),si.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=si.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=si.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fh{constructor(e,i){this.position=e,this.inclusive=i}}function W0(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?r=ge.comparator(ge.fromName(d.referenceValue),i.key):r=bo(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function ev(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ji(s.position[i],e.position[i]))return!1;return!0}class eu{constructor(e,i="asc"){this.field=e,this.dir=i}}function NR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class eT{}class jt extends eT{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new OR(e,i,r):i==="array-contains"?new kR(e,r):i==="in"?new LR(e,r):i==="not-in"?new UR(e,r):i==="array-contains-any"?new PR(e,r):new jt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new MR(e,r):new VR(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(bo(i,this.value)):i!==null&&wr(this.value)===wr(i)&&this.matchesComparison(bo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends eT{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new vi(e,i)}matches(e){return tT(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tT(s){return s.op==="and"}function nT(s){return DR(s)&&tT(s)}function DR(s){for(const e of s.filters)if(e instanceof vi)return!1;return!0}function mm(s){if(s instanceof jt)return s.field.canonicalString()+s.op.toString()+Ao(s.value);if(nT(s))return s.filters.map((e=>mm(e))).join(",");{const e=s.filters.map((i=>mm(i))).join(",");return`${s.op}(${e})`}}function iT(s,e){return s instanceof jt?(function(r,l){return l instanceof jt&&r.op===l.op&&r.field.isEqual(l.field)&&Ji(r.value,l.value)})(s,e):s instanceof vi?(function(r,l){return l instanceof vi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,g)=>c&&iT(d,l.filters[g])),!0):!1})(s,e):void Se(19439)}function sT(s){return s instanceof jt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ao(i.value)}`})(s):s instanceof vi?(function(i){return i.op.toString()+" {"+i.getFilters().map(sT).join(" ,")+"}"})(s):"Filter"}class OR extends jt{constructor(e,i,r){super(e,i,r),this.key=ge.fromName(r.referenceValue)}matches(e){const i=ge.comparator(e.key,this.key);return this.matchesComparison(i)}}class MR extends jt{constructor(e,i){super(e,"in",i),this.keys=rT("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class VR extends jt{constructor(e,i){super(e,"not-in",i),this.keys=rT("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function rT(s,e){return(e.arrayValue?.values||[]).map((i=>ge.fromName(i.referenceValue)))}class kR extends jt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Fm(i)&&Wl(i.arrayValue,this.value)}}class LR extends jt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Wl(this.value.arrayValue,i)}}class UR extends jt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Wl(this.value.arrayValue,i)}}class PR extends jt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Fm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Wl(this.value.arrayValue,r)))}}class jR{constructor(e,i=null,r=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function tv(s,e=null,i=[],r=[],l=null,c=null,d=null){return new jR(s,e,i,r,l,c,d)}function Gm(s){const e=Ne(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>mm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),xh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Ao(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Ao(r))).join(",")),e.Te=i}return e.Te}function $m(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!NR(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!iT(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!ev(s.startAt,e.startAt)&&ev(s.endAt,e.endAt)}function gm(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Mo{constructor(e,i=null,r=[],l=[],c=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function zR(s,e,i,r,l,c,d,g){return new Mo(s,e,i,r,l,c,d,g)}function Qm(s){return new Mo(s)}function nv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function aT(s){return s.collectionGroup!==null}function Gl(s){const e=Ne(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ft(sn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new eu(c,r))})),i.has(sn.keyField().canonicalString())||e.Ie.push(new eu(sn.keyField(),r))}return e.Ie}function Gi(s){const e=Ne(s);return e.Ee||(e.Ee=BR(e,Gl(s))),e.Ee}function BR(s,e){if(s.limitType==="F")return tv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new eu(l.field,c)}));const i=s.endAt?new fh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new fh(s.startAt.position,s.startAt.inclusive):null;return tv(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function pm(s,e){const i=s.filters.concat([e]);return new Mo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function dh(s,e,i){return new Mo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Ch(s,e){return $m(Gi(s),Gi(e))&&s.limitType===e.limitType}function oT(s){return`${Gm(Gi(s))}|lt:${s.limitType}`}function lo(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>sT(l))).join(", ")}]`),xh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>Ao(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>Ao(l))).join(",")),`Target(${r})`})(Gi(s))}; limitType=${s.limitType})`}function Ih(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ge.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of Gl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,g,y){const _=W0(d,g,y);return d.inclusive?_<=0:_<0})(r.startAt,Gl(r),l)||r.endAt&&!(function(d,g,y){const _=W0(d,g,y);return d.inclusive?_>=0:_>0})(r.endAt,Gl(r),l))})(s,e)}function qR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function lT(s){return(e,i)=>{let r=!1;for(const l of Gl(s)){const c=HR(l,e,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function HR(s,e,i){const r=s.field.isKeyField()?ge.comparator(e.key,i.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?bo(y,_):Se(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:s.dir})}}class fa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ha(this.inner,((i,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return GE(this.inner)}size(){return this.innerSize}}const FR=new Tt(ge.comparator);function Ns(){return FR}const uT=new Tt(ge.comparator);function jl(...s){let e=uT;for(const i of s)e=e.insert(i.key,i);return e}function cT(s){let e=uT;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function ia(){return $l()}function hT(){return $l()}function $l(){return new fa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const GR=new Tt(ge.comparator),$R=new Ft(ge.comparator);function He(...s){let e=$R;for(const i of s)e=e.add(i);return e}const QR=new Ft(qe);function KR(){return QR}function Km(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(e)?"-0":e}}function fT(s){return{integerValue:""+s}}function YR(s,e){return bR(e)?fT(e):Km(s,e)}class Nh{constructor(){this._=void 0}}function XR(s,e,i){return s instanceof tu?(function(l,c){const d={fields:{[KE]:{stringValue:QE},[XE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Hm(c)&&(c=Rh(c)),c&&(d.fields[YE]=c),{mapValue:d}})(i,e):s instanceof nu?mT(s,e):s instanceof iu?gT(s,e):(function(l,c){const d=dT(l,c),g=iv(d)+iv(l.Ae);return dm(d)&&dm(l.Ae)?fT(g):Km(l.serializer,g)})(s,e)}function JR(s,e,i){return s instanceof nu?mT(s,e):s instanceof iu?gT(s,e):i}function dT(s,e){return s instanceof mh?(function(r){return dm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class tu extends Nh{}class nu extends Nh{constructor(e){super(),this.elements=e}}function mT(s,e){const i=pT(e);for(const r of s.elements)i.some((l=>Ji(l,r)))||i.push(r);return{arrayValue:{values:i}}}class iu extends Nh{constructor(e){super(),this.elements=e}}function gT(s,e){let i=pT(e);for(const r of s.elements)i=i.filter((l=>!Ji(l,r)));return{arrayValue:{values:i}}}class mh extends Nh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function iv(s){return Nt(s.integerValue||s.doubleValue)}function pT(s){return Fm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class ZR{constructor(e,i){this.field=e,this.transform=i}}function WR(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof nu&&l instanceof nu||r instanceof iu&&l instanceof iu?To(r.elements,l.elements,Ji):r instanceof mh&&l instanceof mh?Ji(r.Ae,l.Ae):r instanceof tu&&l instanceof tu})(s.transform,e.transform)}class eC{constructor(e,i){this.version=e,this.transformResults=i}}class $i{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new $i}static exists(e){return new $i(void 0,e)}static updateTime(e){return new $i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Dh{}function yT(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Ym(s.key,$i.none()):new hu(s.key,s.data,$i.none());{const i=s.data,r=si.empty();let l=new Ft(sn.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new da(s.key,r,new pi(l.toArray()),$i.none())}}function tC(s,e,i){s instanceof hu?(function(l,c,d){const g=l.value.clone(),y=rv(l.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof da?(function(l,c,d){if(!Jc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=rv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(_T(l)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Ql(s,e,i,r){return s instanceof hu?(function(c,d,g,y){if(!Jc(c.precondition,d))return g;const _=c.value.clone(),E=av(c.fieldTransforms,y,d);return _.setAll(E),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof da?(function(c,d,g,y){if(!Jc(c.precondition,d))return g;const _=av(c.fieldTransforms,y,d),E=d.data;return E.setAll(_T(c)),E.setAll(_),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,i,r):(function(c,d,g){return Jc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function nC(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=dT(r.transform,l||null);c!=null&&(i===null&&(i=si.empty()),i.set(r.field,c))}return i||null}function sv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&To(r,l,((c,d)=>WR(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class hu extends Dh{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class da extends Dh{constructor(e,i,r,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function _T(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function rv(s,e,i){const r=new Map;et(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=e.data.field(c.field);r.set(c.field,JR(d,g,i[l]))}return r}function av(s,e,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,XR(c,d,e))}return r}class Ym extends Dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iC extends Dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sC{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&tC(c,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Ql(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Ql(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=hT();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const y=yT(d,g);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Re.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),He())}isEqual(e){return this.batchId===e.batchId&&To(this.mutations,e.mutations,((i,r)=>sv(i,r)))&&To(this.baseMutations,e.baseMutations,((i,r)=>sv(i,r)))}}class Xm{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){et(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return GR})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Xm(e,i,r,l)}}class rC{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class aC{constructor(e,i){this.count=e,this.unchangedNames=i}}var Pt,$e;function oC(s){switch(s){case J.OK:return Se(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Se(15467,{code:s})}}function vT(s){if(s===void 0)return Is("GRPC error has no .code"),J.UNKNOWN;switch(s){case Pt.OK:return J.OK;case Pt.CANCELLED:return J.CANCELLED;case Pt.UNKNOWN:return J.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return J.INTERNAL;case Pt.UNAVAILABLE:return J.UNAVAILABLE;case Pt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Pt.NOT_FOUND:return J.NOT_FOUND;case Pt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Pt.ABORTED:return J.ABORTED;case Pt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Pt.DATA_LOSS:return J.DATA_LOSS;default:return Se(39323,{code:s})}}($e=Pt||(Pt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";function lC(){return new TextEncoder}const uC=new Er([4294967295,4294967295],0);function ov(s){const e=lC().encode(s),i=new VE;return i.update(e),new Uint8Array(i.digest())}function lv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Er([i,r],0),new Er([l,c],0)]}class Jm{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new zl(`Invalid padding: ${i}`);if(r<0)throw new zl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new zl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Er.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(Er.fromNumber(r)));return l.compare(uC)===1&&(l=new Er([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=ov(e),[r,l]=lv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Jm(c,l,i);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=ov(e),[r,l]=lv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Oh{constructor(e,i,r,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Oh(Re.min(),l,new Tt(qe),Ns(),He())}}class fu{constructor(e,i,r,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new fu(r,i,He(),He(),He())}}class Zc{constructor(e,i,r,l){this.be=e,this.removedTargetIds=i,this.key=r,this.De=l}}class ET{constructor(e,i){this.targetId=e,this.Ce=i}}class TT{constructor(e,i,r=rn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class uv{constructor(){this.ve=0,this.Fe=cv(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),i=He(),r=He();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:Se(38017,{changeType:c})}})),new fu(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=cv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class cC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ns(),this.Je=Bc(),this.He=Bc(),this.Ye=new Tt(qe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(gm(c))if(r===0){const d=new ge(c.path);this.et(i,d,un.newNoDocument(d,Re.min()))}else et(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Sr(r).toUint8Array()}catch(y){if(y instanceof $E)return Eo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Jm(d,l,c)}catch(y){return Eo(y instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&gm(g.target)){const y=new ge(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,un.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=He();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Oh(e,i,this.Ye,this.je,r);return this.je=Ns(),this.Je=Bc(),this.He=Bc(),this.Ye=new Tt(qe),l}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new uv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ft(qe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ft(qe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||oe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new uv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Bc(){return new Tt(ge.comparator)}function cv(){return new Tt(ge.comparator)}const hC={asc:"ASCENDING",desc:"DESCENDING"},fC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dC={and:"AND",or:"OR"};class mC{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ym(s,e){return s.useProto3Json||xh(e)?e:{value:e}}function gh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bT(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function gC(s,e){return gh(s,e.toTimestamp())}function Qi(s){return et(!!s,49232),Re.fromTimestamp((function(i){const r=Ar(i);return new gt(r.seconds,r.nanos)})(s))}function Zm(s,e){return _m(s,e).canonicalString()}function _m(s,e){const i=(function(l){return new ft(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function AT(s){const e=ft.fromString(s);return et(CT(e),10190,{key:e.toString()}),e}function vm(s,e){return Zm(s.databaseId,e.path)}function Xd(s,e){const i=AT(e);if(i.get(1)!==s.databaseId.projectId)throw new ae(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ae(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ge(wT(i))}function ST(s,e){return Zm(s.databaseId,e)}function pC(s){const e=AT(s);return e.length===4?ft.emptyPath():wT(e)}function Em(s){return new ft(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function wT(s){return et(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function hv(s,e,i){return{name:vm(s,e),fields:i.value.mapValue.fields}}function yC(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Se(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,E){return _.useProto3Json?(et(E===void 0||typeof E=="string",58123),rn.fromBase64String(E||"")):(et(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),rn.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const E=_.code===void 0?J.UNKNOWN:vT(_.code);return new ae(E,_.message||"")})(d);i=new TT(r,l,c,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=Xd(s,r.document.name),c=Qi(r.document.updateTime),d=r.document.createTime?Qi(r.document.createTime):Re.min(),g=new si({mapValue:{fields:r.document.fields}}),y=un.newFoundDocument(l,c,d,g),_=r.targetIds||[],E=r.removedTargetIds||[];i=new Zc(_,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=Xd(s,r.document),c=r.readTime?Qi(r.readTime):Re.min(),d=un.newNoDocument(l,c),g=r.removedTargetIds||[];i=new Zc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=Xd(s,r.document),c=r.removedTargetIds||[];i=new Zc([],c,l,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new aC(l,c),g=r.targetId;i=new ET(g,d)}}return i}function _C(s,e){let i;if(e instanceof hu)i={update:hv(s,e.key,e.value)};else if(e instanceof Ym)i={delete:vm(s,e.key)};else if(e instanceof da)i={update:hv(s,e.key,e.data),updateMask:RC(e.fieldMask)};else{if(!(e instanceof iC))return Se(16599,{Vt:e.type});i={verify:vm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof tu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof nu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof iu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof mh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Se(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:gC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Se(27497)})(s,e.precondition)),i}function vC(s,e){return s&&s.length>0?(et(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Qi(l.updateTime):Qi(c);return d.isEqual(Re.min())&&(d=Qi(c)),new eC(d,l.transformResults||[])})(i,e)))):[]}function EC(s,e){return{documents:[ST(s,e.path)]}}function TC(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=ST(s,l);const c=(function(_){if(_.length!==0)return RT(vi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((E=>(function(M){return{field:uo(M.field),direction:SC(M.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=ym(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function bC(s){let e=pC(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){et(r===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(S){const M=xT(S);return M instanceof vi&&nT(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(Z){return new eu(co(Z.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let M;return M=typeof S=="object"?S.value:S,xh(M)?null:M})(i.limit));let y=null;i.startAt&&(y=(function(S){const M=!!S.before,$=S.values||[];return new fh($,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const M=!S.before,$=S.values||[];return new fh($,M)})(i.endAt)),zR(e,l,d,c,g,"F",y,_)}function AC(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function xT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=co(i.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=co(i.unaryFilter.field);return jt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=co(i.unaryFilter.field);return jt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=co(i.unaryFilter.field);return jt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(s):s.fieldFilter!==void 0?(function(i){return jt.create(co(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return vi.create(i.compositeFilter.filters.map((r=>xT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(i.compositeFilter.op))})(s):Se(30097,{filter:s})}function SC(s){return hC[s]}function wC(s){return fC[s]}function xC(s){return dC[s]}function uo(s){return{fieldPath:s.canonicalString()}}function co(s){return sn.fromServerFormat(s.fieldPath)}function RT(s){return s instanceof jt?(function(i){if(i.op==="=="){if(Z0(i.value))return{unaryFilter:{field:uo(i.field),op:"IS_NAN"}};if(J0(i.value))return{unaryFilter:{field:uo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Z0(i.value))return{unaryFilter:{field:uo(i.field),op:"IS_NOT_NAN"}};if(J0(i.value))return{unaryFilter:{field:uo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(i.field),op:wC(i.op),value:i.value}}})(s):s instanceof vi?(function(i){const r=i.getFilters().map((l=>RT(l)));return r.length===1?r[0]:{compositeFilter:{op:xC(i.op),filters:r}}})(s):Se(54877,{filter:s})}function RC(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function CT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class pr{constructor(e,i,r,l,c=Re.min(),d=Re.min(),g=rn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new pr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class CC{constructor(e){this.yt=e}}function IC(s){const e=bC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?dh(e,e.limit,"L"):e}class NC{constructor(){this.Cn=new DC}addToCollectionParentIndex(e,i){return this.Cn.add(i),W.resolve()}getCollectionParents(e,i){return W.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return W.resolve()}deleteFieldIndex(e,i){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,i){return W.resolve()}getDocumentsMatchingTarget(e,i){return W.resolve(null)}getIndexType(e,i){return W.resolve(0)}getFieldIndexes(e,i){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,i){return W.resolve(br.min())}getMinOffsetFromCollectionGroup(e,i){return W.resolve(br.min())}updateCollectionGroup(e,i,r){return W.resolve()}updateIndexEntries(e,i){return W.resolve()}}class DC{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new Ft(ft.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Ft(ft.comparator)).toArray()}}const fv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},IT=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(IT,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class So{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new So(0)}static cr(){return new So(-1)}}const dv="LruGarbageCollector",OC=1048576;function mv([s,e],[i,r]){const l=qe(s,i);return l===0?qe(e,r):l}class MC{constructor(e){this.Ir=e,this.buffer=new Ft(mv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();mv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class VC{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(dv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Oo(i)?oe(dv,"Ignoring IndexedDB error during garbage collection: ",i):await Do(i)}await this.Vr(3e5)}))}}class kC{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return W.resolve(wh.ce);const r=new MC(i);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(fv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,l,c,d,g,y,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(r=S,g=Date.now(),this.removeTargets(e,r,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(_=Date.now(),oo()<=Be.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${S} documents in `+(_-y)+`ms
Total Duration: ${_-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function LC(s,e){return new kC(s,e)}class UC{constructor(){this.changes=new fa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?W.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class PC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class jC{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&Ql(r.mutation,l,pi.empty(),gt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,He()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=He()){const l=ia();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((c=>{let d=jl();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=ia();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,He())))}populateOverlays(e,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,r,l){let c=Ns();const d=$l(),g=(function(){return $l()})();return i.forEach(((y,_)=>{const E=r.get(_.key);l.has(_.key)&&(E===void 0||E.mutation instanceof da)?c=c.insert(_.key,_):E!==void 0?(d.set(_.key,E.mutation.getFieldMask()),Ql(E.mutation,_,E.mutation.getFieldMask(),gt.now())):d.set(_.key,pi.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,E)=>d.set(_,E))),i.forEach(((_,E)=>g.set(_,new PC(E,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const r=$l();let l=new Tt(((d,g)=>d-g)),c=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let E=r.get(y)||pi.empty();E=g.applyToLocalView(_,E),r.set(y,E);const S=(l.get(g.batchId)||He()).add(y);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,E=y.value,S=hT();E.forEach((M=>{if(!c.has(M)){const $=yT(i.get(M),r.get(M));$!==null&&S.set(M,$),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return W.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return(function(d){return ge.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):aT(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-c.size):W.resolve(ia());let g=Xl,y=c;return d.next((_=>W.forEach(_,((E,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(E)?W.resolve():this.remoteDocumentCache.getEntry(e,E).next((M=>{y=y.insert(E,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,He()))).next((E=>({batchId:g,changes:cT(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ge(i)).next((r=>{let l=jl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const c=i.collectionGroup;let d=jl();return this.indexManager.getCollectionParents(e,c).next((g=>W.forEach(g,(y=>{const _=(function(S,M){return new Mo(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,r,l).next((E=>{E.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,l)))).next((d=>{c.forEach(((y,_)=>{const E=_.getKey();d.get(E)===null&&(d=d.insert(E,un.newInvalidDocument(E)))}));let g=jl();return d.forEach(((y,_)=>{const E=c.get(y);E!==void 0&&Ql(E.mutation,_,pi.empty(),gt.now()),Ih(i,_)&&(g=g.insert(y,_))})),g}))}}class zC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return W.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Qi(l.createTime)}})(i)),W.resolve()}getNamedQuery(e,i){return W.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:IC(l.bundledQuery),readTime:Qi(l.readTime)}})(i)),W.resolve()}}class BC{constructor(){this.overlays=new Tt(ge.comparator),this.qr=new Map}getOverlay(e,i){return W.resolve(this.overlays.get(i))}getOverlays(e,i){const r=ia();return W.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,c)=>{this.St(e,i,c)})),W.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),W.resolve()}getOverlaysForCollection(e,i,r){const l=ia(),c=i.length+1,d=new ge(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>r&&l.set(y.getKey(),y)}return W.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let c=new Tt(((_,E)=>_-E));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let E=c.get(_.largestBatchId);E===null&&(E=ia(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const g=ia(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,E)=>g.set(_,E))),!(g.size()>=l)););return W.resolve(g)}St(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new rC(i,r));let c=this.qr.get(i);c===void 0&&(c=He(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class qC{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,W.resolve()}}class Wm{constructor(){this.Qr=new Ft(Qt.$r),this.Ur=new Ft(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Qt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Qt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new ge(new ft([])),r=new Qt(i,e),l=new Qt(i,e+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ge(new ft([])),r=new Qt(i,e),l=new Qt(i,e+1);let c=He();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Qt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Qt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ge.comparator(e.key,i.key)||qe(e.Yr,i.Yr)}static Kr(e,i){return qe(e.Yr,i.Yr)||ge.comparator(e.key,i.key)}}class HC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ft(Qt.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new sC(c,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Qt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,i){return W.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?qm:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Qt(i,0),l=new Qt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Ft(qe);return i.forEach((l=>{const c=new Qt(l,0),d=new Qt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{r=r.add(g.Yr)}))})),W.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let c=r;ge.isDocumentKey(c)||(c=c.child(""));const d=new Qt(new ge(c),0);let g=new Ft(qe);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(g=g.add(y.Yr)),!0)}),d),W.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){et(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return W.forEach(i.mutations,(l=>{const c=new Qt(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Qt(i,0),l=this.Zr.firstAfterOrEqual(r);return W.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class FC{constructor(e){this.ri=e,this.docs=(function(){return new Tt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return W.resolve(r?r.document.mutableCopy():un.newInvalidDocument(i))}getEntries(e,i){let r=Ns();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():un.newInvalidDocument(l))})),W.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let c=Ns();const d=i.path,g=new ge(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||_R(yR(E),r)<=0||(l.has(E.key)||Ih(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,i,r,l){Se(9500)}ii(e,i){return W.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new GC(this)}getSize(e){return W.resolve(this.size)}}class GC extends UC{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),W.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class $C{constructor(e){this.persistence=e,this.si=new fa((i=>Gm(i)),$m),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new Wm,this.targetCount=0,this.ai=So.ur()}forEachTarget(e,i){return this.si.forEach(((r,l)=>i(l))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),W.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new So(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,W.resolve()}updateTargetData(e,i){return this.Pr(i),W.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,i,r){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),W.waitFor(c).next((()=>l))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return W.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),W.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),W.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),W.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return W.resolve(r)}containsKey(e,i){return W.resolve(this._i.containsKey(i))}}class NT{constructor(e,i){this.ui={},this.overlays={},this.ci=new wh(0),this.li=!1,this.li=!0,this.hi=new qC,this.referenceDelegate=e(this),this.Pi=new $C(this),this.indexManager=new NC,this.remoteDocumentCache=(function(l){return new FC(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new CC(i),this.Ii=new zC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new BC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new HC(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){oe("MemoryPersistence","Starting transaction:",e);const l=new QC(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return W.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class QC extends ER{constructor(e){super(),this.currentSequenceNumber=e}}class eg{constructor(e){this.persistence=e,this.Ri=new Wm,this.Vi=null}static mi(e){return new eg(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),W.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),W.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(r=>{const l=ge.fromPath(r);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Re.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return W.or([()=>W.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class ph{constructor(e,i){this.persistence=e,this.pi=new fa((r=>AR(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=LC(this,i)}static mi(e,i){return new ph(e,i)}Ei(){}di(e){return W.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return W.forEach(this.pi,((r,l)=>this.br(e,r,l).next((c=>c?W.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((g=>{g||(r++,c.removeEntry(d,Re.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),W.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),W.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Yc(e.data.value)),i}br(e,i,r){return W.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return W.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class tg{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=l}static As(e,i){let r=He(),l=He();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new tg(e,i.fromCache,r,l)}}class KC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class YC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return pS()?8:TR(cn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new KC;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,r,l){return r.documentReadCount<this.fs?(oo()<=Be.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",lo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(oo()<=Be.DEBUG&&oe("QueryEngine","Query:",lo(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(oo()<=Be.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",lo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gi(i))):W.resolve())}ys(e,i){if(nv(i))return W.resolve(null);let r=Gi(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=dh(i,null,"F"),r=Gi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=He(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(e,dh(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,r,l){return nv(i)||l.isEqual(Re.min())?W.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?W.resolve(null):(oo()<=Be.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),lo(i)),this.vs(e,d,i,pR(l,Xl)).next((g=>g)))}))}Ds(e,i){let r=new Ft(lT(e));return i.forEach(((l,c)=>{Ih(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,r){return oo()<=Be.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",lo(i)),this.ps.getDocumentsMatchingQuery(e,i,br.min(),r)}vs(e,i,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ng="LocalStore",XC=3e8;class JC{constructor(e,i,r,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new Tt(qe),this.xs=new fa((c=>Gm(c)),$m),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function ZC(s,e,i,r){return new JC(s,e,i,r)}async function DT(s,e){const i=Ne(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let y=He();for(const _ of l){d.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of c){g.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(r,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function WC(s,e){const i=Ne(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,E){const S=_.batch,M=S.keys();let $=W.resolve();return M.forEach((Z=>{$=$.next((()=>E.getEntry(y,Z))).next((te=>{const ee=_.docVersions.get(Z);et(ee!==null,48541),te.version.compareTo(ee)<0&&(S.applyToRemoteDocument(te,_),te.isValidDocument()&&(te.setReadTime(_.commitVersion),E.addEntry(te)))}))})),$.next((()=>g.mutationQueue.removeMutationBatch(y,S)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let y=He();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function OT(s){const e=Ne(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function eI(s,e){const i=Ne(s),r=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];e.targetChanges.forEach(((E,S)=>{const M=l.get(S);if(!M)return;g.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,S))));let $=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?$=$.withResumeToken(rn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):E.resumeToken.approximateByteSize()>0&&($=$.withResumeToken(E.resumeToken,r)),l=l.insert(S,$),(function(te,ee,fe){return te.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=XC?!0:fe.addedDocuments.size+fe.modifiedDocuments.size+fe.removedDocuments.size>0})(M,$,E)&&g.push(i.Pi.updateTargetData(c,$))}));let y=Ns(),_=He();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(tI(c,d,e.documentUpdates).next((E=>{y=E.ks,_=E.qs}))),!r.isEqual(Re.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(E)}return W.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function tI(s,e,i){let r=He(),l=He();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=Ns();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(Re.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):oe(ng,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function nI(s,e){const i=Ne(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=qm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function iI(s,e){const i=Ne(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,e).next((c=>c?(l=c,W.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new pr(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function Tm(s,e,i){const r=Ne(s),l=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Oo(d))throw d;oe(ng,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function gv(s,e,i){const r=Ne(s);let l=Re.min(),c=He();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,E){const S=Ne(y),M=S.xs.get(E);return M!==void 0?W.resolve(S.Ms.get(M)):S.Pi.getTargetData(_,E)})(r,d,Gi(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?l:Re.min(),i?c:He()))).next((g=>(sI(r,qR(e),g),{documents:g,Qs:c})))))}function sI(s,e,i){let r=s.Os.get(e)||Re.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class pv{constructor(){this.activeTargetIds=KR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rI{constructor(){this.Mo=new pv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new pv,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class aI{Oo(e){}shutdown(){}}const yv="ConnectivityMonitor";class _v{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(yv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(yv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let qc=null;function bm(){return qc===null?qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():qc++,"0x"+qc.toString(16)}const Jd="RestConnection",oI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===ch?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,i,r,l,c){const d=bm(),g=this.zo(e,i.toUriEncodedString());oe(Jd,`Sending RPC '${e}' ${d}:`,g,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(g),E=xo(_);return this.Jo(e,g,y,r,E).then((S=>(oe(Jd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw Eo(Jd,`RPC '${e}' ${d} failed with error: `,S,"url: ",g,"request:",r),S}))}Ho(e,i,r,l,c,d){return this.Go(e,i,r,l,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+No})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const r=oI[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class uI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const on="WebChannelConnection";class cI extends lI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,l,c){const d=bm();return new Promise(((g,y)=>{const _=new kE;_.setWithCredentials(!0),_.listenOnce(LE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Kc.NO_ERROR:const S=_.getResponseJson();oe(on,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),g(S);break;case Kc.TIMEOUT:oe(on,`RPC '${e}' ${d} timed out`),y(new ae(J.DEADLINE_EXCEEDED,"Request time out"));break;case Kc.HTTP_ERROR:const M=_.getStatus();if(oe(on,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let $=_.getResponseJson();Array.isArray($)&&($=$[0]);const Z=$?.error;if(Z&&Z.status&&Z.message){const te=(function(fe){const be=fe.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(be)>=0?be:J.UNKNOWN})(Z.status);y(new ae(te,Z.message))}else y(new ae(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ae(J.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{oe(on,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(l);oe(on,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",E,r,15)}))}T_(e,i,r){const l=bm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=jE(),g=PE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const E=c.join("");oe(on,`Creating RPC '${e}' stream ${l}: ${E}`,y);const S=d.createWebChannel(E,y);this.I_(S);let M=!1,$=!1;const Z=new uI({Yo:ee=>{$?oe(on,`Not sending because RPC '${e}' stream ${l} is closed:`,ee):(M||(oe(on,`Opening RPC '${e}' stream ${l} transport.`),S.open(),M=!0),oe(on,`RPC '${e}' stream ${l} sending:`,ee),S.send(ee))},Zo:()=>S.close()}),te=(ee,fe,be)=>{ee.listen(fe,(Ee=>{try{be(Ee)}catch(Ke){setTimeout((()=>{throw Ke}),0)}}))};return te(S,Pl.EventType.OPEN,(()=>{$||(oe(on,`RPC '${e}' stream ${l} transport opened.`),Z.o_())})),te(S,Pl.EventType.CLOSE,(()=>{$||($=!0,oe(on,`RPC '${e}' stream ${l} transport closed`),Z.a_(),this.E_(S))})),te(S,Pl.EventType.ERROR,(ee=>{$||($=!0,Eo(on,`RPC '${e}' stream ${l} transport errored. Name:`,ee.name,"Message:",ee.message),Z.a_(new ae(J.UNAVAILABLE,"The operation could not be completed")))})),te(S,Pl.EventType.MESSAGE,(ee=>{if(!$){const fe=ee.data[0];et(!!fe,16349);const be=fe,Ee=be?.error||be[0]?.error;if(Ee){oe(on,`RPC '${e}' stream ${l} received error:`,Ee);const Ke=Ee.status;let at=(function(w){const x=Pt[w];if(x!==void 0)return vT(x)})(Ke),ke=Ee.message;at===void 0&&(at=J.INTERNAL,ke="Unknown error status: "+Ke+" with message "+Ee.message),$=!0,Z.a_(new ae(at,ke)),S.close()}else oe(on,`RPC '${e}' stream ${l} received:`,fe),Z.u_(fe)}})),te(g,UE.STAT_EVENT,(ee=>{ee.stat===cm.PROXY?oe(on,`RPC '${e}' stream ${l} detected buffering proxy`):ee.stat===cm.NOPROXY&&oe(on,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Zd(){return typeof document<"u"?document:null}function Mh(s){return new mC(s,!0)}class MT{constructor(e,i,r=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&oe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const vv="PersistentStream";class VT{constructor(e,i,r,l,c,d,g,y){this.Mi=e,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new MT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Is(i.toString()),Is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new ae(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(vv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(oe(vv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hI extends VT{constructor(e,i,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=yC(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Re.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Re.min():d.readTime?Qi(d.readTime):Re.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Em(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=gm(y)?{documents:EC(c,y)}:{query:TC(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=bT(c,d.resumeToken);const _=ym(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Re.min())>0){g.readTime=gh(c,d.snapshotVersion.toTimestamp());const _=ym(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const r=AC(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Em(this.serializer),i.removeTarget=e,this.q_(i)}}class fI extends VT{constructor(e,i,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=vC(e.writeResults,e.commitTime),r=Qi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Em(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>_C(this.serializer,r)))};this.q_(i)}}class dI{}class mI extends dI{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ae(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,_m(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae(J.UNKNOWN,c.toString())}))}Ho(e,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,_m(i,r),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ae(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class gI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Is(i),this.aa=!1):oe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ca="RemoteStore";class pI{constructor(e,i,r,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{ma(this)&&(oe(ca,"Restarting streams for network reachability change."),await(async function(y){const _=Ne(y);_.Ea.add(4),await du(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Vh(_)})(this))}))})),this.Ra=new gI(r,l)}}async function Vh(s){if(ma(s))for(const e of s.da)await e(!0)}async function du(s){for(const e of s.da)await e(!1)}function kT(s,e){const i=Ne(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),ag(i)?rg(i):Vo(i).O_()&&sg(i,e))}function ig(s,e){const i=Ne(s),r=Vo(i);i.Ia.delete(e),r.O_()&&LT(i,e),i.Ia.size===0&&(r.O_()?r.L_():ma(i)&&i.Ra.set("Unknown"))}function sg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Vo(s).Y_(e)}function LT(s,e){s.Va.Ue(e),Vo(s).Z_(e)}function rg(s){s.Va=new cC({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Vo(s).start(),s.Ra.ua()}function ag(s){return ma(s)&&!Vo(s).x_()&&s.Ia.size>0}function ma(s){return Ne(s).Ea.size===0}function UT(s){s.Va=void 0}async function yI(s){s.Ra.set("Online")}async function _I(s){s.Ia.forEach(((e,i)=>{sg(s,e)}))}async function vI(s,e){UT(s),ag(s)?(s.Ra.ha(e),rg(s)):s.Ra.set("Unknown")}async function EI(s,e,i){if(s.Ra.set("Online"),e instanceof TT&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,e)}catch(r){oe(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yh(s,r)}else if(e instanceof Zc?s.Va.Ze(e):e instanceof ET?s.Va.st(e):s.Va.tt(e),!i.isEqual(Re.min()))try{const r=await OT(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(_);E&&c.Ia.set(_,E.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(rn.EMPTY_BYTE_STRING,E.snapshotVersion)),LT(c,y);const S=new pr(E.target,y,_,E.sequenceNumber);sg(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){oe(ca,"Failed to raise snapshot:",r),await yh(s,r)}}async function yh(s,e,i){if(!Oo(e))throw e;s.Ea.add(1),await du(s),s.Ra.set("Offline"),i||(i=()=>OT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{oe(ca,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Vh(s)}))}function PT(s,e){return e().catch((i=>yh(s,i,e)))}async function kh(s){const e=Ne(s),i=xr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:qm;for(;TI(e);)try{const l=await nI(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,bI(e,l)}catch(l){await yh(e,l)}jT(e)&&zT(e)}function TI(s){return ma(s)&&s.Ta.length<10}function bI(s,e){s.Ta.push(e);const i=xr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function jT(s){return ma(s)&&!xr(s).x_()&&s.Ta.length>0}function zT(s){xr(s).start()}async function AI(s){xr(s).ra()}async function SI(s){const e=xr(s);for(const i of s.Ta)e.ea(i.mutations)}async function wI(s,e,i){const r=s.Ta.shift(),l=Xm.from(r,e,i);await PT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await kh(s)}async function xI(s,e){e&&xr(s).X_&&await(async function(r,l){if((function(d){return oC(d)&&d!==J.ABORTED})(l.code)){const c=r.Ta.shift();xr(r).B_(),await PT(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await kh(r)}})(s,e),jT(s)&&zT(s)}async function Ev(s,e){const i=Ne(s);i.asyncQueue.verifyOperationInProgress(),oe(ca,"RemoteStore received new credentials");const r=ma(i);i.Ea.add(3),await du(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Vh(i)}async function RI(s,e){const i=Ne(s);e?(i.Ea.delete(2),await Vh(i)):e||(i.Ea.add(2),await du(i),i.Ra.set("Unknown"))}function Vo(s){return s.ma||(s.ma=(function(i,r,l){const c=Ne(i);return c.sa(),new hI(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:yI.bind(null,s),t_:_I.bind(null,s),r_:vI.bind(null,s),H_:EI.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),ag(s)?rg(s):s.Ra.set("Unknown")):(await s.ma.stop(),UT(s))}))),s.ma}function xr(s){return s.fa||(s.fa=(function(i,r,l){const c=Ne(i);return c.sa(),new fI(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:AI.bind(null,s),r_:xI.bind(null,s),ta:SI.bind(null,s),na:wI.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await kh(s)):(await s.fa.stop(),s.Ta.length>0&&(oe(ca,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class og{constructor(e,i,r,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new sa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,c){const d=Date.now()+r,g=new og(e,i,d,l,c);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lg(s,e){if(Is("AsyncQueue",`${e}: ${s}`),Oo(s))return new ae(J.UNAVAILABLE,`${e}: ${s}`);throw s}class po{static emptySet(e){return new po(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ge.comparator(i.key,r.key):(i,r)=>ge.comparator(i.key,r.key),this.keyedMap=jl(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new po;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class Tv{constructor(){this.ga=new Tt(ge.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class wo{constructor(e,i,r,l,c,d,g,y,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new wo(e,i,po.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class CI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class II{constructor(){this.queries=bv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Ne(i),c=l.queries;l.queries=bv(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(r)}))})(this,new ae(J.ABORTED,"Firestore shutting down"))}}function bv(){return new fa((s=>oT(s)),Ch)}async function NI(s,e){const i=Ne(s);let r=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(r=2):(c=new CI,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=lg(d,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&ug(i)}async function DI(s,e){const i=Ne(s),r=e.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function OI(s,e){const i=Ne(s);let r=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&ug(i)}function MI(s,e,i){const r=Ne(s),l=r.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(e)}function ug(s){s.Ca.forEach((e=>{e.next()}))}var Am,Av;(Av=Am||(Am={})).Ma="default",Av.Cache="cache";class VI{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new wo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Am.Cache}}class BT{constructor(e){this.key=e}}class qT{constructor(e){this.key=e}}class kI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=lT(e),this.tu=new po(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new Tv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((E,S)=>{const M=l.get(E),$=Ih(this.query,S)?S:null,Z=!!M&&this.mutatedKeys.has(M.key),te=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let ee=!1;M&&$?M.data.isEqual($.data)?Z!==te&&(r.track({type:3,doc:$}),ee=!0):this.su(M,$)||(r.track({type:2,doc:$}),ee=!0,(y&&this.eu($,y)>0||_&&this.eu($,_)<0)&&(g=!0)):!M&&$?(r.track({type:0,doc:$}),ee=!0):M&&!$&&(r.track({type:1,doc:M}),ee=!0,(y||_)&&(g=!0)),ee&&($?(d=d.add($),c=te?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),r.track({type:1,doc:E})}return{tu:d,iu:r,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,S)=>(function($,Z){const te=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:ee})}};return te($)-te(Z)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new wo(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Tv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new qT(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new BT(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=He();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return wo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cg="SyncEngine";class LI{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class UI{constructor(e){this.key=e,this.hu=!1}}class PI{constructor(e,i,r,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new fa((g=>oT(g)),Ch),this.Iu=new Map,this.Eu=new Set,this.du=new Tt(ge.comparator),this.Au=new Map,this.Ru=new Wm,this.Vu={},this.mu=new Map,this.fu=So.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jI(s,e,i=!0){const r=KT(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await HT(r,e,i,!0),l}async function zI(s,e){const i=KT(s);await HT(i,e,!0,!1)}async function HT(s,e,i,r){const l=await iI(s.localStore,Gi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await BI(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&kT(s.remoteStore,l),g}async function BI(s,e,i,r,l){s.pu=(S,M,$)=>(async function(te,ee,fe,be){let Ee=ee.view.ru(fe);Ee.Cs&&(Ee=await gv(te.localStore,ee.query,!1).then((({documents:I})=>ee.view.ru(I,Ee))));const Ke=be&&be.targetChanges.get(ee.targetId),at=be&&be.targetMismatches.get(ee.targetId)!=null,ke=ee.view.applyChanges(Ee,te.isPrimaryClient,Ke,at);return wv(te,ee.targetId,ke.au),ke.snapshot})(s,S,M,$);const c=await gv(s.localStore,e,!0),d=new kI(e,c.Qs),g=d.ru(c.documents),y=fu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),_=d.applyChanges(g,s.isPrimaryClient,y);wv(s,i,_.au);const E=new LI(e,i,d);return s.Tu.set(e,E),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function qI(s,e,i){const r=Ne(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Ch(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Tm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&ig(r.remoteStore,l.targetId),Sm(r,l.targetId)})).catch(Do)):(Sm(r,l.targetId),await Tm(r.localStore,l.targetId,!0))}async function HI(s,e){const i=Ne(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),ig(i.remoteStore,r.targetId))}async function FI(s,e,i){const r=JI(s);try{const l=await(function(d,g){const y=Ne(d),_=gt.now(),E=g.reduce((($,Z)=>$.add(Z.key)),He());let S,M;return y.persistence.runTransaction("Locally write mutations","readwrite",($=>{let Z=Ns(),te=He();return y.Ns.getEntries($,E).next((ee=>{Z=ee,Z.forEach(((fe,be)=>{be.isValidDocument()||(te=te.add(fe))}))})).next((()=>y.localDocuments.getOverlayedDocuments($,Z))).next((ee=>{S=ee;const fe=[];for(const be of g){const Ee=nC(be,S.get(be.key).overlayedDocument);Ee!=null&&fe.push(new da(be.key,Ee,WE(Ee.value.mapValue),$i.exists(!0)))}return y.mutationQueue.addMutationBatch($,_,fe,g)})).next((ee=>{M=ee;const fe=ee.applyToLocalDocumentSet(S,te);return y.documentOverlayCache.saveOverlays($,ee.batchId,fe)}))})).then((()=>({batchId:M.batchId,changes:cT(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new Tt(qe)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,i),await mu(r,l.changes),await kh(r.remoteStore)}catch(l){const c=lg(l,"Failed to persist write");i.reject(c)}}async function FT(s,e){const i=Ne(s);try{const r=await eI(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(et(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?et(d.hu,14607):l.removedDocuments.size>0&&(et(d.hu,42227),d.hu=!1))})),await mu(i,r,e)}catch(r){await Do(r)}}function Sv(s,e,i){const r=Ne(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=Ne(d);y.onlineState=g;let _=!1;y.queries.forEach(((E,S)=>{for(const M of S.Sa)M.va(g)&&(_=!0)})),_&&ug(y)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function GI(s,e,i){const r=Ne(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new Tt(ge.comparator);d=d.insert(c,un.newNoDocument(c,Re.min()));const g=He().add(c),y=new Oh(Re.min(),new Map,new Tt(qe),d,g);await FT(r,y),r.du=r.du.remove(c),r.Au.delete(e),hg(r)}else await Tm(r.localStore,e,!1).then((()=>Sm(r,e,i))).catch(Do)}async function $I(s,e){const i=Ne(s),r=e.batch.batchId;try{const l=await WC(i.localStore,e);$T(i,r,null),GT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await mu(i,l)}catch(l){await Do(l)}}async function QI(s,e,i){const r=Ne(s);try{const l=await(function(d,g){const y=Ne(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return y.mutationQueue.lookupMutationBatch(_,g).next((S=>(et(S!==null,37113),E=S.keys(),y.mutationQueue.removeMutationBatch(_,S)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>y.localDocuments.getDocuments(_,E)))}))})(r.localStore,e);$T(r,e,i),GT(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await mu(r,l)}catch(l){await Do(l)}}function GT(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function $T(s,e,i){const r=Ne(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function Sm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||QT(s,r)}))}function QT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(ig(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),hg(s))}function wv(s,e,i){for(const r of i)r instanceof BT?(s.Ru.addReference(r.key,e),KI(s,r)):r instanceof qT?(oe(cg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||QT(s,r.key)):Se(19791,{wu:r})}function KI(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(oe(cg,"New document in limbo: "+i),s.Eu.add(r),hg(s))}function hg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ge(ft.fromString(e)),r=s.fu.next();s.Au.set(r,new UI(i)),s.du=s.du.insert(i,r),kT(s.remoteStore,new pr(Gi(Qm(i.path)),r,"TargetPurposeLimboResolution",wh.ce))}}async function mu(s,e,i){const r=Ne(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,y)=>{d.push(r.pu(y,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const E=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(_){l.push(_);const E=tg.As(y.targetId,_);c.push(E)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(y,_){const E=Ne(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>W.forEach(_,(M=>W.forEach(M.Es,($=>E.persistence.referenceDelegate.addReference(S,M.targetId,$))).next((()=>W.forEach(M.ds,($=>E.persistence.referenceDelegate.removeReference(S,M.targetId,$)))))))))}catch(S){if(!Oo(S))throw S;oe(ng,"Failed to update sequence numbers: "+S)}for(const S of _){const M=S.targetId;if(!S.fromCache){const $=E.Ms.get(M),Z=$.snapshotVersion,te=$.withLastLimboFreeSnapshotVersion(Z);E.Ms=E.Ms.insert(M,te)}}})(r.localStore,c))}async function YI(s,e){const i=Ne(s);if(!i.currentUser.isEqual(e)){oe(cg,"User change. New user:",e.toKey());const r=await DT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new ae(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mu(i,r.Ls)}}function XI(s,e){const i=Ne(s),r=i.Au.get(e);if(r&&r.hu)return He().add(r.key);{let l=He();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function KT(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=FT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GI.bind(null,e),e.Pu.H_=OI.bind(null,e.eventManager),e.Pu.yu=MI.bind(null,e.eventManager),e}function JI(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$I.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QI.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return ZC(this.persistence,new YC,e.initialUser,this.serializer)}Cu(e){return new NT(eg.mi,this.serializer)}Du(e){return new rI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class ZI extends _h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){et(this.persistence.referenceDelegate instanceof ph,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new VC(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new NT((r=>ph.mi(r,i)),this.serializer)}}class wm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Sv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=YI.bind(null,this.syncEngine),await RI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new II})()}createDatastore(e){const i=Mh(e.databaseInfo.databaseId),r=(function(c){return new cI(c)})(e.databaseInfo);return(function(c,d,g,y){return new mI(c,d,g,y)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,c,d,g){return new pI(r,l,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>Sv(this.syncEngine,i,0)),(function(){return _v.v()?new _v:new aI})())}createSyncEngine(e,i){return(function(l,c,d,g,y,_,E){const S=new PI(l,c,d,g,y,_);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ne(i);oe(ca,"RemoteStore shutting down."),r.Ea.add(5),await du(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wm.provider={build:()=>new wm};class WI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Is("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Rr="FirestoreClient";class eN{constructor(e,i,r,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=ln.UNAUTHENTICATED,this.clientId=Bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{oe(Rr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(oe(Rr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=lg(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Wd(s,e){s.asyncQueue.verifyOperationInProgress(),oe(Rr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await DT(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function xv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await tN(s);oe(Rr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>Ev(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>Ev(e.remoteStore,l))),s._onlineComponents=e}async function tN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){oe(Rr,"Using user provided OfflineComponentProvider");try{await Wd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Eo("Error using user provided cache. Falling back to memory cache: "+i),await Wd(s,new _h)}}else oe(Rr,"Using default OfflineComponentProvider"),await Wd(s,new ZI(void 0));return s._offlineComponents}async function YT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(oe(Rr,"Using user provided OnlineComponentProvider"),await xv(s,s._uninitializedComponentsProvider._online)):(oe(Rr,"Using default OnlineComponentProvider"),await xv(s,new wm))),s._onlineComponents}function nN(s){return YT(s).then((e=>e.syncEngine))}async function Rv(s){const e=await YT(s),i=e.eventManager;return i.onListen=jI.bind(null,e.syncEngine),i.onUnlisten=qI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=zI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=HI.bind(null,e.syncEngine),i}function XT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Cv=new Map;const JT="firestore.googleapis.com",Iv=!0;class Nv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JT,this.ssl=Iv}else this.host=e.host,this.ssl=e.ssl??Iv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=IT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OC)throw new ae(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ae(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ae(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ae(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lh{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new rR;switch(r.type){case"firstParty":return new uR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Cv.get(i);r&&(oe("ComponentProvider","Removing Datastore"),Cv.delete(i),r.terminate())})(this),Promise.resolve()}}function iN(s,e,i,r={}){s=go(s,Lh);const l=xo(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;l&&(Gv(`https://${g}`),$v("Firestore",!0)),c.host!==JT&&c.host!==g&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:l,emulatorOptions:r};if(!aa(y,d)&&(s._setSettings(y),r.mockUserToken)){let _,E;if(typeof r.mockUserToken=="string")_=r.mockUserToken,E=ln.MOCK_USER;else{_=oS(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new ae(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new ln(S)}s._authCredentials=new aR(new BE(_,E))}}class Cr{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Cr(this.firestore,e,this._query)}}class Ht{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(cu(i,Ht._jsonSchema))return new Ht(e,r||null,new ge(ft.fromString(i.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:zt("string",Ht._jsonSchemaVersion),referencePath:zt("string")};class Tr extends Cr{constructor(e,i,r){super(e,i,Qm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new ge(e))}withConverter(e){return new Tr(this.firestore,e,this._path)}}function Dv(s,e,...i){if(s=Kt(s),qE("collection","path",e),s instanceof Lh){const r=ft.fromString(e,...i);return q0(r),new Tr(s,null,r)}{if(!(s instanceof Ht||s instanceof Tr))throw new ae(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ft.fromString(e,...i));return q0(r),new Tr(s.firestore,null,r)}}function ZT(s,e,...i){if(s=Kt(s),arguments.length===1&&(e=Bm.newId()),qE("doc","path",e),s instanceof Lh){const r=ft.fromString(e,...i);return B0(r),new Ht(s,null,new ge(r))}{if(!(s instanceof Ht||s instanceof Tr))throw new ae(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ft.fromString(e,...i));return B0(r),new Ht(s.firestore,s instanceof Tr?s.converter:null,new ge(r))}}const Ov="AsyncQueue";class Mv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new MT(this,"async_queue_retry"),this._c=()=>{const r=Zd();r&&oe(Ov,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Zd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Zd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new sa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Oo(e))throw e;oe(Ov,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Is("INTERNAL UNHANDLED ERROR: ",Vv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=og.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Se(47125,{Pc:Vv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Vv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function kv(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class su extends Lh{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new Mv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Mv(e),this._firestoreClient=void 0,await e}}}function sN(s,e){const i=typeof s=="object"?s:Xv(),r=typeof s=="string"?s:ch,l=Im(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=rS("firestore");c&&iN(l,...c)}return l}function WT(s){if(s._terminated)throw new ae(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||rN(s),s._firestoreClient}function rN(s){const e=s._freezeSettings(),i=(function(l,c,d,g){return new xR(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,XT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new eN(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ri(rn.fromBase64String(e))}catch(i){throw new ae(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ri(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cu(e,ri._jsonSchema))return ri.fromBase64String(e.bytes)}}ri._jsonSchemaVersion="firestore/bytes/1.0",ri._jsonSchema={type:zt("string",ri._jsonSchemaVersion),bytes:zt("string")};class fg{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ae(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class dg{constructor(e){this._methodName=e}}class Ki{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ae(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ae(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ki._jsonSchemaVersion}}static fromJSON(e){if(cu(e,Ki._jsonSchema))return new Ki(e.latitude,e.longitude)}}Ki._jsonSchemaVersion="firestore/geoPoint/1.0",Ki._jsonSchema={type:zt("string",Ki._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};class Yi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cu(e,Yi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Yi(e.vectorValues);throw new ae(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yi._jsonSchemaVersion="firestore/vectorValue/1.0",Yi._jsonSchema={type:zt("string",Yi._jsonSchemaVersion),vectorValues:zt("object")};const aN=/^__.*__$/;class oN{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new da(e,this.data,this.fieldMask,i,this.fieldTransforms):new hu(e,this.data,i,this.fieldTransforms)}}function e1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:s})}}class mg{constructor(e,i,r,l,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new mg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return vh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(e1(this.Ac)&&aN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class lN{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Mh(e)}Cc(e,i,r,l=!1){return new mg({Ac:e,methodName:i,Dc:r,path:sn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function t1(s){const e=s._freezeSettings(),i=Mh(s._databaseId);return new lN(s._databaseId,!!e.ignoreUndefinedProperties,i)}function uN(s,e,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,l);s1("Data must be an object, but it was:",d,r);const g=n1(r,d);let y,_;if(c.merge)y=new pi(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const M=hN(e,S,i);if(!d.contains(M))throw new ae(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);dN(E,M)||E.push(M)}y=new pi(E),_=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,_=d.fieldTransforms;return new oN(new si(g),y,_)}class gg extends dg{_toFieldTransform(e){return new ZR(e.path,new tu)}isEqual(e){return e instanceof gg}}function cN(s,e,i,r=!1){return pg(i,s.Cc(r?4:3,e))}function pg(s,e){if(i1(s=Kt(s)))return s1("Unsupported field value:",e,s),n1(s,e);if(s instanceof dg)return(function(r,l){if(!e1(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const g of r){let y=pg(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=Kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return YR(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=gt.fromDate(r);return{timestampValue:gh(l.serializer,c)}}if(r instanceof gt){const c=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gh(l.serializer,c)}}if(r instanceof Ki)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ri)return{bytesValue:bT(l.serializer,r._byteString)};if(r instanceof Ht){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Zm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Yi)return(function(d,g){return{mapValue:{fields:{[JE]:{stringValue:ZE},[hh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Km(g.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Sh(r)}`)})(s,e)}function n1(s,e){const i={};return GE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ha(s,((r,l)=>{const c=pg(l,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function i1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof gt||s instanceof Ki||s instanceof ri||s instanceof Ht||s instanceof dg||s instanceof Yi)}function s1(s,e,i){if(!i1(i)||!HE(i)){const r=Sh(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function hN(s,e,i){if((e=Kt(e))instanceof fg)return e._internalPath;if(typeof e=="string")return r1(s,e);throw vh("Field path arguments must be of type string or ",s,!1,void 0,i)}const fN=new RegExp("[~\\*/\\[\\]]");function r1(s,e,i){if(e.search(fN)>=0)throw vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new fg(...e.split("."))._internalPath}catch{throw vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function vh(s,e,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new ae(J.INVALID_ARGUMENT,g+s+y)}function dN(s,e){return s.some((i=>i.isEqual(e)))}class a1{constructor(e,i,r,l,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(yg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class mN extends a1{data(){return super.data()}}function yg(s,e){return typeof e=="string"?r1(s,e):e instanceof fg?e._internalPath:e._delegate._internalPath}function gN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ae(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _g{}class vg extends _g{}function pN(s,e,...i){let r=[];e instanceof _g&&r.push(e),r=r.concat(i),(function(c){const d=c.filter((y=>y instanceof Tg)).length,g=c.filter((y=>y instanceof Eg)).length;if(d>1||d>0&&g>0)throw new ae(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Eg extends vg{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Eg(e,i,r)}_apply(e){const i=this._parse(e);return o1(e._query,i),new Cr(e.firestore,e.converter,pm(e._query,i))}_parse(e){const i=t1(e.firestore);return(function(c,d,g,y,_,E,S){let M;if(_.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ae(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Uv(S,E);const Z=[];for(const te of S)Z.push(Lv(y,c,te));M={arrayValue:{values:Z}}}else M=Lv(y,c,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Uv(S,E),M=cN(g,d,S,E==="in"||E==="not-in");return jt.create(_,E,M)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Tg extends _g{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Tg(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:vi.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const y of g)o1(d,y),d=pm(d,y)})(e._query,i),new Cr(e.firestore,e.converter,pm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bg extends vg{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new bg(e,i)}_apply(e){const i=(function(l,c,d){if(l.startAt!==null)throw new ae(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new ae(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eu(c,d)})(e._query,this._field,this._direction);return new Cr(e.firestore,e.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new Mo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function yN(s,e="asc"){const i=e,r=yg("orderBy",s);return bg._create(r,i)}class Ag extends vg{constructor(e,i,r){super(),this.type=e,this._limit=i,this._limitType=r}static _create(e,i,r){return new Ag(e,i,r)}_apply(e){return new Cr(e.firestore,e.converter,dh(e._query,this._limit,this._limitType))}}function _N(s){return Ag._create("limit",s,"F")}function Lv(s,e,i){if(typeof(i=Kt(i))=="string"){if(i==="")throw new ae(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aT(e)&&i.indexOf("/")!==-1)throw new ae(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(ft.fromString(i));if(!ge.isDocumentKey(r))throw new ae(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return X0(s,new ge(r))}if(i instanceof Ht)return X0(s,i._key);throw new ae(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sh(i)}.`)}function Uv(s,e){if(!Array.isArray(s)||s.length===0)throw new ae(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function o1(s,e){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ae(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class vN{convertValue(e,i="none"){switch(wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return ha(e,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[hh].arrayValue?.values?.map((r=>Nt(r.doubleValue)));return new Yi(i)}convertGeoPoint(e){return new Ki(Nt(e.latitude),Nt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Rh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const i=Ar(e);return new gt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ft.fromString(e);et(CT(r),9688,{name:e});const l=new Zl(r.get(1),r.get(3)),c=new ge(r.popFirst(5));return l.isEqual(i)||Is(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function EN(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class Bl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ra extends a1{constructor(e,i,r,l,c,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(yg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ra._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",ra._jsonSchema={type:zt("string",ra._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class Wc extends ra{data(e={}){return super.data(e)}}class yo{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Bl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Wc(this._firestore,this._userDataWriter,r.key,r,new Bl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ae(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new Wc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Bl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new Wc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Bl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,E=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:TN(g.type),doc:y,oldIndex:_,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function TN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:s})}}yo._jsonSchemaVersion="firestore/querySnapshot/1.0",yo._jsonSchema={type:zt("string",yo._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};class l1 extends vN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ri(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,i)}}function bN(s){return u1(go(s.firestore,su),[new Ym(s._key,$i.none())])}function AN(s,e){const i=go(s.firestore,su),r=ZT(s),l=EN(s.converter,e);return u1(i,[uN(t1(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,$i.exists(!1))]).then((()=>r))}function SN(s,...e){s=Kt(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||kv(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(kv(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof Ht)d=go(s.firestore,su),g=Qm(s._key.path),c={next:y=>{e[r]&&e[r](wN(d,s,y))},error:e[r+1],complete:e[r+2]};else{const y=go(s,Cr);d=go(y.firestore,su),g=y._query;const _=new l1(d);c={next:E=>{e[r]&&e[r](new yo(d,_,y,E))},error:e[r+1],complete:e[r+2]},gN(s._query)}return(function(_,E,S,M){const $=new WI(M),Z=new VI(E,$,S);return _.asyncQueue.enqueueAndForget((async()=>NI(await Rv(_),Z))),()=>{$.Nu(),_.asyncQueue.enqueueAndForget((async()=>DI(await Rv(_),Z)))}})(WT(d),g,l,c)}function u1(s,e){return(function(r,l){const c=new sa;return r.asyncQueue.enqueueAndForget((async()=>FI(await nN(r),l,c))),c.promise})(WT(s),e)}function wN(s,e,i){const r=i.docs.get(e._key),l=new l1(s);return new ra(s,l,e._key,r,new Bl(i.hasPendingWrites,i.fromCache),e.converter)}function xN(){return new gg("serverTimestamp")}(function(e,i=!0){(function(l){No=l})(Ro),_o(new oa("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new su(new oR(r.getProvider("auth-internal")),new cR(d,r.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ae(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(_.options.projectId,E)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),vr(U0,P0,e),vr(U0,P0,"esm2020")})();const RN={apiKey:"AIzaSyBeQemubnB8jBWLiPZob5HiDC4yubuxupI",authDomain:"learn-d8e71.firebaseapp.com",projectId:"learn-d8e71",storageBucket:"learn-d8e71.firebasestorage.app",messagingSenderId:"1098133970936",appId:"1:1098133970936:web:fed75c94fc73c36585000d",measurementId:"G-VH6H0XJKLP"},CN=typeof __firebase_config<"u"?JSON.parse(__firebase_config):RN,c1=Yv(CN),qi=iR(c1),em=sN(c1),Hc=typeof __app_id<"u"?__app_id:"default-app-id",ao=()=>b.jsx("style",{children:`
    @import url('https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&display=swap');
    body, textarea, input, button { font-family: 'Be Vietnam Pro', sans-serif !important; }
    .diff-anim { animation: fadeIn 0.5s ease-out; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
    .custom-scrollbar::-webkit-scrollbar { width: 6px; }
    .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
    .custom-scrollbar::-webkit-scrollbar-thumb { background-color: rgba(156, 163, 175, 0.5); border-radius: 20px; }
    .score-circle { transition: stroke-dashoffset 1s ease-in-out; transform: rotate(-90deg); transform-origin: 50% 50%; }
    .tooltip-word { position: relative; z-index: 10; }
    .tooltip-word:hover { z-index: 999999; }
    .tooltip-content { z-index: 999999 !important; }
  `}),IN=["Startup cng ngh","Tr tu nhn to","Khoa hc v tr","Cng ngh Blockchain","Du lch bi","m thc ng ph","Li sng ti gin","Sc khe tinh thn","Email cng vic","K nng m phn","Ti chnh c nhn","Lnh o nhm","Review phim","Lch s th gii","Nhip nh ng ph","Bin i kh hu"],NN=(s,e)=>{const i=Z=>Z.replace(/[']/g,"'"),r=Z=>i(Z).replace(/([.,!?;:()])/g," $1 ").trim().split(/\s+/),l=Z=>Z.toLowerCase().replace(/[.,/#!$%^&*;:{}=\-_`~()?"']/g,""),c=r(s),d=r(e),g=c.length,y=d.length,_=Array(g+1).fill().map(()=>Array(y+1).fill(0));for(let Z=1;Z<=g;Z++)for(let te=1;te<=y;te++){const ee=l(c[Z-1]),fe=l(d[te-1]);c[Z-1].toLowerCase()===d[te-1].toLowerCase()||ee!==""&&ee===fe?_[Z][te]=_[Z-1][te-1]+1:_[Z][te]=Math.max(_[Z-1][te],_[Z][te-1])}let E=g,S=y;const M=[];for(;E>0&&S>0;){const Z=l(c[E-1]),te=l(d[S-1]);c[E-1].toLowerCase()===d[S-1].toLowerCase()||Z!==""&&Z===te?(M.unshift({type:"same",value:c[E-1]}),E--,S--):_[E-1][S]>_[E][S-1]?(M.unshift({type:"remove",value:c[E-1]}),E--):(M.unshift({type:"add",value:d[S-1]}),S--)}for(;E>0;)M.unshift({type:"remove",value:c[E-1]}),E--;for(;S>0;)M.unshift({type:"add",value:d[S-1]}),S--;const $=[];for(let Z=0;Z<M.length;Z++)M[Z].type==="remove"&&M[Z+1]?.type==="add"?($.push({type:"replace",oldVal:M[Z].value,newVal:M[Z+1].value}),Z++):$.push(M[Z]);return $},h1="AIzaSyDqDfB3lsg11GFoIarvbL_B7H1EKkm4aKo",DN=async(s,e)=>{let i="";switch(e){case"short":i="Generate a SHORT story/essay (approx 5-8 sentences). Keep it concise.";break;case"medium":i="Generate a MEDIUM length story/essay (approx 12-15 sentences).";break;case"long":i="Generate a LONG, DETAILED story/essay (more than 20 sentences). Elaborate on details.";break;default:i="Generate a MEDIUM length story/essay (approx 10-15 sentences)."}const r=`
    You are an expert English tutor for Vietnamese students.
    Task: Create a translation lesson based on the topic: "${s}".
    CRITICAL REQUIREMENT: ${i}. Split content into logical sentences.
    Output Format: STRICT JSON ONLY. No markdown.
    JSON Structure: {
      "title": "Short catchy title in Vietnamese",
      "type": "Story/Article/Email/Essay",
      "sentences": [
        {
          "id": 1,
          "vietnamese_full": "Full Vietnamese sentence",
          "segments": [{"text": "VN word", "trans": "EN meaning"}],
          "acceptableAnswers": ["Full English sentence 1", "Full English sentence 2"],
          "grammar_hint": "Explain grammar/usage in Vietnamese",
          "structure": "Formula (S+V+O)",
          "example_en": "English example",
          "example_vi": "Vietnamese example",
          "vocabulary": [{"word": "Word", "meaning": "Meaning"}]
        }
      ]
    }
  `;try{const l=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${h1}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:r}]}],generationConfig:{responseMimeType:"application/json"}})});if(!l.ok)throw console.error("API Error:",l.status,await l.text()),new Error("API Call Failed");const c=await l.json();return JSON.parse(c.candidates[0].content.parts[0].text)}catch(l){return console.error("AI Generation Error:",l),null}},ON=async(s,e,i)=>{const r=`
        You are a strict translation judge for English learners.
        
        Vietnamese original: "${e}"
        User's English translation: "${s}"
        Correct answers: ${i.join(" OR ")}
        
        STRICT RULES:
        1. Check spelling FIRST - if there are obvious typos (like "daiy" instead of "daily"), mark as INCORRECT
        2. Only accept minor typos like: "teh""the" (adjacent keys), "recieve""receive" (common mistakes)
        3. Do NOT accept: completely wrong letters, missing letters that change meaning
        4. Check grammar - subject-verb agreement, tense, articles
        5. Check meaning accuracy - must convey the SAME meaning as Vietnamese
        
        Scoring logic:
        - If spelling errors are obvious/multiple: isCorrect = false
        - If meaning is wrong: isCorrect = false
        - If grammar is severely wrong: isCorrect = false
        - Only mark as correct if both meaning AND form are acceptable
        
        In feedback (Vietnamese):
        - List ALL errors specifically: "Li chnh t: 'daiy' phi l 'daily', 'toughts' phi l 'thoughts'"
        - Mention grammar errors if any
        - Explain meaning differences if wrong
        
        Return JSON ONLY: { "isCorrect": boolean, "feedback": "detailed Vietnamese explanation" }
    `;try{const c=await(await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${h1}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:r}]}],generationConfig:{responseMimeType:"application/json"}})})).json();return JSON.parse(c.candidates[0].content.parts[0].text)}catch(l){return console.error("API Error:",l),{isCorrect:null,feedback:"Li kt ni API. Vui lng th li.",apiError:!0}}},tm=()=>[...IN].sort(()=>.5-Math.random()).slice(0,4);function MN(){const[s,e]=xe.useState(null),[i,r]=xe.useState(!0),[l,c]=xe.useState("login"),[d,g]=xe.useState(""),[y,_]=xe.useState("medium"),[E,S]=xe.useState(!0),[M,$]=xe.useState(()=>tm()),[Z,te]=xe.useState([]),[ee,fe]=xe.useState("login"),[be,Ee]=xe.useState(""),[Ke,at]=xe.useState(""),[ke,I]=xe.useState(""),[w,x]=xe.useState(""),[V,D]=xe.useState(!1),[L,R]=xe.useState(!1),[pe,xt]=xe.useState(null),[B,se]=xe.useState(0),[ce,Le]=xe.useState(""),[ye,N]=xe.useState("idle"),[K,ie]=xe.useState(null),[re,de]=xe.useState(""),[Ce,Ve]=xe.useState(null),[bt,tt]=xe.useState(!1),[Ti,bi]=xe.useState(!1),[gn,es]=xe.useState([]),[wn,Os]=xe.useState([]),[ts,Ai]=xe.useState(!1),[Dt,pt]=xe.useState(null),[yt,Si]=xe.useState({mistakes:0,hints:0,fullAnswers:0}),[Ms,Vs]=xe.useState({visible:!1,x:0,y:0,itemId:null}),[Yt,wi]=xe.useState(!1),hn=xe.useRef({mistakes:0,hints:0,fullAnswers:0}),jn=xe.useRef({hintUsed:!1,fullUsed:!1}),zn=xe.useRef(null),ga=xe.useRef(null),pa=xe.useRef(null);xe.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token&&await Ux(qi,__initial_auth_token),r(!1)})();const le=$x(qi,we=>{e(we),we&&we.email&&we.emailVerified||we&&we.isAnonymous?c("home"):we&&we.email&&!we.emailVerified||c("login")});return()=>le()},[]),xe.useEffect(()=>{if(s){console.log(" Setting up history listener for user:",s.uid);const Y=pN(Dv(em,"artifacts",Hc,"users",s.uid,"history"),yN("timestamp","desc"),_N(20)),le=SN(Y,we=>{const _e=we.docs.map(ve=>({id:ve.id,...ve.data()}));console.log(" History updated:",_e.length,"items"),te(_e)},we=>{console.error(" Error fetching history:",we)});return()=>le()}else console.log(" No user, clearing history data"),te([])},[s]),xe.useEffect(()=>{l==="learning"&&(ga.current?.scrollIntoView({behavior:"smooth"}),zn.current&&ye!=="correct"&&ye!=="checking"&&zn.current.focus())},[ye,bt,Ti,B,l]);const ya=async Y=>{Y.preventDefault(),x("");try{const le=await zx(qi,be,Ke);if(le.user&&!le.user.emailVerified){await Qd(qi),x("Email cha c xc thc. Vui lng kim tra hp th.");return}}catch(le){le.code==="auth/invalid-credential"||le.code==="auth/user-not-found"||le.code==="auth/wrong-password"?x("Email hoc mt khu khng chnh xc."):x("ng nhp tht bi. Vui lng th li.")}},_a=async Y=>{if(Y.preventDefault(),x(""),R(!1),!ke){x("Vui lng nhp tn hin th");return}try{const le=await jx(qi,be,Ke);await Hx(le.user,{displayName:ke}),await Bx(le.user),R(!0),await Qd(qi),fe("login")}catch(le){console.error(le),le.code==="auth/email-already-in-use"?x("Email ny  c s dng. Vui lng ng nhp."):le.code==="auth/weak-password"?x("Mt khu qu yu."):x("ng k tht bi. Vui lng th li.")}},xn=async Y=>{if(Y.preventDefault(),x(""),D(!1),!be){x("Vui lng nhp email.");return}try{await Px(qi,be),D(!0),x("")}catch{x("Li gi email. Vui lng th li sau.")}},Bt=async()=>{x("");try{const Y=new Ss;await f2(qi,Y)}catch(Y){x("ng nhp Google tht bi."),console.error(Y)}},pn=async()=>{x("");try{await Ox(qi),c("home")}catch{x("Li ng nhp khch.")}},Et=async()=>{await Qd(qi),c("login"),Ee(""),at(""),I(""),fe("login"),R(!1)},va=async Y=>{if(Y.preventDefault(),!d.trim())return;c("generating"),hn.current={mistakes:0,hints:0,fullAnswers:0},jn.current={hintUsed:!1,fullUsed:!1};const le=await DN(d,y);le?.sentences?.length>0?(xt(le),se(0),es(new Array(le.sentences.length).fill(!1)),Os(Array.from({length:le.sentences.length},()=>[])),Le(""),N("idle"),ie(null),de(""),Ve(null),tt(!1),bi(!1),Ai(!1),c("learning")):c("error")},ns=(Y=null)=>{const le=pe?.sentences?.length||1,we=gn.filter(Boolean).length,_e=Y||hn.current,ve=we/le*100,Fe=_e.mistakes*3+_e.fullAnswers*10;return Math.max(0,Math.round(ve-Fe))},Ea=async()=>{if(console.log(" handleSaveResult called"),console.log("  - User:",s?`${s.uid} (${s.email||"anonymous"})`:"NULL"),console.log("  - Course:",pe?pe.title:"NULL"),!s||!pe){console.warn(" Cannot save history - User:",!!s,"Course:",!!pe);return}wi(!0);const Y=ns(),le=gn.filter(Boolean).length,we=gn.length-le,_e={topic:pe.title,score:Y,totalSentences:pe.sentences.length,completedCorrectly:le,failedSentences:we,timestamp:xN(),mistakes:hn.current.mistakes,hints:hn.current.hints,fullAnswers:hn.current.fullAnswers,level:y,courseData:pe,completedStatus:gn,sentenceErrors:wn.reduce((ve,Fe,Qe)=>(Fe&&Fe.length>0&&(ve[Qe]=Fe),ve),{})};console.log(" Saving history doc:",{topic:_e.topic,score:_e.score,totalSentences:_e.totalSentences,path:`artifacts/${Hc}/users/${s.uid}/history`});try{const ve=await AN(Dv(em,"artifacts",Hc,"users",s.uid,"history"),_e);console.log(" History saved successfully with ID:",ve.id),console.log("   Path:",ve.path)}catch(ve){console.error(" Error saving history:",ve),console.error("   Error code:",ve.code),console.error("   Error message:",ve.message)}finally{wi(!1)}},Rn=async Y=>{if(Y.preventDefault(),!ce.trim())return;const le=pe.sentences[B];N("checking");const we=le.segments.map(We=>We.text).join(""),_e=await ON(ce,we,le.acceptableAnswers);let ve=null,Fe=1/0,Qe=null;if(le.acceptableAnswers.forEach(We=>{const In=NN(ce,We),Nr=In.reduce((rs,Xt)=>{if(Xt.type==="same")return rs;const Ri=Gn=>Gn.replace(/[.,/#!$%^&*;:{}=\-_`~()?"']/g,"");return Xt.type==="replace"&&Ri(Xt.oldVal)===""&&Ri(Xt.newVal)===""||Xt.type!=="replace"&&Ri(Xt.value)===""?rs:rs+1},0);Nr<Fe&&(Fe=Nr,ve=We,Qe=In)}),_e.apiError){N("idle"),de(_e.feedback||"Li kt ni API. Vui lng th li.");return}if(_e.isCorrect){N("correct");const We=[...gn];We[B]=!0,es(We),ie(Qe),Ve(ve),_e.feedback&&_e.feedback.trim()?de(_e.feedback):de(Fe===0?"Chnh xc tuyt i!":"Chnh xc!")}else{N("incorrect"),ie(Qe),Ve(null),de(typeof _e.feedback=="string"?_e.feedback:"Cu tr li cha chnh xc."),hn.current.mistakes+=1;const We=[...wn];We[B]||(We[B]=[]),We[B].push({userAnswer:ce,correctAnswer:ve,feedback:typeof _e.feedback=="string"?_e.feedback:"Cha chnh xc.",timestamp:new Date().toISOString()}),Os(We)}},xi=async()=>{await Ea(),Si({...hn.current}),c("summary")},At=()=>{B<pe.sentences.length-1?(se(Y=>Y+1),Le(""),N("idle"),ie(null),de(""),Ve(null),tt(!1),bi(!1),jn.current={hintUsed:!1,fullUsed:!1}):xi()},Bn=()=>Ai(!0),qn=()=>{Ai(!1),xi()},Cn=()=>Ai(!1),ko=(Y,le)=>{Y.preventDefault(),Vs({visible:!0,x:Y.clientX,y:Y.clientY,itemId:le})},Ta=async Y=>{if(!(!s||!Y))try{await bN(ZT(em,"artifacts",Hc,"users",s.uid,"history",Y)),Vs({visible:!1,x:0,y:0,itemId:null})}catch(le){console.error("Li xa lch s:",le)}},Hn=()=>Vs({visible:!1,x:0,y:0,itemId:null}),is=()=>{tt(!0),jn.current.hintUsed||(hn.current.hints+=1,jn.current.hintUsed=!0)},Lo=()=>{bi(!0),jn.current.fullUsed||(hn.current.fullAnswers+=1,jn.current.fullUsed=!0)},Fn=()=>S(!E),Ir=()=>{c("home"),g(""),N("idle"),ie(null),de(""),Ve(null),$(tm())},H={bg:E?"bg-slate-900":"bg-gray-50",text:E?"text-slate-200":"text-slate-700",cardBg:E?"bg-slate-800":"bg-white",cardBorder:E?"border-slate-700":"border-gray-300",secondaryText:E?"text-slate-400":"text-slate-600",inputBg:E?"bg-slate-900":"bg-gray-50",inputBorder:E?"border-slate-700":"border-gray-300",inputText:E?"text-slate-200":"text-gray-900",highlightBg:E?"bg-indigo-900/50":"bg-indigo-100",highlightText:E?"text-indigo-200":"text-indigo-950",successBg:E?"bg-green-900/30":"bg-green-50",successText:E?"text-green-300":"text-green-800",errorBg:E?"bg-red-900/30":"bg-red-50",errorText:E?"text-red-300":"text-red-800"},ss=()=>K?b.jsx("span",{className:"leading-relaxed break-words",children:K.map((Y,le)=>{if(Y.type==="same")return b.jsx("span",{className:"text-green-500 dark:text-green-400 mr-1.5",children:Y.value},le);if(Y.type==="replace"){const we=ye==="correct"?"text-yellow-500 dark:text-yellow-400 mr-1.5 underline decoration-dotted":"text-red-400 dark:text-red-400 line-through decoration-red-500/50 decoration-2 cursor-help mr-1.5";return b.jsxs("span",{className:`relative group inline-block ${we}`,children:[Y.oldVal,ye!=="correct"&&b.jsxs("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-1.5 bg-slate-900 border border-slate-700 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50 shadow-xl pointer-events-none transform -translate-y-1 group-hover:translate-y-0 duration-200",children:["Sa thnh: ",b.jsx("span",{className:"font-bold text-green-400",children:Y.newVal}),b.jsx("span",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-slate-900"})]})]},le)}else{if(Y.type==="remove")return ye==="correct"?null:b.jsx("span",{className:"text-red-400 dark:text-red-400 line-through mr-1.5 decoration-2 opacity-80",children:Y.value},le);if(Y.type==="add")return ye==="correct"?null:b.jsx("span",{className:"inline-block w-5 h-5 border-b-2 border-dashed border-amber-500 mr-1.5 relative group align-middle",children:b.jsxs("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-1.5 bg-amber-900 border border-amber-700 text-amber-100 text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50 shadow-xl",children:["Thiu: ",Y.value]})},le)}return null})}):ce;if(i)return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 text-white",children:b.jsx(IA,{className:"w-8 h-8 animate-spin"})});if(l==="login")return b.jsxs("div",{className:`min-h-screen ${H.bg} flex flex-col items-center justify-center p-4 ${H.text} font-sans`,children:[b.jsx(ao,{}),b.jsx("button",{onClick:Fn,className:`absolute top-4 right-4 p-2.5 rounded-full ${E?H.cardBg+" text-yellow-400 border "+H.cardBorder:"bg-gradient-to-br from-orange-50 to-amber-50 hover:from-orange-100 hover:to-amber-100 text-orange-600 border border-orange-200"}`,children:E?b.jsx(kc,{className:"w-5 h-5"}):b.jsx(Lc,{className:"w-5 h-5"})}),b.jsxs("div",{className:`max-w-md w-full ${H.cardBg} p-8 rounded-3xl shadow-2xl border ${H.cardBorder}`,children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("div",{className:"w-20 h-20 bg-indigo-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-indigo-500/30",children:b.jsx(jd,{className:"w-10 h-10 text-white"})}),b.jsx("h1",{className:`text-3xl font-bold mb-2 ${H.text}`,children:"AI English Tutor"}),b.jsx("p",{className:H.secondaryText,children:"ng nhp  lu qu trnh hc tp"})]}),L&&b.jsxs("div",{className:"mb-6 p-4 bg-green-500/20 border border-green-500/50 rounded-xl text-green-400 text-sm flex items-center gap-2 animate-in fade-in slide-in-from-top-2",children:[b.jsx(Pd,{className:"w-5 h-5 flex-shrink-0"}),b.jsx("span",{children:"Link xc thc  gi! Vui lng kim tra email."})]}),ee!=="forgot"&&b.jsxs("div",{className:`flex ${E?"bg-slate-700":"bg-gradient-to-r from-indigo-100/50 to-purple-100/50"} rounded-lg p-1 mb-6`,children:[b.jsx("button",{onClick:()=>{fe("login"),x("")},className:`flex-1 py-2.5 rounded-md text-sm font-bold transition-all ${ee==="login"?(E?"bg-slate-600 text-white":"bg-gradient-to-r from-indigo-500 to-purple-600 text-white")+" shadow-md":E?"text-slate-400 hover:text-white":"text-indigo-600 hover:text-indigo-800 hover:bg-white/50"}`,children:"ng nhp"}),b.jsx("button",{onClick:()=>{fe("register"),x("")},className:`flex-1 py-2.5 rounded-md text-sm font-bold transition-all ${ee==="register"?(E?"bg-slate-600 text-white":"bg-gradient-to-r from-indigo-500 to-purple-600 text-white")+" shadow-md":E?"text-slate-400 hover:text-white":"text-indigo-600 hover:text-indigo-800 hover:bg-white/50"}`,children:"ng k"})]}),ee==="forgot"?b.jsxs("form",{onSubmit:xn,className:"space-y-4 animate-in fade-in",children:[b.jsxs("div",{className:"text-left",children:[b.jsx("label",{className:`text-xs font-bold ${E?"text-slate-500":"text-slate-600"} uppercase ml-1`,children:"Email ng k"}),b.jsxs("div",{className:"relative",children:[b.jsx(i0,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 ${E?"text-slate-500":"text-slate-400"}`}),b.jsx("input",{type:"email",value:be,onChange:Y=>Ee(Y.target.value),placeholder:"name@example.com",className:`w-full p-4 pl-12 rounded-xl ${E?"bg-slate-900 border-slate-700 text-white":"bg-slate-100 border-slate-300 text-slate-900"} border focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none mt-1`,required:!0})]})]}),V?b.jsxs("div",{className:"p-3 bg-green-500/20 border border-green-500/50 rounded-xl text-green-400 text-sm flex items-center gap-2",children:[b.jsx(Pd,{className:"w-4 h-4"}),"  gi link khi phc!"]}):w&&b.jsx("p",{className:"text-red-500 text-sm bg-red-500/10 p-2 rounded border border-red-500/20",children:w}),b.jsxs("button",{type:"submit",className:`w-full ${E?"bg-indigo-600 hover:bg-indigo-500":"bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700"} text-white font-bold py-4 rounded-xl transition-all shadow-lg active:scale-95 flex items-center justify-center gap-2`,children:[b.jsx(xA,{className:"w-5 h-5"})," Gi link khi phc"]}),b.jsx("button",{type:"button",onClick:()=>{fe("login"),x(""),D(!1)},className:`w-full ${E?"text-slate-400 hover:text-white":"text-indigo-600 hover:text-indigo-800"} text-sm underline mt-2 font-semibold`,children:"Quay li ng nhp"})]}):b.jsxs("form",{onSubmit:ee==="login"?ya:_a,className:"space-y-4 animate-in fade-in",children:[ee==="register"&&b.jsxs("div",{className:"text-left",children:[b.jsx("label",{className:`text-xs font-bold ${E?"text-slate-500":"text-slate-600"} uppercase ml-1`,children:"Tn hin th"}),b.jsx("input",{type:"text",value:ke,onChange:Y=>I(Y.target.value),placeholder:"VD: Minh T",className:`w-full p-4 rounded-xl ${E?"bg-slate-900 border-slate-700 text-white":"bg-slate-100 border-slate-300 text-slate-900"} border focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none mt-1`,required:!0})]}),b.jsxs("div",{className:"text-left",children:[b.jsx("label",{className:`text-xs font-bold ${E?"text-slate-500":"text-slate-600"} uppercase ml-1`,children:"Email"}),b.jsxs("div",{className:"relative",children:[b.jsx(i0,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 ${E?"text-slate-500":"text-slate-400"}`}),b.jsx("input",{type:"email",value:be,onChange:Y=>Ee(Y.target.value),placeholder:"name@example.com",className:`w-full p-4 pl-12 rounded-xl ${E?"bg-slate-900 border-slate-700 text-white":"bg-slate-100 border-slate-300 text-slate-900"} border focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none mt-1`,required:!0})]})]}),b.jsxs("div",{className:"text-left",children:[b.jsx("label",{className:`text-xs font-bold ${E?"text-slate-500":"text-slate-600"} uppercase ml-1`,children:"Mt khu"}),b.jsxs("div",{className:"relative",children:[b.jsx(DA,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 ${E?"text-slate-500":"text-slate-400"}`}),b.jsx("input",{type:"password",value:Ke,onChange:Y=>at(Y.target.value),placeholder:"",className:`w-full p-4 pl-12 rounded-xl ${E?"bg-slate-900 border-slate-700 text-white":"bg-slate-100 border-slate-300 text-slate-900"} border focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none mt-1`,required:!0})]})]}),w&&b.jsx("p",{className:"text-red-500 text-sm bg-red-500/10 p-2 rounded border border-red-500/20",children:w}),ee==="login"&&b.jsx("div",{className:"text-right",children:b.jsx("button",{type:"button",onClick:()=>{fe("forgot"),x("")},className:"text-xs text-indigo-400 hover:text-indigo-300 font-bold",children:"Qun mt khu?"})}),b.jsx("button",{type:"submit",className:`w-full ${E?"bg-indigo-600 hover:bg-indigo-700":"bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700"} text-white font-bold py-4 rounded-xl transition-all shadow-lg active:scale-95`,children:ee==="login"?"ng nhp":"ng k ti khon"})]}),ee!=="forgot"&&b.jsxs("div",{className:"mt-6 flex flex-col gap-3 animate-in fade-in",children:[b.jsxs("button",{onClick:Bt,className:"w-full bg-gradient-to-r from-blue-500 to-red-500 hover:from-blue-600 hover:to-red-600 text-white font-bold py-3 rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg",children:[b.jsx("span",{className:"text-lg font-bold",children:"G"})," Tip tc vi Google"]}),b.jsx("button",{onClick:pn,className:`${E?"text-slate-500 hover:text-white":"text-indigo-600 hover:text-indigo-800"} text-sm underline font-semibold`,children:"Dng th khng cn ti khon"})]})]})]});if(l==="history")return b.jsxs("div",{className:`min-h-screen ${H.bg} p-4 transition-colors duration-300 font-sans`,onClick:Hn,children:[b.jsx(ao,{}),b.jsxs("header",{className:"max-w-4xl mx-auto flex items-center justify-between mb-8 pt-4",children:[b.jsxs("button",{onClick:()=>c("home"),className:`flex items-center gap-2 ${E?H.secondaryText+" hover:"+H.text:"text-indigo-600 hover:text-indigo-700"} font-medium transition-colors`,children:[b.jsx(Vc,{className:"w-5 h-5 rotate-180"})," Quay li"]}),b.jsxs("div",{className:"text-center",children:[b.jsx("h1",{className:`text-xl font-bold ${H.text}`,children:"Lch s hc tp"}),s&&b.jsxs("p",{className:"text-xs text-indigo-500 font-medium mt-1",children:[Z.length," bi hc"]})]}),b.jsx("button",{onClick:Fn,className:`p-2 rounded-full ${E?H.cardBg+" text-yellow-400 border "+H.cardBorder:"bg-gradient-to-br from-orange-50 to-amber-50 hover:from-orange-100 hover:to-amber-100 text-orange-600 border border-orange-200"}`,children:E?b.jsx(kc,{className:"w-5 h-5"}):b.jsx(Lc,{className:"w-5 h-5"})})]}),b.jsx("div",{className:"max-w-4xl mx-auto space-y-4 pb-10",children:s?Z.length===0?b.jsxs("div",{className:`text-center py-20 ${H.secondaryText}`,children:[b.jsx("p",{className:"mb-2",children:"Bn cha c bi hc no."}),b.jsx("p",{className:"text-xs opacity-70",children:"Hon thnh mt bi hc  xem lch s ti y"})]}):Z.map(Y=>b.jsxs("div",{onClick:()=>pt(Y),onContextMenu:le=>ko(le,Y.id),className:`${H.cardBg} p-5 rounded-2xl border ${H.cardBorder} flex items-center justify-between hover:scale-[1.01] transition-transform cursor-pointer group`,children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("h3",{className:`font-bold ${H.text} text-lg mb-1 group-hover:text-indigo-500 transition-colors`,children:Y.topic}),b.jsxs("div",{className:`flex items-center gap-4 text-xs ${H.secondaryText}`,children:[b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(fA,{className:"w-3 h-3"})," ",Y.timestamp&&typeof Y.timestamp.toDate=="function"?Y.timestamp.toDate().toLocaleDateString("vi-VN"):"Va xong"]}),b.jsx("span",{className:"flex items-center gap-1 bg-indigo-500/10 text-indigo-500 px-2 py-0.5 rounded uppercase font-bold",children:Y.level||"medium"})]})]}),b.jsxs("div",{className:"flex items-center gap-6",children:[b.jsxs("div",{className:"text-right hidden sm:block",children:[b.jsx("div",{className:`text-sm ${H.secondaryText}`,children:"im s"}),b.jsx("div",{className:`font-bold text-lg ${Y.score>=80?"text-green-500":Y.score>=50?"text-yellow-500":"text-red-500"}`,children:Math.round(Y.score)})]}),b.jsx(mA,{className:`w-5 h-5 ${H.secondaryText}`})]})]},Y.id)):b.jsxs("div",{className:`text-center py-20 ${H.secondaryText}`,children:[b.jsx("p",{className:"mb-4",children:"Vui lng ng nhp  xem lch s"}),b.jsx("button",{onClick:()=>c("login"),className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-xl shadow-lg transition-all active:scale-95",children:"ng nhp"})]})}),Ms.visible&&b.jsx("div",{className:`fixed z-50 ${H.cardBg} border-2 ${H.cardBorder} rounded-xl shadow-2xl overflow-hidden`,style:{top:Ms.y,left:Ms.x},onClick:Y=>Y.stopPropagation(),children:b.jsxs("button",{onClick:()=>Ta(Ms.itemId),className:"px-5 py-3 text-red-500 hover:bg-red-500/10 flex items-center gap-3 text-sm font-bold whitespace-nowrap",children:[b.jsx(zd,{className:"w-4 h-4"}),"Xa bi hc ny"]})}),Dt&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4 animate-in fade-in backdrop-blur-sm",onClick:()=>pt(null),children:b.jsxs("div",{className:`${H.cardBg} w-full max-w-3xl max-h-[85vh] rounded-3xl shadow-2xl overflow-hidden flex flex-col`,onClick:Y=>Y.stopPropagation(),children:[b.jsxs("div",{className:`p-6 border-b ${H.cardBorder} flex justify-between items-center bg-indigo-600`,children:[b.jsx("h2",{className:"text-xl font-bold text-white truncate pr-4",children:Dt.topic}),b.jsx("button",{onClick:()=>pt(null),className:"text-white/80 hover:text-white",children:b.jsx(zd,{className:"w-6 h-6"})})]}),b.jsx("div",{className:`flex-1 overflow-y-auto p-6 ${H.bg} custom-scrollbar`,children:Dt.courseData&&Dt.courseData.sentences?b.jsx("div",{className:"space-y-4",children:Dt.courseData.sentences.map((Y,le)=>{const we=Dt.completedStatus&&Dt.completedStatus[le],_e=Dt.sentenceErrors&&Dt.sentenceErrors[le],ve=_e&&Array.isArray(_e)?_e.length:_e?1:0,Fe=we||ve>0,Qe=we?"correct":Fe?"incorrect":"skipped";return b.jsx("div",{className:`${H.cardBg} p-4 rounded-xl border-2 transition-all ${Qe==="correct"?"border-green-500/50":Qe==="incorrect"?"border-red-500/50":"border-gray-500/50"}`,children:b.jsxs("div",{className:"flex gap-3",children:[b.jsx("span",{className:`flex-shrink-0 w-7 h-7 rounded-full flex items-center justify-center text-sm font-bold ${Qe==="correct"?"bg-green-500 text-white":Qe==="incorrect"?"bg-red-500 text-white":"bg-gray-500 text-white"}`,children:Qe==="correct"?"":Qe==="incorrect"?"":""}),b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[b.jsxs("span",{className:"text-xs font-bold text-indigo-400",children:["Cu ",le+1]}),b.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-bold ${Qe==="correct"?"bg-green-500/20 text-green-500":Qe==="incorrect"?"bg-red-500/20 text-red-500":"bg-gray-500/20 text-gray-500"}`,children:Qe==="correct"?"ng":Qe==="incorrect"?"Sai":"Cha lm"}),ve>0&&b.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-orange-500/20 text-orange-500 font-bold",children:[ve," ln sai"]})]}),b.jsx("p",{className:`font-medium ${H.text} mb-2 text-base`,children:Y.vietnamese_full||(Y.segments?Y.segments.map(We=>We.text).join(""):"")}),b.jsxs("div",{className:`${E?"bg-slate-800":"bg-slate-100"} p-3 rounded-lg mb-2`,children:[b.jsx("p",{className:"text-xs font-bold text-indigo-400 mb-1",children:"p n ng:"}),b.jsx("p",{className:"text-green-500 italic text-sm font-medium",children:Y.acceptableAnswers[0]})]}),_e&&ve>0&&b.jsx("div",{className:`${E?"bg-red-900/20":"bg-red-50"} p-3 rounded-lg border ${E?"border-red-800":"border-red-200"}`,children:Array.isArray(_e)&&_e.length>0?b.jsxs("div",{className:"space-y-3",children:[b.jsxs("p",{className:"text-xs font-bold text-red-400 mb-2",children:["Chi tit cc ln sai (",_e.length," ln):"]}),_e.map((We,In)=>b.jsxs("div",{className:`${E?"bg-red-900/30":"bg-red-100"} p-2 rounded border ${E?"border-red-800":"border-red-300"}`,children:[b.jsxs("p",{className:"text-xs font-bold text-orange-400 mb-1",children:["Ln ",In+1,":"]}),b.jsxs("p",{className:`${E?"text-red-300":"text-red-700"} italic text-sm mb-1`,children:['"',We.userAnswer||"Khng tr li",'"']}),We.feedback&&b.jsxs("p",{className:`${E?"text-orange-300":"text-orange-700"} text-xs`,children:[" ",We.feedback]})]},In))]}):_e.userAnswer?b.jsxs(b.Fragment,{children:[b.jsx("p",{className:"text-xs font-bold text-red-400 mb-1",children:"Cu tr li ca bn:"}),b.jsx("p",{className:`${E?"text-red-300":"text-red-700"} italic text-sm mb-2 font-medium`,children:_e.userAnswer}),_e.feedback&&b.jsxs(b.Fragment,{children:[b.jsx("p",{className:"text-xs font-bold text-orange-400 mb-1",children:"Li sai:"}),b.jsx("p",{className:`${E?"text-orange-300":"text-orange-700"} text-xs`,children:_e.feedback})]})]}):null}),Qe==="skipped"&&b.jsx("div",{className:`${E?"bg-gray-800/50":"bg-gray-100"} p-3 rounded-lg border ${E?"border-gray-700":"border-gray-300"}`,children:b.jsx("p",{className:`text-xs italic ${H.secondaryText}`,children:"Cu ny cha c lm (b qua)"})})]})]})},le)})}):b.jsx("p",{className:`${H.secondaryText} text-center py-10`,children:"Chi tit bi hc khng kh dng cho mc ny."})}),b.jsxs("div",{className:`p-4 border-t ${H.cardBorder} ${H.cardBg} flex justify-between items-center text-sm`,children:[b.jsxs("div",{className:"flex gap-4",children:[b.jsxs("span",{className:H.text,children:["im: ",b.jsx("strong",{className:Dt.score>=50?"text-green-500":"text-red-500",children:Math.round(Dt.score)})]}),b.jsxs("span",{className:"text-green-500 font-bold",children:[" ",Dt.completedCorrectly||0]}),b.jsxs("span",{className:"text-red-500 font-bold",children:[" ",Dt.failedSentences||0]})]}),b.jsxs("span",{className:H.secondaryText,children:["Tng: ",Dt.totalSentences," cu"]})]})]})})]});if(l==="generating")return b.jsxs("div",{className:`min-h-screen ${H.bg} flex flex-col items-center justify-center p-4`,children:[b.jsx(ao,{}),b.jsxs("div",{className:"text-center space-y-8",children:[b.jsxs("div",{className:"relative w-20 h-20 mx-auto",children:[b.jsx("div",{className:`absolute inset-0 border-4 ${E?"border-slate-700":"border-slate-200"} rounded-full`}),b.jsx("div",{className:"absolute inset-0 border-4 border-indigo-500 rounded-full border-t-transparent animate-spin"}),b.jsx(Ud,{className:"absolute inset-0 m-auto text-indigo-500 w-8 h-8 animate-pulse"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("h2",{className:`text-xl font-bold ${H.text}`,children:"AI ang vit bi lun..."}),b.jsxs("p",{className:`${H.secondaryText}`,children:["Ch : ",b.jsxs("span",{className:"text-indigo-500",children:['"',d,'"']})]})]})]})]});if(l==="error")return b.jsxs("div",{className:`min-h-screen ${H.bg} flex flex-col items-center justify-center p-4`,children:[b.jsx(ao,{}),b.jsxs("div",{className:"text-center space-y-6",children:[b.jsx("div",{className:"w-20 h-20 mx-auto bg-red-500/10 rounded-full flex items-center justify-center",children:b.jsx(zd,{className:"w-10 h-10 text-red-500"})}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("h2",{className:`text-xl font-bold ${H.text}`,children:"Khng th to bi hc"}),b.jsx("p",{className:`${H.secondaryText}`,children:"C li xy ra khi to ni dung. Vui lng th li."})]}),b.jsx("button",{onClick:()=>c("home"),className:`px-6 py-3 ${E?"bg-indigo-600 hover:bg-indigo-500":"bg-indigo-600 hover:bg-indigo-700"} text-white font-bold rounded-xl transition-all shadow-lg active:scale-95`,children:"Quay li trang ch"})]})]});if(l==="summary"){const Y=ns(yt);let le="Cn c gng",we="text-red-500";Y>=90?(le="Xut sc",we="text-green-500"):Y>=80?(le="Gii",we="text-blue-500"):Y>=65?(le="Kh",we="text-yellow-500"):Y>=50&&(le="Trung bnh",we="text-orange-500");const ve=2*Math.PI*50,Fe=ve-Y/100*ve,Qe=gn.filter(Boolean).length,We=(pe?.sentences?.length||0)-Qe;return b.jsxs("div",{className:`min-h-screen ${H.bg} flex items-center justify-center p-4`,children:[b.jsx(ao,{}),Yt&&b.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-indigo-600 text-white px-4 py-3 rounded-xl shadow-lg flex items-center gap-2 animate-in slide-in-from-top-2",children:[b.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),b.jsx("span",{className:"text-sm font-bold",children:"ang lu lch s..."})]}),b.jsxs("div",{className:`max-w-3xl w-full ${H.cardBg} rounded-3xl shadow-2xl p-8 md:p-12 border ${H.cardBorder}`,children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsxs("div",{className:"relative w-40 h-40 mx-auto mb-6",children:[b.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 120 120",children:[b.jsx("circle",{cx:"60",cy:"60",r:"50",fill:"none",stroke:E?"#374151":"#e5e7eb",strokeWidth:"10"}),b.jsx("circle",{className:"score-circle",cx:"60",cy:"60",r:"50",fill:"none",stroke:Y>=80?"#10B981":Y>=50?"#F59E0B":"#EF4444",strokeWidth:"10",strokeDasharray:ve,strokeDashoffset:Fe,strokeLinecap:"round"})]}),b.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[b.jsx("span",{className:`text-4xl font-bold ${H.text}`,children:Y}),b.jsx("span",{className:`text-xs uppercase font-bold ${H.secondaryText}`,children:"im"})]})]}),b.jsx("h1",{className:`text-3xl font-bold ${we} mb-2`,children:le}),b.jsxs("p",{className:`${H.secondaryText}`,children:["Ch : ",b.jsx("span",{className:"font-bold text-indigo-500",children:pe?.title})]})]}),b.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[b.jsxs("div",{className:`${E?"bg-slate-900":"bg-slate-50"} p-4 rounded-2xl text-center border ${H.cardBorder}`,children:[b.jsx(vA,{className:"w-6 h-6 text-red-500 mx-auto mb-2"}),b.jsx("div",{className:`text-2xl font-bold ${H.text}`,children:yt.mistakes}),b.jsx("div",{className:`text-xs ${H.secondaryText}`,children:"Li sai (-2)"})]}),b.jsxs("div",{className:`${E?"bg-slate-900":"bg-slate-50"} p-4 rounded-2xl text-center border ${H.cardBorder}`,children:[b.jsx(r0,{className:"w-6 h-6 text-orange-500 mx-auto mb-2"}),b.jsx("div",{className:`text-2xl font-bold ${H.text}`,children:We}),b.jsx("div",{className:`text-xs ${H.secondaryText}`,children:"B qua (-10)"})]}),b.jsxs("div",{className:`${E?"bg-slate-900":"bg-slate-50"} p-4 rounded-2xl text-center border ${H.cardBorder}`,children:[b.jsx(n0,{className:"w-6 h-6 text-yellow-500 mx-auto mb-2"}),b.jsx("div",{className:`text-2xl font-bold ${H.text}`,children:yt.hints}),b.jsx("div",{className:`text-xs ${H.secondaryText}`,children:"Gi  (0)"})]}),b.jsxs("div",{className:`${E?"bg-slate-900":"bg-slate-50"} p-4 rounded-2xl text-center border ${H.cardBorder}`,children:[b.jsx(oA,{className:"w-6 h-6 text-blue-500 mx-auto mb-2"}),b.jsx("div",{className:`text-2xl font-bold ${H.text}`,children:yt.fullAnswers}),b.jsx("div",{className:`text-xs ${H.secondaryText}`,children:"p n (-15)"})]})]}),b.jsxs("div",{className:`${E?"bg-slate-900":"bg-slate-50"} p-6 rounded-2xl text-left mb-8 border ${H.cardBorder} max-h-60 overflow-y-auto custom-scrollbar`,children:[b.jsx("h4",{className:`text-xs font-bold ${H.secondaryText} uppercase mb-2`,children:"on vn hon chnh"}),b.jsx("p",{className:`${H.text} text-base leading-relaxed`,children:pe?.sentences.map(In=>In.acceptableAnswers[0]).join(" ")})]}),b.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3",children:[b.jsxs("button",{onClick:Ir,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-xl flex items-center justify-center gap-2 shadow-lg transition-transform active:scale-95",children:[b.jsx(jA,{className:"w-5 h-5"})," Bi hc mi"]}),b.jsxs("button",{onClick:()=>c("history"),className:`${E?"bg-slate-600 hover:bg-slate-700":"bg-slate-500 hover:bg-slate-600"} text-white font-bold py-3 px-8 rounded-xl flex items-center justify-center gap-2 shadow-lg transition-transform active:scale-95`,children:[b.jsx(t0,{className:"w-5 h-5"})," Xem lch s"]})]})]})]})}return b.jsxs("div",{className:`min-h-screen ${H.bg} ${H.text} ${l==="learning"?"p-2 md:p-3":"p-4 md:p-6"} flex flex-col font-medium transition-colors duration-300 font-sans`,children:[b.jsx(ao,{}),ts&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 animate-in fade-in",children:b.jsxs("div",{className:`${H.cardBg} p-6 rounded-2xl shadow-2xl max-w-sm w-full border ${H.cardBorder}`,children:[b.jsx("h3",{className:`text-lg font-bold ${H.text} mb-2`,children:"Kt thc sm?"}),b.jsx("p",{className:`${H.secondaryText} mb-6 text-sm`,children:"Bn c chc mun dng? Cc cu cha hon thnh s b tnh l b qua v tr im."}),b.jsxs("div",{className:"flex gap-3 justify-end",children:[b.jsx("button",{onClick:Cn,className:`px-4 py-2 rounded-xl text-sm font-bold ${H.secondaryText} hover:${H.bg}`,children:"Hy"}),b.jsx("button",{onClick:qn,className:"px-4 py-2 rounded-xl text-sm font-bold bg-red-500 hover:bg-red-600 text-white",children:"Kt thc ngay"})]})]})}),l==="home"&&b.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center max-w-2xl mx-auto w-full animate-in fade-in slide-in-from-bottom-8",children:[b.jsxs("div",{className:"absolute top-4 left-4 flex items-center gap-3",children:[b.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-600 flex items-center justify-center text-white font-bold text-lg shadow-lg cursor-pointer hover:scale-105 transition-transform",onClick:()=>c("history"),children:s?.displayName?.charAt(0)||b.jsx(YA,{className:"w-5 h-5"})}),b.jsxs("div",{className:"hidden md:block",children:[b.jsx("p",{className:`text-xs font-bold ${H.secondaryText}`,children:"Xin cho,"}),b.jsx("p",{className:`font-bold ${H.text}`,children:s?.displayName||"Hc vin"})]})]}),b.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[b.jsx("button",{onClick:()=>c("history"),className:`p-2.5 rounded-full ${E?H.cardBg+" "+H.secondaryText+" hover:"+H.text:"bg-gradient-to-br from-indigo-50 to-purple-50 hover:from-indigo-100 hover:to-purple-100 text-indigo-600"} border ${E?H.cardBorder:"border-indigo-200"}`,title:"Lch s",children:b.jsx(t0,{className:"w-5 h-5"})}),b.jsx("button",{onClick:Fn,className:`p-2.5 rounded-full ${E?H.cardBg+" text-yellow-400 border "+H.cardBorder:"bg-gradient-to-br from-orange-50 to-amber-50 hover:from-orange-100 hover:to-amber-100 text-orange-600 border border-orange-200"}`,children:E?b.jsx(kc,{className:"w-5 h-5"}):b.jsx(Lc,{className:"w-5 h-5"})}),b.jsx("button",{onClick:Et,className:`p-2.5 rounded-full ${E?H.cardBg+" text-red-500 hover:bg-red-500/10":"bg-gradient-to-br from-rose-50 to-red-50 hover:from-rose-100 hover:to-red-100 text-rose-600"} border ${E?H.cardBorder:"border-rose-200"}`,title:"ng xut",children:b.jsx(MA,{className:"w-5 h-5"})})]}),b.jsxs("div",{className:"space-y-4 text-center mb-8 mt-12",children:[b.jsx("div",{className:`inline-flex items-center justify-center p-4 ${H.cardBg} rounded-full shadow-xl mb-2`,children:b.jsx(jd,{className:"w-12 h-12 text-indigo-500"})}),b.jsx("h1",{className:`text-4xl md:text-5xl font-extrabold ${E?"text-white":"text-slate-900"} tracking-tight`,children:"AI English Tutor"}),b.jsx("p",{className:`text-base md:text-lg ${H.secondaryText}`,children:"Luyn dch thc t. Chm im & sa li thng minh."})]}),b.jsxs("div",{className:`${H.cardBg} p-5 rounded-3xl shadow-2xl border ${H.cardBorder} w-full transition-all`,children:[b.jsx("div",{className:"flex justify-center gap-2 mb-5",children:[{id:"short",label:"Ngn"},{id:"medium",label:"Va"},{id:"long",label:"Di"}].map(Y=>b.jsx("button",{onClick:()=>_(Y.id),className:`px-4 py-2 text-xs font-bold rounded-xl border-2 transition-all ${y===Y.id?E?"bg-indigo-600 text-white border-indigo-600":"bg-gradient-to-r from-indigo-500 to-purple-600 text-white border-transparent":E?`${H.bg} ${H.secondaryText} border-slate-700 hover:border-indigo-500`:"bg-gradient-to-br from-slate-50 to-gray-50 text-slate-700 border-slate-300 hover:border-indigo-400 hover:from-indigo-50 hover:to-purple-50 hover:text-indigo-600"}`,children:Y.label},Y.id))}),b.jsxs("form",{onSubmit:va,className:"relative flex items-center",children:[b.jsx("div",{className:"pl-4 text-indigo-400",children:b.jsx(Ud,{className:"w-6 h-6"})}),b.jsx("input",{ref:pa,type:"text",value:d,onChange:Y=>g(Y.target.value),placeholder:"Nhp ch  (VD: Cuc sng  Sao Ha)...",className:`w-full p-4 text-base bg-transparent outline-none ${H.inputText} placeholder-slate-400 font-medium`}),b.jsx("button",{type:"submit",disabled:!d.trim(),className:"bg-indigo-600 hover:bg-indigo-700 text-white p-3 rounded-xl m-1 transition-all shadow-md active:scale-95",children:b.jsx(Vc,{className:"w-6 h-6"})})]})]}),b.jsxs("div",{className:`flex flex-wrap justify-center gap-2 text-sm ${H.secondaryText} mt-6`,children:[M.map(Y=>b.jsx("button",{onClick:()=>g(Y),className:`${E?H.cardBg+" border-2 border-slate-700 hover:border-indigo-500":"bg-gradient-to-br from-indigo-50 to-purple-50 border-2 border-indigo-200 hover:border-indigo-400 hover:from-indigo-100 hover:to-purple-100"} px-4 py-2 rounded-full ${E?"hover:text-indigo-400":"hover:text-indigo-700"} transition-all shadow-sm hover:shadow-md ${E?"text-slate-300":"text-slate-700"} font-medium`,children:Y},Y)),b.jsx("button",{onClick:()=>$(tm()),className:`p-2 rounded-full transition-all ${E?"hover:bg-indigo-500/10 text-indigo-400":"bg-gradient-to-br from-indigo-50 to-purple-50 hover:from-indigo-100 hover:to-purple-100 text-indigo-600 border border-indigo-200"}`,children:b.jsx(UA,{className:"w-4 h-4"})})]})]}),l==="learning"&&pe&&b.jsxs(b.Fragment,{children:[b.jsxs("header",{className:"w-full mb-4 flex items-center justify-between px-1 lg:px-4",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("button",{onClick:()=>c("home"),className:`p-2 rounded-full transition-all ${E?"hover:bg-slate-800 text-slate-400":"bg-gradient-to-br from-indigo-50 to-purple-50 hover:from-indigo-100 hover:to-purple-100 text-indigo-600 border border-indigo-200"}`,children:b.jsx(Vc,{className:"w-6 h-6 rotate-180"})}),b.jsxs("div",{children:[b.jsx("h1",{className:`text-xl font-bold ${H.text} flex items-center gap-3`,children:pe.title}),b.jsx("span",{className:"text-xs font-bold bg-indigo-500/10 text-indigo-500 px-3 py-1 rounded-full uppercase border border-indigo-500/20",children:pe.type})]})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs("button",{onClick:Bn,className:`hidden md:flex items-center gap-1 px-3 py-1.5 rounded-lg ${E?"bg-slate-500/10 hover:bg-slate-500/20 text-slate-400":"bg-rose-50 hover:bg-rose-100 text-rose-600 border border-rose-200"} text-xs font-bold transition-colors`,children:[b.jsx(r0,{className:"w-4 h-4"})," Kt thc"]}),b.jsx("button",{onClick:Fn,className:`p-2 rounded-full ${E?H.cardBg+" text-yellow-400 shadow-sm border "+H.cardBorder:"bg-gradient-to-br from-orange-50 to-amber-50 hover:from-orange-100 hover:to-amber-100 text-orange-600 shadow-sm border border-orange-200"}`,children:E?b.jsx(kc,{className:"w-5 h-5"}):b.jsx(Lc,{className:"w-5 h-5"})}),b.jsxs("div",{className:`hidden md:flex ${H.cardBg} px-4 py-2 rounded-xl shadow-sm border ${H.cardBorder} text-sm font-bold`,children:[b.jsx("span",{className:`${H.secondaryText} mr-2`,children:"TIN "})," ",b.jsxs("span",{className:"text-indigo-500",children:[B+1," ",b.jsx("span",{className:H.secondaryText,children:"/"})," ",pe.sentences.length]})]})]})]}),b.jsxs("div",{className:"w-full grid grid-cols-1 lg:grid-cols-12 gap-4 flex-1 min-h-0 px-1 lg:px-4",children:[b.jsx("div",{className:`lg:col-span-8 ${H.cardBg} p-6 pt-16 rounded-3xl ${E?"shadow-xl":"shadow-2xl shadow-slate-300/50"} border-2 ${H.cardBorder} overflow-y-auto h-[30vh] lg:h-auto custom-scrollbar`,children:b.jsx("div",{className:`text-base md:text-lg leading-[3] ${H.text} font-sans relative`,style:{zIndex:1},children:pe.sentences.map((Y,le)=>{const we=gn[le],_e=le===B;if(we)return b.jsxs("span",{className:"text-green-500 dark:text-green-400 transition-all duration-500 mr-1",children:[Y.acceptableAnswers[0]," "]},Y.id);let ve="transition-all duration-300 inline mr-1 rounded px-1 ";return _e?ve+=`${H.highlightBg} ${H.highlightText} shadow-[inset_0_0_0_2px_rgba(99,102,241,0.5)] py-1 `:ve+=E?"text-slate-500 ":"text-gray-800 ",b.jsx("span",{className:ve,children:Y.segments.map((Fe,Qe)=>{const We=Y.segments[Qe+1],In=We&&!/^[.,!?;:)]/.test(We.text);return b.jsxs($b.Fragment,{children:[b.jsxs("span",{className:"tooltip-word group relative cursor-help inline-block hover:text-indigo-500 transition-colors",children:[Fe.text,b.jsx("span",{className:`tooltip-content invisible group-hover:visible absolute left-1/2 -translate-x-1/2 bottom-full mb-1 px-3 py-2 ${E?"bg-slate-800 text-white border-2 border-slate-600":"bg-slate-900 text-white border-2 border-slate-700"} text-sm font-medium rounded-lg shadow-2xl whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-200`,children:Fe.trans})]}),In&&" "]},Qe)})},Y.id)})})}),b.jsxs("div",{className:"lg:col-span-4 flex flex-col h-full gap-4 min-h-[500px]",children:[b.jsxs("div",{className:`flex-1 ${H.cardBg} rounded-3xl ${E?"shadow-xl":"shadow-2xl shadow-slate-300/50"} border-2 ${H.cardBorder} flex flex-col overflow-hidden relative`,children:[b.jsxs("div",{className:`flex-1 p-6 overflow-y-auto ${H.bg} space-y-6 custom-scrollbar`,children:[b.jsxs("div",{className:"flex gap-4 animate-in slide-in-from-left-4",children:[b.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:b.jsx(Ud,{className:"w-6 h-6 text-indigo-600"})}),b.jsxs("div",{className:`${H.cardBg} p-5 rounded-3xl rounded-tl-none shadow-sm border ${H.cardBorder} w-full`,children:[b.jsx("p",{className:`text-xs font-bold ${H.secondaryText} uppercase mb-2`,children:"Dch cu ny"}),b.jsxs("div",{className:`text-lg p-4 rounded-xl border-2 italic font-bold ${E?"bg-indigo-900/60 text-indigo-100 border-indigo-700":"bg-indigo-100 text-indigo-950 border-indigo-300"}`,children:['"',pe.sentences[B].segments.map((Y,le)=>{const we=pe.sentences[B].segments[le+1],_e=we&&!/^[.,!?;:)]/.test(we.text)?" ":"";return Y.text+_e}),'"']})]})]}),ye!=="idle"&&ye!=="checking"&&b.jsxs("div",{className:"flex gap-4 flex-row-reverse animate-in slide-in-from-right-4",children:[b.jsx("div",{className:`w-10 h-10 ${E?"bg-slate-700":"bg-gradient-to-br from-indigo-100 to-purple-100"} rounded-2xl flex items-center justify-center flex-shrink-0`,children:b.jsx("div",{className:`w-6 h-6 rounded-full ${E?"bg-slate-500":"bg-gradient-to-br from-indigo-400 to-purple-500"}`})}),b.jsx("div",{className:`p-5 rounded-3xl rounded-tr-none shadow-lg max-w-[85%] text-lg relative overflow-visible z-10 font-medium border-2 ${E?ye==="correct"?"bg-slate-800 text-white border-green-500":"bg-slate-800 text-white border-red-500":ye==="correct"?"bg-white text-slate-900 border-green-500":"bg-white text-slate-900 border-red-500"}`,children:ss()})]}),ye==="correct"&&b.jsxs("div",{className:"flex gap-4 animate-in slide-in-from-left-4",children:[b.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:b.jsx(Pd,{className:"w-6 h-6 text-green-600"})}),b.jsxs("div",{className:`${H.successBg} p-5 rounded-3xl rounded-tl-none border ${E?"border-green-800":"border-green-200"} w-full`,children:[b.jsx("p",{className:`font-bold ${H.successText} text-lg mb-2`,children:"Tuyt vi!"}),re&&b.jsx("p",{className:`text-sm ${H.successText} mb-3 italic`,children:String(re)}),Ce&&b.jsxs("div",{className:`mt-3 ${H.cardBg} p-3 rounded-xl border ${H.cardBorder}`,children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx(TA,{className:"w-4 h-4 text-indigo-400"}),b.jsx("span",{className:"text-xs font-bold text-indigo-400 uppercase",children:"p n mu"})]}),b.jsx("p",{className:`${H.text} text-sm italic`,children:Ce})]}),b.jsxs("button",{onClick:At,className:"mt-4 w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg active:scale-95 transition-all",children:["Cu tip theo ",b.jsx(Vc,{className:"w-5 h-5"})]})]})]}),ye==="checking"&&b.jsxs("div",{className:"flex gap-4 animate-in slide-in-from-left-4",children:[b.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-2xl flex items-center justify-center flex-shrink-0 animate-pulse",children:b.jsx(s0,{className:"w-6 h-6 text-indigo-600"})}),b.jsx("div",{className:`${H.cardBg} p-4 rounded-3xl rounded-tl-none border ${H.cardBorder} text-sm italic ${H.secondaryText}`,children:"AI ang kim tra ng ngha cu tr li ca bn..."})]}),ye==="incorrect"&&b.jsxs("div",{className:"flex gap-4 animate-in slide-in-from-left-4",children:[b.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:b.jsx(QA,{className:"w-6 h-6 text-red-600"})}),b.jsxs("div",{className:`${H.errorBg} p-5 rounded-3xl rounded-tl-none border ${E?"border-red-800":"border-red-200"} w-full`,children:[b.jsx("p",{className:`font-bold ${H.errorText} mb-3 text-lg`,children:"Cha chnh xc lm."}),b.jsxs("div",{className:`mb-3 ${H.cardBg} p-4 rounded-xl border ${E?"border-red-500/30":"border-red-200"}`,children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx(s0,{className:"w-4 h-4 text-indigo-400"}),b.jsx("span",{className:"text-xs font-bold text-indigo-400 uppercase",children:"AI Phn tch li sai"})]}),b.jsx("p",{className:`${H.text} text-sm italic leading-relaxed`,children:String(re||"Cu tr li cha st ngha. Hy kim tra t vng v ng php.")})]})]})]}),b.jsx("div",{ref:ga})]}),b.jsx("div",{className:`p-4 md:p-6 ${H.cardBg} border-t ${H.cardBorder} z-20 transition-colors duration-300`,children:b.jsxs("form",{onSubmit:Rn,className:"relative group",children:[b.jsx("textarea",{ref:zn,value:ce,onChange:Y=>Le(Y.target.value),disabled:ye==="correct"||ye==="checking",onKeyDown:Y=>{Y.key==="Enter"&&!Y.shiftKey&&(Y.preventDefault(),ye!=="correct"&&ye!=="checking"&&Rn(Y))},placeholder:ye==="correct"?"ang ch...":"Nhp cu dch...",className:`w-full p-4 pr-14 rounded-2xl ${H.inputBg} ${H.inputBorder} border-2 focus:border-indigo-500 outline-none resize-none text-base shadow-inner ${H.inputText}`,rows:"2"}),ye!=="correct"&&ye!=="checking"&&b.jsx("button",{type:"submit",disabled:!ce.trim(),className:"absolute right-3 top-1/2 -translate-y-1/2 p-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl shadow-lg active:scale-95 disabled:opacity-50 transition-all",children:b.jsx(qA,{className:"w-5 h-5"})})]})})]}),ye!=="correct"&&b.jsx("div",{className:`${H.cardBg} rounded-3xl shadow-lg border ${H.cardBorder} overflow-hidden flex-shrink-0 transition-all duration-300`,children:bt?b.jsxs("div",{className:`p-5 ${E?"bg-amber-900/20":"bg-amber-50"} animate-in fade-in relative border-2 ${E?"border-amber-900/30":"border-amber-200"}`,children:[b.jsx("button",{onClick:()=>tt(!1),className:`absolute top-3 right-3 p-1.5 rounded-full transition-colors ${E?"bg-white/10 hover:bg-white/20 text-amber-400":"bg-amber-200/50 hover:bg-amber-300/70 text-amber-700"}`,title:"Thu gn",children:b.jsx(pA,{className:"w-4 h-4"})}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsxs("p",{className:"text-xs font-bold ${isDarkMode ? 'text-amber-400' : 'text-amber-600'} uppercase mb-2 flex items-center gap-2",children:[b.jsx(jd,{className:"w-4 h-4"})," Gi  Ng php"]}),b.jsx("p",{className:`${H.text} text-sm mb-3 font-medium ${H.cardBg} p-3 rounded-xl border-2 ${E?"border-amber-900/30":"border-amber-300"}`,children:pe.sentences[B].grammar_hint})]}),pe.sentences[B].structure&&b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[b.jsxs("div",{children:[b.jsxs("p",{className:"text-xs font-bold ${isDarkMode ? 'text-amber-400' : 'text-amber-600'} uppercase mb-2 flex items-center gap-2",children:[b.jsx(SA,{className:"w-4 h-4"})," Cu trc"]}),b.jsx("div",{className:`${H.text} text-sm ${H.cardBg} p-2 rounded-lg border-2 ${E?"border-amber-900/30":"border-amber-300"} font-mono text-xs`,children:pe.sentences[B].structure})]}),b.jsxs("div",{children:[b.jsxs("p",{className:"text-xs font-bold ${isDarkMode ? 'text-amber-400' : 'text-amber-600'} uppercase mb-2 flex items-center gap-2",children:[b.jsx(uA,{className:"w-4 h-4"})," V d"]}),b.jsxs("div",{className:`${H.text} text-sm ${H.cardBg} p-2 rounded-lg border-2 ${E?"border-amber-900/30":"border-amber-300"} italic`,children:[b.jsx("p",{className:"mb-1 text-indigo-400",children:pe.sentences[B].example_en}),b.jsx("p",{className:"text-xs opacity-80",children:pe.sentences[B].example_vi})]})]})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs font-bold ${isDarkMode ? 'text-amber-400' : 'text-amber-600'} uppercase mb-2",children:"T vng cn dng"}),b.jsx("div",{className:"flex flex-wrap gap-2",children:pe.sentences[B].vocabulary.map((Y,le)=>b.jsxs("span",{className:`text-xs ${H.cardBg} px-2 py-1 rounded-lg ${E?"text-amber-400":"text-amber-700"} border-2 ${E?"border-amber-900":"border-amber-300"} font-medium`,children:[Y.word,": ",Y.meaning]},le))})]}),Ti?b.jsxs("p",{className:`${H.text} font-serif italic text-base border-t ${H.cardBorder} pt-2 mt-2`,children:['"',pe.sentences[B].acceptableAnswers[0],'"']}):b.jsx("button",{onClick:Lo,className:`text-xs font-bold ${E?"text-slate-400 hover:text-white":"text-amber-700 hover:text-amber-900"} hover:underline`,children:"Xem p n y "})]})]}):b.jsxs("button",{onClick:is,className:`w-full flex items-center justify-center gap-2 py-4 ${E?"text-amber-500 hover:bg-amber-500/10":"bg-gradient-to-r from-amber-50 to-yellow-50 hover:from-amber-100 hover:to-yellow-100 text-amber-700 border-2 border-amber-200"} font-bold text-sm transition-colors`,children:[b.jsx(n0,{className:"w-5 h-5"})," XEM GI "]})})]})]})]})]})}Wb.createRoot(document.getElementById("root")).render(b.jsx(xe.StrictMode,{children:b.jsx(MN,{})}));
