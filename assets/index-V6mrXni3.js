(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function K1(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Md={exports:{}},Vl={};var K0;function Y1(){if(K0)return Vl;K0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Vl.Fragment=e,Vl.jsx=i,Vl.jsxs=i,Vl}var Y0;function X1(){return Y0||(Y0=1,Md.exports=Y1()),Md.exports}var E=X1(),Vd={exports:{}},Ce={};var X0;function J1(){if(X0)return Ce;X0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),S=Symbol.iterator;function K(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ie=Object.assign,te={};function pe(M,$,ae){this.props=M,this.context=$,this.refs=te,this.updater=ae||W}pe.prototype.isReactComponent={},pe.prototype.setState=function(M,$){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,$,"setState")},pe.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ve(){}ve.prototype=pe.prototype;function Te(M,$,ae){this.props=M,this.context=$,this.refs=te,this.updater=ae||W}var Le=Te.prototype=new ve;Le.constructor=Te,ie(Le,pe.prototype),Le.isPureReactComponent=!0;var Xe=Array.isArray;function ke(){}var N={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(M,$,ae){var ne=ae.ref;return{$$typeof:s,type:M,key:$,ref:ne!==void 0?ne:null,props:ae}}function V(M,$){return I(M.type,$,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function L(M){var $={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ae){return $[ae]})}var x=/\/+/g;function ft(M,$){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):$.toString(36)}function Tt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ke,ke):(M.status="pending",M.then(function($){M.status==="pending"&&(M.status="fulfilled",M.value=$)},function($){M.status==="pending"&&(M.status="rejected",M.reason=$)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,$,ae,ne,de){var Re=typeof M;(Re==="undefined"||Re==="boolean")&&(M=null);var De=!1;if(M===null)De=!0;else switch(Re){case"bigint":case"string":case"number":De=!0;break;case"object":switch(M.$$typeof){case s:case e:De=!0;break;case A:return De=M._init,F(De(M._payload),$,ae,ne,de)}}if(De)return de=de(M),De=ne===""?"."+ft(M,0):ne,Xe(de)?(ae="",De!=null&&(ae=De.replace(x,"$&/")+"/"),F(de,$,ae,"",function(xi){return xi})):de!=null&&(D(de)&&(de=V(de,ae+(de.key==null||M&&M.key===de.key?"":(""+de.key).replace(x,"$&/")+"/")+De)),$.push(de)),1;De=0;var St=ne===""?".":ne+":";if(Xe(M))for(var Fe=0;Fe<M.length;Fe++)ne=M[Fe],Re=St+ft(ne,Fe),De+=F(ne,$,ae,Re,de);else if(Fe=K(M),typeof Fe=="function")for(M=Fe.call(M),Fe=0;!(ne=M.next()).done;)ne=ne.value,Re=St+ft(ne,Fe++),De+=F(ne,$,ae,Re,de);else if(Re==="object"){if(typeof M.then=="function")return F(Tt(M),$,ae,ne,de);throw $=String(M),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return De}function re(M,$,ae){if(M==null)return M;var ne=[],de=0;return F(M,ne,"","",function(Re){return $.call(ae,Re,de++)}),ne}function ee(M){if(M._status===-1){var $=M._result;$=$(),$.then(function(ae){(M._status===0||M._status===-1)&&(M._status=1,M._result=ae)},function(ae){(M._status===0||M._status===-1)&&(M._status=2,M._result=ae)}),M._status===-1&&(M._status=0,M._result=$)}if(M._status===1)return M._result.default;throw M._result}var Ge=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},fe={map:re,forEach:function(M,$,ae){re(M,function(){$.apply(this,arguments)},ae)},count:function(M){var $=0;return re(M,function(){$++}),$},toArray:function(M){return re(M,function($){return $})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ce.Activity=w,Ce.Children=fe,Ce.Component=pe,Ce.Fragment=i,Ce.Profiler=l,Ce.PureComponent=Te,Ce.StrictMode=r,Ce.Suspense=y,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},Ce.cache=function(M){return function(){return M.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(M,$,ae){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ne=ie({},M.props),de=M.key;if($!=null)for(Re in $.key!==void 0&&(de=""+$.key),$)!R.call($,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&$.ref===void 0||(ne[Re]=$[Re]);var Re=arguments.length-2;if(Re===1)ne.children=ae;else if(1<Re){for(var De=Array(Re),St=0;St<Re;St++)De[St]=arguments[St+2];ne.children=De}return I(M.type,de,ne)},Ce.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Ce.createElement=function(M,$,ae){var ne,de={},Re=null;if($!=null)for(ne in $.key!==void 0&&(Re=""+$.key),$)R.call($,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(de[ne]=$[ne]);var De=arguments.length-2;if(De===1)de.children=ae;else if(1<De){for(var St=Array(De),Fe=0;Fe<De;Fe++)St[Fe]=arguments[Fe+2];de.children=St}if(M&&M.defaultProps)for(ne in De=M.defaultProps,De)de[ne]===void 0&&(de[ne]=De[ne]);return I(M,Re,de)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(M){return{$$typeof:g,render:M}},Ce.isValidElement=D,Ce.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:ee}},Ce.memo=function(M,$){return{$$typeof:_,type:M,compare:$===void 0?null:$}},Ce.startTransition=function(M){var $=N.T,ae={};N.T=ae;try{var ne=M(),de=N.S;de!==null&&de(ae,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(ke,Ge)}catch(Re){Ge(Re)}finally{$!==null&&ae.types!==null&&($.types=ae.types),N.T=$}},Ce.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ce.use=function(M){return N.H.use(M)},Ce.useActionState=function(M,$,ae){return N.H.useActionState(M,$,ae)},Ce.useCallback=function(M,$){return N.H.useCallback(M,$)},Ce.useContext=function(M){return N.H.useContext(M)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(M,$){return N.H.useDeferredValue(M,$)},Ce.useEffect=function(M,$){return N.H.useEffect(M,$)},Ce.useEffectEvent=function(M){return N.H.useEffectEvent(M)},Ce.useId=function(){return N.H.useId()},Ce.useImperativeHandle=function(M,$,ae){return N.H.useImperativeHandle(M,$,ae)},Ce.useInsertionEffect=function(M,$){return N.H.useInsertionEffect(M,$)},Ce.useLayoutEffect=function(M,$){return N.H.useLayoutEffect(M,$)},Ce.useMemo=function(M,$){return N.H.useMemo(M,$)},Ce.useOptimistic=function(M,$){return N.H.useOptimistic(M,$)},Ce.useReducer=function(M,$,ae){return N.H.useReducer(M,$,ae)},Ce.useRef=function(M){return N.H.useRef(M)},Ce.useState=function(M){return N.H.useState(M)},Ce.useSyncExternalStore=function(M,$,ae){return N.H.useSyncExternalStore(M,$,ae)},Ce.useTransition=function(){return N.H.useTransition()},Ce.version="19.2.0",Ce}var J0;function Im(){return J0||(J0=1,Vd.exports=J1()),Vd.exports}var be=Im();const Z1=K1(be);var kd={exports:{}},kl={},Ld={exports:{}},jd={};var Z0;function W1(){return Z0||(Z0=1,(function(s){function e(F,re){var ee=F.length;F.push(re);e:for(;0<ee;){var Ge=ee-1>>>1,fe=F[Ge];if(0<l(fe,re))F[Ge]=re,F[ee]=fe,ee=Ge;else break e}}function i(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var re=F[0],ee=F.pop();if(ee!==re){F[0]=ee;e:for(var Ge=0,fe=F.length,M=fe>>>1;Ge<M;){var $=2*(Ge+1)-1,ae=F[$],ne=$+1,de=F[ne];if(0>l(ae,ee))ne<fe&&0>l(de,ae)?(F[Ge]=de,F[ne]=ee,Ge=ne):(F[Ge]=ae,F[$]=ee,Ge=$);else if(ne<fe&&0>l(de,ee))F[Ge]=de,F[ne]=ee,Ge=ne;else break e}}return re}function l(F,re){var ee=F.sortIndex-re.sortIndex;return ee!==0?ee:F.id-re.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],_=[],A=1,w=null,S=3,K=!1,W=!1,ie=!1,te=!1,pe=typeof setTimeout=="function"?setTimeout:null,ve=typeof clearTimeout=="function"?clearTimeout:null,Te=typeof setImmediate<"u"?setImmediate:null;function Le(F){for(var re=i(_);re!==null;){if(re.callback===null)r(_);else if(re.startTime<=F)r(_),re.sortIndex=re.expirationTime,e(y,re);else break;re=i(_)}}function Xe(F){if(ie=!1,Le(F),!W)if(i(y)!==null)W=!0,ke||(ke=!0,L());else{var re=i(_);re!==null&&Tt(Xe,re.startTime-F)}}var ke=!1,N=-1,R=5,I=-1;function V(){return te?!0:!(s.unstable_now()-I<R)}function D(){if(te=!1,ke){var F=s.unstable_now();I=F;var re=!0;try{e:{W=!1,ie&&(ie=!1,ve(N),N=-1),K=!0;var ee=S;try{t:{for(Le(F),w=i(y);w!==null&&!(w.expirationTime>F&&V());){var Ge=w.callback;if(typeof Ge=="function"){w.callback=null,S=w.priorityLevel;var fe=Ge(w.expirationTime<=F);if(F=s.unstable_now(),typeof fe=="function"){w.callback=fe,Le(F),re=!0;break t}w===i(y)&&r(y),Le(F)}else r(y);w=i(y)}if(w!==null)re=!0;else{var M=i(_);M!==null&&Tt(Xe,M.startTime-F),re=!1}}break e}finally{w=null,S=ee,K=!1}re=void 0}}finally{re?L():ke=!1}}}var L;if(typeof Te=="function")L=function(){Te(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ft=x.port2;x.port1.onmessage=D,L=function(){ft.postMessage(null)}}else L=function(){pe(D,0)};function Tt(F,re){N=pe(function(){F(s.unstable_now())},re)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(F){switch(S){case 1:case 2:case 3:var re=3;break;default:re=S}var ee=S;S=re;try{return F()}finally{S=ee}},s.unstable_requestPaint=function(){te=!0},s.unstable_runWithPriority=function(F,re){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ee=S;S=F;try{return re()}finally{S=ee}},s.unstable_scheduleCallback=function(F,re,ee){var Ge=s.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Ge+ee:Ge):ee=Ge,F){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=ee+fe,F={id:A++,callback:re,priorityLevel:F,startTime:ee,expirationTime:fe,sortIndex:-1},ee>Ge?(F.sortIndex=ee,e(_,F),i(y)===null&&F===i(_)&&(ie?(ve(N),N=-1):ie=!0,Tt(Xe,ee-Ge))):(F.sortIndex=fe,e(y,F),W||K||(W=!0,ke||(ke=!0,L()))),F},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(F){var re=S;return function(){var ee=S;S=re;try{return F.apply(this,arguments)}finally{S=ee}}}})(jd)),jd}var W0;function eS(){return W0||(W0=1,Ld.exports=W1()),Ld.exports}var Ud={exports:{}},hn={};var e_;function tS(){if(e_)return hn;e_=1;var s=Im();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:y,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,hn.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,A)},hn.flushSync=function(y){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=_,r.p=A,r.d.f()}},hn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},hn.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},hn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,w=g(A,_.crossOrigin),S=typeof _.integrity=="string"?_.integrity:void 0,K=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:K}):A==="script"&&r.d.X(y,{crossOrigin:w,integrity:S,fetchPriority:K,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},hn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},hn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,w=g(A,_.crossOrigin);r.d.L(y,A,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},hn.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=g(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},hn.requestFormReset=function(y){r.d.r(y)},hn.unstable_batchedUpdates=function(y,_){return y(_)},hn.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},hn.useFormStatus=function(){return d.H.useHostTransitionStatus()},hn.version="19.2.0",hn}var t_;function nS(){if(t_)return Ud.exports;t_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ud.exports=tS(),Ud.exports}var n_;function iS(){if(n_)return kl;n_=1;var s=eS(),e=Im(),i=nS();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),t;if(f===o)return y(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var p=!1,b=h.child;b;){if(b===a){p=!0,a=h,o=f;break}if(b===o){p=!0,o=h,a=f;break}b=b.sibling}if(!p){for(b=f.child;b;){if(b===a){p=!0,a=f,o=h;break}if(b===o){p=!0,o=f,a=h;break}b=b.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,S=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),ve=Symbol.for("react.consumer"),Te=Symbol.for("react.context"),Le=Symbol.for("react.forward_ref"),Xe=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function ft(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ie:return"Fragment";case pe:return"Profiler";case te:return"StrictMode";case Xe:return"Suspense";case ke:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case Te:return t.displayName||"Context";case ve:return(t._context.displayName||"Context")+".Consumer";case Le:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:ft(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return ft(t(n))}catch{}}return null}var Tt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Ge=[],fe=-1;function M(t){return{current:t}}function $(t){0>fe||(t.current=Ge[fe],Ge[fe]=null,fe--)}function ae(t,n){fe++,Ge[fe]=t.current,t.current=n}var ne=M(null),de=M(null),Re=M(null),De=M(null);function St(t,n){switch(ae(Re,n),ae(de,t),ae(ne,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?y0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=y0(n),t=_0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(ne),ae(ne,t)}function Fe(){$(ne),$(de),$(Re)}function xi(t){t.memoizedState!==null&&ae(De,t);var n=ne.current,a=_0(n,t.type);n!==a&&(ae(de,t),ae(ne,a))}function vn(t){de.current===t&&($(ne),$(de)),De.current===t&&($(De),Nl._currentValue=ee)}var Wi,ui;function Cn(t){if(Wi===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Wi=n&&n[1]||"",ui=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wi+t+ui}var es=!1;function un(t,n){if(!t||es)return"";es=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(G){var B=G}Reflect.construct(t,[],X)}else{try{X.call()}catch(G){B=G}t.call(X.prototype)}}else{try{throw Error()}catch(G){B=G}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(G){if(G&&B&&typeof G.stack=="string")return[G.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],b=f[1];if(p&&b){var C=p.split(`
`),P=b.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===P.length)for(o=C.length-1,h=P.length-1;1<=o&&0<=h&&C[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==P[h]){var Q=`
`+C[o].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=o&&0<=h);break}}}finally{es=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Cn(a):""}function ts(t,n){switch(t.tag){case 26:case 27:case 5:return Cn(t.type);case 16:return Cn("Lazy");case 13:return t.child!==n&&n!==null?Cn("Suspense Fallback"):Cn("Suspense");case 19:return Cn("SuspenseList");case 0:case 15:return un(t.type,!1);case 11:return un(t.type.render,!1);case 1:return un(t.type,!0);case 31:return Cn("Activity");default:return""}}function ns(t){try{var n="",a=null;do n+=ts(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var vt=Object.prototype.hasOwnProperty,It=s.unstable_scheduleCallback,In=s.unstable_cancelCallback,Kt=s.unstable_shouldYield,ks=s.unstable_requestPaint,kt=s.unstable_now,is=s.unstable_getCurrentPriorityLevel,Ri=s.unstable_ImmediatePriority,ss=s.unstable_UserBlockingPriority,Ci=s.unstable_NormalPriority,ba=s.unstable_LowPriority,Hn=s.unstable_IdlePriority,ci=s.log,Or=s.unstable_setDisableYieldValue,Nn=null,rt=null;function Gt(t){if(typeof ci=="function"&&Or(t),rt&&typeof rt.setStrictMode=="function")try{rt.setStrictMode(Nn,t)}catch{}}var mt=Math.clz32?Math.clz32:Ta,Mr=Math.log,Ls=Math.LN2;function Ta(t){return t>>>=0,t===0?32:31-(Mr(t)/Ls|0)|0}var Gn=256,rs=262144,wt=4194304;function Fn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function $n(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var b=o&134217727;return b!==0?(o=b&~f,o!==0?h=Fn(o):(p&=b,p!==0?h=Fn(p):a||(a=b&~t,a!==0&&(h=Fn(a))))):(b=o&~f,b!==0?h=Fn(b):p!==0?h=Fn(p):a||(a=o&~t,a!==0&&(h=Fn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Dn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Sa(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Aa(){var t=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),t}function On(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Ii(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zo(t,n,a,o,h,f){var p=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,C=t.expirationTimes,P=t.hiddenUpdates;for(a=p&~a;0<a;){var Q=31-mt(a),X=1<<Q;b[Q]=0,C[Q]=-1;var B=P[Q];if(B!==null)for(P[Q]=null,Q=0;Q<B.length;Q++){var G=B[Q];G!==null&&(G.lane&=-536870913)}a&=~X}o!==0&&as(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function as(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-mt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Vr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-mt(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function kr(t,n){var a=n&-n;return a=(a&42)!==0?1:os(a),(a&(t.suspendedLanes|n))!==0?0:a}function os(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function hi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function wa(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:B0(t.type))}function Mn(t,n){var a=re.p;try{return re.p=t,n()}finally{re.p=a}}var Vn=Math.random().toString(36).slice(2),gt="__reactFiber$"+Vn,Nt="__reactProps$"+Vn,Qn="__reactContainer$"+Vn,js="__reactEvents$"+Vn,Bo="__reactListeners$"+Vn,z="__reactHandles$"+Vn,xa="__reactResources$"+Vn,q="__reactMarker$"+Vn;function oe(t){delete t[gt],delete t[Nt],delete t[js],delete t[Bo],delete t[z]}function ye(t){var n=t[gt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Qn]||a[gt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=w0(t);t!==null;){if(a=t[gt])return a;t=w0(t)}return n}t=a,a=t.parentNode}return null}function _e(t){if(t=t[gt]||t[Qn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function we(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ct(t){var n=t[xa];return n||(n=t[xa]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ne(t){t[q]=!0}var $e=new Set,cn={};function Yt(t,n){xt(t,n),xt(t+"Capture",n)}function xt(t,n){for(cn[t]=n,t=0;t<n.length;t++)$e.add(n[t])}var Kn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ls={},Lr={};function gu(t){return vt.call(Lr,t)?!0:vt.call(ls,t)?!1:Kn.test(t)?Lr[t]=!0:(ls[t]=!0,!1)}function Ra(t,n,a){if(gu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function kn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Lt(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Xt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Us(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function qo(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function nt(t){if(!t._valueTracker){var n=Us(t)?"checked":"value";t._valueTracker=qo(t,n,""+t[n])}}function jr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=Us(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function Ni(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ur=/[\n"\\]/g;function En(t){return t.replace(Ur,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ca(t,n,a,o,h,f,p,b){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Xt(n)):t.value!==""+Xt(n)&&(t.value=""+Xt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Ho(t,p,Xt(n)):a!=null?Ho(t,p,Xt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Xt(b):t.removeAttribute("name")}function pu(t,n,a,o,h,f,p,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){nt(t);return}a=a!=null?""+Xt(a):"",n=n!=null?""+Xt(n):a,b||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=b?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),nt(t)}function Ho(t,n,a){n==="number"&&Ni(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ps(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Xt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function yu(t,n,a){if(n!=null&&(n=""+Xt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Xt(a):""}function zs(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Tt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Xt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),nt(t)}function bn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var _u=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Go(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||_u.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Fo(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Go(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Go(t,f,n[f])}function Ia(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(t){return Bs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function fi(){}var $o=null;function Yn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qs=null,Di=null;function Pr(t){var n=_e(t);if(n&&(t=n.stateNode)){var a=t[Nt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ca(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+En(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Nt]||null;if(!h)throw Error(r(90));Ca(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&jr(o)}break e;case"textarea":yu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Ps(t,!!a.multiple,n,!1)}}}var Da=!1;function Hs(t,n,a){if(Da)return t(n,a);Da=!0;try{var o=t(n);return o}finally{if(Da=!1,(qs!==null||Di!==null)&&(fc(),qs&&(n=qs,t=Di,Di=qs=null,Pr(n),t)))for(n=0;n<t.length;n++)Pr(t[n])}}function di(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Nt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zr=!1;if(Xn)try{var at={};Object.defineProperty(at,"passive",{get:function(){zr=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{zr=!1}var Oi=null,Qo=null,Br=null;function Ko(){if(Br)return Br;var t,n=Qo,a=n.length,o,h="value"in Oi?Oi.value:Oi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var p=a-t;for(o=1;o<=p&&n[a-o]===h[f-o];o++);return Br=h.slice(t,1<o?1-o:void 0)}function qr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function us(){return!0}function mi(){return!1}function en(t){function n(a,o,h,f,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?us:mi,this.isPropagationStopped=mi,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),n}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=en(cs),Gs=w({},cs,{view:0,detail:0}),Yo=en(Gs),Fs,Oa,Vi,Ma=w({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$s,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vi&&(Vi&&t.type==="mousemove"?(Fs=t.screenX-Vi.screenX,Oa=t.screenY-Vi.screenY):Oa=Fs=0,Vi=t),Fs)},movementY:function(t){return"movementY"in t?t.movementY:Oa}}),Xo=en(Ma),Hr=w({},Ma,{dataTransfer:0}),Eu=en(Hr),bu=w({},Gs,{relatedTarget:0}),Gr=en(bu),Jo=w({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),Tu=en(Jo),Va=w({},cs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Su=en(Va),Au=w({},cs,{data:0}),ki=en(Au),wu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ru[t])?!!n[t]:!1}function $s(){return Cu}var pn=w({},Gs,{key:function(t){if(t.key){var n=wu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=qr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$s,charCode:function(t){return t.type==="keypress"?qr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Iu=en(pn),Nu=w({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hs=en(Nu),u=w({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$s}),m=en(u),v=w({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=en(v),j=w({},Ma,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=en(j),se=w({},cs,{newState:0,oldState:0}),Oe=en(se),Dt=[9,13,27,32],We=Xn&&"CompositionEvent"in window,Et=null;Xn&&"documentMode"in document&&(Et=document.documentMode);var Jn=Xn&&"TextEvent"in window&&!Et,Li=Xn&&(!We||Et&&8<Et&&11>=Et),gi=" ",pi=!1;function Fr(t,n){switch(t){case"keyup":return Dt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ka(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var La=!1;function _T(t,n){switch(t){case"compositionend":return ka(n);case"keypress":return n.which!==32?null:(pi=!0,gi);case"textInput":return t=n.data,t===gi&&pi?null:t;default:return null}}function vT(t,n){if(La)return t==="compositionend"||!We&&Fr(t,n)?(t=Ko(),Br=Qo=Oi=null,La=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Li&&n.locale!=="ko"?null:n.data;default:return null}}var ET={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!ET[t.type]:n==="textarea"}function Ig(t,n,a,o){qs?Di?Di.push(o):Di=[o]:qs=o,n=vc(n,"onChange"),0<n.length&&(a=new Mi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Zo=null,Wo=null;function bT(t){h0(t,0)}function Du(t){var n=we(t);if(jr(n))return t}function Ng(t,n){if(t==="change")return n}var Dg=!1;if(Xn){var Ph;if(Xn){var zh="oninput"in document;if(!zh){var Og=document.createElement("div");Og.setAttribute("oninput","return;"),zh=typeof Og.oninput=="function"}Ph=zh}else Ph=!1;Dg=Ph&&(!document.documentMode||9<document.documentMode)}function Mg(){Zo&&(Zo.detachEvent("onpropertychange",Vg),Wo=Zo=null)}function Vg(t){if(t.propertyName==="value"&&Du(Wo)){var n=[];Ig(n,Wo,t,Yn(t)),Hs(bT,n)}}function TT(t,n,a){t==="focusin"?(Mg(),Zo=n,Wo=a,Zo.attachEvent("onpropertychange",Vg)):t==="focusout"&&Mg()}function ST(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Du(Wo)}function AT(t,n){if(t==="click")return Du(n)}function wT(t,n){if(t==="input"||t==="change")return Du(n)}function xT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ln=typeof Object.is=="function"?Object.is:xT;function el(t,n){if(Ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!vt.call(n,h)||!Ln(t[h],n[h]))return!1}return!0}function kg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lg(t,n){var a=kg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=kg(a)}}function jg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?jg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ug(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ni(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ni(t.document)}return n}function Bh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var RT=Xn&&"documentMode"in document&&11>=document.documentMode,ja=null,qh=null,tl=null,Hh=!1;function Pg(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hh||ja==null||ja!==Ni(o)||(o=ja,"selectionStart"in o&&Bh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),tl&&el(tl,o)||(tl=o,o=vc(qh,"onSelect"),0<o.length&&(n=new Mi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=ja)))}function $r(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ua={animationend:$r("Animation","AnimationEnd"),animationiteration:$r("Animation","AnimationIteration"),animationstart:$r("Animation","AnimationStart"),transitionrun:$r("Transition","TransitionRun"),transitionstart:$r("Transition","TransitionStart"),transitioncancel:$r("Transition","TransitionCancel"),transitionend:$r("Transition","TransitionEnd")},Gh={},zg={};Xn&&(zg=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Qr(t){if(Gh[t])return Gh[t];if(!Ua[t])return t;var n=Ua[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in zg)return Gh[t]=n[a];return t}var Bg=Qr("animationend"),qg=Qr("animationiteration"),Hg=Qr("animationstart"),CT=Qr("transitionrun"),IT=Qr("transitionstart"),NT=Qr("transitioncancel"),Gg=Qr("transitionend"),Fg=new Map,Fh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fh.push("scrollEnd");function yi(t,n){Fg.set(t,n),Yt(n,[t])}var Ou=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Zn=[],Pa=0,$h=0;function Mu(){for(var t=Pa,n=$h=Pa=0;n<t;){var a=Zn[n];Zn[n++]=null;var o=Zn[n];Zn[n++]=null;var h=Zn[n];Zn[n++]=null;var f=Zn[n];if(Zn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&$g(a,h,f)}}function Vu(t,n,a,o){Zn[Pa++]=t,Zn[Pa++]=n,Zn[Pa++]=a,Zn[Pa++]=o,$h|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Qh(t,n,a,o){return Vu(t,n,a,o),ku(t)}function Kr(t,n){return Vu(t,null,null,n),ku(t)}function $g(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-mt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function ku(t){if(50<Sl)throw Sl=0,id=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var za={};function DT(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(t,n,a,o){return new DT(t,n,a,o)}function Kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fs(t,n){var a=t.alternate;return a===null?(a=jn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Qg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Lu(t,n,a,o,h,f){var p=0;if(o=t,typeof t=="function")Kh(t)&&(p=1);else if(typeof t=="string")p=L1(t,a,ne.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=jn(31,a,n,h),t.elementType=I,t.lanes=f,t;case ie:return Yr(a.children,h,f,n);case te:p=8,h|=24;break;case pe:return t=jn(12,a,n,h|2),t.elementType=pe,t.lanes=f,t;case Xe:return t=jn(13,a,n,h),t.elementType=Xe,t.lanes=f,t;case ke:return t=jn(19,a,n,h),t.elementType=ke,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Te:p=10;break e;case ve:p=9;break e;case Le:p=11;break e;case N:p=14;break e;case R:p=16,o=null;break e}p=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=jn(p,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Yr(t,n,a,o){return t=jn(7,t,o,n),t.lanes=a,t}function Yh(t,n,a){return t=jn(6,t,null,n),t.lanes=a,t}function Kg(t){var n=jn(18,null,null,0);return n.stateNode=t,n}function Xh(t,n,a){return n=jn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Yg=new WeakMap;function Wn(t,n){if(typeof t=="object"&&t!==null){var a=Yg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:ns(n)},Yg.set(t,n),n)}return{value:t,source:n,stack:ns(n)}}var Ba=[],qa=0,ju=null,nl=0,ei=[],ti=0,Qs=null,ji=1,Ui="";function ds(t,n){Ba[qa++]=nl,Ba[qa++]=ju,ju=t,nl=n}function Xg(t,n,a){ei[ti++]=ji,ei[ti++]=Ui,ei[ti++]=Qs,Qs=t;var o=ji;t=Ui;var h=32-mt(o)-1;o&=~(1<<h),a+=1;var f=32-mt(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,ji=1<<32-mt(n)+h|a<<h|o,Ui=f+t}else ji=1<<f|a<<h|o,Ui=t}function Jh(t){t.return!==null&&(ds(t,1),Xg(t,1,0))}function Zh(t){for(;t===ju;)ju=Ba[--qa],Ba[qa]=null,nl=Ba[--qa],Ba[qa]=null;for(;t===Qs;)Qs=ei[--ti],ei[ti]=null,Ui=ei[--ti],ei[ti]=null,ji=ei[--ti],ei[ti]=null}function Jg(t,n){ei[ti++]=ji,ei[ti++]=Ui,ei[ti++]=Qs,ji=n.id,Ui=n.overflow,Qs=t}var tn=null,pt=null,Qe=!1,Ks=null,ni=!1,Wh=Error(r(519));function Ys(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il(Wn(n,t)),Wh}function Zg(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[gt]=t,n[Nt]=o,a){case"dialog":Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":case"embed":Ue("load",n);break;case"video":case"audio":for(a=0;a<wl.length;a++)Ue(wl[a],n);break;case"source":Ue("error",n);break;case"img":case"image":case"link":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"input":Ue("invalid",n),pu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ue("invalid",n);break;case"textarea":Ue("invalid",n),zs(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||g0(n.textContent,a)?(o.popover!=null&&(Ue("beforetoggle",n),Ue("toggle",n)),o.onScroll!=null&&Ue("scroll",n),o.onScrollEnd!=null&&Ue("scrollend",n),o.onClick!=null&&(n.onclick=fi),n=!0):n=!1,n||Ys(t,!0)}function Wg(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 31:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:tn=tn.return}}function Ha(t){if(t!==tn)return!1;if(!Qe)return Wg(t),Qe=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||_d(t.type,t.memoizedProps)),a=!a),a&&pt&&Ys(t),Wg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));pt=A0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));pt=A0(t)}else n===27?(n=pt,ur(t.type)?(t=Sd,Sd=null,pt=t):pt=n):pt=tn?si(t.stateNode.nextSibling):null;return!0}function Xr(){pt=tn=null,Qe=!1}function ef(){var t=Ks;return t!==null&&(wn===null?wn=t:wn.push.apply(wn,t),Ks=null),t}function il(t){Ks===null?Ks=[t]:Ks.push(t)}var tf=M(null),Jr=null,ms=null;function Xs(t,n,a){ae(tf,n._currentValue),n._currentValue=a}function gs(t){t._currentValue=tf.current,$(tf)}function nf(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function sf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var C=0;C<n.length;C++)if(b.context===n[C]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),nf(f.return,a,t),o||(p=null);break e}f=b.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),nf(p,a,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ga(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var b=h.type;Ln(h.pendingProps.value,p.value)||(t!==null?t.push(b):t=[b])}}else if(h===De.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&sf(n,t,a,o),n.flags|=262144}function Uu(t){for(t=t.firstContext;t!==null;){if(!Ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Zr(t){Jr=t,ms=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function nn(t){return ep(Jr,t)}function Pu(t,n){return Jr===null&&Zr(t),ep(t,n)}function ep(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ms===null){if(t===null)throw Error(r(308));ms=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ms=ms.next=n;return a}var OT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},MT=s.unstable_scheduleCallback,VT=s.unstable_NormalPriority,jt={$$typeof:Te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new OT,data:new Map,refCount:0}}function sl(t){t.refCount--,t.refCount===0&&MT(VT,function(){t.controller.abort()})}var rl=null,af=0,Fa=0,$a=null;function kT(t,n){if(rl===null){var a=rl=[];af=0,Fa=ud(),$a={status:"pending",value:void 0,then:function(o){a.push(o)}}}return af++,n.then(tp,tp),n}function tp(){if(--af===0&&rl!==null){$a!==null&&($a.status="fulfilled");var t=rl;rl=null,Fa=0,$a=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function LT(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var np=F.S;F.S=function(t,n){Py=kt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&kT(t,n),np!==null&&np(t,n)};var Wr=M(null);function of(){var t=Wr.current;return t!==null?t:ht.pooledCache}function zu(t,n){n===null?ae(Wr,Wr.current):ae(Wr,n.pool)}function ip(){var t=of();return t===null?null:{parent:jt._currentValue,pool:t}}var Qa=Error(r(460)),lf=Error(r(474)),Bu=Error(r(542)),qu={then:function(){}};function sp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function rp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(fi,fi),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,op(t),t;default:if(typeof n.status=="string")n.then(fi,fi);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,op(t),t}throw ta=n,Qa}}function ea(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ta=a,Qa):a}}var ta=null;function ap(){if(ta===null)throw Error(r(459));var t=ta;return ta=null,t}function op(t){if(t===Qa||t===Bu)throw Error(r(483))}var Ka=null,al=0;function Hu(t){var n=al;return al+=1,Ka===null&&(Ka=[]),rp(Ka,t,n)}function ol(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Gu(t,n){throw n.$$typeof===S?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function lp(t){function n(k,O){if(t){var U=k.deletions;U===null?(k.deletions=[O],k.flags|=16):U.push(O)}}function a(k,O){if(!t)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=fs(k,O),k.index=0,k.sibling=null,k}function f(k,O,U){return k.index=U,t?(U=k.alternate,U!==null?(U=U.index,U<O?(k.flags|=67108866,O):U):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function b(k,O,U,Y){return O===null||O.tag!==6?(O=Yh(U,k.mode,Y),O.return=k,O):(O=h(O,U),O.return=k,O)}function C(k,O,U,Y){var me=U.type;return me===ie?Q(k,O,U.props.children,Y,U.key):O!==null&&(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&ea(me)===O.type)?(O=h(O,U.props),ol(O,U),O.return=k,O):(O=Lu(U.type,U.key,U.props,null,k.mode,Y),ol(O,U),O.return=k,O)}function P(k,O,U,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=Xh(U,k.mode,Y),O.return=k,O):(O=h(O,U.children||[]),O.return=k,O)}function Q(k,O,U,Y,me){return O===null||O.tag!==7?(O=Yr(U,k.mode,Y,me),O.return=k,O):(O=h(O,U),O.return=k,O)}function X(k,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Yh(""+O,k.mode,U),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case K:return U=Lu(O.type,O.key,O.props,null,k.mode,U),ol(U,O),U.return=k,U;case W:return O=Xh(O,k.mode,U),O.return=k,O;case R:return O=ea(O),X(k,O,U)}if(Tt(O)||L(O))return O=Yr(O,k.mode,U,null),O.return=k,O;if(typeof O.then=="function")return X(k,Hu(O),U);if(O.$$typeof===Te)return X(k,Pu(k,O),U);Gu(k,O)}return null}function B(k,O,U,Y){var me=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return me!==null?null:b(k,O,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case K:return U.key===me?C(k,O,U,Y):null;case W:return U.key===me?P(k,O,U,Y):null;case R:return U=ea(U),B(k,O,U,Y)}if(Tt(U)||L(U))return me!==null?null:Q(k,O,U,Y,null);if(typeof U.then=="function")return B(k,O,Hu(U),Y);if(U.$$typeof===Te)return B(k,O,Pu(k,U),Y);Gu(k,U)}return null}function G(k,O,U,Y,me){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(U)||null,b(O,k,""+Y,me);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case K:return k=k.get(Y.key===null?U:Y.key)||null,C(O,k,Y,me);case W:return k=k.get(Y.key===null?U:Y.key)||null,P(O,k,Y,me);case R:return Y=ea(Y),G(k,O,U,Y,me)}if(Tt(Y)||L(Y))return k=k.get(U)||null,Q(O,k,Y,me,null);if(typeof Y.then=="function")return G(k,O,U,Hu(Y),me);if(Y.$$typeof===Te)return G(k,O,U,Pu(O,Y),me);Gu(O,Y)}return null}function ce(k,O,U,Y){for(var me=null,Je=null,he=O,Ve=O=0,ze=null;he!==null&&Ve<U.length;Ve++){he.index>Ve?(ze=he,he=null):ze=he.sibling;var Ze=B(k,he,U[Ve],Y);if(Ze===null){he===null&&(he=ze);break}t&&he&&Ze.alternate===null&&n(k,he),O=f(Ze,O,Ve),Je===null?me=Ze:Je.sibling=Ze,Je=Ze,he=ze}if(Ve===U.length)return a(k,he),Qe&&ds(k,Ve),me;if(he===null){for(;Ve<U.length;Ve++)he=X(k,U[Ve],Y),he!==null&&(O=f(he,O,Ve),Je===null?me=he:Je.sibling=he,Je=he);return Qe&&ds(k,Ve),me}for(he=o(he);Ve<U.length;Ve++)ze=G(he,k,Ve,U[Ve],Y),ze!==null&&(t&&ze.alternate!==null&&he.delete(ze.key===null?Ve:ze.key),O=f(ze,O,Ve),Je===null?me=ze:Je.sibling=ze,Je=ze);return t&&he.forEach(function(mr){return n(k,mr)}),Qe&&ds(k,Ve),me}function Ee(k,O,U,Y){if(U==null)throw Error(r(151));for(var me=null,Je=null,he=O,Ve=O=0,ze=null,Ze=U.next();he!==null&&!Ze.done;Ve++,Ze=U.next()){he.index>Ve?(ze=he,he=null):ze=he.sibling;var mr=B(k,he,Ze.value,Y);if(mr===null){he===null&&(he=ze);break}t&&he&&mr.alternate===null&&n(k,he),O=f(mr,O,Ve),Je===null?me=mr:Je.sibling=mr,Je=mr,he=ze}if(Ze.done)return a(k,he),Qe&&ds(k,Ve),me;if(he===null){for(;!Ze.done;Ve++,Ze=U.next())Ze=X(k,Ze.value,Y),Ze!==null&&(O=f(Ze,O,Ve),Je===null?me=Ze:Je.sibling=Ze,Je=Ze);return Qe&&ds(k,Ve),me}for(he=o(he);!Ze.done;Ve++,Ze=U.next())Ze=G(he,k,Ve,Ze.value,Y),Ze!==null&&(t&&Ze.alternate!==null&&he.delete(Ze.key===null?Ve:Ze.key),O=f(Ze,O,Ve),Je===null?me=Ze:Je.sibling=Ze,Je=Ze);return t&&he.forEach(function(Q1){return n(k,Q1)}),Qe&&ds(k,Ve),me}function ut(k,O,U,Y){if(typeof U=="object"&&U!==null&&U.type===ie&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case K:e:{for(var me=U.key;O!==null;){if(O.key===me){if(me=U.type,me===ie){if(O.tag===7){a(k,O.sibling),Y=h(O,U.props.children),Y.return=k,k=Y;break e}}else if(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&ea(me)===O.type){a(k,O.sibling),Y=h(O,U.props),ol(Y,U),Y.return=k,k=Y;break e}a(k,O);break}else n(k,O);O=O.sibling}U.type===ie?(Y=Yr(U.props.children,k.mode,Y,U.key),Y.return=k,k=Y):(Y=Lu(U.type,U.key,U.props,null,k.mode,Y),ol(Y,U),Y.return=k,k=Y)}return p(k);case W:e:{for(me=U.key;O!==null;){if(O.key===me)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){a(k,O.sibling),Y=h(O,U.children||[]),Y.return=k,k=Y;break e}else{a(k,O);break}else n(k,O);O=O.sibling}Y=Xh(U,k.mode,Y),Y.return=k,k=Y}return p(k);case R:return U=ea(U),ut(k,O,U,Y)}if(Tt(U))return ce(k,O,U,Y);if(L(U)){if(me=L(U),typeof me!="function")throw Error(r(150));return U=me.call(U),Ee(k,O,U,Y)}if(typeof U.then=="function")return ut(k,O,Hu(U),Y);if(U.$$typeof===Te)return ut(k,O,Pu(k,U),Y);Gu(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(a(k,O.sibling),Y=h(O,U),Y.return=k,k=Y):(a(k,O),Y=Yh(U,k.mode,Y),Y.return=k,k=Y),p(k)):a(k,O)}return function(k,O,U,Y){try{al=0;var me=ut(k,O,U,Y);return Ka=null,me}catch(he){if(he===Qa||he===Bu)throw he;var Je=jn(29,he,null,k.mode);return Je.lanes=Y,Je.return=k,Je}finally{}}}var na=lp(!0),up=lp(!1),Js=!1;function uf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Zs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ws(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(et&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=ku(t),$g(t,null,a),n}return Vu(t,o,n,a),ku(t)}function ll(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Vr(t,a)}}function hf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var ff=!1;function ul(){if(ff){var t=$a;if(t!==null)throw t}}function cl(t,n,a,o){ff=!1;var h=t.updateQueue;Js=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var C=b,P=C.next;C.next=null,p===null?f=P:p.next=P,p=C;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,b=Q.lastBaseUpdate,b!==p&&(b===null?Q.firstBaseUpdate=P:b.next=P,Q.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;p=0,Q=P=C=null,b=f;do{var B=b.lane&-536870913,G=B!==b.lane;if(G?(Pe&B)===B:(o&B)===B){B!==0&&B===Fa&&(ff=!0),Q!==null&&(Q=Q.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ce=t,Ee=b;B=n;var ut=a;switch(Ee.tag){case 1:if(ce=Ee.payload,typeof ce=="function"){X=ce.call(ut,X,B);break e}X=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=Ee.payload,B=typeof ce=="function"?ce.call(ut,X,B):ce,B==null)break e;X=w({},X,B);break e;case 2:Js=!0}}B=b.callback,B!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[B]:G.push(B))}else G={lane:B,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Q===null?(P=Q=G,C=X):Q=Q.next=G,p|=B;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;G=b,b=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Q===null&&(C=X),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),sr|=p,t.lanes=p,t.memoizedState=X}}function cp(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function hp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)cp(a[t],n)}var Ya=M(null),Fu=M(0);function fp(t,n){t=As,ae(Fu,t),ae(Ya,n),As=t|n.baseLanes}function df(){ae(Fu,As),ae(Ya,Ya.current)}function mf(){As=Fu.current,$(Ya),$(Fu)}var Un=M(null),ii=null;function er(t){var n=t.alternate;ae(Ot,Ot.current&1),ae(Un,t),ii===null&&(n===null||Ya.current!==null||n.memoizedState!==null)&&(ii=t)}function gf(t){ae(Ot,Ot.current),ae(Un,t),ii===null&&(ii=t)}function dp(t){t.tag===22?(ae(Ot,Ot.current),ae(Un,t),ii===null&&(ii=t)):tr()}function tr(){ae(Ot,Ot.current),ae(Un,Un.current)}function Pn(t){$(Un),ii===t&&(ii=null),$(Ot)}var Ot=M(0);function $u(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||bd(a)||Td(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ps=0,Me=null,ot=null,Ut=null,Qu=!1,Xa=!1,ia=!1,Ku=0,hl=0,Ja=null,jT=0;function Rt(){throw Error(r(321))}function pf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Ln(t[a],n[a]))return!1;return!0}function yf(t,n,a,o,h,f){return ps=f,Me=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Xp:Of,ia=!1,f=a(o,h),ia=!1,Xa&&(f=gp(n,a,o,h)),mp(t),f}function mp(t){F.H=ml;var n=ot!==null&&ot.next!==null;if(ps=0,Ut=ot=Me=null,Qu=!1,hl=0,Ja=null,n)throw Error(r(300));t===null||Pt||(t=t.dependencies,t!==null&&Uu(t)&&(Pt=!0))}function gp(t,n,a,o){Me=t;var h=0;do{if(Xa&&(Ja=null),hl=0,Xa=!1,25<=h)throw Error(r(301));if(h+=1,Ut=ot=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Jp,f=n(a,o)}while(Xa);return f}function UT(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?fl(n):n,t=t.useState()[0],(ot!==null?ot.memoizedState:null)!==t&&(Me.flags|=1024),n}function _f(){var t=Ku!==0;return Ku=0,t}function vf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Ef(t){if(Qu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Qu=!1}ps=0,Ut=ot=Me=null,Xa=!1,hl=Ku=0,Ja=null}function yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Me.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function Mt(){if(ot===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var n=Ut===null?Me.memoizedState:Ut.next;if(n!==null)Ut=n,ot=t;else{if(t===null)throw Me.alternate===null?Error(r(467)):Error(r(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Ut===null?Me.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var n=hl;return hl+=1,Ja===null&&(Ja=[]),t=rp(Ja,t,n),n=Me,(Ut===null?n.memoizedState:Ut.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Xp:Of),t}function Xu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===Te)return nn(t)}throw Error(r(438,String(t)))}function bf(t){var n=null,a=Me.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Me.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Yu(),Me.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=V;return n.index++,a}function ys(t,n){return typeof n=="function"?n(t):n}function Ju(t){var n=Mt();return Tf(n,ot,t)}function Tf(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var b=p=null,C=null,P=n,Q=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(Pe&X)===X:(ps&X)===X){var B=P.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===Fa&&(Q=!0);else if((ps&B)===B){P=P.next,B===Fa&&(Q=!0);continue}else X={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(b=C=X,p=f):C=C.next=X,Me.lanes|=B,sr|=B;X=P.action,ia&&a(f,X),f=P.hasEagerState?P.eagerState:a(f,X)}else B={lane:X,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(b=C=B,p=f):C=C.next=B,Me.lanes|=X,sr|=X;P=P.next}while(P!==null&&P!==n);if(C===null?p=f:C.next=b,!Ln(f,t.memoizedState)&&(Pt=!0,Q&&(a=$a,a!==null)))throw a;t.memoizedState=f,t.baseState=p,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Sf(t){var n=Mt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);Ln(f,n.memoizedState)||(Pt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function pp(t,n,a){var o=Me,h=Mt(),f=Qe;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var p=!Ln((ot||h).memoizedState,a);if(p&&(h.memoizedState=a,Pt=!0),h=h.queue,xf(vp.bind(null,o,h,t),[t]),h.getSnapshot!==n||p||Ut!==null&&Ut.memoizedState.tag&1){if(o.flags|=2048,Za(9,{destroy:void 0},_p.bind(null,o,h,a,n),null),ht===null)throw Error(r(349));f||(ps&127)!==0||yp(o,n,a)}return a}function yp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Me.updateQueue,n===null?(n=Yu(),Me.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function _p(t,n,a,o){n.value=a,n.getSnapshot=o,Ep(n)&&bp(t)}function vp(t,n,a){return a(function(){Ep(n)&&bp(t)})}function Ep(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Ln(t,a)}catch{return!0}}function bp(t){var n=Kr(t,2);n!==null&&xn(n,t,2)}function Af(t){var n=yn();if(typeof t=="function"){var a=t;if(t=a(),ia){Gt(!0);try{a()}finally{Gt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:t},n}function Tp(t,n,a,o){return t.baseState=a,Tf(t,ot,typeof o=="function"?o:ys)}function PT(t,n,a,o,h){if(ec(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Sp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Sp(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=F.T,p={};F.T=p;try{var b=a(h,o),C=F.S;C!==null&&C(p,b),Ap(t,n,b)}catch(P){wf(t,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=a(h,o),Ap(t,n,f)}catch(P){wf(t,n,P)}}function Ap(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){wp(t,n,o)},function(o){return wf(t,n,o)}):wp(t,n,a)}function wp(t,n,a){n.status="fulfilled",n.value=a,xp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Sp(t,a)))}function wf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,xp(n),n=n.next;while(n!==o)}t.action=null}function xp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Rp(t,n){return n}function Cp(t,n){if(Qe){var a=ht.formState;if(a!==null){e:{var o=Me;if(Qe){if(pt){t:{for(var h=pt,f=ni;h.nodeType!==8;){if(!f){h=null;break t}if(h=si(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){pt=si(h.nextSibling),o=h.data==="F!";break e}}Ys(o)}o=!1}o&&(n=a[0])}}return a=yn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rp,lastRenderedState:n},a.queue=o,a=Qp.bind(null,Me,o),o.dispatch=a,o=Af(!1),f=Df.bind(null,Me,!1,o.queue),o=yn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=PT.bind(null,Me,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Ip(t){var n=Mt();return Np(n,ot,t)}function Np(t,n,a){if(n=Tf(t,n,Rp)[0],t=Ju(ys)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=fl(n)}catch(p){throw p===Qa?Bu:p}else o=n;n=Mt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Me.flags|=2048,Za(9,{destroy:void 0},zT.bind(null,h,a),null)),[o,f,t]}function zT(t,n){t.action=n}function Dp(t){var n=Mt(),a=ot;if(a!==null)return Np(n,a,t);Mt(),n=n.memoizedState,a=Mt();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function Za(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Me.updateQueue,n===null&&(n=Yu(),Me.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Op(){return Mt().memoizedState}function Zu(t,n,a,o){var h=yn();Me.flags|=t,h.memoizedState=Za(1|n,{destroy:void 0},a,o===void 0?null:o)}function Wu(t,n,a,o){var h=Mt();o=o===void 0?null:o;var f=h.memoizedState.inst;ot!==null&&o!==null&&pf(o,ot.memoizedState.deps)?h.memoizedState=Za(n,f,a,o):(Me.flags|=t,h.memoizedState=Za(1|n,f,a,o))}function Mp(t,n){Zu(8390656,8,t,n)}function xf(t,n){Wu(2048,8,t,n)}function BT(t){Me.flags|=4;var n=Me.updateQueue;if(n===null)n=Yu(),Me.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Vp(t){var n=Mt().memoizedState;return BT({ref:n,nextImpl:t}),function(){if((et&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function kp(t,n){return Wu(4,2,t,n)}function Lp(t,n){return Wu(4,4,t,n)}function jp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Up(t,n,a){a=a!=null?a.concat([t]):null,Wu(4,4,jp.bind(null,n,t),a)}function Rf(){}function Pp(t,n){var a=Mt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&pf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function zp(t,n){var a=Mt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&pf(n,o[1]))return o[0];if(o=t(),ia){Gt(!0);try{t()}finally{Gt(!1)}}return a.memoizedState=[o,n],o}function Cf(t,n,a){return a===void 0||(ps&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=By(),Me.lanes|=t,sr|=t,a)}function Bp(t,n,a,o){return Ln(a,n)?a:Ya.current!==null?(t=Cf(t,a,o),Ln(t,n)||(Pt=!0),t):(ps&42)===0||(ps&1073741824)!==0&&(Pe&261930)===0?(Pt=!0,t.memoizedState=a):(t=By(),Me.lanes|=t,sr|=t,n)}function qp(t,n,a,o,h){var f=re.p;re.p=f!==0&&8>f?f:8;var p=F.T,b={};F.T=b,Df(t,!1,n,a);try{var C=h(),P=F.S;if(P!==null&&P(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=LT(C,o);dl(t,n,Q,qn(t))}else dl(t,n,o,qn(t))}catch(X){dl(t,n,{then:function(){},status:"rejected",reason:X},qn())}finally{re.p=f,p!==null&&b.types!==null&&(p.types=b.types),F.T=p}}function qT(){}function If(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=Hp(t).queue;qp(t,h,n,ee,a===null?qT:function(){return Gp(t),a(o)})}function Hp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:ee},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Gp(t){var n=Hp(t);n.next===null&&(n=t.alternate.memoizedState),dl(t,n.next.queue,{},qn())}function Nf(){return nn(Nl)}function Fp(){return Mt().memoizedState}function $p(){return Mt().memoizedState}function HT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=qn();t=Zs(a);var o=Ws(n,t,a);o!==null&&(xn(o,n,a),ll(o,n,a)),n={cache:rf()},t.payload=n;return}n=n.return}}function GT(t,n,a){var o=qn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ec(t)?Kp(n,a):(a=Qh(t,n,a,o),a!==null&&(xn(a,t,o),Yp(a,n,o)))}function Qp(t,n,a){var o=qn();dl(t,n,a,o)}function dl(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ec(t))Kp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,b=f(p,a);if(h.hasEagerState=!0,h.eagerState=b,Ln(b,p))return Vu(t,n,h,0),ht===null&&Mu(),!1}catch{}finally{}if(a=Qh(t,n,h,o),a!==null)return xn(a,t,o),Yp(a,n,o),!0}return!1}function Df(t,n,a,o){if(o={lane:2,revertLane:ud(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ec(t)){if(n)throw Error(r(479))}else n=Qh(t,a,o,2),n!==null&&xn(n,t,2)}function ec(t){var n=t.alternate;return t===Me||n!==null&&n===Me}function Kp(t,n){Xa=Qu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Yp(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Vr(t,a)}}var ml={readContext:nn,use:Xu,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt};ml.useEffectEvent=Rt;var Xp={readContext:nn,use:Xu,useCallback:function(t,n){return yn().memoizedState=[t,n===void 0?null:n],t},useContext:nn,useEffect:Mp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Zu(4194308,4,jp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Zu(4194308,4,t,n)},useInsertionEffect:function(t,n){Zu(4,2,t,n)},useMemo:function(t,n){var a=yn();n=n===void 0?null:n;var o=t();if(ia){Gt(!0);try{t()}finally{Gt(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=yn();if(a!==void 0){var h=a(n);if(ia){Gt(!0);try{a(n)}finally{Gt(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=GT.bind(null,Me,t),[o.memoizedState,t]},useRef:function(t){var n=yn();return t={current:t},n.memoizedState=t},useState:function(t){t=Af(t);var n=t.queue,a=Qp.bind(null,Me,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Rf,useDeferredValue:function(t,n){var a=yn();return Cf(a,t,n)},useTransition:function(){var t=Af(!1);return t=qp.bind(null,Me,t.queue,!0,!1),yn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Me,h=yn();if(Qe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ht===null)throw Error(r(349));(Pe&127)!==0||yp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Mp(vp.bind(null,o,f,t),[t]),o.flags|=2048,Za(9,{destroy:void 0},_p.bind(null,o,f,a,n),null),a},useId:function(){var t=yn(),n=ht.identifierPrefix;if(Qe){var a=Ui,o=ji;a=(o&~(1<<32-mt(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Ku++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=jT++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Nf,useFormState:Cp,useActionState:Cp,useOptimistic:function(t){var n=yn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Df.bind(null,Me,!0,a),a.dispatch=n,[t,n]},useMemoCache:bf,useCacheRefresh:function(){return yn().memoizedState=HT.bind(null,Me)},useEffectEvent:function(t){var n=yn(),a={impl:t};return n.memoizedState=a,function(){if((et&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Of={readContext:nn,use:Xu,useCallback:Pp,useContext:nn,useEffect:xf,useImperativeHandle:Up,useInsertionEffect:kp,useLayoutEffect:Lp,useMemo:zp,useReducer:Ju,useRef:Op,useState:function(){return Ju(ys)},useDebugValue:Rf,useDeferredValue:function(t,n){var a=Mt();return Bp(a,ot.memoizedState,t,n)},useTransition:function(){var t=Ju(ys)[0],n=Mt().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:pp,useId:Fp,useHostTransitionStatus:Nf,useFormState:Ip,useActionState:Ip,useOptimistic:function(t,n){var a=Mt();return Tp(a,ot,t,n)},useMemoCache:bf,useCacheRefresh:$p};Of.useEffectEvent=Vp;var Jp={readContext:nn,use:Xu,useCallback:Pp,useContext:nn,useEffect:xf,useImperativeHandle:Up,useInsertionEffect:kp,useLayoutEffect:Lp,useMemo:zp,useReducer:Sf,useRef:Op,useState:function(){return Sf(ys)},useDebugValue:Rf,useDeferredValue:function(t,n){var a=Mt();return ot===null?Cf(a,t,n):Bp(a,ot.memoizedState,t,n)},useTransition:function(){var t=Sf(ys)[0],n=Mt().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:pp,useId:Fp,useHostTransitionStatus:Nf,useFormState:Dp,useActionState:Dp,useOptimistic:function(t,n){var a=Mt();return ot!==null?Tp(a,ot,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:bf,useCacheRefresh:$p};Jp.useEffectEvent=Vp;function Mf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:w({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Vf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=qn(),h=Zs(o);h.payload=n,a!=null&&(h.callback=a),n=Ws(t,h,o),n!==null&&(xn(n,t,o),ll(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=qn(),h=Zs(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ws(t,h,o),n!==null&&(xn(n,t,o),ll(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=qn(),o=Zs(a);o.tag=2,n!=null&&(o.callback=n),n=Ws(t,o,a),n!==null&&(xn(n,t,a),ll(n,t,a))}};function Zp(t,n,a,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!el(a,o)||!el(h,f):!0}function Wp(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Vf.enqueueReplaceState(n,n.state,null)}function sa(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ey(t){Ou(t)}function ty(t){console.error(t)}function ny(t){Ou(t)}function tc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function iy(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function kf(t,n,a){return a=Zs(a),a.tag=3,a.payload={element:null},a.callback=function(){tc(t,n)},a}function sy(t){return t=Zs(t),t.tag=3,t}function ry(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){iy(n,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){iy(n,a,o),typeof h!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function FT(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Ga(n,a,h,!0),a=Un.current,a!==null){switch(a.tag){case 31:case 13:return ii===null?dc():a.alternate===null&&Ct===0&&(Ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===qu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),ad(t,o,h)),!1;case 22:return a.flags|=65536,o===qu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),ad(t,o,h)),!1}throw Error(r(435,a.tag))}return ad(t,o,h),dc(),!1}if(Qe)return n=Un.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Wh&&(t=Error(r(422),{cause:o}),il(Wn(t,a)))):(o!==Wh&&(n=Error(r(423),{cause:o}),il(Wn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Wn(o,a),h=kf(t.stateNode,o,h),hf(t,h),Ct!==4&&(Ct=2)),!1;var f=Error(r(520),{cause:o});if(f=Wn(f,a),Tl===null?Tl=[f]:Tl.push(f),Ct!==4&&(Ct=2),n===null)return!0;o=Wn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=kf(a.stateNode,o,t),hf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(rr===null||!rr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=sy(h),ry(h,t,a,o),hf(a,h),!1}a=a.return}while(a!==null);return!1}var Lf=Error(r(461)),Pt=!1;function sn(t,n,a,o){n.child=t===null?up(n,null,a,o):na(n,t.child,a,o)}function ay(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var p={};for(var b in o)b!=="ref"&&(p[b]=o[b])}else p=o;return Zr(n),o=yf(t,n,a,p,f,h),b=_f(),t!==null&&!Pt?(vf(t,n,h),_s(t,n,h)):(Qe&&b&&Jh(n),n.flags|=1,sn(t,n,o,h),n.child)}function oy(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!Kh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,ly(t,n,f,o,h)):(t=Lu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Gf(t,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:el,a(p,o)&&t.ref===n.ref)return _s(t,n,h)}return n.flags|=1,t=fs(f,o),t.ref=n.ref,t.return=n,n.child=t}function ly(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(el(f,o)&&t.ref===n.ref)if(Pt=!1,n.pendingProps=o=f,Gf(t,h))(t.flags&131072)!==0&&(Pt=!0);else return n.lanes=t.lanes,_s(t,n,h)}return jf(t,n,a,o,h)}function uy(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return cy(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&zu(n,f!==null?f.cachePool:null),f!==null?fp(n,f):df(),dp(n);else return o=n.lanes=536870912,cy(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(zu(n,f.cachePool),fp(n,f),tr(),n.memoizedState=null):(t!==null&&zu(n,null),df(),tr());return sn(t,n,h,a),n.child}function gl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function cy(t,n,a,o,h){var f=of();return f=f===null?null:{parent:jt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&zu(n,null),df(),dp(n),t!==null&&Ga(t,n,o,!0),n.childLanes=h,null}function nc(t,n){return n=sc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function hy(t,n,a){return na(n,t.child,null,a),t=nc(n,n.pendingProps),t.flags|=2,Pn(n),n.memoizedState=null,t}function $T(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Qe){if(o.mode==="hidden")return t=nc(n,o),n.lanes=536870912,gl(null,t);if(gf(n),(t=pt)?(t=S0(t,ni),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Qs!==null?{id:ji,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=Kg(t),a.return=n,n.child=a,tn=n,pt=null)):t=null,t===null)throw Ys(n);return n.lanes=536870912,null}return nc(n,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(gf(n),h)if(n.flags&256)n.flags&=-257,n=hy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Pt||Ga(t,n,a,!1),h=(a&t.childLanes)!==0,Pt||h){if(o=ht,o!==null&&(p=kr(o,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,Kr(t,p),xn(o,t,p),Lf;dc(),n=hy(t,n,a)}else t=f.treeContext,pt=si(p.nextSibling),tn=n,Qe=!0,Ks=null,ni=!1,t!==null&&Jg(n,t),n=nc(n,o),n.flags|=4096;return n}return t=fs(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ic(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function jf(t,n,a,o,h){return Zr(n),a=yf(t,n,a,o,void 0,h),o=_f(),t!==null&&!Pt?(vf(t,n,h),_s(t,n,h)):(Qe&&o&&Jh(n),n.flags|=1,sn(t,n,a,h),n.child)}function fy(t,n,a,o,h,f){return Zr(n),n.updateQueue=null,a=gp(n,o,a,h),mp(t),o=_f(),t!==null&&!Pt?(vf(t,n,f),_s(t,n,f)):(Qe&&o&&Jh(n),n.flags|=1,sn(t,n,a,f),n.child)}function dy(t,n,a,o,h){if(Zr(n),n.stateNode===null){var f=za,p=a.contextType;typeof p=="object"&&p!==null&&(f=nn(p)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},uf(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?nn(p):za,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Mf(n,a,p,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Vf.enqueueReplaceState(f,f.state,null),cl(n,o,f,h),ul(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var b=n.memoizedProps,C=sa(a,b);f.props=C;var P=f.context,Q=a.contextType;p=za,typeof Q=="object"&&Q!==null&&(p=nn(Q));var X=a.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||P!==p)&&Wp(n,f,o,p),Js=!1;var B=n.memoizedState;f.state=B,cl(n,o,f,h),ul(),P=n.memoizedState,b||B!==P||Js?(typeof X=="function"&&(Mf(n,a,X,o),P=n.memoizedState),(C=Js||Zp(n,a,C,o,B,P,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=p,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,cf(t,n),p=n.memoizedProps,Q=sa(a,p),f.props=Q,X=n.pendingProps,B=f.context,P=a.contextType,C=za,typeof P=="object"&&P!==null&&(C=nn(P)),b=a.getDerivedStateFromProps,(P=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||B!==C)&&Wp(n,f,o,C),Js=!1,B=n.memoizedState,f.state=B,cl(n,o,f,h),ul();var G=n.memoizedState;p!==X||B!==G||Js||t!==null&&t.dependencies!==null&&Uu(t.dependencies)?(typeof b=="function"&&(Mf(n,a,b,o),G=n.memoizedState),(Q=Js||Zp(n,a,Q,o,B,G,C)||t!==null&&t.dependencies!==null&&Uu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,G,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,G,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=G),f.props=o,f.state=G,f.context=C,o=Q):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,ic(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=na(n,t.child,null,h),n.child=na(n,null,a,h)):sn(t,n,a,h),n.memoizedState=f.state,t=n.child):t=_s(t,n,h),t}function my(t,n,a,o){return Xr(),n.flags|=256,sn(t,n,a,o),n.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(t){return{baseLanes:t,cachePool:ip()}}function zf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Bn),t}function gy(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Ot.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Qe){if(h?er(n):tr(),(t=pt)?(t=S0(t,ni),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Qs!==null?{id:ji,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=Kg(t),a.return=n,n.child=a,tn=n,pt=null)):t=null,t===null)throw Ys(n);return Td(t)?n.lanes=32:n.lanes=536870912,null}var b=o.children;return o=o.fallback,h?(tr(),h=n.mode,b=sc({mode:"hidden",children:b},h),o=Yr(o,h,a,null),b.return=n,o.return=n,b.sibling=o,n.child=b,o=n.child,o.memoizedState=Pf(a),o.childLanes=zf(t,p,a),n.memoizedState=Uf,gl(null,o)):(er(n),Bf(n,b))}var C=t.memoizedState;if(C!==null&&(b=C.dehydrated,b!==null)){if(f)n.flags&256?(er(n),n.flags&=-257,n=qf(t,n,a)):n.memoizedState!==null?(tr(),n.child=t.child,n.flags|=128,n=null):(tr(),b=o.fallback,h=n.mode,o=sc({mode:"visible",children:o.children},h),b=Yr(b,h,a,null),b.flags|=2,o.return=n,b.return=n,o.sibling=b,n.child=o,na(n,t.child,null,a),o=n.child,o.memoizedState=Pf(a),o.childLanes=zf(t,p,a),n.memoizedState=Uf,n=gl(null,o));else if(er(n),Td(b)){if(p=b.nextSibling&&b.nextSibling.dataset,p)var P=p.dgst;p=P,o=Error(r(419)),o.stack="",o.digest=p,il({value:o,source:null,stack:null}),n=qf(t,n,a)}else if(Pt||Ga(t,n,a,!1),p=(a&t.childLanes)!==0,Pt||p){if(p=ht,p!==null&&(o=kr(p,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Kr(t,o),xn(p,t,o),Lf;bd(b)||dc(),n=qf(t,n,a)}else bd(b)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,pt=si(b.nextSibling),tn=n,Qe=!0,Ks=null,ni=!1,t!==null&&Jg(n,t),n=Bf(n,o.children),n.flags|=4096);return n}return h?(tr(),b=o.fallback,h=n.mode,C=t.child,P=C.sibling,o=fs(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,P!==null?b=fs(P,b):(b=Yr(b,h,a,null),b.flags|=2),b.return=n,o.return=n,o.sibling=b,n.child=o,gl(null,o),o=n.child,b=t.child.memoizedState,b===null?b=Pf(a):(h=b.cachePool,h!==null?(C=jt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=ip(),b={baseLanes:b.baseLanes|a,cachePool:h}),o.memoizedState=b,o.childLanes=zf(t,p,a),n.memoizedState=Uf,gl(t.child,o)):(er(n),a=t.child,t=a.sibling,a=fs(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=a,n.memoizedState=null,a)}function Bf(t,n){return n=sc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function sc(t,n){return t=jn(22,t,null,n),t.lanes=0,t}function qf(t,n,a){return na(n,t.child,null,a),t=Bf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function py(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),nf(t.return,n,a)}function Hf(t,n,a,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function yy(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=Ot.current,b=(p&2)!==0;if(b?(p=p&1|2,n.flags|=128):p&=1,ae(Ot,p),sn(t,n,o,a),o=Qe?nl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&py(t,a,n);else if(t.tag===19)py(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&$u(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Hf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&$u(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Hf(n,!0,a,null,f,o);break;case"together":Hf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function _s(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),sr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Ga(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=fs(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=fs(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Gf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Uu(t)))}function QT(t,n,a){switch(n.tag){case 3:St(n,n.stateNode.containerInfo),Xs(n,jt,t.memoizedState.cache),Xr();break;case 27:case 5:xi(n);break;case 4:St(n,n.stateNode.containerInfo);break;case 10:Xs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,gf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(er(n),n.flags|=128,null):(a&n.child.childLanes)!==0?gy(t,n,a):(er(n),t=_s(t,n,a),t!==null?t.sibling:null);er(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Ga(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return yy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(Ot,Ot.current),o)break;return null;case 22:return n.lanes=0,uy(t,n,a,n.pendingProps);case 24:Xs(n,jt,t.memoizedState.cache)}return _s(t,n,a)}function _y(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Pt=!0;else{if(!Gf(t,a)&&(n.flags&128)===0)return Pt=!1,QT(t,n,a);Pt=(t.flags&131072)!==0}else Pt=!1,Qe&&(n.flags&1048576)!==0&&Xg(n,nl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=ea(n.elementType),n.type=t,typeof t=="function")Kh(t)?(o=sa(t,o),n.tag=1,n=dy(null,n,t,o,a)):(n.tag=0,n=jf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Le){n.tag=11,n=ay(null,n,t,o,a);break e}else if(h===N){n.tag=14,n=oy(null,n,t,o,a);break e}}throw n=ft(t)||t,Error(r(306,n,""))}}return n;case 0:return jf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=sa(o,n.pendingProps),dy(t,n,o,h,a);case 3:e:{if(St(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,cf(t,n),cl(n,o,null,a);var p=n.memoizedState;if(o=p.cache,Xs(n,jt,o),o!==f.cache&&sf(n,[jt],a,!0),ul(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=my(t,n,o,a);break e}else if(o!==h){h=Wn(Error(r(424)),n),il(h),n=my(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(pt=si(t.firstChild),tn=n,Qe=!0,Ks=null,ni=!0,a=up(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Xr(),o===h){n=_s(t,n,a);break e}sn(t,n,o,a)}n=n.child}return n;case 26:return ic(t,n),t===null?(a=I0(n.type,null,n.pendingProps,null))?n.memoizedState=a:Qe||(a=n.type,t=n.pendingProps,o=Ec(Re.current).createElement(a),o[gt]=n,o[Nt]=t,rn(o,a,t),Ne(o),n.stateNode=o):n.memoizedState=I0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return xi(n),t===null&&Qe&&(o=n.stateNode=x0(n.type,n.pendingProps,Re.current),tn=n,ni=!0,h=pt,ur(n.type)?(Sd=h,pt=si(o.firstChild)):pt=h),sn(t,n,n.pendingProps.children,a),ic(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Qe&&((h=o=pt)&&(o=S1(o,n.type,n.pendingProps,ni),o!==null?(n.stateNode=o,tn=n,pt=si(o.firstChild),ni=!1,h=!0):h=!1),h||Ys(n)),xi(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,_d(h,f)?o=null:p!==null&&_d(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=yf(t,n,UT,null,null,a),Nl._currentValue=h),ic(t,n),sn(t,n,o,a),n.child;case 6:return t===null&&Qe&&((t=a=pt)&&(a=A1(a,n.pendingProps,ni),a!==null?(n.stateNode=a,tn=n,pt=null,t=!0):t=!1),t||Ys(n)),null;case 13:return gy(t,n,a);case 4:return St(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=na(n,null,o,a):sn(t,n,o,a),n.child;case 11:return ay(t,n,n.type,n.pendingProps,a);case 7:return sn(t,n,n.pendingProps,a),n.child;case 8:return sn(t,n,n.pendingProps.children,a),n.child;case 12:return sn(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Xs(n,n.type,o.value),sn(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Zr(n),h=nn(h),o=o(h),n.flags|=1,sn(t,n,o,a),n.child;case 14:return oy(t,n,n.type,n.pendingProps,a);case 15:return ly(t,n,n.type,n.pendingProps,a);case 19:return yy(t,n,a);case 31:return $T(t,n,a);case 22:return uy(t,n,a,n.pendingProps);case 24:return Zr(n),o=nn(jt),t===null?(h=of(),h===null&&(h=ht,f=rf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},uf(n),Xs(n,jt,h)):((t.lanes&a)!==0&&(cf(t,n),cl(n,null,null,a),ul()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Xs(n,jt,o)):(o=f.cache,Xs(n,jt,o),o!==h.cache&&sf(n,[jt],a,!0))),sn(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function vs(t){t.flags|=4}function Ff(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Fy())t.flags|=8192;else throw ta=qu,lf}else t.flags&=-16777217}function vy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!V0(n))if(Fy())t.flags|=8192;else throw ta=qu,lf}function rc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Aa():536870912,t.lanes|=n,no|=n)}function pl(t,n){if(!Qe)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function yt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function KT(t,n,a){var o=n.pendingProps;switch(Zh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(n),null;case 1:return yt(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),gs(jt),Fe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ha(n)?vs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ef())),yt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(vs(n),f!==null?(yt(n),vy(n,f)):(yt(n),Ff(n,h,null,o,a))):f?f!==t.memoizedState?(vs(n),yt(n),vy(n,f)):(yt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&vs(n),yt(n),Ff(n,h,t,o,a)),null;case 27:if(vn(n),a=Re.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&vs(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return yt(n),null}t=ne.current,Ha(n)?Zg(n):(t=x0(h,o,a),n.stateNode=t,vs(n))}return yt(n),null;case 5:if(vn(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&vs(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return yt(n),null}if(f=ne.current,Ha(n))Zg(n);else{var p=Ec(Re.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[gt]=n,f[Nt]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(rn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&vs(n)}}return yt(n),Ff(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&vs(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=Re.current,Ha(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=tn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[gt]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||g0(t.nodeValue,a)),t||Ys(n,!0)}else t=Ec(t).createTextNode(o),t[gt]=n,n.stateNode=t}return yt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=Ha(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[gt]=n}else Xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),t=!1}else a=ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Pn(n),n):(Pn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return yt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ha(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[gt]=n}else Xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),h=!1}else h=ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Pn(n),n):(Pn(n),null)}return Pn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),rc(n,n.updateQueue),yt(n),null);case 4:return Fe(),t===null&&dd(n.stateNode.containerInfo),yt(n),null;case 10:return gs(n.type),yt(n),null;case 19:if($(Ot),o=n.memoizedState,o===null)return yt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)pl(o,!1);else{if(Ct!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=$u(t),f!==null){for(n.flags|=128,pl(o,!1),t=f.updateQueue,n.updateQueue=t,rc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Qg(a,t),a=a.sibling;return ae(Ot,Ot.current&1|2),Qe&&ds(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&kt()>cc&&(n.flags|=128,h=!0,pl(o,!1),n.lanes=4194304)}else{if(!h)if(t=$u(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,rc(n,t),pl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Qe)return yt(n),null}else 2*kt()-o.renderingStartTime>cc&&a!==536870912&&(n.flags|=128,h=!0,pl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=kt(),t.sibling=null,a=Ot.current,ae(Ot,h?a&1|2:a&1),Qe&&ds(n,o.treeForkCount),t):(yt(n),null);case 22:case 23:return Pn(n),mf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(yt(n),n.subtreeFlags&6&&(n.flags|=8192)):yt(n),a=n.updateQueue,a!==null&&rc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&$(Wr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),gs(jt),yt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function YT(t,n){switch(Zh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return gs(jt),Fe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return vn(n),null;case 31:if(n.memoizedState!==null){if(Pn(n),n.alternate===null)throw Error(r(340));Xr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Pn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Xr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return $(Ot),null;case 4:return Fe(),null;case 10:return gs(n.type),null;case 22:case 23:return Pn(n),mf(),t!==null&&$(Wr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return gs(jt),null;case 25:return null;default:return null}}function Ey(t,n){switch(Zh(n),n.tag){case 3:gs(jt),Fe();break;case 26:case 27:case 5:vn(n);break;case 4:Fe();break;case 31:n.memoizedState!==null&&Pn(n);break;case 13:Pn(n);break;case 19:$(Ot);break;case 10:gs(n.type);break;case 22:case 23:Pn(n),mf(),t!==null&&$(Wr);break;case 24:gs(jt)}}function yl(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,p=a.inst;o=f(),p.destroy=o}a=a.next}while(a!==h)}}catch(b){st(n,n.return,b)}}function nr(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,b=p.destroy;if(b!==void 0){p.destroy=void 0,h=n;var C=a,P=b;try{P()}catch(Q){st(h,C,Q)}}}o=o.next}while(o!==f)}}catch(Q){st(n,n.return,Q)}}function by(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{hp(n,a)}catch(o){st(t,t.return,o)}}}function Ty(t,n,a){a.props=sa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){st(t,n,o)}}function _l(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){st(t,n,h)}}function Pi(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){st(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){st(t,n,h)}else a.current=null}function Sy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){st(t,t.return,h)}}function $f(t,n,a){try{var o=t.stateNode;y1(o,t.type,a,n),o[Nt]=n}catch(h){st(t,t.return,h)}}function Ay(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ur(t.type)||t.tag===4}function Qf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ay(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ur(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kf(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=fi));else if(o!==4&&(o===27&&ur(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Kf(t,n,a),t=t.sibling;t!==null;)Kf(t,n,a),t=t.sibling}function ac(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&ur(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ac(t,n,a),t=t.sibling;t!==null;)ac(t,n,a),t=t.sibling}function wy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);rn(n,o,a),n[gt]=t,n[Nt]=a}catch(f){st(t,t.return,f)}}var Es=!1,zt=!1,Yf=!1,xy=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function XT(t,n){if(t=t.containerInfo,pd=Rc,t=Ug(t),Bh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var p=0,b=-1,C=-1,P=0,Q=0,X=t,B=null;t:for(;;){for(var G;X!==a||h!==0&&X.nodeType!==3||(b=p+h),X!==f||o!==0&&X.nodeType!==3||(C=p+o),X.nodeType===3&&(p+=X.nodeValue.length),(G=X.firstChild)!==null;)B=X,X=G;for(;;){if(X===t)break t;if(B===a&&++P===h&&(b=p),B===f&&++Q===o&&(C=p),(G=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=G}a=b===-1||C===-1?null:{start:b,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(yd={focusedElem:t,selectionRange:a},Rc=!1,Jt=n;Jt!==null;)if(n=Jt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Jt=t;else for(;Jt!==null;){switch(n=Jt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ce=sa(a.type,h);t=o.getSnapshotBeforeUpdate(ce,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){st(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Ed(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ed(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Jt=t;break}Jt=n.return}}function Ry(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ts(t,a),o&4&&yl(5,a);break;case 1:if(Ts(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(p){st(a,a.return,p)}else{var h=sa(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){st(a,a.return,p)}}o&64&&by(a),o&512&&_l(a,a.return);break;case 3:if(Ts(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{hp(t,n)}catch(p){st(a,a.return,p)}}break;case 27:n===null&&o&4&&wy(a);case 26:case 5:Ts(t,a),n===null&&o&4&&Sy(a),o&512&&_l(a,a.return);break;case 12:Ts(t,a);break;case 31:Ts(t,a),o&4&&Ny(t,a);break;case 13:Ts(t,a),o&4&&Dy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=r1.bind(null,a),w1(t,a))));break;case 22:if(o=a.memoizedState!==null||Es,!o){n=n!==null&&n.memoizedState!==null||zt,h=Es;var f=zt;Es=o,(zt=n)&&!f?Ss(t,a,(a.subtreeFlags&8772)!==0):Ts(t,a),Es=h,zt=f}break;case 30:break;default:Ts(t,a)}}function Cy(t){var n=t.alternate;n!==null&&(t.alternate=null,Cy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&oe(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var bt=null,Tn=!1;function bs(t,n,a){for(a=a.child;a!==null;)Iy(t,n,a),a=a.sibling}function Iy(t,n,a){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(Nn,a)}catch{}switch(a.tag){case 26:zt||Pi(a,n),bs(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:zt||Pi(a,n);var o=bt,h=Tn;ur(a.type)&&(bt=a.stateNode,Tn=!1),bs(t,n,a),Rl(a.stateNode),bt=o,Tn=h;break;case 5:zt||Pi(a,n);case 6:if(o=bt,h=Tn,bt=null,bs(t,n,a),bt=o,Tn=h,bt!==null)if(Tn)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(a.stateNode)}catch(f){st(a,n,f)}else try{bt.removeChild(a.stateNode)}catch(f){st(a,n,f)}break;case 18:bt!==null&&(Tn?(t=bt,b0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),co(t)):b0(bt,a.stateNode));break;case 4:o=bt,h=Tn,bt=a.stateNode.containerInfo,Tn=!0,bs(t,n,a),bt=o,Tn=h;break;case 0:case 11:case 14:case 15:nr(2,a,n),zt||nr(4,a,n),bs(t,n,a);break;case 1:zt||(Pi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ty(a,n,o)),bs(t,n,a);break;case 21:bs(t,n,a);break;case 22:zt=(o=zt)||a.memoizedState!==null,bs(t,n,a),zt=o;break;default:bs(t,n,a)}}function Ny(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{co(t)}catch(a){st(n,n.return,a)}}}function Dy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{co(t)}catch(a){st(n,n.return,a)}}function JT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new xy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new xy),n;default:throw Error(r(435,t.tag))}}function oc(t,n){var a=JT(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=a1.bind(null,t,o);o.then(h,h)}})}function Sn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,p=n,b=p;e:for(;b!==null;){switch(b.tag){case 27:if(ur(b.type)){bt=b.stateNode,Tn=!1;break e}break;case 5:bt=b.stateNode,Tn=!1;break e;case 3:case 4:bt=b.stateNode.containerInfo,Tn=!0;break e}b=b.return}if(bt===null)throw Error(r(160));Iy(f,p,h),bt=null,Tn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Oy(n,t),n=n.sibling}var _i=null;function Oy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Sn(n,t),An(t),o&4&&(nr(3,t,t.return),yl(3,t),nr(5,t,t.return));break;case 1:Sn(n,t),An(t),o&512&&(zt||a===null||Pi(a,a.return)),o&64&&Es&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=_i;if(Sn(n,t),An(t),o&512&&(zt||a===null||Pi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[q]||f[gt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),rn(f,o,a),f[gt]=t,Ne(f),o=f;break e;case"link":var p=O0("link","href",h).get(o+(a.href||""));if(p){for(var b=0;b<p.length;b++)if(f=p[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(b,1);break t}}f=h.createElement(o),rn(f,o,a),h.head.appendChild(f);break;case"meta":if(p=O0("meta","content",h).get(o+(a.content||""))){for(b=0;b<p.length;b++)if(f=p[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(b,1);break t}}f=h.createElement(o),rn(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[gt]=t,Ne(f),o=f}t.stateNode=o}else M0(h,t.type,t.stateNode);else t.stateNode=D0(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?M0(h,t.type,t.stateNode):D0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&$f(t,t.memoizedProps,a.memoizedProps)}break;case 27:Sn(n,t),An(t),o&512&&(zt||a===null||Pi(a,a.return)),a!==null&&o&4&&$f(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Sn(n,t),An(t),o&512&&(zt||a===null||Pi(a,a.return)),t.flags&32){h=t.stateNode;try{bn(h,"")}catch(ce){st(t,t.return,ce)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,$f(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Yf=!0);break;case 6:if(Sn(n,t),An(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ce){st(t,t.return,ce)}}break;case 3:if(Sc=null,h=_i,_i=bc(n.containerInfo),Sn(n,t),_i=h,An(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{co(n.containerInfo)}catch(ce){st(t,t.return,ce)}Yf&&(Yf=!1,My(t));break;case 4:o=_i,_i=bc(t.stateNode.containerInfo),Sn(n,t),An(t),_i=o;break;case 12:Sn(n,t),An(t);break;case 31:Sn(n,t),An(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,oc(t,o)));break;case 13:Sn(n,t),An(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(uc=kt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,oc(t,o)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,P=Es,Q=zt;if(Es=P||h,zt=Q||C,Sn(n,t),zt=Q,Es=P,An(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||Es||zt||ra(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{b=C.stateNode;var X=C.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;b.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ce){st(C,C.return,ce)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ce){st(C,C.return,ce)}}}else if(n.tag===18){if(a===null){C=n;try{var G=C.stateNode;h?T0(G,!0):T0(C.stateNode,!1)}catch(ce){st(C,C.return,ce)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,oc(t,a))));break;case 19:Sn(n,t),An(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,oc(t,o)));break;case 30:break;case 21:break;default:Sn(n,t),An(t)}}function An(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(Ay(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Qf(t);ac(t,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(bn(p,""),a.flags&=-33);var b=Qf(t);ac(t,b,p);break;case 3:case 4:var C=a.stateNode.containerInfo,P=Qf(t);Kf(t,P,C);break;default:throw Error(r(161))}}catch(Q){st(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function My(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;My(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ts(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ry(t,n.alternate,n),n=n.sibling}function ra(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:nr(4,n,n.return),ra(n);break;case 1:Pi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ty(n,n.return,a),ra(n);break;case 27:Rl(n.stateNode);case 26:case 5:Pi(n,n.return),ra(n);break;case 22:n.memoizedState===null&&ra(n);break;case 30:ra(n);break;default:ra(n)}t=t.sibling}}function Ss(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Ss(h,f,a),yl(4,f);break;case 1:if(Ss(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){st(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var b=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)cp(C[h],b)}catch(P){st(o,o.return,P)}}a&&p&64&&by(f),_l(f,f.return);break;case 27:wy(f);case 26:case 5:Ss(h,f,a),a&&o===null&&p&4&&Sy(f),_l(f,f.return);break;case 12:Ss(h,f,a);break;case 31:Ss(h,f,a),a&&p&4&&Ny(h,f);break;case 13:Ss(h,f,a),a&&p&4&&Dy(h,f);break;case 22:f.memoizedState===null&&Ss(h,f,a),_l(f,f.return);break;case 30:break;default:Ss(h,f,a)}n=n.sibling}}function Xf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&sl(a))}function Jf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&sl(t))}function vi(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Vy(t,n,a,o),n=n.sibling}function Vy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:vi(t,n,a,o),h&2048&&yl(9,n);break;case 1:vi(t,n,a,o);break;case 3:vi(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&sl(t)));break;case 12:if(h&2048){vi(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,b=f.onPostCommit;typeof b=="function"&&b(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){st(n,n.return,C)}}else vi(t,n,a,o);break;case 31:vi(t,n,a,o);break;case 13:vi(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?vi(t,n,a,o):vl(t,n):f._visibility&2?vi(t,n,a,o):(f._visibility|=2,Wa(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Xf(p,n);break;case 24:vi(t,n,a,o),h&2048&&Jf(n.alternate,n);break;default:vi(t,n,a,o)}}function Wa(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,b=a,C=o,P=p.flags;switch(p.tag){case 0:case 11:case 15:Wa(f,p,b,C,h),yl(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?Wa(f,p,b,C,h):vl(f,p):(Q._visibility|=2,Wa(f,p,b,C,h)),h&&P&2048&&Xf(p.alternate,p);break;case 24:Wa(f,p,b,C,h),h&&P&2048&&Jf(p.alternate,p);break;default:Wa(f,p,b,C,h)}n=n.sibling}}function vl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:vl(a,o),h&2048&&Xf(o.alternate,o);break;case 24:vl(a,o),h&2048&&Jf(o.alternate,o);break;default:vl(a,o)}n=n.sibling}}var El=8192;function eo(t,n,a){if(t.subtreeFlags&El)for(t=t.child;t!==null;)ky(t,n,a),t=t.sibling}function ky(t,n,a){switch(t.tag){case 26:eo(t,n,a),t.flags&El&&t.memoizedState!==null&&j1(a,_i,t.memoizedState,t.memoizedProps);break;case 5:eo(t,n,a);break;case 3:case 4:var o=_i;_i=bc(t.stateNode.containerInfo),eo(t,n,a),_i=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=El,El=16777216,eo(t,n,a),El=o):eo(t,n,a));break;default:eo(t,n,a)}}function Ly(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function bl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Jt=o,Uy(o,t)}Ly(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jy(t),t=t.sibling}function jy(t){switch(t.tag){case 0:case 11:case 15:bl(t),t.flags&2048&&nr(9,t,t.return);break;case 3:bl(t);break;case 12:bl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,lc(t)):bl(t);break;default:bl(t)}}function lc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Jt=o,Uy(o,t)}Ly(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:nr(8,n,n.return),lc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,lc(n));break;default:lc(n)}t=t.sibling}}function Uy(t,n){for(;Jt!==null;){var a=Jt;switch(a.tag){case 0:case 11:case 15:nr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:sl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Jt=o;else e:for(a=t;Jt!==null;){o=Jt;var h=o.sibling,f=o.return;if(Cy(o),o===a){Jt=null;break e}if(h!==null){h.return=f,Jt=h;break e}Jt=f}}}var ZT={getCacheForType:function(t){var n=nn(jt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return nn(jt).controller.signal}},WT=typeof WeakMap=="function"?WeakMap:Map,et=0,ht=null,je=null,Pe=0,it=0,zn=null,ir=!1,to=!1,Zf=!1,As=0,Ct=0,sr=0,aa=0,Wf=0,Bn=0,no=0,Tl=null,wn=null,ed=!1,uc=0,Py=0,cc=1/0,hc=null,rr=null,Ft=0,ar=null,io=null,ws=0,td=0,nd=null,zy=null,Sl=0,id=null;function qn(){return(et&2)!==0&&Pe!==0?Pe&-Pe:F.T!==null?ud():wa()}function By(){if(Bn===0)if((Pe&536870912)===0||Qe){var t=rs;rs<<=1,(rs&3932160)===0&&(rs=262144),Bn=t}else Bn=536870912;return t=Un.current,t!==null&&(t.flags|=32),Bn}function xn(t,n,a){(t===ht&&(it===2||it===9)||t.cancelPendingCommit!==null)&&(so(t,0),or(t,Pe,Bn,!1)),Ii(t,a),((et&2)===0||t!==ht)&&(t===ht&&((et&2)===0&&(aa|=a),Ct===4&&or(t,Pe,Bn,!1)),zi(t))}function qy(t,n,a){if((et&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Dn(t,n),h=o?n1(t,n):rd(t,n,!0),f=o;do{if(h===0){to&&!o&&or(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!e1(a)){h=rd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var b=t;h=Tl;var C=b.current.memoizedState.isDehydrated;if(C&&(so(b,p).flags|=256),p=rd(b,p,!1),p!==2){if(Zf&&!C){b.errorRecoveryDisabledLanes|=f,aa|=f,h=4;break e}f=wn,wn=h,f!==null&&(wn===null?wn=f:wn.push.apply(wn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){so(t,0),or(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:or(o,n,Bn,!ir);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=uc+300-kt(),10<h)){if(or(o,n,Bn,!ir),$n(o,0,!0)!==0)break e;ws=n,o.timeoutHandle=v0(Hy.bind(null,o,a,wn,hc,ed,n,Bn,aa,no,ir,f,"Throttled",-0,0),h);break e}Hy(o,a,wn,hc,ed,n,Bn,aa,no,ir,f,null,-0,0)}}break}while(!0);zi(t)}function Hy(t,n,a,o,h,f,p,b,C,P,Q,X,B,G){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},ky(n,f,X);var ce=(f&62914560)===f?uc-kt():(f&4194048)===f?Py-kt():0;if(ce=U1(X,ce),ce!==null){ws=f,t.cancelPendingCommit=ce(Jy.bind(null,t,n,f,a,o,h,p,b,C,Q,X,null,B,G)),or(t,f,p,!P);return}}Jy(t,n,f,a,o,h,p,b,C)}function e1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Ln(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function or(t,n,a,o){n&=~Wf,n&=~aa,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-mt(h),p=1<<f;o[f]=-1,h&=~p}a!==0&&as(t,a,n)}function fc(){return(et&6)===0?(Al(0),!1):!0}function sd(){if(je!==null){if(it===0)var t=je.return;else t=je,ms=Jr=null,Ef(t),Ka=null,al=0,t=je;for(;t!==null;)Ey(t.alternate,t),t=t.return;je=null}}function so(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,E1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ws=0,sd(),ht=t,je=a=fs(t.current,null),Pe=n,it=0,zn=null,ir=!1,to=Dn(t,n),Zf=!1,no=Bn=Wf=aa=sr=Ct=0,wn=Tl=null,ed=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-mt(o),f=1<<h;n|=t[h],o&=~f}return As=n,Mu(),a}function Gy(t,n){Me=null,F.H=ml,n===Qa||n===Bu?(n=ap(),it=3):n===lf?(n=ap(),it=4):it=n===Lf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,zn=n,je===null&&(Ct=1,tc(t,Wn(n,t.current)))}function Fy(){var t=Un.current;return t===null?!0:(Pe&4194048)===Pe?ii===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===ii:!1}function $y(){var t=F.H;return F.H=ml,t===null?ml:t}function Qy(){var t=F.A;return F.A=ZT,t}function dc(){Ct=4,ir||(Pe&4194048)!==Pe&&Un.current!==null||(to=!0),(sr&134217727)===0&&(aa&134217727)===0||ht===null||or(ht,Pe,Bn,!1)}function rd(t,n,a){var o=et;et|=2;var h=$y(),f=Qy();(ht!==t||Pe!==n)&&(hc=null,so(t,n)),n=!1;var p=Ct;e:do try{if(it!==0&&je!==null){var b=je,C=zn;switch(it){case 8:sd(),p=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(n=!0);var P=it;if(it=0,zn=null,ro(t,b,C,P),a&&to){p=0;break e}break;default:P=it,it=0,zn=null,ro(t,b,C,P)}}t1(),p=Ct;break}catch(Q){Gy(t,Q)}while(!0);return n&&t.shellSuspendCounter++,ms=Jr=null,et=o,F.H=h,F.A=f,je===null&&(ht=null,Pe=0,Mu()),p}function t1(){for(;je!==null;)Ky(je)}function n1(t,n){var a=et;et|=2;var o=$y(),h=Qy();ht!==t||Pe!==n?(hc=null,cc=kt()+500,so(t,n)):to=Dn(t,n);e:do try{if(it!==0&&je!==null){n=je;var f=zn;t:switch(it){case 1:it=0,zn=null,ro(t,n,f,1);break;case 2:case 9:if(sp(f)){it=0,zn=null,Yy(n);break}n=function(){it!==2&&it!==9||ht!==t||(it=7),zi(t)},f.then(n,n);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:sp(f)?(it=0,zn=null,Yy(n)):(it=0,zn=null,ro(t,n,f,7));break;case 5:var p=null;switch(je.tag){case 26:p=je.memoizedState;case 5:case 27:var b=je;if(p?V0(p):b.stateNode.complete){it=0,zn=null;var C=b.sibling;if(C!==null)je=C;else{var P=b.return;P!==null?(je=P,mc(P)):je=null}break t}}it=0,zn=null,ro(t,n,f,5);break;case 6:it=0,zn=null,ro(t,n,f,6);break;case 8:sd(),Ct=6;break e;default:throw Error(r(462))}}i1();break}catch(Q){Gy(t,Q)}while(!0);return ms=Jr=null,F.H=o,F.A=h,et=a,je!==null?0:(ht=null,Pe=0,Mu(),Ct)}function i1(){for(;je!==null&&!Kt();)Ky(je)}function Ky(t){var n=_y(t.alternate,t,As);t.memoizedProps=t.pendingProps,n===null?mc(t):je=n}function Yy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=fy(a,n,n.pendingProps,n.type,void 0,Pe);break;case 11:n=fy(a,n,n.pendingProps,n.type.render,n.ref,Pe);break;case 5:Ef(n);default:Ey(a,n),n=je=Qg(n,As),n=_y(a,n,As)}t.memoizedProps=t.pendingProps,n===null?mc(t):je=n}function ro(t,n,a,o){ms=Jr=null,Ef(n),Ka=null,al=0;var h=n.return;try{if(FT(t,h,n,a,Pe)){Ct=1,tc(t,Wn(a,t.current)),je=null;return}}catch(f){if(h!==null)throw je=h,f;Ct=1,tc(t,Wn(a,t.current)),je=null;return}n.flags&32768?(Qe||o===1?t=!0:to||(Pe&536870912)!==0?t=!1:(ir=t=!0,(o===2||o===9||o===3||o===6)&&(o=Un.current,o!==null&&o.tag===13&&(o.flags|=16384))),Xy(n,t)):mc(n)}function mc(t){var n=t;do{if((n.flags&32768)!==0){Xy(n,ir);return}t=n.return;var a=KT(n.alternate,n,As);if(a!==null){je=a;return}if(n=n.sibling,n!==null){je=n;return}je=n=t}while(n!==null);Ct===0&&(Ct=5)}function Xy(t,n){do{var a=YT(t.alternate,t);if(a!==null){a.flags&=32767,je=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){je=t;return}je=t=a}while(t!==null);Ct=6,je=null}function Jy(t,n,a,o,h,f,p,b,C){t.cancelPendingCommit=null;do gc();while(Ft!==0);if((et&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=$h,zo(t,a,f,p,b,C),t===ht&&(je=ht=null,Pe=0),io=n,ar=t,ws=a,td=f,nd=h,zy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,o1(Ci,function(){return n0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=re.p,re.p=2,p=et,et|=4;try{XT(t,n,a)}finally{et=p,re.p=h,F.T=o}}Ft=1,Zy(),Wy(),e0()}}function Zy(){if(Ft===1){Ft=0;var t=ar,n=io,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=re.p;re.p=2;var h=et;et|=4;try{Oy(n,t);var f=yd,p=Ug(t.containerInfo),b=f.focusedElem,C=f.selectionRange;if(p!==b&&b&&b.ownerDocument&&jg(b.ownerDocument.documentElement,b)){if(C!==null&&Bh(b)){var P=C.start,Q=C.end;if(Q===void 0&&(Q=P),"selectionStart"in b)b.selectionStart=P,b.selectionEnd=Math.min(Q,b.value.length);else{var X=b.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var G=B.getSelection(),ce=b.textContent.length,Ee=Math.min(C.start,ce),ut=C.end===void 0?Ee:Math.min(C.end,ce);!G.extend&&Ee>ut&&(p=ut,ut=Ee,Ee=p);var k=Lg(b,Ee),O=Lg(b,ut);if(k&&O&&(G.rangeCount!==1||G.anchorNode!==k.node||G.anchorOffset!==k.offset||G.focusNode!==O.node||G.focusOffset!==O.offset)){var U=X.createRange();U.setStart(k.node,k.offset),G.removeAllRanges(),Ee>ut?(G.addRange(U),G.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),G.addRange(U))}}}}for(X=[],G=b;G=G.parentNode;)G.nodeType===1&&X.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<X.length;b++){var Y=X[b];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Rc=!!pd,yd=pd=null}finally{et=h,re.p=o,F.T=a}}t.current=n,Ft=2}}function Wy(){if(Ft===2){Ft=0;var t=ar,n=io,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=re.p;re.p=2;var h=et;et|=4;try{Ry(t,n.alternate,n)}finally{et=h,re.p=o,F.T=a}}Ft=3}}function e0(){if(Ft===4||Ft===3){Ft=0,ks();var t=ar,n=io,a=ws,o=zy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ft=5:(Ft=0,io=ar=null,t0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(rr=null),hi(a),n=n.stateNode,rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(Nn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=re.p,re.p=2,F.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var b=o[p];f(b.value,{componentStack:b.stack})}}finally{F.T=n,re.p=h}}(ws&3)!==0&&gc(),zi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===id?Sl++:(Sl=0,id=t):Sl=0,Al(0)}}function t0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,sl(n)))}function gc(){return Zy(),Wy(),e0(),n0()}function n0(){if(Ft!==5)return!1;var t=ar,n=td;td=0;var a=hi(ws),o=F.T,h=re.p;try{re.p=32>a?32:a,F.T=null,a=nd,nd=null;var f=ar,p=ws;if(Ft=0,io=ar=null,ws=0,(et&6)!==0)throw Error(r(331));var b=et;if(et|=4,jy(f.current),Vy(f,f.current,p,a),et=b,Al(0,!1),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(Nn,f)}catch{}return!0}finally{re.p=h,F.T=o,t0(t,n)}}function i0(t,n,a){n=Wn(a,n),n=kf(t.stateNode,n,2),t=Ws(t,n,2),t!==null&&(Ii(t,2),zi(t))}function st(t,n,a){if(t.tag===3)i0(t,t,a);else for(;n!==null;){if(n.tag===3){i0(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(rr===null||!rr.has(o))){t=Wn(a,t),a=sy(2),o=Ws(n,a,2),o!==null&&(ry(a,o,n,t),Ii(o,2),zi(o));break}}n=n.return}}function ad(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new WT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Zf=!0,h.add(a),t=s1.bind(null,t,n,a),n.then(t,t))}function s1(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ht===t&&(Pe&a)===a&&(Ct===4||Ct===3&&(Pe&62914560)===Pe&&300>kt()-uc?(et&2)===0&&so(t,0):Wf|=a,no===Pe&&(no=0)),zi(t)}function s0(t,n){n===0&&(n=Aa()),t=Kr(t,n),t!==null&&(Ii(t,n),zi(t))}function r1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),s0(t,a)}function a1(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),s0(t,a)}function o1(t,n){return It(t,n)}var pc=null,ao=null,od=!1,yc=!1,ld=!1,lr=0;function zi(t){t!==ao&&t.next===null&&(ao===null?pc=ao=t:ao=ao.next=t),yc=!0,od||(od=!0,u1())}function Al(t,n){if(!ld&&yc){ld=!0;do for(var a=!1,o=pc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,b=o.pingedLanes;f=(1<<31-mt(42|t)+1)-1,f&=h&~(p&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,l0(o,f))}else f=Pe,f=$n(o,o===ht?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Dn(o,f)||(a=!0,l0(o,f));o=o.next}while(a);ld=!1}}function l1(){r0()}function r0(){yc=od=!1;var t=0;lr!==0&&v1()&&(t=lr);for(var n=kt(),a=null,o=pc;o!==null;){var h=o.next,f=a0(o,n);f===0?(o.next=null,a===null?pc=h:a.next=h,h===null&&(ao=a)):(a=o,(t!==0||(f&3)!==0)&&(yc=!0)),o=h}Ft!==0&&Ft!==5||Al(t),lr!==0&&(lr=0)}function a0(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-mt(f),b=1<<p,C=h[p];C===-1?((b&a)===0||(b&o)!==0)&&(h[p]=Sa(b,n)):C<=n&&(t.expiredLanes|=b),f&=~b}if(n=ht,a=Pe,a=$n(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(it===2||it===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&In(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Dn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&In(o),hi(a)){case 2:case 8:a=ss;break;case 32:a=Ci;break;case 268435456:a=Hn;break;default:a=Ci}return o=o0.bind(null,t),a=It(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&In(o),t.callbackPriority=2,t.callbackNode=null,2}function o0(t,n){if(Ft!==0&&Ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(gc()&&t.callbackNode!==a)return null;var o=Pe;return o=$n(t,t===ht?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(qy(t,o,n),a0(t,kt()),t.callbackNode!=null&&t.callbackNode===a?o0.bind(null,t):null)}function l0(t,n){if(gc())return null;qy(t,n,!0)}function u1(){b1(function(){(et&6)!==0?It(Ri,l1):r0()})}function ud(){if(lr===0){var t=Fa;t===0&&(t=Gn,Gn<<=1,(Gn&261888)===0&&(Gn=256)),lr=t}return lr}function u0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Na(""+t)}function c0(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function c1(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=u0((h[Nt]||null).action),p=o.submitter;p&&(n=(n=p[Nt]||null)?u0(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var b=new Mi("action","action",null,o,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(lr!==0){var C=p?c0(h,p):new FormData(h);If(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(b.preventDefault(),C=p?c0(h,p):new FormData(h),If(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var cd=0;cd<Fh.length;cd++){var hd=Fh[cd],h1=hd.toLowerCase(),f1=hd[0].toUpperCase()+hd.slice(1);yi(h1,"on"+f1)}yi(Bg,"onAnimationEnd"),yi(qg,"onAnimationIteration"),yi(Hg,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(CT,"onTransitionRun"),yi(IT,"onTransitionStart"),yi(NT,"onTransitionCancel"),yi(Gg,"onTransitionEnd"),xt("onMouseEnter",["mouseout","mouseover"]),xt("onMouseLeave",["mouseout","mouseover"]),xt("onPointerEnter",["pointerout","pointerover"]),xt("onPointerLeave",["pointerout","pointerover"]),Yt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function h0(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var b=o[p],C=b.instance,P=b.currentTarget;if(b=b.listener,C!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=P;try{f(h)}catch(Q){Ou(Q)}h.currentTarget=null,f=C}else for(p=0;p<o.length;p++){if(b=o[p],C=b.instance,P=b.currentTarget,b=b.listener,C!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=P;try{f(h)}catch(Q){Ou(Q)}h.currentTarget=null,f=C}}}}function Ue(t,n){var a=n[js];a===void 0&&(a=n[js]=new Set);var o=t+"__bubble";a.has(o)||(f0(n,t,2,!1),a.add(o))}function fd(t,n,a){var o=0;n&&(o|=4),f0(a,t,o,n)}var _c="_reactListening"+Math.random().toString(36).slice(2);function dd(t){if(!t[_c]){t[_c]=!0,$e.forEach(function(a){a!=="selectionchange"&&(d1.has(a)||fd(a,!1,t),fd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[_c]||(n[_c]=!0,fd("selectionchange",!1,n))}}function f0(t,n,a,o){switch(B0(n)){case 2:var h=B1;break;case 8:h=q1;break;default:h=Cd}a=h.bind(null,n,a,t),h=void 0,!zr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function md(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var b=o.stateNode.containerInfo;if(b===h)break;if(p===4)for(p=o.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;b!==null;){if(p=ye(b),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){o=f=p;continue e}b=b.parentNode}}o=o.return}Hs(function(){var P=f,Q=Yn(a),X=[];e:{var B=Fg.get(t);if(B!==void 0){var G=Mi,ce=t;switch(t){case"keypress":if(qr(a)===0)break e;case"keydown":case"keyup":G=Iu;break;case"focusin":ce="focus",G=Gr;break;case"focusout":ce="blur",G=Gr;break;case"beforeblur":case"afterblur":G=Gr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=m;break;case Bg:case qg:case Hg:G=Tu;break;case Gg:G=T;break;case"scroll":case"scrollend":G=Yo;break;case"wheel":G=H;break;case"copy":case"cut":case"paste":G=Su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=hs;break;case"toggle":case"beforetoggle":G=Oe}var Ee=(n&4)!==0,ut=!Ee&&(t==="scroll"||t==="scrollend"),k=Ee?B!==null?B+"Capture":null:B;Ee=[];for(var O=P,U;O!==null;){var Y=O;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||k===null||(Y=di(O,k),Y!=null&&Ee.push(xl(O,Y,U))),ut)break;O=O.return}0<Ee.length&&(B=new G(B,ce,null,a,Q),X.push({event:B,listeners:Ee}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",B&&a!==$o&&(ce=a.relatedTarget||a.fromElement)&&(ye(ce)||ce[Qn]))break e;if((G||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,G?(ce=a.relatedTarget||a.toElement,G=P,ce=ce?ye(ce):null,ce!==null&&(ut=c(ce),Ee=ce.tag,ce!==ut||Ee!==5&&Ee!==27&&Ee!==6)&&(ce=null)):(G=null,ce=P),G!==ce)){if(Ee=Xo,Y="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=hs,Y="onPointerLeave",k="onPointerEnter",O="pointer"),ut=G==null?B:we(G),U=ce==null?B:we(ce),B=new Ee(Y,O+"leave",G,a,Q),B.target=ut,B.relatedTarget=U,Y=null,ye(Q)===P&&(Ee=new Ee(k,O+"enter",ce,a,Q),Ee.target=U,Ee.relatedTarget=ut,Y=Ee),ut=Y,G&&ce)t:{for(Ee=m1,k=G,O=ce,U=0,Y=k;Y;Y=Ee(Y))U++;Y=0;for(var me=O;me;me=Ee(me))Y++;for(;0<U-Y;)k=Ee(k),U--;for(;0<Y-U;)O=Ee(O),Y--;for(;U--;){if(k===O||O!==null&&k===O.alternate){Ee=k;break t}k=Ee(k),O=Ee(O)}Ee=null}else Ee=null;G!==null&&d0(X,B,G,Ee,!1),ce!==null&&ut!==null&&d0(X,ut,ce,Ee,!0)}}e:{if(B=P?we(P):window,G=B.nodeName&&B.nodeName.toLowerCase(),G==="select"||G==="input"&&B.type==="file")var Je=Ng;else if(Cg(B))if(Dg)Je=wT;else{Je=ST;var he=TT}else G=B.nodeName,!G||G.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Ia(P.elementType)&&(Je=Ng):Je=AT;if(Je&&(Je=Je(t,P))){Ig(X,Je,a,Q);break e}he&&he(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&Ho(B,"number",B.value)}switch(he=P?we(P):window,t){case"focusin":(Cg(he)||he.contentEditable==="true")&&(ja=he,qh=P,tl=null);break;case"focusout":tl=qh=ja=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,Pg(X,a,Q);break;case"selectionchange":if(RT)break;case"keydown":case"keyup":Pg(X,a,Q)}var Ve;if(We)e:{switch(t){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else La?Fr(t,a)&&(ze="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ze="onCompositionStart");ze&&(Li&&a.locale!=="ko"&&(La||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&La&&(Ve=Ko()):(Oi=Q,Qo="value"in Oi?Oi.value:Oi.textContent,La=!0)),he=vc(P,ze),0<he.length&&(ze=new ki(ze,t,null,a,Q),X.push({event:ze,listeners:he}),Ve?ze.data=Ve:(Ve=ka(a),Ve!==null&&(ze.data=Ve)))),(Ve=Jn?_T(t,a):vT(t,a))&&(ze=vc(P,"onBeforeInput"),0<ze.length&&(he=new ki("onBeforeInput","beforeinput",null,a,Q),X.push({event:he,listeners:ze}),he.data=Ve)),c1(X,t,P,a,Q)}h0(X,n)})}function xl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function vc(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=di(t,a),h!=null&&o.unshift(xl(t,h,f)),h=di(t,n),h!=null&&o.push(xl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function m1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function d0(t,n,a,o,h){for(var f=n._reactName,p=[];a!==null&&a!==o;){var b=a,C=b.alternate,P=b.stateNode;if(b=b.tag,C!==null&&C===o)break;b!==5&&b!==26&&b!==27||P===null||(C=P,h?(P=di(a,f),P!=null&&p.unshift(xl(a,P,C))):h||(P=di(a,f),P!=null&&p.push(xl(a,P,C)))),a=a.return}p.length!==0&&t.push({event:n,listeners:p})}var g1=/\r\n?/g,p1=/\u0000|\uFFFD/g;function m0(t){return(typeof t=="string"?t:""+t).replace(g1,`
`).replace(p1,"")}function g0(t,n){return n=m0(n),m0(t)===n}function lt(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||bn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&bn(t,""+o);break;case"className":kn(t,"class",o);break;case"tabIndex":kn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(t,a,o);break;case"style":Fo(t,o,f);break;case"data":if(n!=="object"){kn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Na(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&lt(t,n,"name",h.name,h,null),lt(t,n,"formEncType",h.formEncType,h,null),lt(t,n,"formMethod",h.formMethod,h,null),lt(t,n,"formTarget",h.formTarget,h,null)):(lt(t,n,"encType",h.encType,h,null),lt(t,n,"method",h.method,h,null),lt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Na(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=fi);break;case"onScroll":o!=null&&Ue("scroll",t);break;case"onScrollEnd":o!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Na(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),Ra(t,"popover",o);break;case"xlinkActuate":Lt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Lt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Lt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Lt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Lt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Lt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ra(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=vu.get(a)||a,Ra(t,a,o))}}function gd(t,n,a,o,h,f){switch(a){case"style":Fo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?bn(t,o):(typeof o=="number"||typeof o=="bigint")&&bn(t,""+o);break;case"onScroll":o!=null&&Ue("scroll",t);break;case"onScrollEnd":o!=null&&Ue("scrollend",t);break;case"onClick":o!=null&&(t.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cn.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Nt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Ra(t,a,o)}}}function rn(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:lt(t,n,f,p,a,null)}}h&&lt(t,n,"srcSet",a.srcSet,a,null),o&&lt(t,n,"src",a.src,a,null);return;case"input":Ue("invalid",t);var b=f=p=h=null,C=null,P=null;for(o in a)if(a.hasOwnProperty(o)){var Q=a[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":p=Q;break;case"checked":C=Q;break;case"defaultChecked":P=Q;break;case"value":f=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:lt(t,n,o,Q,a,null)}}pu(t,f,b,C,P,p,h,!1);return;case"select":Ue("invalid",t),o=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":p=b;break;case"multiple":o=b;default:lt(t,n,h,b,a,null)}n=f,a=p,t.multiple=!!o,n!=null?Ps(t,!!o,n,!1):a!=null&&Ps(t,!!o,a,!0);return;case"textarea":Ue("invalid",t),f=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(b=a[p],b!=null))switch(p){case"value":o=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:lt(t,n,p,b,a,null)}zs(t,o,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:lt(t,n,C,o,a,null)}return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(o=0;o<wl.length;o++)Ue(wl[o],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(o=a[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:lt(t,n,P,o,a,null)}return;default:if(Ia(n)){for(Q in a)a.hasOwnProperty(Q)&&(o=a[Q],o!==void 0&&gd(t,n,Q,o,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(o=a[b],o!=null&&lt(t,n,b,o,a,null))}function y1(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,b=null,C=null,P=null,Q=null;for(G in a){var X=a[G];if(a.hasOwnProperty(G)&&X!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(G)||lt(t,n,G,null,o,X)}}for(var B in o){var G=o[B];if(X=a[B],o.hasOwnProperty(B)&&(G!=null||X!=null))switch(B){case"type":f=G;break;case"name":h=G;break;case"checked":P=G;break;case"defaultChecked":Q=G;break;case"value":p=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:G!==X&&lt(t,n,B,G,o,X)}}Ca(t,p,b,C,P,Q,f,h);return;case"select":G=p=b=B=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":G=C;default:o.hasOwnProperty(f)||lt(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":b=f;break;case"multiple":p=f;default:f!==C&&lt(t,n,h,f,o,C)}n=b,a=p,o=G,B!=null?Ps(t,!!a,B,!1):!!o!=!!a&&(n!=null?Ps(t,!!a,n,!0):Ps(t,!!a,a?[]:"",!1));return;case"textarea":G=B=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:lt(t,n,b,null,o,h)}for(p in o)if(h=o[p],f=a[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":B=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&lt(t,n,p,h,o,f)}yu(t,B,G);return;case"option":for(var ce in a)if(B=a[ce],a.hasOwnProperty(ce)&&B!=null&&!o.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:lt(t,n,ce,null,o,B)}for(C in o)if(B=o[C],G=a[C],o.hasOwnProperty(C)&&B!==G&&(B!=null||G!=null))switch(C){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:lt(t,n,C,B,o,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)B=a[Ee],a.hasOwnProperty(Ee)&&B!=null&&!o.hasOwnProperty(Ee)&&lt(t,n,Ee,null,o,B);for(P in o)if(B=o[P],G=a[P],o.hasOwnProperty(P)&&B!==G&&(B!=null||G!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:lt(t,n,P,B,o,G)}return;default:if(Ia(n)){for(var ut in a)B=a[ut],a.hasOwnProperty(ut)&&B!==void 0&&!o.hasOwnProperty(ut)&&gd(t,n,ut,void 0,o,B);for(Q in o)B=o[Q],G=a[Q],!o.hasOwnProperty(Q)||B===G||B===void 0&&G===void 0||gd(t,n,Q,B,o,G);return}}for(var k in a)B=a[k],a.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&lt(t,n,k,null,o,B);for(X in o)B=o[X],G=a[X],!o.hasOwnProperty(X)||B===G||B==null&&G==null||lt(t,n,X,B,o,G)}function p0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,p=h.initiatorType,b=h.duration;if(f&&b&&p0(p)){for(p=0,b=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],P=C.startTime;if(P>b)break;var Q=C.transferSize,X=C.initiatorType;Q&&p0(X)&&(C=C.responseEnd,p+=Q*(C<b?1:(b-P)/(C-P)))}if(--o,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pd=null,yd=null;function Ec(t){return t.nodeType===9?t:t.ownerDocument}function y0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function _d(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var vd=null;function v1(){var t=window.event;return t&&t.type==="popstate"?t===vd?!1:(vd=t,!0):(vd=null,!1)}var v0=typeof setTimeout=="function"?setTimeout:void 0,E1=typeof clearTimeout=="function"?clearTimeout:void 0,E0=typeof Promise=="function"?Promise:void 0,b1=typeof queueMicrotask=="function"?queueMicrotask:typeof E0<"u"?function(t){return E0.resolve(null).then(t).catch(T1)}:v0;function T1(t){setTimeout(function(){throw t})}function ur(t){return t==="head"}function b0(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),co(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Rl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Rl(a);for(var f=a.firstChild;f;){var p=f.nextSibling,b=f.nodeName;f[q]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&Rl(t.ownerDocument.body);a=h}while(a);co(n)}function T0(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Ed(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ed(a),oe(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function S1(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[q])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=si(t.nextSibling),t===null)break}return null}function A1(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=si(t.nextSibling),t===null))return null;return t}function S0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=si(t.nextSibling),t===null))return null;return t}function bd(t){return t.data==="$?"||t.data==="$~"}function Td(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function w1(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function si(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Sd=null;function A0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return si(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function w0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function x0(t,n,a){switch(n=Ec(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Rl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);oe(t)}var ri=new Map,R0=new Set;function bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var xs=re.d;re.d={f:x1,r:R1,D:C1,C:I1,L:N1,m:D1,X:M1,S:O1,M:V1};function x1(){var t=xs.f(),n=fc();return t||n}function R1(t){var n=_e(t);n!==null&&n.tag===5&&n.type==="form"?Gp(n):xs.r(t)}var oo=typeof document>"u"?null:document;function C0(t,n,a){var o=oo;if(o&&typeof n=="string"&&n){var h=En(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),R0.has(h)||(R0.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),rn(n,"link",t),Ne(n),o.head.appendChild(n)))}}function C1(t){xs.D(t),C0("dns-prefetch",t,null)}function I1(t,n){xs.C(t,n),C0("preconnect",t,n)}function N1(t,n,a){xs.L(t,n,a);var o=oo;if(o&&t&&n){var h='link[rel="preload"][as="'+En(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+En(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+En(a.imageSizes)+'"]')):h+='[href="'+En(t)+'"]';var f=h;switch(n){case"style":f=lo(t);break;case"script":f=uo(t)}ri.has(f)||(t=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),ri.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Cl(f))||n==="script"&&o.querySelector(Il(f))||(n=o.createElement("link"),rn(n,"link",t),Ne(n),o.head.appendChild(n)))}}function D1(t,n){xs.m(t,n);var a=oo;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+En(o)+'"][href="'+En(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=uo(t)}if(!ri.has(f)&&(t=w({rel:"modulepreload",href:t},n),ri.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(f)))return}o=a.createElement("link"),rn(o,"link",t),Ne(o),a.head.appendChild(o)}}}function O1(t,n,a){xs.S(t,n,a);var o=oo;if(o&&t){var h=ct(o).hoistableStyles,f=lo(t);n=n||"default";var p=h.get(f);if(!p){var b={loading:0,preload:null};if(p=o.querySelector(Cl(f)))b.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},a),(a=ri.get(f))&&Ad(t,a);var C=p=o.createElement("link");Ne(C),rn(C,"link",t),C._p=new Promise(function(P,Q){C.onload=P,C.onerror=Q}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Tc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:b},h.set(f,p)}}}function M1(t,n){xs.X(t,n);var a=oo;if(a&&t){var o=ct(a).hoistableScripts,h=uo(t),f=o.get(h);f||(f=a.querySelector(Il(h)),f||(t=w({src:t,async:!0},n),(n=ri.get(h))&&wd(t,n),f=a.createElement("script"),Ne(f),rn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function V1(t,n){xs.M(t,n);var a=oo;if(a&&t){var o=ct(a).hoistableScripts,h=uo(t),f=o.get(h);f||(f=a.querySelector(Il(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=ri.get(h))&&wd(t,n),f=a.createElement("script"),Ne(f),rn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function I0(t,n,a,o){var h=(h=Re.current)?bc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=lo(a.href),a=ct(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=lo(a.href);var f=ct(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(Cl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),ri.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ri.set(t,a),f||k1(h,t,a,p.state))),n&&o===null)throw Error(r(528,""));return p}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=uo(a),a=ct(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function lo(t){return'href="'+En(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function N0(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function k1(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),rn(n,"link",a),Ne(n),t.head.appendChild(n))}function uo(t){return'[src="'+En(t)+'"]'}function Il(t){return"script[async]"+t}function D0(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+En(a.href)+'"]');if(o)return n.instance=o,Ne(o),o;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ne(o),rn(o,"style",h),Tc(o,a.precedence,t),n.instance=o;case"stylesheet":h=lo(a.href);var f=t.querySelector(Cl(h));if(f)return n.state.loading|=4,n.instance=f,Ne(f),f;o=N0(a),(h=ri.get(h))&&Ad(o,h),f=(t.ownerDocument||t).createElement("link"),Ne(f);var p=f;return p._p=new Promise(function(b,C){p.onload=b,p.onerror=C}),rn(f,"link",o),n.state.loading|=4,Tc(f,a.precedence,t),n.instance=f;case"script":return f=uo(a.src),(h=t.querySelector(Il(f)))?(n.instance=h,Ne(h),h):(o=a,(h=ri.get(f))&&(o=w({},a),wd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ne(h),rn(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Tc(o,a.precedence,t));return n.instance}function Tc(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var b=o[p];if(b.dataset.precedence===n)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Ad(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function wd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Sc=null;function O0(t,n,a){if(Sc===null){var o=new Map,h=Sc=new Map;h.set(a,o)}else h=Sc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[q]||f[gt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var b=o.get(p);b?b.push(f):o.set(p,[f])}}return o}function M0(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function L1(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function V0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function j1(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=lo(o.href),f=n.querySelector(Cl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ac.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Ne(f);return}f=n.ownerDocument||n,o=N0(o),(h=ri.get(h))&&Ad(o,h),f=f.createElement("link"),Ne(f);var p=f;p._p=new Promise(function(b,C){p.onload=b,p.onerror=C}),rn(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Ac.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var xd=0;function U1(t,n){return t.stylesheets&&t.count===0&&xc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&xc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&xd===0&&(xd=62500*_1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&xc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>xd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wc=null;function xc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wc=new Map,n.forEach(P1,t),wc=null,Ac.call(t))}function P1(t,n){if(!(n.state.loading&4)){var a=wc.get(t);if(a)var o=a.get(null);else{a=new Map,wc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||o,f===o&&a.set(null,h),a.set(p,h),this.count++,o=Ac.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Nl={$$typeof:Te,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function z1(t,n,a,o,h,f,p,b,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=On(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=On(0),this.hiddenUpdates=On(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function k0(t,n,a,o,h,f,p,b,C,P,Q,X){return t=new z1(t,n,a,p,C,P,Q,X,b),n=1,f===!0&&(n|=24),f=jn(3,null,null,n),t.current=f,f.stateNode=t,n=rf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},uf(f),t}function L0(t){return t?(t=za,t):za}function j0(t,n,a,o,h,f){h=L0(h),o.context===null?o.context=h:o.pendingContext=h,o=Zs(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ws(t,o,n),a!==null&&(xn(a,t,n),ll(a,t,n))}function U0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Rd(t,n){U0(t,n),(t=t.alternate)&&U0(t,n)}function P0(t){if(t.tag===13||t.tag===31){var n=Kr(t,67108864);n!==null&&xn(n,t,67108864),Rd(t,67108864)}}function z0(t){if(t.tag===13||t.tag===31){var n=qn();n=os(n);var a=Kr(t,n);a!==null&&xn(a,t,n),Rd(t,n)}}var Rc=!0;function B1(t,n,a,o){var h=F.T;F.T=null;var f=re.p;try{re.p=2,Cd(t,n,a,o)}finally{re.p=f,F.T=h}}function q1(t,n,a,o){var h=F.T;F.T=null;var f=re.p;try{re.p=8,Cd(t,n,a,o)}finally{re.p=f,F.T=h}}function Cd(t,n,a,o){if(Rc){var h=Id(o);if(h===null)md(t,n,o,Cc,a),q0(t,o);else if(G1(h,t,n,a,o))o.stopPropagation();else if(q0(t,o),n&4&&-1<H1.indexOf(t)){for(;h!==null;){var f=_e(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Fn(f.pendingLanes);if(p!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;p;){var C=1<<31-mt(p);b.entanglements[1]|=C,p&=~C}zi(f),(et&6)===0&&(cc=kt()+500,Al(0))}}break;case 31:case 13:b=Kr(f,2),b!==null&&xn(b,f,2),fc(),Rd(f,2)}if(f=Id(o),f===null&&md(t,n,o,Cc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else md(t,n,o,null,a)}}function Id(t){return t=Yn(t),Nd(t)}var Cc=null;function Nd(t){if(Cc=null,t=ye(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Cc=t,null}function B0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(is()){case Ri:return 2;case ss:return 8;case Ci:case ba:return 32;case Hn:return 268435456;default:return 32}default:return 32}}var Dd=!1,cr=null,hr=null,fr=null,Dl=new Map,Ol=new Map,dr=[],H1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q0(t,n){switch(t){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":Dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(n.pointerId)}}function Ml(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=_e(n),n!==null&&P0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function G1(t,n,a,o,h){switch(n){case"focusin":return cr=Ml(cr,t,n,a,o,h),!0;case"dragenter":return hr=Ml(hr,t,n,a,o,h),!0;case"mouseover":return fr=Ml(fr,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Dl.set(f,Ml(Dl.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Ol.set(f,Ml(Ol.get(f)||null,t,n,a,o,h)),!0}return!1}function H0(t){var n=ye(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Mn(t.priority,function(){z0(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,Mn(t.priority,function(){z0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ic(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Id(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);$o=o,a.target.dispatchEvent(o),$o=null}else return n=_e(a),n!==null&&P0(n),t.blockedOn=a,!1;n.shift()}return!0}function G0(t,n,a){Ic(t)&&a.delete(n)}function F1(){Dd=!1,cr!==null&&Ic(cr)&&(cr=null),hr!==null&&Ic(hr)&&(hr=null),fr!==null&&Ic(fr)&&(fr=null),Dl.forEach(G0),Ol.forEach(G0)}function Nc(t,n){t.blockedOn===n&&(t.blockedOn=null,Dd||(Dd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,F1)))}var Dc=null;function F0(t){Dc!==t&&(Dc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Dc===t&&(Dc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Nd(o||a)===null)continue;break}var f=_e(a);f!==null&&(t.splice(n,3),n-=3,If(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function co(t){function n(C){return Nc(C,t)}cr!==null&&Nc(cr,t),hr!==null&&Nc(hr,t),fr!==null&&Nc(fr,t),Dl.forEach(n),Ol.forEach(n);for(var a=0;a<dr.length;a++){var o=dr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<dr.length&&(a=dr[0],a.blockedOn===null);)H0(a),a.blockedOn===null&&dr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],p=h[Nt]||null;if(typeof f=="function")p||F0(a);else if(p){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Nt]||null)b=p.formAction;else if(Nd(h)!==null)continue}else b=p.action;typeof b=="function"?a[o+1]=b:(a.splice(o,3),o-=3),F0(a)}}}function $0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Od(t){this._internalRoot=t}Oc.prototype.render=Od.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=qn();j0(a,o,t,n,null,null)},Oc.prototype.unmount=Od.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;j0(t.current,2,null,t,null,null),fc(),n[Qn]=null}};function Oc(t){this._internalRoot=t}Oc.prototype.unstable_scheduleHydration=function(t){if(t){var n=wa();t={blockedOn:null,target:t,priority:n};for(var a=0;a<dr.length&&n!==0&&n<dr[a].priority;a++);dr.splice(a,0,t),a===0&&H0(t)}};var Q0=e.version;if(Q0!=="19.2.0")throw Error(r(527,Q0,"19.2.0"));re.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var $1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{Nn=Mc.inject($1),rt=Mc}catch{}}return kl.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=ey,f=ty,p=ny;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=k0(t,1,!1,null,null,a,o,null,h,f,p,$0),t[Qn]=n.current,dd(t),new Od(n)},kl.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=ey,p=ty,b=ny,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=k0(t,1,!0,n,a??null,o,h,C,f,p,b,$0),n.context=L0(null),a=n.current,o=qn(),o=os(o),h=Zs(o),h.callback=null,Ws(a,h,o),a=o,n.current.lanes=a,Ii(n,a),zi(n),t[Qn]=n.current,dd(t),new Oc(n)},kl.version="19.2.0",kl}var i_;function sS(){if(i_)return kd.exports;i_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),kd.exports=iS(),kd.exports}var rS=sS();const aS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),s_=s=>{const e=oS(s);return e.charAt(0).toUpperCase()+e.slice(1)},Fv=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),lS=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var uS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const cS=be.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...g},y)=>be.createElement("svg",{ref:y,...uS,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:Fv("lucide",l),...!c&&!lS(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,A])=>be.createElement(_,A)),...Array.isArray(c)?c:[c]]));const Ye=(s,e)=>{const i=be.forwardRef(({className:r,...l},c)=>be.createElement(cS,{ref:c,iconNode:e,className:Fv(`lucide-${aS(s_(s))}`,`lucide-${s}`,r),...l}));return i.displayName=s_(s),i};const hS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Vc=Ye("arrow-right",hS);const fS=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],dS=Ye("book-open",fS);const mS=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],gS=Ye("book",mS);const pS=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Pd=Ye("brain",pS);const yS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_S=Ye("calendar",yS);const vS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ES=Ye("chevron-right",vS);const bS=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],TS=Ye("chevron-up",bS);const SS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zd=Ye("circle-check-big",SS);const AS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],wS=Ye("circle-x",AS);const xS=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]],RS=Ye("git-compare",xS);const CS=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],kc=Ye("headphones",CS);const IS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],r_=Ye("history",IS);const NS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],a_=Ye("info",NS);const DS=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],OS=Ye("key-round",DS);const MS=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],o_=Ye("lightbulb",MS);const VS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],kS=Ye("loader-circle",VS);const LS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],jS=Ye("lock",LS);const US=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],PS=Ye("log-out",US);const zS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],l_=Ye("mail",zS);const BS=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Lc=Ye("moon",BS);const qS=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],u_=Ye("pause",qS);const HS=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Bd=Ye("pen-line",HS);const GS=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],FS=Ye("play",GS);const $S=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],QS=Ye("refresh-cw",$S);const KS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],c_=Ye("rotate-ccw",KS);const YS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],h_=Ye("search",YS);const XS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],JS=Ye("send",XS);const ZS=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],f_=Ye("skip-forward",ZS);const WS=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],jc=Ye("sparkles",WS);const eA=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Uc=Ye("sun",eA);const tA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],nA=Ye("triangle-alert",tA);const iA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],sA=Ye("user",iA);const rA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qd=Ye("x",rA),aA=()=>{};var d_={};const $v=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},oA=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Qv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,A=c>>2,w=(c&3)<<4|g>>4;let S=(g&15)<<2|_>>6,K=_&63;y||(K=64,d||(S=64)),r.push(i[A],i[w],i[S],i[K])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray($v(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):oA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const w=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||_==null||w==null)throw new lA;const S=c<<2|g>>4;if(r.push(S),_!==64){const K=g<<4&240|_>>2;if(r.push(K),w!==64){const W=_<<6&192|w;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class lA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uA=function(s){const e=$v(s);return Qv.encodeByteArray(e,!0)},nh=function(s){return uA(s).replace(/\./g,"")},Kv=function(s){try{return Qv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function cA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const hA=()=>cA().__FIREBASE_DEFAULTS__,fA=()=>{if(typeof process>"u"||typeof d_>"u")return;const s=d_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},dA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Kv(s[1]);return e&&JSON.parse(e)},Th=()=>{try{return aA()||hA()||fA()||dA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Yv=s=>Th()?.emulatorHosts?.[s],mA=s=>{const e=Yv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Xv=()=>Th()?.config,Jv=s=>Th()?.[`_${s}`];class gA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function Do(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Zv(s){return(await fetch(s,{credentials:"include"})).ok}function pA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[nh(JSON.stringify(i)),nh(JSON.stringify(d)),""].join(".")}const ql={};function yA(){const s={prod:[],emulator:[]};for(const e of Object.keys(ql))ql[e]?s.emulator.push(e):s.prod.push(e);return s}function _A(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let m_=!1;function Wv(s,e){if(typeof window>"u"||typeof document>"u"||!Do(window.location.host)||ql[s]===e||ql[s]||m_)return;ql[s]=e;function i(S){return`__firebase__banner__${S}`}const r="__firebase__banner",c=yA().prod.length>0;function d(){const S=document.getElementById(r);S&&S.remove()}function g(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function y(S,K){S.setAttribute("width","24"),S.setAttribute("id",K),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function _(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{m_=!0,d()},S}function A(S,K){S.setAttribute("id",K),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function w(){const S=_A(r),K=i("text"),W=document.getElementById(K)||document.createElement("span"),ie=i("learnmore"),te=document.getElementById(ie)||document.createElement("a"),pe=i("preprendIcon"),ve=document.getElementById(pe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Te=S.element;g(Te),A(te,ie);const Le=_();y(ve,pe),Te.append(ve,W,te,Le),document.body.appendChild(Te)}c?(W.innerText="Preview backend disconnected.",ve.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ve.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function EA(){const s=Th()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function SA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AA(){const s=gn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function wA(){return!EA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xA(){try{return typeof indexedDB=="object"}catch{return!1}}function RA(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const CA="FirebaseError";class Vs extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=CA,Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ru.prototype.create)}}class ru{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?IA(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Vs(l,g,r)}}function IA(s,e){return s.replace(NA,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const NA=/\{\$([^}]+)}/g;function DA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function fa(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=e[l];if(g_(c)&&g_(d)){if(!fa(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function g_(s){return s!==null&&typeof s=="object"}function au(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ll(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function jl(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function OA(s,e){const i=new MA(s,e);return i.subscribe.bind(i)}class MA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");VA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=Hd),l.error===void 0&&(l.error=Hd),l.complete===void 0&&(l.complete=Hd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Hd(){}function Wt(s){return s&&s._delegate?s._delegate:s}class da{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const oa="[DEFAULT]";class kA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new gA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jA(e))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oa){return this.instances.has(e)}getOptions(e=oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LA(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=oa){return this.component?this.component.multipleInstances?e:oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LA(s){return s===oa?void 0:s}function jA(s){return s.instantiationMode==="EAGER"}class UA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new kA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Be;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Be||(Be={}));const PA={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},zA=Be.INFO,BA={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},qA=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=BA[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nm{constructor(e){this.name=e,this._logLevel=zA,this._logHandler=qA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const HA=(s,e)=>e.some(i=>s instanceof i);let p_,y_;function GA(){return p_||(p_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FA(){return y_||(y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eE=new WeakMap,rm=new WeakMap,tE=new WeakMap,Gd=new WeakMap,Dm=new WeakMap;function $A(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Er(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&eE.set(i,s)}).catch(()=>{}),Dm.set(e,s),e}function QA(s){if(rm.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});rm.set(s,e)}let am={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return rm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||tE.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Er(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function KA(s){am=s(am)}function YA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Fd(this),e,...i);return tE.set(r,e.sort?e.sort():[e]),Er(r)}:FA().includes(s)?function(...e){return s.apply(Fd(this),e),Er(eE.get(this))}:function(...e){return Er(s.apply(Fd(this),e))}}function XA(s){return typeof s=="function"?YA(s):(s instanceof IDBTransaction&&QA(s),HA(s,GA())?new Proxy(s,am):s)}function Er(s){if(s instanceof IDBRequest)return $A(s);if(Gd.has(s))return Gd.get(s);const e=XA(s);return e!==s&&(Gd.set(s,e),Dm.set(e,s)),e}const Fd=s=>Dm.get(s);function JA(s,e,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),g=Er(d);return r&&d.addEventListener("upgradeneeded",y=>{r(Er(d.result),y.oldVersion,y.newVersion,Er(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const ZA=["get","getKey","getAll","getAllKeys","count"],WA=["put","add","delete","clear"],$d=new Map;function __(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if($d.get(e))return $d.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=WA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||ZA.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&y.done]))[0]};return $d.set(e,c),c}KA(s=>({...s,get:(e,i,r)=>__(e,i)||s.get(e,i,r),has:(e,i)=>!!__(e,i)||s.has(e,i)}));class ew{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(tw(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function tw(s){return s.getComponent()?.type==="VERSION"}const om="@firebase/app",v_="0.14.6";const Ns=new Nm("@firebase/app"),nw="@firebase/app-compat",iw="@firebase/analytics-compat",sw="@firebase/analytics",rw="@firebase/app-check-compat",aw="@firebase/app-check",ow="@firebase/auth",lw="@firebase/auth-compat",uw="@firebase/database",cw="@firebase/data-connect",hw="@firebase/database-compat",fw="@firebase/functions",dw="@firebase/functions-compat",mw="@firebase/installations",gw="@firebase/installations-compat",pw="@firebase/messaging",yw="@firebase/messaging-compat",_w="@firebase/performance",vw="@firebase/performance-compat",Ew="@firebase/remote-config",bw="@firebase/remote-config-compat",Tw="@firebase/storage",Sw="@firebase/storage-compat",Aw="@firebase/firestore",ww="@firebase/ai",xw="@firebase/firestore-compat",Rw="firebase",Cw="12.6.0";const lm="[DEFAULT]",Iw={[om]:"fire-core",[nw]:"fire-core-compat",[sw]:"fire-analytics",[iw]:"fire-analytics-compat",[aw]:"fire-app-check",[rw]:"fire-app-check-compat",[ow]:"fire-auth",[lw]:"fire-auth-compat",[uw]:"fire-rtdb",[cw]:"fire-data-connect",[hw]:"fire-rtdb-compat",[fw]:"fire-fn",[dw]:"fire-fn-compat",[mw]:"fire-iid",[gw]:"fire-iid-compat",[pw]:"fire-fcm",[yw]:"fire-fcm-compat",[_w]:"fire-perf",[vw]:"fire-perf-compat",[Ew]:"fire-rc",[bw]:"fire-rc-compat",[Tw]:"fire-gcs",[Sw]:"fire-gcs-compat",[Aw]:"fire-fst",[xw]:"fire-fst-compat",[ww]:"fire-vertex","fire-js":"fire-js",[Rw]:"fire-js-all"};const ih=new Map,Nw=new Map,um=new Map;function E_(s,e){try{s.container.addComponent(e)}catch(i){Ns.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function So(s){const e=s.name;if(um.has(e))return Ns.debug(`There were multiple attempts to register component ${e}.`),!1;um.set(e,s);for(const i of ih.values())E_(i,s);for(const i of Nw.values())E_(i,s);return!0}function Om(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function _n(s){return s==null?!1:s.settings!==void 0}const Dw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new ru("app","Firebase",Dw);class Ow{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}const Oo=Cw;function nE(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:lm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw br.create("bad-app-name",{appName:String(l)});if(i||(i=Xv()),!i)throw br.create("no-options");const c=ih.get(l);if(c){if(fa(i,c.options)&&fa(r,c.config))return c;throw br.create("duplicate-app",{appName:l})}const d=new UA(l);for(const y of um.values())d.addComponent(y);const g=new Ow(i,r,d);return ih.set(l,g),g}function iE(s=lm){const e=ih.get(s);if(!e&&s===lm&&Xv())return nE();if(!e)throw br.create("no-app",{appName:s});return e}function Tr(s,e,i){let r=Iw[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ns.warn(d.join(" "));return}So(new da(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Mw="firebase-heartbeat-database",Vw=1,Kl="firebase-heartbeat-store";let Qd=null;function sE(){return Qd||(Qd=JA(Mw,Vw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Kl)}catch(i){console.warn(i)}}}}).catch(s=>{throw br.create("idb-open",{originalErrorMessage:s.message})})),Qd}async function kw(s){try{const i=(await sE()).transaction(Kl),r=await i.objectStore(Kl).get(rE(s));return await i.done,r}catch(e){if(e instanceof Vs)Ns.warn(e.message);else{const i=br.create("idb-get",{originalErrorMessage:e?.message});Ns.warn(i.message)}}}async function b_(s,e){try{const r=(await sE()).transaction(Kl,"readwrite");await r.objectStore(Kl).put(e,rE(s)),await r.done}catch(i){if(i instanceof Vs)Ns.warn(i.message);else{const r=br.create("idb-set",{originalErrorMessage:i?.message});Ns.warn(r.message)}}}function rE(s){return`${s.name}!${s.options.appId}`}const Lw=1024,jw=30;class Uw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new zw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=T_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>jw){const l=Bw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ns.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=T_(),{heartbeatsToSend:i,unsentEntries:r}=Pw(this._heartbeatsCache.heartbeats),l=nh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Ns.warn(e),""}}}function T_(){return new Date().toISOString().substring(0,10)}function Pw(s,e=Lw){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),S_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),S_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class zw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xA()?RA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await kw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return b_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return b_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function S_(s){return nh(JSON.stringify({version:2,heartbeats:s})).length}function Bw(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function qw(s){So(new da("platform-logger",e=>new ew(e),"PRIVATE")),So(new da("heartbeat",e=>new Uw(e),"PRIVATE")),Tr(om,v_,s),Tr(om,v_,"esm2020"),Tr("fire-js","")}qw("");var Hw="firebase",Gw="12.6.0";Tr(Hw,Gw,"app");function aE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Fw=aE,oE=new ru("auth","Firebase",aE());const sh=new Nm("@firebase/auth");function $w(s,...e){sh.logLevel<=Be.WARN&&sh.warn(`Auth (${Oo}): ${s}`,...e)}function $c(s,...e){sh.logLevel<=Be.ERROR&&sh.error(`Auth (${Oo}): ${s}`,...e)}function li(s,...e){throw Vm(s,...e)}function Ti(s,...e){return Vm(s,...e)}function Mm(s,e,i){const r={...Fw(),[e]:i};return new ru("auth","Firebase",r).create(e,{appName:s.name})}function Si(s){return Mm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qw(s,e,i){const r=i;if(!(e instanceof r))throw r.name!==e.constructor.name&&li(s,"argument-error"),Mm(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vm(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return oE.create(s,...e)}function Se(s,e,...i){if(!s)throw Vm(e,...i)}function Cs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw $c(e),new Error(e)}function Ds(s,e){s||Cs(e)}function cm(){return typeof self<"u"&&self.location?.href||""}function Kw(){return A_()==="http:"||A_()==="https:"}function A_(){return typeof self<"u"&&self.location?.protocol||null}function Yw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Kw()||TA()||"connection"in navigator)?navigator.onLine:!0}function Xw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class ou{constructor(e,i){this.shortDelay=e,this.longDelay=i,Ds(i>e,"Short delay should be less than long delay!"),this.isMobile=vA()||SA()}get(){return Yw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function km(s,e){Ds(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class lE{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Jw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Zw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ww=new ou(3e4,6e4);function Ji(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Zi(s,e,i,r,l={}){return uE(s,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const g=au({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:y,...c};return bA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&Do(s.emulatorConfig.host)&&(_.credentials="include"),lE.fetch()(await cE(s,s.config.apiHost,i,g),_)})}async function uE(s,e,i){s._canInitEmulator=!1;const r={...Jw,...e};try{const l=new tx(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Pc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Pc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Pc(s,"user-disabled",d);const A=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Mm(s,A,_);li(s,A)}}catch(l){if(l instanceof Vs)throw l;li(s,"network-request-failed",{message:String(l)})}}async function Mo(s,e,i,r,l={}){const c=await Zi(s,e,i,r,l);return"mfaPendingCredential"in c&&li(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function cE(s,e,i,r){const l=`${e}${i}?${r}`,c=s,d=c.config.emulator?km(s.config,l):`${s.config.apiScheme}://${l}`;return Zw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function ex(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Ti(this.auth,"network-request-failed")),Ww.get())})}}function Pc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Ti(s,e,r);return l.customData._tokenResponse=i,l}function w_(s){return s!==void 0&&s.enterprise!==void 0}class nx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return ex(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ix(s,e){return Zi(s,"GET","/v2/recaptchaConfig",Ji(s,e))}async function sx(s,e){return Zi(s,"POST","/v1/accounts:delete",e)}async function rh(s,e){return Zi(s,"POST","/v1/accounts:lookup",e)}function Hl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rx(s,e=!1){const i=Wt(s),r=await i.getIdToken(e),l=Lm(r);Se(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Hl(Kd(l.auth_time)),issuedAtTime:Hl(Kd(l.iat)),expirationTime:Hl(Kd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Kd(s){return Number(s)*1e3}function Lm(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return $c("JWT malformed, contained fewer than 3 sections"),null;try{const l=Kv(i);return l?JSON.parse(l):($c("Failed to decode base64 JWT payload"),null)}catch(l){return $c("Caught error parsing JWT payload as JSON",l?.toString()),null}}function x_(s){const e=Lm(s);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ao(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof Vs&&ax(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function ax({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class ox{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class hm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hl(this.lastLoginAt),this.creationTime=Hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ah(s){const e=s.auth,i=await s.getIdToken(),r=await Ao(s,rh(e,{idToken:i}));Se(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?hE(l.providerUserInfo):[],d=ux(s.providerData,c),g=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,_=g?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new hm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,A)}async function lx(s){const e=Wt(s);await ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ux(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function hE(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function cx(s,e){const i=await uE(s,{},async()=>{const r=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await cE(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:r};return s.emulatorConfig&&Do(s.emulatorConfig.host)&&(y.credentials="include"),lE.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function hx(s,e){return Zi(s,"POST","/v2/accounts:revokeToken",Ji(s,e))}class yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):x_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const i=x_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await cx(e,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new yo;return r&&(Se(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(Se(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Se(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yo,this.toJSON())}_performRefresh(){return Cs("not implemented")}}function gr(s,e){Se(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Ei{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new ox(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new hm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Ao(this,this.stsTokenManager.getToken(this.auth,e));return Se(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return rx(this,e)}reload(){return lx(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await ah(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(Si(this.auth));const e=await this.getIdToken();return await Ao(this,sx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:w,emailVerified:S,isAnonymous:K,providerData:W,stsTokenManager:ie}=i;Se(w&&ie,e,"internal-error");const te=yo.fromJSON(this.name,ie);Se(typeof w=="string",e,"internal-error"),gr(r,e.name),gr(l,e.name),Se(typeof S=="boolean",e,"internal-error"),Se(typeof K=="boolean",e,"internal-error"),gr(c,e.name),gr(d,e.name),gr(g,e.name),gr(y,e.name),gr(_,e.name),gr(A,e.name);const pe=new Ei({uid:w,auth:e,email:l,emailVerified:S,displayName:r,isAnonymous:K,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:te,createdAt:_,lastLoginAt:A});return W&&Array.isArray(W)&&(pe.providerData=W.map(ve=>({...ve}))),y&&(pe._redirectEventId=y),pe}static async _fromIdTokenResponse(e,i,r=!1){const l=new yo;l.updateFromServerResponse(i);const c=new Ei({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await ah(c),c}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];Se(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?hE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new yo;g.updateFromIdToken(r);const y=new Ei({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new hm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const R_=new Map;function Is(s){Ds(s instanceof Function,"Expected a class definition");let e=R_.get(s);return e?(Ds(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,R_.set(s,e),e)}class fE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}fE.type="NONE";const C_=fE;function Qc(s,e,i){return`firebase:${s}:${e}:${i}`}class _o{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Qc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Qc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await rh(this.auth,{idToken:e}).catch(()=>{});return i?Ei._fromGetAccountInfoResponse(this.auth,i,e):null}return Ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new _o(Is(C_),e,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Is(C_);const d=Qc(r,e.config.apiKey,e.name);let g=null;for(const _ of i)try{const A=await _._get(d);if(A){let w;if(typeof A=="string"){const S=await rh(e,{idToken:A}).catch(()=>{});if(!S)break;w=await Ei._fromGetAccountInfoResponse(e,S,A)}else w=Ei._fromJSON(e,A);_!==c&&(g=w),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new _o(c,e,r):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new _o(c,e,r))}}function I_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_E(e))return"Blackberry";if(vE(e))return"Webos";if(mE(e))return"Safari";if((e.includes("chrome/")||gE(e))&&!e.includes("edge/"))return"Chrome";if(yE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function dE(s=gn()){return/firefox\//i.test(s)}function mE(s=gn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gE(s=gn()){return/crios\//i.test(s)}function pE(s=gn()){return/iemobile/i.test(s)}function yE(s=gn()){return/android/i.test(s)}function _E(s=gn()){return/blackberry/i.test(s)}function vE(s=gn()){return/webos/i.test(s)}function jm(s=gn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function fx(s=gn()){return jm(s)&&!!window.navigator?.standalone}function dx(){return AA()&&document.documentMode===10}function EE(s=gn()){return jm(s)||yE(s)||vE(s)||_E(s)||/windows phone/i.test(s)||pE(s)}function bE(s,e=[]){let i;switch(s){case"Browser":i=I_(gn());break;case"Worker":i=`${I_(gn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Oo}/${r}`}class mx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,g)=>{try{const y=e(c);d(y)}catch(y){g(y)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function gx(s,e={}){return Zi(s,"GET","/v2/passwordPolicy",Ji(s,e))}const px=6;class yx{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??px,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class _x{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N_(this),this.idTokenSubscription=new N_(this),this.beforeStateQueue=new mx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Is(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await _o.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await rh(this,{idToken:e}),r=await Ei._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(_n(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await ah(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Xw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_n(this.app))return Promise.reject(Si(this));const i=e?Wt(e):null;return i&&Se(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(Si(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _n(this.app)?Promise.reject(Si(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gx(this),i=new yx(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ru("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await hx(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Is(e)||this._popupRedirectResolver;Se(i,this,"argument-error"),this.redirectPersistenceManager=await _o.create(this,[Is(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,r,l);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&$w(`Error while retrieving App Check token: ${e.error}`),e?.token}}function wi(s){return Wt(s)}class N_{constructor(e){this.auth=e,this.observer=null,this.addObserver=OA(i=>this.observer=i)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Sh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vx(s){Sh=s}function TE(s){return Sh.loadJS(s)}function Ex(){return Sh.recaptchaEnterpriseScript}function bx(){return Sh.gapiScript}function Tx(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Sx{constructor(){this.enterprise=new Ax}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class Ax{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const wx="recaptcha-enterprise",SE="NO_RECAPTCHA";class xx{constructor(e){this.type=wx,this.auth=wi(e)}async verify(e="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{ix(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new nx(y);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(y=>{g(y)})})}function l(c,d,g){const y=window.grecaptcha;w_(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:e}).then(_=>{d(_)}).catch(()=>{d(SE)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Sx().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(g=>{if(!i&&w_(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=Ex();y.length!==0&&(y+=g),TE(y).then(()=>{l(g,c,d)}).catch(_=>{d(_)})}}).catch(g=>{d(g)})})}}async function D_(s,e,i,r=!1,l=!1){const c=new xx(s);let d;if(l)d=SE;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const g={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function oh(s,e,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await D_(s,e,i,i==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await D_(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function Rx(s,e){const i=Om(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(fa(c,e??{}))return l;li(l,"already-initialized")}return i.initialize({options:e})}function Cx(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Is);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function Ix(s,e,i){const r=wi(s);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=AE(e),{host:d,port:g}=Nx(e),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(fa(_,r.config.emulator)&&fa(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,Do(d)?(Zv(`${c}//${d}${y}`),Wv("Auth",!0)):Dx()}function AE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function Nx(s){const e=AE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:O_(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:O_(d)}}}function O_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Dx(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Um{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Cs("not implemented")}_getIdTokenResponse(e){return Cs("not implemented")}_linkToIdToken(e,i){return Cs("not implemented")}_getReauthenticationResolver(e){return Cs("not implemented")}}async function Ox(s,e){return Zi(s,"POST","/v1/accounts:signUp",e)}async function Mx(s,e){return Mo(s,"POST","/v1/accounts:signInWithPassword",Ji(s,e))}async function wE(s,e){return Zi(s,"POST","/v1/accounts:sendOobCode",Ji(s,e))}async function Vx(s,e){return wE(s,e)}async function kx(s,e){return wE(s,e)}async function Lx(s,e){return Mo(s,"POST","/v1/accounts:signInWithEmailLink",Ji(s,e))}async function jx(s,e){return Mo(s,"POST","/v1/accounts:signInWithEmailLink",Ji(s,e))}class Yl extends Um{constructor(e,i,r,l=null){super("password",r),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new Yl(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new Yl(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oh(e,i,"signInWithPassword",Mx);case"emailLink":return Lx(e,{email:this._email,oobCode:this._password});default:li(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oh(e,r,"signUpPassword",Ox);case"emailLink":return jx(e,{idToken:i,email:this._email,oobCode:this._password});default:li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function vo(s,e){return Mo(s,"POST","/v1/accounts:signInWithIdp",Ji(s,e))}const Ux="http://localhost";class ma extends Um{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):li("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new ma(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return vo(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,vo(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,vo(e,i)}buildRequest(){const e={requestUri:Ux,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=au(i)}return e}}function Px(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zx(s){const e=Ll(jl(s)).link,i=e?Ll(jl(e)).deep_link_id:null,r=Ll(jl(s)).deep_link_id;return(r?Ll(jl(r)).link:null)||r||i||e||s}class Pm{constructor(e){const i=Ll(jl(e)),r=i.apiKey??null,l=i.oobCode??null,c=Px(i.mode??null);Se(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=zx(e);try{return new Pm(i)}catch{return null}}}class Vo{constructor(){this.providerId=Vo.PROVIDER_ID}static credential(e,i){return Yl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Pm.parseLink(i);return Se(r,"argument-error"),Yl._fromEmailAndCode(e,r.code,r.tenantId)}}Vo.PROVIDER_ID="password";Vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class zm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lu extends zm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class pr extends lu{constructor(){super("facebook.com")}static credential(e){return ma._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";pr.PROVIDER_ID="facebook.com";class Rs extends lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ma._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Rs.credential(i,r)}catch{return null}}}Rs.GOOGLE_SIGN_IN_METHOD="google.com";Rs.PROVIDER_ID="google.com";class yr extends lu{constructor(){super("github.com")}static credential(e){return ma._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yr.credential(e.oauthAccessToken)}catch{return null}}}yr.GITHUB_SIGN_IN_METHOD="github.com";yr.PROVIDER_ID="github.com";class _r extends lu{constructor(){super("twitter.com")}static credential(e,i){return ma._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return _r.credential(i,r)}catch{return null}}}_r.TWITTER_SIGN_IN_METHOD="twitter.com";_r.PROVIDER_ID="twitter.com";async function xE(s,e){return Mo(s,"POST","/v1/accounts:signUp",Ji(s,e))}class Yi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const c=await Ei._fromIdTokenResponse(e,r,l),d=M_(r);return new Yi({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=M_(r);return new Yi({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function M_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function Bx(s){if(_n(s.app))return Promise.reject(Si(s));const e=wi(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Yi({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await xE(e,{returnSecureToken:!0}),r=await Yi._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(r.user),r}class lh extends Vs{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,lh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new lh(e,i,r,l)}}function RE(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?lh._fromErrorAndOperation(s,c,e,r):c})}async function qx(s,e,i=!1){const r=await Ao(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Yi._forOperation(s,"link",r)}async function Hx(s,e,i=!1){const{auth:r}=s;if(_n(r.app))return Promise.reject(Si(r));const l="reauthenticate";try{const c=await Ao(s,RE(r,l,e,s),i);Se(c.idToken,r,"internal-error");const d=Lm(c.idToken);Se(d,r,"internal-error");const{sub:g}=d;return Se(s.uid===g,r,"user-mismatch"),Yi._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&li(r,"user-mismatch"),c}}async function CE(s,e,i=!1){if(_n(s.app))return Promise.reject(Si(s));const r="signIn",l=await RE(s,r,e),c=await Yi._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}async function Gx(s,e){return CE(wi(s),e)}async function Fx(s,e){return Mo(s,"POST","/v1/accounts:signInWithCustomToken",Ji(s,e))}async function $x(s,e){if(_n(s.app))return Promise.reject(Si(s));const i=wi(s),r=await Fx(i,{token:e,returnSecureToken:!0}),l=await Yi._fromIdTokenResponse(i,"signIn",r);return await i._updateCurrentUser(l.user),l}async function IE(s){const e=wi(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Qx(s,e,i){const r=wi(s);await oh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",kx)}async function Kx(s,e,i){if(_n(s.app))return Promise.reject(Si(s));const r=wi(s),d=await oh(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xE).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&IE(s),y}),g=await Yi._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(g.user),g}function Yx(s,e,i){return _n(s.app)?Promise.reject(Si(s)):Gx(Wt(s),Vo.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&IE(s),r})}async function Xx(s,e){const i=Wt(s),l={requestType:"VERIFY_EMAIL",idToken:await s.getIdToken()},{email:c}=await Vx(i.auth,l);c!==s.email&&await s.reload()}async function Jx(s,e){return Zi(s,"POST","/v1/accounts:update",e)}async function Zx(s,{displayName:e,photoURL:i}){if(e===void 0&&i===void 0)return;const r=Wt(s),c={idToken:await r.getIdToken(),displayName:e,photoUrl:i,returnSecureToken:!0},d=await Ao(r,Jx(r.auth,c));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const g=r.providerData.find(({providerId:y})=>y==="password");g&&(g.displayName=r.displayName,g.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function Wx(s,e,i,r){return Wt(s).onIdTokenChanged(e,i,r)}function e2(s,e,i){return Wt(s).beforeAuthStateChanged(e,i)}function t2(s,e,i,r){return Wt(s).onAuthStateChanged(e,i,r)}function Yd(s){return Wt(s).signOut()}const uh="__sak";class NE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(uh,"1"),this.storage.removeItem(uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const n2=1e3,i2=10;class DE extends NE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=EE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);dx()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,i2):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},n2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}DE.type="LOCAL";const s2=DE;class OE extends NE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}OE.type="SESSION";const ME=OE;function r2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ah{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new Ah(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,c)),y=await r2(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];function Bm(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class a2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=Bm("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(w){const S=w;if(S.data.eventId===_)switch(S.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(S.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Hi(){return window}function o2(s){Hi().location.href=s}function VE(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function l2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function u2(){return navigator?.serviceWorker?.controller||null}function c2(){return VE()?self:null}const kE="firebaseLocalStorageDb",h2=1,ch="firebaseLocalStorage",LE="fbase_key";class uu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function wh(s,e){return s.transaction([ch],e?"readwrite":"readonly").objectStore(ch)}function f2(){const s=indexedDB.deleteDatabase(kE);return new uu(s).toPromise()}function fm(){const s=indexedDB.open(kE,h2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(ch,{keyPath:LE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(ch)?e(r):(r.close(),await f2(),e(await fm()))})})}async function V_(s,e,i){const r=wh(s,!0).put({[LE]:e,value:i});return new uu(r).toPromise()}async function d2(s,e){const i=wh(s,!1).get(e),r=await new uu(i).toPromise();return r===void 0?null:r.value}function k_(s,e){const i=wh(s,!0).delete(e);return new uu(i).toPromise()}const m2=800,g2=3;class jE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>g2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(c2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await l2(),!this.activeServiceWorker)return;this.sender=new a2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||u2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fm();return await V_(e,uh,"1"),await k_(e,uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>V_(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>d2(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>k_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=wh(l,!1).getAll();return new uu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),m2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jE.type="LOCAL";const p2=jE;new ou(3e4,6e4);function UE(s,e){return e?Is(e):(Se(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class qm extends Um{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return vo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function y2(s){return CE(s.auth,new qm(s),s.bypassAuthState)}function _2(s){const{auth:e,user:i}=s;return Se(i,e,"internal-error"),Hx(i,new qm(s),s.bypassAuthState)}async function v2(s){const{auth:e,user:i}=s;return Se(i,e,"internal-error"),qx(i,new qm(s),s.bypassAuthState)}class PE{constructor(e,i,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return y2;case"linkViaPopup":case"linkViaRedirect":return v2;case"reauthViaPopup":case"reauthViaRedirect":return _2;default:li(this.auth,"internal-error")}}resolve(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const E2=new ou(2e3,1e4);async function b2(s,e,i){if(_n(s.app))return Promise.reject(Ti(s,"operation-not-supported-in-this-environment"));const r=wi(s);Qw(s,e,zm);const l=UE(r,i);return new la(r,"signInViaPopup",e,l).executeNotNull()}class la extends PE{constructor(e,i,r,l,c){super(e,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,la.currentPopupAction&&la.currentPopupAction.cancel(),la.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Ds(this.filter.length===1,"Popup operations only handle one event");const e=Bm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,la.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,E2.get())};e()}}la.currentPopupAction=null;const T2="pendingRedirect",Kc=new Map;class S2 extends PE{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Kc.get(this.auth._key());if(!e){try{const r=await A2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Kc.set(this.auth._key(),e)}return this.bypassAuthState||Kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function A2(s,e){const i=R2(e),r=x2(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function w2(s,e){Kc.set(s._key(),e)}function x2(s){return Is(s._redirectPersistence)}function R2(s){return Qc(T2,s.config.apiKey,s.name)}async function C2(s,e,i=!1){if(_n(s.app))return Promise.reject(Si(s));const r=wi(s),l=UE(r,e),d=await new S2(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const I2=600*1e3;class N2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!D2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!zE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Ti(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=I2&&this.cachedEventUids.clear(),this.cachedEventUids.has(L_(e))}saveEventToCache(e){this.cachedEventUids.add(L_(e)),this.lastProcessedEventTime=Date.now()}}function L_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function zE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function D2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zE(s);default:return!1}}async function O2(s,e={}){return Zi(s,"GET","/v1/projects",e)}const M2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,V2=/^https?/;async function k2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await O2(s);for(const i of e)try{if(L2(i))return}catch{}li(s,"unauthorized-domain")}function L2(s){const e=cm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!V2.test(i))return!1;if(M2.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const j2=new ou(3e4,6e4);function j_(){const s=Hi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function U2(s){return new Promise((e,i)=>{function r(){j_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{j_(),i(Ti(s,"network-request-failed"))},timeout:j2.get()})}if(Hi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Hi().gapi?.load)r();else{const l=Tx("iframefcb");return Hi()[l]=()=>{gapi.load?r():i(Ti(s,"network-request-failed"))},TE(`${bx()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Yc=null,e})}let Yc=null;function P2(s){return Yc=Yc||U2(s),Yc}const z2=new ou(5e3,15e3),B2="__/auth/iframe",q2="emulator/auth/iframe",H2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},G2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function F2(s){const e=s.config;Se(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?km(e,q2):`https://${s.config.authDomain}/${B2}`,r={apiKey:e.apiKey,appName:s.name,v:Oo},l=G2.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${au(r).slice(1)}`}async function $2(s){const e=await P2(s),i=Hi().gapi;return Se(i,s,"internal-error"),e.open({where:document.body,url:F2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:H2,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Ti(s,"network-request-failed"),g=Hi().setTimeout(()=>{c(d)},z2.get());function y(){Hi().clearTimeout(g),l(r)}r.ping(y).then(y,()=>{c(d)})}))}const Q2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},K2=500,Y2=600,X2="_blank",J2="http://localhost";class U_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Z2(s,e,i,r=K2,l=Y2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const y={...Q2,width:r.toString(),height:l.toString(),top:c,left:d},_=gn().toLowerCase();i&&(g=gE(_)?X2:i),dE(_)&&(e=e||J2,y.scrollbars="yes");const A=Object.entries(y).reduce((S,[K,W])=>`${S}${K}=${W},`,"");if(fx(_)&&g!=="_self")return W2(e||"",g),new U_(null);const w=window.open(e||"",g,A);Se(w,s,"popup-blocked");try{w.focus()}catch{}return new U_(w)}function W2(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const eR="__/auth/handler",tR="emulator/auth/handler",nR=encodeURIComponent("fac");async function P_(s,e,i,r,l,c){Se(s.config.authDomain,s,"auth-domain-config-required"),Se(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Oo,eventId:l};if(e instanceof zm){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",DA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,w]of Object.entries({}))d[A]=w}if(e instanceof lu){const A=e.getScopes().filter(w=>w!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const y=await s._getAppCheckToken(),_=y?`#${nR}=${encodeURIComponent(y)}`:"";return`${iR(s)}?${au(g).slice(1)}${_}`}function iR({config:s}){return s.emulator?km(s,tR):`https://${s.authDomain}/${eR}`}const Xd="webStorageSupport";class sR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ME,this._completeRedirectFn=C2,this._overrideRedirectResult=w2}async _openPopup(e,i,r,l){Ds(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await P_(e,i,r,cm(),l);return Z2(e,c,Bm())}async _openRedirect(e,i,r,l){await this._originValidation(e);const c=await P_(e,i,r,cm(),l);return o2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Ds(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await $2(e),r=new N2(e);return i.register("authEvent",l=>(Se(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Xd,{type:Xd},l=>{const c=l?.[0]?.[Xd];c!==void 0&&i(!!c),li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=k2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return EE()||mE()||jm()}}const rR=sR;var z_="@firebase/auth",B_="1.11.1";class aR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function oR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lR(s){So(new da("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;Se(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bE(s)},_=new _x(r,l,c,y);return Cx(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),So(new da("auth-internal",e=>{const i=wi(e.getProvider("auth").getImmediate());return(r=>new aR(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tr(z_,B_,oR(s)),Tr(z_,B_,"esm2020")}const uR=300,cR=Jv("authIdTokenMaxAge")||uR;let q_=null;const hR=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>cR)return;const l=i?.token;q_!==l&&(q_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function fR(s=iE()){const e=Om(s,"auth");if(e.isInitialized())return e.getImmediate();const i=Rx(s,{popupRedirectResolver:rR,persistence:[p2,s2,ME]}),r=Jv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=hR(c.toString());e2(i,d,()=>d(i.currentUser)),Wx(i,g=>d(g))}}const l=Yv("auth");return l&&Ix(i,`http://${l}`),i}function dR(){return document.getElementsByTagName("head")?.[0]??document}vx({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=Ti("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",dR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lR("Browser");var H_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Sr,BE;(function(){var s;function e(N,R){function I(){}I.prototype=R.prototype,N.F=R.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(V,D,L){for(var x=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)x[ft-2]=arguments[ft];return R.prototype[D].apply(V,x)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,R,I){I||(I=0);const V=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)V[D]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(D=0;D<16;++D)V[D]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=N.g[0],I=N.g[1],D=N.g[2];let L=N.g[3],x;x=R+(L^I&(D^L))+V[0]+3614090360&4294967295,R=I+(x<<7&4294967295|x>>>25),x=L+(D^R&(I^D))+V[1]+3905402710&4294967295,L=R+(x<<12&4294967295|x>>>20),x=D+(I^L&(R^I))+V[2]+606105819&4294967295,D=L+(x<<17&4294967295|x>>>15),x=I+(R^D&(L^R))+V[3]+3250441966&4294967295,I=D+(x<<22&4294967295|x>>>10),x=R+(L^I&(D^L))+V[4]+4118548399&4294967295,R=I+(x<<7&4294967295|x>>>25),x=L+(D^R&(I^D))+V[5]+1200080426&4294967295,L=R+(x<<12&4294967295|x>>>20),x=D+(I^L&(R^I))+V[6]+2821735955&4294967295,D=L+(x<<17&4294967295|x>>>15),x=I+(R^D&(L^R))+V[7]+4249261313&4294967295,I=D+(x<<22&4294967295|x>>>10),x=R+(L^I&(D^L))+V[8]+1770035416&4294967295,R=I+(x<<7&4294967295|x>>>25),x=L+(D^R&(I^D))+V[9]+2336552879&4294967295,L=R+(x<<12&4294967295|x>>>20),x=D+(I^L&(R^I))+V[10]+4294925233&4294967295,D=L+(x<<17&4294967295|x>>>15),x=I+(R^D&(L^R))+V[11]+2304563134&4294967295,I=D+(x<<22&4294967295|x>>>10),x=R+(L^I&(D^L))+V[12]+1804603682&4294967295,R=I+(x<<7&4294967295|x>>>25),x=L+(D^R&(I^D))+V[13]+4254626195&4294967295,L=R+(x<<12&4294967295|x>>>20),x=D+(I^L&(R^I))+V[14]+2792965006&4294967295,D=L+(x<<17&4294967295|x>>>15),x=I+(R^D&(L^R))+V[15]+1236535329&4294967295,I=D+(x<<22&4294967295|x>>>10),x=R+(D^L&(I^D))+V[1]+4129170786&4294967295,R=I+(x<<5&4294967295|x>>>27),x=L+(I^D&(R^I))+V[6]+3225465664&4294967295,L=R+(x<<9&4294967295|x>>>23),x=D+(R^I&(L^R))+V[11]+643717713&4294967295,D=L+(x<<14&4294967295|x>>>18),x=I+(L^R&(D^L))+V[0]+3921069994&4294967295,I=D+(x<<20&4294967295|x>>>12),x=R+(D^L&(I^D))+V[5]+3593408605&4294967295,R=I+(x<<5&4294967295|x>>>27),x=L+(I^D&(R^I))+V[10]+38016083&4294967295,L=R+(x<<9&4294967295|x>>>23),x=D+(R^I&(L^R))+V[15]+3634488961&4294967295,D=L+(x<<14&4294967295|x>>>18),x=I+(L^R&(D^L))+V[4]+3889429448&4294967295,I=D+(x<<20&4294967295|x>>>12),x=R+(D^L&(I^D))+V[9]+568446438&4294967295,R=I+(x<<5&4294967295|x>>>27),x=L+(I^D&(R^I))+V[14]+3275163606&4294967295,L=R+(x<<9&4294967295|x>>>23),x=D+(R^I&(L^R))+V[3]+4107603335&4294967295,D=L+(x<<14&4294967295|x>>>18),x=I+(L^R&(D^L))+V[8]+1163531501&4294967295,I=D+(x<<20&4294967295|x>>>12),x=R+(D^L&(I^D))+V[13]+2850285829&4294967295,R=I+(x<<5&4294967295|x>>>27),x=L+(I^D&(R^I))+V[2]+4243563512&4294967295,L=R+(x<<9&4294967295|x>>>23),x=D+(R^I&(L^R))+V[7]+1735328473&4294967295,D=L+(x<<14&4294967295|x>>>18),x=I+(L^R&(D^L))+V[12]+2368359562&4294967295,I=D+(x<<20&4294967295|x>>>12),x=R+(I^D^L)+V[5]+4294588738&4294967295,R=I+(x<<4&4294967295|x>>>28),x=L+(R^I^D)+V[8]+2272392833&4294967295,L=R+(x<<11&4294967295|x>>>21),x=D+(L^R^I)+V[11]+1839030562&4294967295,D=L+(x<<16&4294967295|x>>>16),x=I+(D^L^R)+V[14]+4259657740&4294967295,I=D+(x<<23&4294967295|x>>>9),x=R+(I^D^L)+V[1]+2763975236&4294967295,R=I+(x<<4&4294967295|x>>>28),x=L+(R^I^D)+V[4]+1272893353&4294967295,L=R+(x<<11&4294967295|x>>>21),x=D+(L^R^I)+V[7]+4139469664&4294967295,D=L+(x<<16&4294967295|x>>>16),x=I+(D^L^R)+V[10]+3200236656&4294967295,I=D+(x<<23&4294967295|x>>>9),x=R+(I^D^L)+V[13]+681279174&4294967295,R=I+(x<<4&4294967295|x>>>28),x=L+(R^I^D)+V[0]+3936430074&4294967295,L=R+(x<<11&4294967295|x>>>21),x=D+(L^R^I)+V[3]+3572445317&4294967295,D=L+(x<<16&4294967295|x>>>16),x=I+(D^L^R)+V[6]+76029189&4294967295,I=D+(x<<23&4294967295|x>>>9),x=R+(I^D^L)+V[9]+3654602809&4294967295,R=I+(x<<4&4294967295|x>>>28),x=L+(R^I^D)+V[12]+3873151461&4294967295,L=R+(x<<11&4294967295|x>>>21),x=D+(L^R^I)+V[15]+530742520&4294967295,D=L+(x<<16&4294967295|x>>>16),x=I+(D^L^R)+V[2]+3299628645&4294967295,I=D+(x<<23&4294967295|x>>>9),x=R+(D^(I|~L))+V[0]+4096336452&4294967295,R=I+(x<<6&4294967295|x>>>26),x=L+(I^(R|~D))+V[7]+1126891415&4294967295,L=R+(x<<10&4294967295|x>>>22),x=D+(R^(L|~I))+V[14]+2878612391&4294967295,D=L+(x<<15&4294967295|x>>>17),x=I+(L^(D|~R))+V[5]+4237533241&4294967295,I=D+(x<<21&4294967295|x>>>11),x=R+(D^(I|~L))+V[12]+1700485571&4294967295,R=I+(x<<6&4294967295|x>>>26),x=L+(I^(R|~D))+V[3]+2399980690&4294967295,L=R+(x<<10&4294967295|x>>>22),x=D+(R^(L|~I))+V[10]+4293915773&4294967295,D=L+(x<<15&4294967295|x>>>17),x=I+(L^(D|~R))+V[1]+2240044497&4294967295,I=D+(x<<21&4294967295|x>>>11),x=R+(D^(I|~L))+V[8]+1873313359&4294967295,R=I+(x<<6&4294967295|x>>>26),x=L+(I^(R|~D))+V[15]+4264355552&4294967295,L=R+(x<<10&4294967295|x>>>22),x=D+(R^(L|~I))+V[6]+2734768916&4294967295,D=L+(x<<15&4294967295|x>>>17),x=I+(L^(D|~R))+V[13]+1309151649&4294967295,I=D+(x<<21&4294967295|x>>>11),x=R+(D^(I|~L))+V[4]+4149444226&4294967295,R=I+(x<<6&4294967295|x>>>26),x=L+(I^(R|~D))+V[11]+3174756917&4294967295,L=R+(x<<10&4294967295|x>>>22),x=D+(R^(L|~I))+V[2]+718787259&4294967295,D=L+(x<<15&4294967295|x>>>17),x=I+(L^(D|~R))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+L&4294967295}r.prototype.v=function(N,R){R===void 0&&(R=N.length);const I=R-this.blockSize,V=this.C;let D=this.h,L=0;for(;L<R;){if(D==0)for(;L<=I;)l(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<R;)if(V[D++]=N.charCodeAt(L++),D==this.blockSize){l(this,V),D=0;break}}else for(;L<R;)if(V[D++]=N[L++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=R},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;R=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=R&255,R/=256;for(this.v(N),N=Array(16),R=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)N[R++]=this.g[I]>>>V&255;return N};function c(N,R){var I=g;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=R(N)}function d(N,R){this.h=R;const I=[];let V=!0;for(let D=N.length-1;D>=0;D--){const L=N[D]|0;V&&L==R||(I[D]=L,V=!1)}this.g=I}var g={};function y(N){return-128<=N&&N<128?c(N,function(R){return new d([R|0],R<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return w;if(N<0)return te(_(-N));const R=[];let I=1;for(let V=0;N>=I;V++)R[V]=N/I|0,I*=4294967296;return new d(R,0)}function A(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return te(A(N.substring(1),R));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(R,8));let V=w;for(let L=0;L<N.length;L+=8){var D=Math.min(8,N.length-L);const x=parseInt(N.substring(L,L+D),R);D<8?(D=_(Math.pow(R,D)),V=V.j(D).add(_(x))):(V=V.j(I),V=V.add(_(x)))}return V}var w=y(0),S=y(1),K=y(16777216);s=d.prototype,s.m=function(){if(ie(this))return-te(this).m();let N=0,R=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);N+=(V>=0?V:4294967296+V)*R,R*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(W(this))return"0";if(ie(this))return"-"+te(this).toString(N);const R=_(Math.pow(N,6));var I=this;let V="";for(;;){const D=Le(I,R).g;I=pe(I,D.j(R));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=D,W(I))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function W(N){if(N.h!=0)return!1;for(let R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function ie(N){return N.h==-1}s.l=function(N){return N=pe(this,N),ie(N)?-1:W(N)?0:1};function te(N){const R=N.g.length,I=[];for(let V=0;V<R;V++)I[V]=~N.g[V];return new d(I,~N.h).add(S)}s.abs=function(){return ie(this)?te(this):this},s.add=function(N){const R=Math.max(this.g.length,N.g.length),I=[];let V=0;for(let D=0;D<=R;D++){let L=V+(this.i(D)&65535)+(N.i(D)&65535),x=(L>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);V=x>>>16,L&=65535,x&=65535,I[D]=x<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function pe(N,R){return N.add(te(R))}s.j=function(N){if(W(this)||W(N))return w;if(ie(this))return ie(N)?te(this).j(te(N)):te(te(this).j(N));if(ie(N))return te(this.j(te(N)));if(this.l(K)<0&&N.l(K)<0)return _(this.m()*N.m());const R=this.g.length+N.g.length,I=[];for(var V=0;V<2*R;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<N.g.length;D++){const L=this.i(V)>>>16,x=this.i(V)&65535,ft=N.i(D)>>>16,Tt=N.i(D)&65535;I[2*V+2*D]+=x*Tt,ve(I,2*V+2*D),I[2*V+2*D+1]+=L*Tt,ve(I,2*V+2*D+1),I[2*V+2*D+1]+=x*ft,ve(I,2*V+2*D+1),I[2*V+2*D+2]+=L*ft,ve(I,2*V+2*D+2)}for(N=0;N<R;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=R;N<2*R;N++)I[N]=0;return new d(I,0)};function ve(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function Te(N,R){this.g=N,this.h=R}function Le(N,R){if(W(R))throw Error("division by zero");if(W(N))return new Te(w,w);if(ie(N))return R=Le(te(N),R),new Te(te(R.g),te(R.h));if(ie(R))return R=Le(N,te(R)),new Te(te(R.g),R.h);if(N.g.length>30){if(ie(N)||ie(R))throw Error("slowDivide_ only works with positive integers.");for(var I=S,V=R;V.l(N)<=0;)I=Xe(I),V=Xe(V);var D=ke(I,1),L=ke(V,1);for(V=ke(V,2),I=ke(I,2);!W(V);){var x=L.add(V);x.l(N)<=0&&(D=D.add(I),L=x),V=ke(V,1),I=ke(I,1)}return R=pe(N,D.j(R)),new Te(D,R)}for(D=w;N.l(R)>=0;){for(I=Math.max(1,Math.floor(N.m()/R.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=_(I),x=L.j(R);ie(x)||x.l(N)>0;)I-=V,L=_(I),x=L.j(R);W(L)&&(L=S),D=D.add(L),N=pe(N,x)}return new Te(D,N)}s.B=function(N){return Le(this,N).h},s.and=function(N){const R=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)&N.i(V);return new d(I,this.h&N.h)},s.or=function(N){const R=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)|N.i(V);return new d(I,this.h|N.h)},s.xor=function(N){const R=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)^N.i(V);return new d(I,this.h^N.h)};function Xe(N){const R=N.g.length+1,I=[];for(let V=0;V<R;V++)I[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(I,N.h)}function ke(N,R){const I=R>>5;R%=32;const V=N.g.length-I,D=[];for(let L=0;L<V;L++)D[L]=R>0?N.i(L+I)>>>R|N.i(L+I+1)<<32-R:N.i(L+I);return new d(D,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,BE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Sr=d}).apply(typeof H_<"u"?H_:typeof self<"u"?self:typeof window<"u"?window:{});var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var qE,Ul,HE,Xc,dm,GE,FE,$E;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof zc=="object"&&zc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)e:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var j=u[T];if(!(j in v))break e;v=v[j]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,j,H){for(var se=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)se[Oe-2]=arguments[Oe];return m.prototype[j].apply(T,se)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const j=arguments[T];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=u.length||0;const H=j.length||0;u.length=v+H;for(let se=0;se<H;se++)u[v+se]=j[se]}else u.push(j)}}class ie{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function te(u){d.setTimeout(()=>{throw u},0)}function pe(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ve{constructor(){this.h=this.g=null}add(m,v){const T=Te.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var Te=new ie(()=>new Le,u=>u.reset());class Le{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Xe,ke=!1,N=new ve,R=()=>{const u=Promise.resolve(void 0);Xe=()=>{u.then(I)}};function I(){for(var u;u=pe();){try{u.h.call(u.g)}catch(v){te(v)}var m=Te;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ke=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function ft(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(ft,D),ft.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ft.Z.h.call(this)},ft.prototype.h=function(){ft.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Tt="closure_listenable_"+(Math.random()*1e6|0),F=0;function re(u,m,v,T,j){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=j,this.key=++F,this.da=this.fa=!1}function ee(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ge(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function fe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(u,m){let v,T;for(let j=1;j<arguments.length;j++){T=arguments[j];for(v in T)u[v]=T[v];for(let H=0;H<$.length;H++)v=$[H],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function ne(u){this.src=u,this.g={},this.h=0}ne.prototype.add=function(u,m,v,T,j){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const se=Re(u,m,T,j);return se>-1?(m=u[se],v||(m.fa=!1)):(m=new re(m,this.src,H,!!T,j),m.fa=v,u.push(m)),m};function de(u,m){const v=m.type;if(v in u.g){var T=u.g[v],j=Array.prototype.indexOf.call(T,m,void 0),H;(H=j>=0)&&Array.prototype.splice.call(T,j,1),H&&(ee(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Re(u,m,v,T){for(let j=0;j<u.length;++j){const H=u[j];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==T)return j}return-1}var De="closure_lm_"+(Math.random()*1e6|0),St={};function Fe(u,m,v,T,j){if(Array.isArray(m)){for(let H=0;H<m.length;H++)Fe(u,m[H],v,T,j);return null}return v=ns(v),u&&u[Tt]?u.J(m,v,g(T)?!!T.capture:!1,j):xi(u,m,v,!1,T,j)}function xi(u,m,v,T,j,H){if(!m)throw Error("Invalid event type");const se=g(j)?!!j.capture:!!j;let Oe=un(u);if(Oe||(u[De]=Oe=new ne(u)),v=Oe.add(m,v,T,se,H),v.proxy)return v;if(T=vn(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(j=se),j===void 0&&(j=!1),u.addEventListener(m.toString(),T,j);else if(u.attachEvent)u.attachEvent(Cn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function vn(){function u(v){return m.call(u.src,u.listener,v)}const m=es;return u}function Wi(u,m,v,T,j){if(Array.isArray(m))for(var H=0;H<m.length;H++)Wi(u,m[H],v,T,j);else T=g(T)?!!T.capture:!!T,v=ns(v),u&&u[Tt]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],v=Re(m,v,T,j),v>-1&&(ee(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=un(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Re(m,v,T,j)),(v=u>-1?m[u]:null)&&ui(v))}function ui(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Tt])de(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Cn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=un(m))?(de(v,u),v.h==0&&(v.src=null,m[De]=null)):ee(u)}}}function Cn(u){return u in St?St[u]:St[u]="on"+u}function es(u,m){if(u.da)u=!0;else{m=new ft(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&ui(u),u=v.call(T,m)}return u}function un(u){return u=u[De],u instanceof ne?u:null}var ts="__closure_events_fn_"+(Math.random()*1e9>>>0);function ns(u){return typeof u=="function"?u:(u[ts]||(u[ts]=function(m){return u.handleEvent(m)}),u[ts])}function vt(){V.call(this),this.i=new ne(this),this.M=this,this.G=null}w(vt,V),vt.prototype[Tt]=!0,vt.prototype.removeEventListener=function(u,m,v,T){Wi(this,u,m,v,T)};function It(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var j=m;m=new D(T,u),ae(m,j)}j=!0;let H,se;if(v)for(se=v.length-1;se>=0;se--)H=m.g=v[se],j=In(H,T,!0,m)&&j;if(H=m.g=u,j=In(H,T,!0,m)&&j,j=In(H,T,!1,m)&&j,v)for(se=0;se<v.length;se++)H=m.g=v[se],j=In(H,T,!1,m)&&j}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ee(v[T]);delete u.g[m],u.h--}}this.G=null},vt.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},vt.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function In(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let H=0;H<m.length;++H){const se=m[H];if(se&&!se.da&&se.capture==v){const Oe=se.listener,Dt=se.ha||se.src;se.fa&&de(u.i,se),j=Oe.call(Dt,T)!==!1&&j}}return j&&!T.defaultPrevented}function Kt(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ks(u){u.g=Kt(()=>{u.g=null,u.i&&(u.i=!1,ks(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class kt extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ks(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function is(u){V.call(this),this.h=u,this.g={}}w(is,V);var Ri=[];function ss(u){Ge(u.g,function(m,v){this.g.hasOwnProperty(v)&&ui(m)},u),u.g={}}is.prototype.N=function(){is.Z.N.call(this),ss(this)},is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ci=d.JSON.stringify,ba=d.JSON.parse,Hn=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ci(){}function Or(){}var Nn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function rt(){D.call(this,"d")}w(rt,D);function Gt(){D.call(this,"c")}w(Gt,D);var mt={},Mr=null;function Ls(){return Mr=Mr||new vt}mt.Ia="serverreachability";function Ta(u){D.call(this,mt.Ia,u)}w(Ta,D);function Gn(u){const m=Ls();It(m,new Ta(m))}mt.STAT_EVENT="statevent";function rs(u,m){D.call(this,mt.STAT_EVENT,u),this.stat=m}w(rs,D);function wt(u){const m=Ls();It(m,new rs(m,u))}mt.Ja="timingevent";function Fn(u,m){D.call(this,mt.Ja,u),this.size=m}w(Fn,D);function $n(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Dn(){this.g=!0}Dn.prototype.ua=function(){this.g=!1};function Sa(u,m,v,T,j,H){u.info(function(){if(u.g)if(H){var se="",Oe=H.split("&");for(let We=0;We<Oe.length;We++){var Dt=Oe[We].split("=");if(Dt.length>1){const Et=Dt[0];Dt=Dt[1];const Jn=Et.split("_");se=Jn.length>=2&&Jn[1]=="type"?se+(Et+"="+Dt+"&"):se+(Et+"=redacted&")}}}else se=null;else se=H;return"XMLHTTP REQ ("+T+") [attempt "+j+"]: "+m+`
`+v+`
`+se})}function Aa(u,m,v,T,j,H,se){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+j+"]: "+m+`
`+v+`
`+H+" "+se})}function On(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+zo(u,v)+(T?" "+T:"")})}function Ii(u,m){u.info(function(){return"TIMEOUT: "+m})}Dn.prototype.info=function(){};function zo(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var j=T[0];if(j!="noop"&&j!="stop"&&j!="close")for(let se=1;se<T.length;se++)T[se]=""}}}}return Ci(H)}catch{return m}}var as={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},kr;function os(){}w(os,ci),os.prototype.g=function(){return new XMLHttpRequest},kr=new os;function hi(u){return encodeURIComponent(String(u))}function wa(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Mn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new is(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Vn}function Vn(){this.i=null,this.g="",this.h=!1}var gt={},Nt={};function Qn(u,m,v){u.M=1,u.A=jr(Lt(m)),u.u=v,u.R=!0,js(u,null)}function js(u,m){u.F=Date.now(),q(u),u.B=Lt(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Ia(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Vn,u.g=Ru(u.j,v?m:null,!u.u),u.P>0&&(u.O=new kt(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var j="readystatechange";Array.isArray(j)||(j&&(Ri[0]=j.toString()),j=Ri);for(let H=0;H<j.length;H++){const se=Fe(v,j[H],T||m.handleEvent,!1,m.h||m);if(!se)break;m.g[se.key]=se}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Gn(),Sa(u.i,u.v,u.B,u.l,u.S,u.u)}Mn.prototype.ba=function(u){u=u.target;const m=this.O;m&&mi(u)==3?m.j():this.Y(u)},Mn.prototype.Y=function(u){try{if(u==this.g)e:{const Oe=mi(this.g),Dt=this.g.ya(),We=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Oe!=4||Dt==7||(Dt==8||We<=0?Gn(3):Gn(2)),ye(this);var m=this.g.ca();this.X=m;var v=Bo(this);if(this.o=m==200,Aa(this.i,this.v,this.B,this.l,this.S,Oe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,j=this.g;if((T=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(T)){var H=T;break t}}H=null}if(u=H)On(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ct(this,u);else{this.o=!1,this.m=3,wt(12),we(this),_e(this);break e}}if(this.R){u=!0;let Et;for(;!this.K&&this.C<v.length;)if(Et=xa(this,v),Et==Nt){Oe==4&&(this.m=4,wt(14),u=!1),On(this.i,this.l,null,"[Incomplete Response]");break}else if(Et==gt){this.m=4,wt(15),On(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else On(this.i,this.l,Et,null),ct(this,Et);if(z(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||v.length!=0||this.h.h||(this.m=1,wt(16),u=!1),this.o=this.o&&u,!u)On(this.i,this.l,v,"[Invalid Chunked Response]"),we(this),_e(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Jo(se),se.P=!0,wt(11))}}else On(this.i,this.l,v,null),ct(this,v);Oe==4&&we(this),this.o&&!this.K&&(Oe==4?Su(this.j,this):(this.o=!1,q(this)))}else cs(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),we(this),_e(this)}}}catch{}finally{}};function Bo(u){if(!z(u))return u.g.la();const m=en(u.g);if(m==="")return"";let v="";const T=m.length,j=mi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return we(u),_e(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<T;H++)u.h.h=!0,v+=u.h.i.decode(m[H],{stream:!(j&&H==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function z(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function xa(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Nt:(v=Number(m.substring(v,T)),isNaN(v)?gt:(T+=1,T+v>m.length?Nt:(m=m.slice(T,T+v),u.C=T+v,m)))}Mn.prototype.cancel=function(){this.K=!0,we(this)};function q(u){u.T=Date.now()+u.H,oe(u,u.H)}function oe(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=$n(_(u.aa,u),m)}function ye(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Mn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ii(this.i,this.B),this.M!=2&&(Gn(),wt(17)),we(this),this.m=2,_e(this)):oe(this,this.T-u)};function _e(u){u.j.I==0||u.K||Su(u.j,u)}function we(u){ye(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ss(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ct(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||xt(v.h,u))){if(!u.L&&xt(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var j=T;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Va(v),Fs(v);else break e;Gr(v),wt(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=$n(_(v.Va,v),6e3));Yt(v.h)<=1&&v.ta&&(v.ta=void 0)}else ki(v,11)}else if((u.L||v.g==u)&&Va(v),!x(m))for(j=v.Ba.g.parse(m),m=0;m<j.length;m++){let We=j[m];const Et=We[0];if(!(Et<=v.K))if(v.K=Et,We=We[1],v.I==2)if(We[0]=="c"){v.M=We[1],v.ba=We[2];const Jn=We[3];Jn!=null&&(v.ka=Jn,v.j.info("VER="+v.ka));const Li=We[4];Li!=null&&(v.za=Li,v.j.info("SVER="+v.za));const gi=We[5];gi!=null&&typeof gi=="number"&&gi>0&&(T=1.5*gi,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const pi=u.g;if(pi){const Fr=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fr){var H=T.h;H.g||Fr.indexOf("spdy")==-1&&Fr.indexOf("quic")==-1&&Fr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Kn(H,H.h),H.h=null))}if(T.G){const ka=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;ka&&(T.wa=ka,nt(T.J,T.G,ka))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var se=u;if(T.na=xu(T,T.L?T.ba:null,T.W),se.L){ls(T.h,se);var Oe=se,Dt=T.O;Dt&&(Oe.H=Dt),Oe.D&&(ye(Oe),q(Oe)),T.g=se}else bu(T);v.i.length>0&&Vi(v)}else We[0]!="stop"&&We[0]!="close"||ki(v,7);else v.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?ki(v,7):Yo(v):We[0]!="noop"&&v.l&&v.l.qa(We),v.A=0)}}Gn(4)}catch{}}var Ne=class{constructor(u,m){this.g=u,this.map=m}};function $e(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function cn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Yt(u){return u.h?1:u.g?u.g.size:0}function xt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Kn(u,m){u.g?u.g.add(m):u.h=m}function ls(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}$e.prototype.cancel=function(){if(this.i=Lr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Lr(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return K(u.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let j,H=null;T>=0?(j=u[v].substring(0,T),H=u[v].substring(T+1)):j=u[v],m(j,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function kn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof kn?(this.l=u.l,Xt(this,u.j),this.o=u.o,this.g=u.g,Us(this,u.u),this.h=u.h,qo(this,vu(u.i)),this.m=u.m):u&&(m=String(u).match(gu))?(this.l=!1,Xt(this,m[1]||"",!0),this.o=Ni(m[2]||""),this.g=Ni(m[3]||"",!0),Us(this,m[4]),this.h=Ni(m[5]||"",!0),qo(this,m[6]||"",!0),this.m=Ni(m[7]||"")):(this.l=!1,this.i=new zs(null,this.l))}kn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ur(m,Ca,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ur(m,Ca,!0),"@"),u.push(hi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ur(v,v.charAt(0)=="/"?Ho:pu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ur(v,yu)),u.join("")},kn.prototype.resolve=function(u){const m=Lt(this);let v=!!u.j;v?Xt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Us(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var j=m.h.lastIndexOf("/");j!=-1&&(T=m.h.slice(0,j+1)+T)}if(j=T,j==".."||j==".")T="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){T=j.lastIndexOf("/",0)==0,j=j.split("/");const H=[];for(let se=0;se<j.length;){const Oe=j[se++];Oe=="."?T&&se==j.length&&H.push(""):Oe==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),T&&se==j.length&&H.push("")):(H.push(Oe),T=!0)}T=H.join("/")}else T=j}return v?m.h=T:v=u.i.toString()!=="",v?qo(m,vu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Lt(u){return new kn(u)}function Xt(u,m,v){u.j=v?Ni(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Us(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function qo(u,m,v){m instanceof zs?(u.i=m,Na(u.i,u.l)):(v||(m=Ur(m,Ps)),u.i=new zs(m,u.l))}function nt(u,m,v){u.i.set(m,v)}function jr(u){return nt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ni(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ur(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,En),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function En(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ca=/[#\/\?@]/g,pu=/[#\?:]/g,Ho=/[#\?]/g,Ps=/[#\?@]/g,yu=/#/g;function zs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function bn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ra(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=zs.prototype,s.add=function(u,m){bn(this),this.i=null,u=Bs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function _u(u,m){bn(u),m=Bs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Go(u,m){return bn(u),m=Bs(u,m),u.g.has(m)}s.forEach=function(u,m){bn(this),this.g.forEach(function(v,T){v.forEach(function(j){u.call(m,j,T,this)},this)},this)};function Fo(u,m){bn(u);let v=[];if(typeof m=="string")Go(u,m)&&(v=v.concat(u.g.get(Bs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return bn(this),this.i=null,u=Bs(this,u),Go(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Fo(this,u),u.length>0?String(u[0]):m):m};function Ia(u,m,v){_u(u,m),v.length>0&&(u.i=null,u.g.set(Bs(u,m),K(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const j=hi(v);v=Fo(this,v);for(let H=0;H<v.length;H++){let se=j;v[H]!==""&&(se+="="+hi(v[H])),u.push(se)}}return this.i=u.join("&")};function vu(u){const m=new zs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Bs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Na(u,m){m&&!u.j&&(bn(u),u.i=null,u.g.forEach(function(v,T){const j=T.toLowerCase();T!=j&&(_u(this,T),Ia(this,j,v))},u)),u.j=m}function fi(u,m){const v=new Dn;if(d.Image){const T=new Image;T.onload=A(Yn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Yn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(Yn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Yn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function $o(u,m){const v=new Dn,T=new AbortController,j=setTimeout(()=>{T.abort(),Yn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(j),H.ok?Yn(v,"TestPingServer: ok",!0,m):Yn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Yn(v,"TestPingServer: error",!1,m)})}function Yn(u,m,v,T,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),T(v)}catch{}}function qs(){this.g=new Hn}function Di(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Di,ci),Di.prototype.g=function(){return new Pr(this.i,this.h)};function Pr(u,m){vt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Pr,vt),s=Pr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,di(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Da(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Da(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Hs(this):di(this),this.readyState==3&&Da(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Hs(this))},s.Na=function(u){this.g&&(this.response=u,Hs(this))},s.ga=function(){this.g&&Hs(this)};function Hs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,di(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function di(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Xn(u){let m="";return Ge(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function zr(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Xn(v),typeof u=="string"?v!=null&&hi(v):nt(u,m,v))}function at(u){vt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(at,vt);var Oi=/^https?$/i,Qo=["POST","PUT"];s=at.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():kr.g(),this.g.onreadystatechange=S(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Br(this,H);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var j in T)v.set(j,T[j]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())v.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),j=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Qo,m,void 0)>=0)||T||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,se]of v)this.g.setRequestHeader(H,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Br(this,H)}};function Br(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ko(u),us(u)}function Ko(u){u.A||(u.A=!0,It(u,"complete"),It(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,It(this,"complete"),It(this,"abort"),us(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),us(this,!0)),at.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?qr(this):this.Xa())},s.Xa=function(){qr(this)};function qr(u){if(u.h&&typeof c<"u"){if(u.v&&mi(u)==4)setTimeout(u.Ca.bind(u),0);else if(It(u,"readystatechange"),mi(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=H===0){let se=String(u.D).match(gu)[1]||null;!se&&d.self&&d.self.location&&(se=d.self.location.protocol.slice(0,-1)),T=!Oi.test(se?se.toLowerCase():"")}v=T}if(v)It(u,"complete"),It(u,"success");else{u.o=6;try{var j=mi(u)>2?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.ca()+"]",Ko(u)}}finally{us(u)}}}}function us(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||It(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function mi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ba(m)}};function en(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function cs(u){const m={};u=(u.g&&mi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(x(u[T]))continue;var v=wa(u[T]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[j]||[];m[j]=H,H.push(v)}fe(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Gs(u){this.za=0,this.i=[],this.j=new Dn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Mi("baseRetryDelayMs",5e3,u),this.Za=Mi("retryDelaySeedMs",1e4,u),this.Ta=Mi("forwardChannelMaxRetries",2,u),this.va=Mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new $e(u&&u.concurrentRequestLimit),this.Ba=new qs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Gs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){wt(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=xu(this,null,this.W),Vi(this)};function Yo(u){if(Oa(u),u.I==3){var m=u.V++,v=Lt(u.J);if(nt(v,"SID",u.M),nt(v,"RID",m),nt(v,"TYPE","terminate"),Hr(u,v),m=new Mn(u,u.j,m),m.M=2,m.A=jr(Lt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Ru(m.j,null),m.g.ea(m.A)),m.F=Date.now(),q(m)}wu(u)}function Fs(u){u.g&&(Jo(u),u.g.cancel(),u.g=null)}function Oa(u){Fs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Va(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Vi(u){if(!cn(u.h)&&!u.m){u.m=!0;var m=u.Ea;Xe||R(),ke||(Xe(),ke=!0),N.add(m,u),u.D=0}}function Ma(u,m){return Yt(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=$n(_(u.Ea,u,m),Au(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const j=new Mn(this,this.j,u);let H=this.o;if(this.U&&(H?(H=M(H),ae(H,this.U)):H=this.U),this.u!==null||this.R||(j.J=H,H=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Eu(this,j,m),v=Lt(this.J),nt(v,"RID",u),nt(v,"CVER",22),this.G&&nt(v,"X-HTTP-Session-Id",this.G),Hr(this,v),H&&(this.R?m="headers="+hi(Xn(H))+"&"+m:this.u&&zr(v,this.u,H)),Kn(this.h,j),this.Ra&&nt(v,"TYPE","init"),this.S?(nt(v,"$req",m),nt(v,"SID","null"),j.U=!0,Qn(j,v,null)):Qn(j,v,m),this.I=2}}else this.I==3&&(u?Xo(this,u):this.i.length==0||cn(this.h)||Xo(this))};function Xo(u,m){var v;m?v=m.l:v=u.V++;const T=Lt(u.J);nt(T,"SID",u.M),nt(T,"RID",v),nt(T,"AID",u.K),Hr(u,T),u.u&&u.o&&zr(T,u.u,u.o),v=new Mn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Eu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Kn(u.h,v),Qn(v,T,m)}function Hr(u,m){u.H&&Ge(u.H,function(v,T){nt(m,T,v)}),u.l&&Ge({},function(v,T){nt(m,T,v)})}function Eu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;e:{var j=u.i;let Oe=-1;for(;;){const Dt=["count="+v];Oe==-1?v>0?(Oe=j[0].g,Dt.push("ofs="+Oe)):Oe=0:Dt.push("ofs="+Oe);let We=!0;for(let Et=0;Et<v;Et++){var H=j[Et].g;const Jn=j[Et].map;if(H-=Oe,H<0)Oe=Math.max(0,j[Et].g-100),We=!1;else try{H="req"+H+"_"||"";try{var se=Jn instanceof Map?Jn:Object.entries(Jn);for(const[Li,gi]of se){let pi=gi;g(gi)&&(pi=Ci(gi)),Dt.push(H+Li+"="+encodeURIComponent(pi))}}catch(Li){throw Dt.push(H+"type="+encodeURIComponent("_badmap")),Li}}catch{T&&T(Jn)}}if(We){se=Dt.join("&");break e}}se=void 0}return u=u.i.splice(0,v),m.G=u,se}function bu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Xe||R(),ke||(Xe(),ke=!0),N.add(m,u),u.A=0}}function Gr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=$n(_(u.Da,u),Au(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Tu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=$n(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Fs(this),Tu(this))};function Jo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Tu(u){u.g=new Mn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Lt(u.na);nt(m,"RID","rpc"),nt(m,"SID",u.M),nt(m,"AID",u.K),nt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&nt(m,"TO",u.ia),nt(m,"TYPE","xmlhttp"),Hr(u,m),u.u&&u.o&&zr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=jr(Lt(m)),v.u=null,v.R=!0,js(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Fs(this),Gr(this),wt(19))};function Va(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Su(u,m){var v=null;if(u.g==m){Va(u),Jo(u),u.g=null;var T=2}else if(xt(u.h,m))v=m.G,ls(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var j=u.D;T=Ls(),It(T,new Fn(T,v)),Vi(u)}else bu(u);else if(j=m.m,j==3||j==0&&m.X>0||!(T==1&&Ma(u,m)||T==2&&Gr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),j){case 1:ki(u,5);break;case 4:ki(u,10);break;case 3:ki(u,6);break;default:ki(u,2)}}}function Au(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function ki(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const j=!T;T=new kn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Xt(T,"https"),jr(T),j?fi(T.toString(),v):$o(T.toString(),v)}else wt(2);u.I=0,u.l&&u.l.pa(m),wu(u),Oa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function wu(u){if(u.I=0,u.ja=[],u.l){const m=Lr(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function xu(u,m,v){var T=v instanceof kn?Lt(v):new kn(v);if(T.g!="")m&&(T.g=m+"."+T.g),Us(T,T.u);else{var j=d.location;T=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const H=new kn(null);T&&Xt(H,T),m&&(H.g=m),j&&Us(H,j),v&&(H.h=v),T=H}return v=u.G,m=u.wa,v&&m&&nt(T,v,m),nt(T,"VER",u.ka),Hr(u,T),T}function Ru(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new at(new Di({ab:v})):new at(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cu(){}s=Cu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function $s(){}$s.prototype.g=function(u,m){return new pn(u,m)};function pn(u,m){vt.call(this),this.g=new Gs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new hs(this)}w(pn,vt),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Yo(this.g)},pn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Ci(u),u=v);m.i.push(new Ne(m.Ya++,u)),m.I==3&&Vi(m)},pn.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,pn.Z.N.call(this)};function Iu(u){rt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Iu,rt);function Nu(){Gt.call(this),this.status=1}w(Nu,Gt);function hs(u){this.g=u}w(hs,Cu),hs.prototype.ra=function(){It(this.g,"a")},hs.prototype.qa=function(u){It(this.g,new Iu(u))},hs.prototype.pa=function(u){It(this.g,new Nu)},hs.prototype.oa=function(){It(this.g,"b")},$s.prototype.createWebChannel=$s.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,$E=function(){return new $s},FE=function(){return Ls()},GE=mt,dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},as.NO_ERROR=0,as.TIMEOUT=8,as.HTTP_ERROR=6,Xc=as,Vr.COMPLETE="complete",HE=Vr,Or.EventType=Nn,Nn.OPEN="a",Nn.CLOSE="b",Nn.ERROR="c",Nn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Ul=Or,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,qE=at}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});const G_="@firebase/firestore",F_="4.9.2";class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");let ko="12.3.0";const ga=new Nm("@firebase/firestore");function fo(){return ga.logLevel}function ue(s,...e){if(ga.logLevel<=Be.DEBUG){const i=e.map(Hm);ga.debug(`Firestore (${ko}): ${s}`,...i)}}function Os(s,...e){if(ga.logLevel<=Be.ERROR){const i=e.map(Hm);ga.error(`Firestore (${ko}): ${s}`,...i)}}function wo(s,...e){if(ga.logLevel<=Be.WARN){const i=e.map(Hm);ga.warn(`Firestore (${ko}): ${s}`,...i)}}function Hm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ae(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,QE(s,r,i)}function QE(s,e,i){let r=`FIRESTORE (${ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Os(r),new Error(r)}function tt(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||QE(e,l,r)}function Ie(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Vs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ca{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class KE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(dn.UNAUTHENTICATED)))}shutdown(){}}class gR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class pR{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){tt(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let c=new ca;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ca,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ca)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tt(typeof r.accessToken=="string",31837,{l:r}),new KE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class yR{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _R{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new yR(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vR{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){tt(this.o===void 0,3512);const r=c=>{c.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(tt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new $_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ER(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Gm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=ER(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=e.charAt(l[c]%62))}return r}}function qe(s,e){return s<e?-1:s>e?1:0}function mm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return Jd(l)===Jd(c)?qe(l,c):Jd(l)?1:-1}return qe(s.length,e.length)}const bR=55296,TR=57343;function Jd(s){const e=s.charCodeAt(0);return e>=bR&&e<=TR}function xo(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}const Q_="__name__";class qi{constructor(e,i,r){i===void 0?i=0:i>e.length&&Ae(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Ae(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return qi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof qi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const c=qi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return qe(e.length,i.length)}static compareSegments(e,i){const r=qi.isNumericId(e),l=qi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?qi.extractNumericId(e).compare(qi.extractNumericId(i)):mm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Sr.fromString(e.substring(4,e.length-2))}}class dt extends qi{construct(e,i,r){return new dt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new dt(i)}static emptyPath(){return new dt([])}}const SR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends qi{construct(e,i,r){return new on(e,i,r)}static isValidIdentifier(e){return SR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q_}static keyField(){return new on([Q_])}static fromServerFormat(e){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new le(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new le(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new le(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(i)}static emptyPath(){return new on([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(dt.fromString(e))}static fromName(e){return new ge(dt.fromString(e).popFirst(5))}static empty(){return new ge(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return dt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new dt(e.slice()))}}function YE(s,e,i){if(!i)throw new le(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function AR(s,e,i,r){if(e===!0&&r===!0)throw new le(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function K_(s){if(!ge.isDocumentKey(s))throw new le(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Y_(s){if(ge.isDocumentKey(s))throw new le(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function XE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function xh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ae(12329,{type:typeof s})}function Eo(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new le(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=xh(s);throw new le(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Ht(s,e){const i={typeString:s};return e&&(i.value=e),i}function cu(s,e){if(!XE(s))throw new le(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new le(J.INVALID_ARGUMENT,i);return!0}const X_=-62135596800,J_=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*J_);return new _t(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<X_)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/J_}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cu(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-X_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:Ht("string",_t._jsonSchemaVersion),seconds:Ht("number"),nanoseconds:Ht("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new _t(0,0))}static max(){return new xe(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Xl=-1;function wR(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=xe.fromTimestamp(r===1e9?new _t(i+1,0):new _t(i,r));return new wr(l,ge.empty(),e)}function xR(s){return new wr(s.readTime,s.key,Xl)}class wr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new wr(xe.min(),ge.empty(),Xl)}static max(){return new wr(xe.max(),ge.empty(),Xl)}}function RR(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ge.comparator(s.documentKey,e.documentKey),i!==0?i:qe(s.largestBatchId,e.largestBatchId))}const CR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Lo(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==CR)throw s;ue("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,r)=>{i(e)}))}static reject(e){return new Z(((i,r)=>{r(e)}))}static waitFor(e){return new Z(((i,r)=>{let l=0,c=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(y=>r(y)))})),d=!0,c===l&&i()}))}static or(e){let i=Z.resolve(!1);for(const r of e)i=i.next((l=>l?Z.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(e,i){return new Z(((r,l)=>{const c=e.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((A=>{d[_]=A,++g,g===c&&r(d)}),(A=>l(A)))}}))}static doWhile(e,i){return new Z(((r,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):r()};c()}))}}function NR(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function jo(s){return s.name==="IndexedDbTransactionError"}class Rh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rh.ce=-1;const Fm=-1;function Ch(s){return s==null}function hh(s){return s===0&&1/s==-1/0}function DR(s){return typeof s=="number"&&Number.isInteger(s)&&!hh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const JE="";function OR(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Z_(e)),e=MR(s.get(i),e);return Z_(e)}function MR(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case JE:i+="";break;default:i+=c}}return i}function Z_(s){return s+JE+""}function W_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function ya(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function ZE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class At{constructor(e,i){this.comparator=e,this.root=i||an.EMPTY}insert(e,i){return new At(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bc(this.root,e,this.comparator,!0)}}class Bc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,i,r,l,c){this.key=e,this.value=i,this.color=r??an.RED,this.left=l??an.EMPTY,this.right=c??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,c){return new an(e??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return an.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,i,r,l,c){return this}insert(e,i,r){return new an(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new ev(this.data.getIterator())}getIteratorFrom(e){return new ev(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Qt(this.comparator);return i.data=e,i}}class ev{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bi{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new bi([])}unionWith(e){let i=new Qt(on.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new bi(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return xo(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class WE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new WE("Invalid base64 string: "+c):c}})(e);return new ln(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new ln(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const VR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xr(s){if(tt(!!s,39018),typeof s=="string"){let e=0;const i=VR.exec(s);if(tt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vt(s.seconds),nanos:Vt(s.nanos)}}function Vt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Rr(s){return typeof s=="string"?ln.fromBase64String(s):ln.fromUint8Array(s)}const eb="server_timestamp",tb="__type__",nb="__previous_value__",ib="__local_write_time__";function $m(s){return(s?.mapValue?.fields||{})[tb]?.stringValue===eb}function Ih(s){const e=s.mapValue.fields[nb];return $m(e)?Ih(e):e}function Jl(s){const e=xr(s.mapValue.fields[ib].timestampValue);return new _t(e.seconds,e.nanos)}class kR{constructor(e,i,r,l,c,d,g,y,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const fh="(default)";class Zl{constructor(e,i){this.projectId=e,this.database=i||fh}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===fh}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}const sb="__type__",LR="__max__",qc={mapValue:{}},rb="__vector__",dh="value";function Cr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?$m(s)?4:UR(s)?9007199254740991:jR(s)?10:11:Ae(28295,{value:s})}function Xi(s,e){if(s===e)return!0;const i=Cr(s);if(i!==Cr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Jl(s).isEqual(Jl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=xr(l.timestampValue),g=xr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return Rr(l.bytesValue).isEqual(Rr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Vt(l.geoPointValue.latitude)===Vt(c.geoPointValue.latitude)&&Vt(l.geoPointValue.longitude)===Vt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Vt(l.integerValue)===Vt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Vt(l.doubleValue),g=Vt(c.doubleValue);return d===g?hh(d)===hh(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return xo(s.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(W_(d)!==W_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Xi(d[y],g[y])))return!1;return!0})(s,e);default:return Ae(52216,{left:s})}}function Wl(s,e){return(s.values||[]).find((i=>Xi(i,e)))!==void 0}function Ro(s,e){if(s===e)return 0;const i=Cr(s),r=Cr(e);if(i!==r)return qe(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return qe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Vt(c.integerValue||c.doubleValue),y=Vt(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,e);case 3:return tv(s.timestampValue,e.timestampValue);case 4:return tv(Jl(s),Jl(e));case 5:return mm(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=Rr(c),y=Rr(d);return g.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const A=qe(g[_],y[_]);if(A!==0)return A}return qe(g.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=qe(Vt(c.latitude),Vt(d.latitude));return g!==0?g:qe(Vt(c.longitude),Vt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return nv(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},_=g[dh]?.arrayValue,A=y[dh]?.arrayValue,w=qe(_?.values?.length||0,A?.values?.length||0);return w!==0?w:nv(_,A)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===qc.mapValue&&d===qc.mapValue)return 0;if(c===qc.mapValue)return 1;if(d===qc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let w=0;w<y.length&&w<A.length;++w){const S=mm(y[w],A[w]);if(S!==0)return S;const K=Ro(g[y[w]],_[A[w]]);if(K!==0)return K}return qe(y.length,A.length)})(s.mapValue,e.mapValue);default:throw Ae(23264,{he:i})}}function tv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return qe(s,e);const i=xr(s),r=xr(e),l=qe(i.seconds,r.seconds);return l!==0?l:qe(i.nanos,r.nanos)}function nv(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=Ro(i[l],r[l]);if(c)return c}return qe(i.length,r.length)}function Co(s){return gm(s)}function gm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=xr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Rr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ge.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=gm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${gm(i.fields[d])}`;return l+"}"})(s.mapValue):Ae(61005,{value:s})}function Jc(s){switch(Cr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ih(s);return e?16+Jc(e):16;case 5:return 2*s.stringValue.length;case 6:return Rr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Jc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return ya(r.fields,((c,d)=>{l+=c.length+Jc(d)})),l})(s.mapValue);default:throw Ae(13486,{value:s})}}function iv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function pm(s){return!!s&&"integerValue"in s}function Qm(s){return!!s&&"arrayValue"in s}function sv(s){return!!s&&"nullValue"in s}function rv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Zc(s){return!!s&&"mapValue"in s}function jR(s){return(s?.mapValue?.fields||{})[sb]?.stringValue===rb}function Gl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return ya(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Gl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Gl(s.arrayValue.values[i]);return e}return{...s}}function UR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===LR}class ai{constructor(e){this.value=e}static empty(){return new ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Zc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(i)}setAll(e){let i=on.emptyPath(),r={},l=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=Gl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(e){const i=this.field(e.popLast());Zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];Zc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){ya(i,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new ai(Gl(this.value))}}function ab(s){const e=[];return ya(s.fields,((i,r)=>{const l=new on([i]);if(Zc(r)){const c=ab(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new bi(e)}class mn{constructor(e,i,r,l,c,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new mn(e,0,xe.min(),xe.min(),xe.min(),ai.empty(),0)}static newFoundDocument(e,i,r,l){return new mn(e,1,i,xe.min(),r,l,0)}static newNoDocument(e,i){return new mn(e,2,i,xe.min(),xe.min(),ai.empty(),0)}static newUnknownDocument(e,i){return new mn(e,3,i,xe.min(),xe.min(),ai.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mh{constructor(e,i){this.position=e,this.inclusive=i}}function av(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?r=ge.comparator(ge.fromName(d.referenceValue),i.key):r=Ro(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function ov(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Xi(s.position[i],e.position[i]))return!1;return!0}class eu{constructor(e,i="asc"){this.field=e,this.dir=i}}function PR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class ob{}class qt extends ob{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new BR(e,i,r):i==="array-contains"?new GR(e,r):i==="in"?new FR(e,r):i==="not-in"?new $R(e,r):i==="array-contains-any"?new QR(e,r):new qt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new qR(e,r):new HR(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ro(i,this.value)):i!==null&&Cr(this.value)===Cr(i)&&this.matchesComparison(Ro(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ai extends ob{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ai(e,i)}matches(e){return lb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lb(s){return s.op==="and"}function ub(s){return zR(s)&&lb(s)}function zR(s){for(const e of s.filters)if(e instanceof Ai)return!1;return!0}function ym(s){if(s instanceof qt)return s.field.canonicalString()+s.op.toString()+Co(s.value);if(ub(s))return s.filters.map((e=>ym(e))).join(",");{const e=s.filters.map((i=>ym(i))).join(",");return`${s.op}(${e})`}}function cb(s,e){return s instanceof qt?(function(r,l){return l instanceof qt&&r.op===l.op&&r.field.isEqual(l.field)&&Xi(r.value,l.value)})(s,e):s instanceof Ai?(function(r,l){return l instanceof Ai&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,g)=>c&&cb(d,l.filters[g])),!0):!1})(s,e):void Ae(19439)}function hb(s){return s instanceof qt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Co(i.value)}`})(s):s instanceof Ai?(function(i){return i.op.toString()+" {"+i.getFilters().map(hb).join(" ,")+"}"})(s):"Filter"}class BR extends qt{constructor(e,i,r){super(e,i,r),this.key=ge.fromName(r.referenceValue)}matches(e){const i=ge.comparator(e.key,this.key);return this.matchesComparison(i)}}class qR extends qt{constructor(e,i){super(e,"in",i),this.keys=fb("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class HR extends qt{constructor(e,i){super(e,"not-in",i),this.keys=fb("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function fb(s,e){return(e.arrayValue?.values||[]).map((i=>ge.fromName(i.referenceValue)))}class GR extends qt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Qm(i)&&Wl(i.arrayValue,this.value)}}class FR extends qt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Wl(this.value.arrayValue,i)}}class $R extends qt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Wl(this.value.arrayValue,i)}}class QR extends qt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Qm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Wl(this.value.arrayValue,r)))}}class KR{constructor(e,i=null,r=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function lv(s,e=null,i=[],r=[],l=null,c=null,d=null){return new KR(s,e,i,r,l,c,d)}function Km(s){const e=Ie(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>ym(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Ch(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Co(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Co(r))).join(",")),e.Te=i}return e.Te}function Ym(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!PR(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!cb(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!ov(s.startAt,e.startAt)&&ov(s.endAt,e.endAt)}function _m(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Uo{constructor(e,i=null,r=[],l=[],c=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function YR(s,e,i,r,l,c,d,g){return new Uo(s,e,i,r,l,c,d,g)}function Xm(s){return new Uo(s)}function uv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function db(s){return s.collectionGroup!==null}function Fl(s){const e=Ie(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Qt(on.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new eu(c,r))})),i.has(on.keyField().canonicalString())||e.Ie.push(new eu(on.keyField(),r))}return e.Ie}function Gi(s){const e=Ie(s);return e.Ee||(e.Ee=XR(e,Fl(s))),e.Ee}function XR(s,e){if(s.limitType==="F")return lv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new eu(l.field,c)}));const i=s.endAt?new mh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new mh(s.startAt.position,s.startAt.inclusive):null;return lv(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function vm(s,e){const i=s.filters.concat([e]);return new Uo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function gh(s,e,i){return new Uo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Nh(s,e){return Ym(Gi(s),Gi(e))&&s.limitType===e.limitType}function mb(s){return`${Km(Gi(s))}|lt:${s.limitType}`}function mo(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>hb(l))).join(", ")}]`),Ch(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>Co(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>Co(l))).join(",")),`Target(${r})`})(Gi(s))}; limitType=${s.limitType})`}function Dh(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ge.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of Fl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,g,y){const _=av(d,g,y);return d.inclusive?_<=0:_<0})(r.startAt,Fl(r),l)||r.endAt&&!(function(d,g,y){const _=av(d,g,y);return d.inclusive?_>=0:_>0})(r.endAt,Fl(r),l))})(s,e)}function JR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function gb(s){return(e,i)=>{let r=!1;for(const l of Fl(s)){const c=ZR(l,e,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function ZR(s,e,i){const r=s.field.isKeyField()?ge.comparator(e.key,i.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?Ro(y,_):Ae(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:s.dir})}}class _a{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ya(this.inner,((i,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return ZE(this.inner)}size(){return this.innerSize}}const WR=new At(ge.comparator);function Ms(){return WR}const pb=new At(ge.comparator);function Pl(...s){let e=pb;for(const i of s)e=e.insert(i.key,i);return e}function yb(s){let e=pb;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function ua(){return $l()}function _b(){return $l()}function $l(){return new _a((s=>s.toString()),((s,e)=>s.isEqual(e)))}const eC=new At(ge.comparator),tC=new Qt(ge.comparator);function He(...s){let e=tC;for(const i of s)e=e.add(i);return e}const nC=new Qt(qe);function iC(){return nC}function Jm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(e)?"-0":e}}function vb(s){return{integerValue:""+s}}function sC(s,e){return DR(e)?vb(e):Jm(s,e)}class Oh{constructor(){this._=void 0}}function rC(s,e,i){return s instanceof tu?(function(l,c){const d={fields:{[tb]:{stringValue:eb},[ib]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&$m(c)&&(c=Ih(c)),c&&(d.fields[nb]=c),{mapValue:d}})(i,e):s instanceof nu?bb(s,e):s instanceof iu?Tb(s,e):(function(l,c){const d=Eb(l,c),g=cv(d)+cv(l.Ae);return pm(d)&&pm(l.Ae)?vb(g):Jm(l.serializer,g)})(s,e)}function aC(s,e,i){return s instanceof nu?bb(s,e):s instanceof iu?Tb(s,e):i}function Eb(s,e){return s instanceof ph?(function(r){return pm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class tu extends Oh{}class nu extends Oh{constructor(e){super(),this.elements=e}}function bb(s,e){const i=Sb(e);for(const r of s.elements)i.some((l=>Xi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class iu extends Oh{constructor(e){super(),this.elements=e}}function Tb(s,e){let i=Sb(e);for(const r of s.elements)i=i.filter((l=>!Xi(l,r)));return{arrayValue:{values:i}}}class ph extends Oh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function cv(s){return Vt(s.integerValue||s.doubleValue)}function Sb(s){return Qm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class oC{constructor(e,i){this.field=e,this.transform=i}}function lC(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof nu&&l instanceof nu||r instanceof iu&&l instanceof iu?xo(r.elements,l.elements,Xi):r instanceof ph&&l instanceof ph?Xi(r.Ae,l.Ae):r instanceof tu&&l instanceof tu})(s.transform,e.transform)}class uC{constructor(e,i){this.version=e,this.transformResults=i}}class Fi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Fi}static exists(e){return new Fi(void 0,e)}static updateTime(e){return new Fi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Mh{}function Ab(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Zm(s.key,Fi.none()):new hu(s.key,s.data,Fi.none());{const i=s.data,r=ai.empty();let l=new Qt(on.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new va(s.key,r,new bi(l.toArray()),Fi.none())}}function cC(s,e,i){s instanceof hu?(function(l,c,d){const g=l.value.clone(),y=fv(l.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof va?(function(l,c,d){if(!Wc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=fv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(wb(l)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Ql(s,e,i,r){return s instanceof hu?(function(c,d,g,y){if(!Wc(c.precondition,d))return g;const _=c.value.clone(),A=dv(c.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof va?(function(c,d,g,y){if(!Wc(c.precondition,d))return g;const _=dv(c.fieldTransforms,y,d),A=d.data;return A.setAll(wb(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,r):(function(c,d,g){return Wc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function hC(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=Eb(r.transform,l||null);c!=null&&(i===null&&(i=ai.empty()),i.set(r.field,c))}return i||null}function hv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&xo(r,l,((c,d)=>lC(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class hu extends Mh{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class va extends Mh{constructor(e,i,r,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function wb(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function fv(s,e,i){const r=new Map;tt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=e.data.field(c.field);r.set(c.field,aC(d,g,i[l]))}return r}function dv(s,e,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,rC(c,d,e))}return r}class Zm extends Mh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fC extends Mh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class dC{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&cC(c,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Ql(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Ql(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=_b();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const y=Ab(d,g);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(xe.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),He())}isEqual(e){return this.batchId===e.batchId&&xo(this.mutations,e.mutations,((i,r)=>hv(i,r)))&&xo(this.baseMutations,e.baseMutations,((i,r)=>hv(i,r)))}}class Wm{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){tt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return eC})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Wm(e,i,r,l)}}class mC{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class gC{constructor(e,i){this.count=e,this.unchangedNames=i}}var Bt,Ke;function pC(s){switch(s){case J.OK:return Ae(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ae(15467,{code:s})}}function xb(s){if(s===void 0)return Os("GRPC error has no .code"),J.UNKNOWN;switch(s){case Bt.OK:return J.OK;case Bt.CANCELLED:return J.CANCELLED;case Bt.UNKNOWN:return J.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return J.INTERNAL;case Bt.UNAVAILABLE:return J.UNAVAILABLE;case Bt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Bt.NOT_FOUND:return J.NOT_FOUND;case Bt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Bt.ABORTED:return J.ABORTED;case Bt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Bt.DATA_LOSS:return J.DATA_LOSS;default:return Ae(39323,{code:s})}}(Ke=Bt||(Bt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";function yC(){return new TextEncoder}const _C=new Sr([4294967295,4294967295],0);function mv(s){const e=yC().encode(s),i=new BE;return i.update(e),new Uint8Array(i.digest())}function gv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Sr([i,r],0),new Sr([l,c],0)]}class eg{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new zl(`Invalid padding: ${i}`);if(r<0)throw new zl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new zl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Sr.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(Sr.fromNumber(r)));return l.compare(_C)===1&&(l=new Sr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=mv(e),[r,l]=gv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new eg(c,l,i);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=mv(e),[r,l]=gv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vh{constructor(e,i,r,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Vh(xe.min(),l,new At(qe),Ms(),He())}}class fu{constructor(e,i,r,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new fu(r,i,He(),He(),He())}}class eh{constructor(e,i,r,l){this.be=e,this.removedTargetIds=i,this.key=r,this.De=l}}class Rb{constructor(e,i){this.targetId=e,this.Ce=i}}class Cb{constructor(e,i,r=ln.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class pv{constructor(){this.ve=0,this.Fe=yv(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),i=He(),r=He();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:Ae(38017,{changeType:c})}})),new fu(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=yv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ms(),this.Je=Hc(),this.He=Hc(),this.Ye=new At(qe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(_m(c))if(r===0){const d=new ge(c.path);this.et(i,d,mn.newNoDocument(d,xe.min()))}else tt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Rr(r).toUint8Array()}catch(y){if(y instanceof WE)return wo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new eg(d,l,c)}catch(y){return wo(y instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&_m(g.target)){const y=new ge(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,mn.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=He();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Vh(e,i,this.Ye,this.je,r);return this.je=Ms(),this.Je=Hc(),this.He=Hc(),this.Ye=new At(qe),l}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new pv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Qt(qe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Qt(qe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ue("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new pv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Hc(){return new At(ge.comparator)}function yv(){return new At(ge.comparator)}const EC={asc:"ASCENDING",desc:"DESCENDING"},bC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TC={and:"AND",or:"OR"};class SC{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Em(s,e){return s.useProto3Json||Ch(e)?e:{value:e}}function yh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ib(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function AC(s,e){return yh(s,e.toTimestamp())}function $i(s){return tt(!!s,49232),xe.fromTimestamp((function(i){const r=xr(i);return new _t(r.seconds,r.nanos)})(s))}function tg(s,e){return bm(s,e).canonicalString()}function bm(s,e){const i=(function(l){return new dt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function Nb(s){const e=dt.fromString(s);return tt(kb(e),10190,{key:e.toString()}),e}function Tm(s,e){return tg(s.databaseId,e.path)}function Zd(s,e){const i=Nb(e);if(i.get(1)!==s.databaseId.projectId)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ge(Ob(i))}function Db(s,e){return tg(s.databaseId,e)}function wC(s){const e=Nb(s);return e.length===4?dt.emptyPath():Ob(e)}function Sm(s){return new dt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Ob(s){return tt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function _v(s,e,i){return{name:Tm(s,e),fields:i.value.mapValue.fields}}function xC(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ae(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(tt(A===void 0||typeof A=="string",58123),ln.fromBase64String(A||"")):(tt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),ln.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const A=_.code===void 0?J.UNKNOWN:xb(_.code);return new le(A,_.message||"")})(d);i=new Cb(r,l,c,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=Zd(s,r.document.name),c=$i(r.document.updateTime),d=r.document.createTime?$i(r.document.createTime):xe.min(),g=new ai({mapValue:{fields:r.document.fields}}),y=mn.newFoundDocument(l,c,d,g),_=r.targetIds||[],A=r.removedTargetIds||[];i=new eh(_,A,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=Zd(s,r.document),c=r.readTime?$i(r.readTime):xe.min(),d=mn.newNoDocument(l,c),g=r.removedTargetIds||[];i=new eh([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=Zd(s,r.document),c=r.removedTargetIds||[];i=new eh([],c,l,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new gC(l,c),g=r.targetId;i=new Rb(g,d)}}return i}function RC(s,e){let i;if(e instanceof hu)i={update:_v(s,e.key,e.value)};else if(e instanceof Zm)i={delete:Tm(s,e.key)};else if(e instanceof va)i={update:_v(s,e.key,e.data),updateMask:LC(e.fieldMask)};else{if(!(e instanceof fC))return Ae(16599,{Vt:e.type});i={verify:Tm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof tu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof nu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof iu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ph)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Ae(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:AC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ae(27497)})(s,e.precondition)),i}function CC(s,e){return s&&s.length>0?(tt(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?$i(l.updateTime):$i(c);return d.isEqual(xe.min())&&(d=$i(c)),new uC(d,l.transformResults||[])})(i,e)))):[]}function IC(s,e){return{documents:[Db(s,e.path)]}}function NC(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Db(s,l);const c=(function(_){if(_.length!==0)return Vb(Ai.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(S){return{field:go(S.field),direction:MC(S.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Em(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function DC(s){let e=wC(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){tt(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:e=e.child(A.collectionId)}let c=[];i.where&&(c=(function(w){const S=Mb(w);return S instanceof Ai&&ub(S)?S.getFilters():[S]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((S=>(function(W){return new eu(po(W.field),(function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(S)))})(i.orderBy));let g=null;i.limit&&(g=(function(w){let S;return S=typeof w=="object"?w.value:w,Ch(S)?null:S})(i.limit));let y=null;i.startAt&&(y=(function(w){const S=!!w.before,K=w.values||[];return new mh(K,S)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const S=!w.before,K=w.values||[];return new mh(K,S)})(i.endAt)),YR(e,l,d,c,g,"F",y,_)}function OC(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Mb(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=po(i.unaryFilter.field);return qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=po(i.unaryFilter.field);return qt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=po(i.unaryFilter.field);return qt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=po(i.unaryFilter.field);return qt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(s):s.fieldFilter!==void 0?(function(i){return qt.create(po(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ai.create(i.compositeFilter.filters.map((r=>Mb(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(i.compositeFilter.op))})(s):Ae(30097,{filter:s})}function MC(s){return EC[s]}function VC(s){return bC[s]}function kC(s){return TC[s]}function go(s){return{fieldPath:s.canonicalString()}}function po(s){return on.fromServerFormat(s.fieldPath)}function Vb(s){return s instanceof qt?(function(i){if(i.op==="=="){if(rv(i.value))return{unaryFilter:{field:go(i.field),op:"IS_NAN"}};if(sv(i.value))return{unaryFilter:{field:go(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(rv(i.value))return{unaryFilter:{field:go(i.field),op:"IS_NOT_NAN"}};if(sv(i.value))return{unaryFilter:{field:go(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(i.field),op:VC(i.op),value:i.value}}})(s):s instanceof Ai?(function(i){const r=i.getFilters().map((l=>Vb(l)));return r.length===1?r[0]:{compositeFilter:{op:kC(i.op),filters:r}}})(s):Ae(54877,{filter:s})}function LC(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function kb(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class vr{constructor(e,i,r,l,c=xe.min(),d=xe.min(),g=ln.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new vr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class jC{constructor(e){this.yt=e}}function UC(s){const e=DC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?gh(e,e.limit,"L"):e}class PC{constructor(){this.Cn=new zC}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(wr.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(wr.min())}updateCollectionGroup(e,i,r){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class zC{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new Qt(dt.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Qt(dt.comparator)).toArray()}}const vv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Lb=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(Lb,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);class Io{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Io(0)}static cr(){return new Io(-1)}}const Ev="LruGarbageCollector",BC=1048576;function bv([s,e],[i,r]){const l=qe(s,i);return l===0?qe(e,r):l}class qC{constructor(e){this.Ir=e,this.buffer=new Qt(bv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();bv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class HC{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(Ev,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){jo(i)?ue(Ev,"Ignoring IndexedDB error during garbage collection: ",i):await Lo(i)}await this.Vr(3e5)}))}}class GC{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(Rh.ce);const r=new qC(i);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(vv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,l,c,d,g,y,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(e,l)))).next((w=>(r=w,g=Date.now(),this.removeTargets(e,r,i)))).next((w=>(c=w,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(_=Date.now(),fo()<=Be.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${w} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function FC(s,e){return new GC(s,e)}class $C{constructor(){this.changes=new _a((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class QC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class KC{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&Ql(r.mutation,l,bi.empty(),_t.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,He()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=He()){const l=ua();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((c=>{let d=Pl();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=ua();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,He())))}populateOverlays(e,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,r,l){let c=Ms();const d=$l(),g=(function(){return $l()})();return i.forEach(((y,_)=>{const A=r.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof va)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Ql(A.mutation,_,A.mutation.getFieldMask(),_t.now())):d.set(_.key,bi.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>g.set(_,new QC(A,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const r=$l();let l=new At(((d,g)=>d-g)),c=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let A=r.get(y)||bi.empty();A=g.applyToLocalView(_,A),r.set(y,A);const w=(l.get(g.batchId)||He()).add(y);l=l.insert(g.batchId,w)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,A=y.value,w=_b();A.forEach((S=>{if(!c.has(S)){const K=Ab(i.get(S),r.get(S));K!==null&&w.set(S,K),c=c.add(S)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,w))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return(function(d){return ge.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):db(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-c.size):Z.resolve(ua());let g=Xl,y=c;return d.next((_=>Z.forEach(_,((A,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(e,A).next((S=>{y=y.insert(A,S)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,He()))).next((A=>({batchId:g,changes:yb(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ge(i)).next((r=>{let l=Pl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const c=i.collectionGroup;let d=Pl();return this.indexManager.getCollectionParents(e,c).next((g=>Z.forEach(g,(y=>{const _=(function(w,S){return new Uo(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,r,l).next((A=>{A.forEach(((w,S)=>{d=d.insert(w,S)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,l)))).next((d=>{c.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,mn.newInvalidDocument(A)))}));let g=Pl();return d.forEach(((y,_)=>{const A=c.get(y);A!==void 0&&Ql(A.mutation,_,bi.empty(),_t.now()),Dh(i,_)&&(g=g.insert(y,_))})),g}))}}class YC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:$i(l.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:UC(l.bundledQuery),readTime:$i(l.readTime)}})(i)),Z.resolve()}}class XC{constructor(){this.overlays=new At(ge.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const r=ua();return Z.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,c)=>{this.St(e,i,c)})),Z.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,i,r){const l=ua(),c=i.length+1,d=new ge(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>r&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let c=new At(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=c.get(_.largestBatchId);A===null&&(A=ua(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=ua(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>g.set(_,A))),!(g.size()>=l)););return Z.resolve(g)}St(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new mC(i,r));let c=this.qr.get(i);c===void 0&&(c=He(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class JC{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class ng{constructor(){this.Qr=new Qt(Zt.$r),this.Ur=new Qt(Zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Zt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Zt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new ge(new dt([])),r=new Zt(i,e),l=new Zt(i,e+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ge(new dt([])),r=new Zt(i,e),l=new Zt(i,e+1);let c=He();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Zt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Zt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ge.comparator(e.key,i.key)||qe(e.Yr,i.Yr)}static Kr(e,i){return qe(e.Yr,i.Yr)||ge.comparator(e.key,i.key)}}class ZC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Qt(Zt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new dC(c,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Zt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Fm:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Zt(i,0),l=new Zt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Qt(qe);return i.forEach((l=>{const c=new Zt(l,0),d=new Zt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{r=r.add(g.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let c=r;ge.isDocumentKey(c)||(c=c.child(""));const d=new Zt(new ge(c),0);let g=new Qt(qe);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(g=g.add(y.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){tt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new Zt(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Zt(i,0),l=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class WC{constructor(e){this.ri=e,this.docs=(function(){return new At(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(i))}getEntries(e,i){let r=Ms();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():mn.newInvalidDocument(l))})),Z.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let c=Ms();const d=i.path,g=new ge(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||RR(xR(A),r)<=0||(l.has(A.key)||Dh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,r,l){Ae(9500)}ii(e,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new eI(this)}getSize(e){return Z.resolve(this.size)}}class eI extends $C{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class tI{constructor(e){this.persistence=e,this.si=new _a((i=>Km(i)),Ym),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new ng,this.targetCount=0,this.ai=Io.ur()}forEachTarget(e,i){return this.si.forEach(((r,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Io(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,r){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class jb{constructor(e,i){this.ui={},this.overlays={},this.ci=new Rh(0),this.li=!1,this.li=!0,this.hi=new JC,this.referenceDelegate=e(this),this.Pi=new tI(this),this.indexManager=new PC,this.remoteDocumentCache=(function(l){return new WC(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new jC(i),this.Ii=new YC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new XC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new ZC(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){ue("MemoryPersistence","Starting transaction:",e);const l=new nI(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class nI extends IR{constructor(e){super(),this.currentSequenceNumber=e}}class ig{constructor(e){this.persistence=e,this.Ri=new ng,this.Vi=null}static mi(e){return new ig(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const l=ge.fromPath(r);return this.gi(e,l).next((c=>{c||i.removeEntry(l,xe.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class _h{constructor(e,i){this.persistence=e,this.pi=new _a((r=>OR(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=FC(this,i)}static mi(e,i){return new _h(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((r,l)=>this.br(e,r,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((g=>{g||(r++,c.removeEntry(d,xe.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Jc(e.data.value)),i}br(e,i,r){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class sg{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=l}static As(e,i){let r=He(),l=He();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new sg(e,i.fromCache,r,l)}}class iI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class sI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return wA()?8:NR(gn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new iI;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,r,l){return r.documentReadCount<this.fs?(fo()<=Be.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",mo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(fo()<=Be.DEBUG&&ue("QueryEngine","Query:",mo(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(fo()<=Be.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",mo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gi(i))):Z.resolve())}ys(e,i){if(uv(i))return Z.resolve(null);let r=Gi(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=gh(i,null,"F"),r=Gi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=He(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(e,gh(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,r,l){return uv(i)||l.isEqual(xe.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?Z.resolve(null):(fo()<=Be.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),mo(i)),this.vs(e,d,i,wR(l,Xl)).next((g=>g)))}))}Ds(e,i){let r=new Qt(gb(e));return i.forEach(((l,c)=>{Dh(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,r){return fo()<=Be.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",mo(i)),this.ps.getDocumentsMatchingQuery(e,i,wr.min(),r)}vs(e,i,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const rg="LocalStore",rI=3e8;class aI{constructor(e,i,r,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new At(qe),this.xs=new _a((c=>Km(c)),Ym),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function oI(s,e,i,r){return new aI(s,e,i,r)}async function Ub(s,e){const i=Ie(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let y=He();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of c){g.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(r,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function lI(s,e){const i=Ie(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,A){const w=_.batch,S=w.keys();let K=Z.resolve();return S.forEach((W=>{K=K.next((()=>A.getEntry(y,W))).next((ie=>{const te=_.docVersions.get(W);tt(te!==null,48541),ie.version.compareTo(te)<0&&(w.applyToRemoteDocument(ie,_),ie.isValidDocument()&&(ie.setReadTime(_.commitVersion),A.addEntry(ie)))}))})),K.next((()=>g.mutationQueue.removeMutationBatch(y,w)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let y=He();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function Pb(s){const e=Ie(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function uI(s,e){const i=Ie(s),r=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];e.targetChanges.forEach(((A,w)=>{const S=l.get(w);if(!S)return;g.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,w))));let K=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?K=K.withResumeToken(ln.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):A.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(A.resumeToken,r)),l=l.insert(w,K),(function(ie,te,pe){return ie.resumeToken.approximateByteSize()===0||te.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=rI?!0:pe.addedDocuments.size+pe.modifiedDocuments.size+pe.removedDocuments.size>0})(S,K,A)&&g.push(i.Pi.updateTargetData(c,K))}));let y=Ms(),_=He();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),g.push(cI(c,d,e.documentUpdates).next((A=>{y=A.ks,_=A.qs}))),!r.isEqual(xe.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(A)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function cI(s,e,i){let r=He(),l=He();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=Ms();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(xe.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):ue(rg,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function hI(s,e){const i=Ie(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Fm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function fI(s,e){const i=Ie(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,e).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new vr(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function Am(s,e,i){const r=Ie(s),l=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!jo(d))throw d;ue(rg,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function Tv(s,e,i){const r=Ie(s);let l=xe.min(),c=He();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const w=Ie(y),S=w.xs.get(A);return S!==void 0?Z.resolve(w.Ms.get(S)):w.Pi.getTargetData(_,A)})(r,d,Gi(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?l:xe.min(),i?c:He()))).next((g=>(dI(r,JR(e),g),{documents:g,Qs:c})))))}function dI(s,e,i){let r=s.Os.get(e)||xe.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class Sv{constructor(){this.activeTargetIds=iC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mI{constructor(){this.Mo=new Sv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Sv,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gI{Oo(e){}shutdown(){}}const Av="ConnectivityMonitor";class wv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(Av,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(Av,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Gc=null;function wm(){return Gc===null?Gc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gc++,"0x"+Gc.toString(16)}const Wd="RestConnection",pI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===fh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,i,r,l,c){const d=wm(),g=this.zo(e,i.toUriEncodedString());ue(Wd,`Sending RPC '${e}' ${d}:`,g,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(g),A=Do(_);return this.Jo(e,g,y,r,A).then((w=>(ue(Wd,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw wo(Wd,`RPC '${e}' ${d} failed with error: `,w,"url: ",g,"request:",r),w}))}Ho(e,i,r,l,c,d){return this.Go(e,i,r,l,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ko})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const r=pI[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class _I{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const fn="WebChannelConnection";class vI extends yI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,l,c){const d=wm();return new Promise(((g,y)=>{const _=new qE;_.setWithCredentials(!0),_.listenOnce(HE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Xc.NO_ERROR:const w=_.getResponseJson();ue(fn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),g(w);break;case Xc.TIMEOUT:ue(fn,`RPC '${e}' ${d} timed out`),y(new le(J.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:const S=_.getStatus();if(ue(fn,`RPC '${e}' ${d} failed with status:`,S,"response text:",_.getResponseText()),S>0){let K=_.getResponseJson();Array.isArray(K)&&(K=K[0]);const W=K?.error;if(W&&W.status&&W.message){const ie=(function(pe){const ve=pe.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ve)>=0?ve:J.UNKNOWN})(W.status);y(new le(ie,W.message))}else y(new le(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new le(J.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ue(fn,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(l);ue(fn,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",A,r,15)}))}T_(e,i,r){const l=wm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=$E(),g=FE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const A=c.join("");ue(fn,`Creating RPC '${e}' stream ${l}: ${A}`,y);const w=d.createWebChannel(A,y);this.I_(w);let S=!1,K=!1;const W=new _I({Yo:te=>{K?ue(fn,`Not sending because RPC '${e}' stream ${l} is closed:`,te):(S||(ue(fn,`Opening RPC '${e}' stream ${l} transport.`),w.open(),S=!0),ue(fn,`RPC '${e}' stream ${l} sending:`,te),w.send(te))},Zo:()=>w.close()}),ie=(te,pe,ve)=>{te.listen(pe,(Te=>{try{ve(Te)}catch(Le){setTimeout((()=>{throw Le}),0)}}))};return ie(w,Ul.EventType.OPEN,(()=>{K||(ue(fn,`RPC '${e}' stream ${l} transport opened.`),W.o_())})),ie(w,Ul.EventType.CLOSE,(()=>{K||(K=!0,ue(fn,`RPC '${e}' stream ${l} transport closed`),W.a_(),this.E_(w))})),ie(w,Ul.EventType.ERROR,(te=>{K||(K=!0,wo(fn,`RPC '${e}' stream ${l} transport errored. Name:`,te.name,"Message:",te.message),W.a_(new le(J.UNAVAILABLE,"The operation could not be completed")))})),ie(w,Ul.EventType.MESSAGE,(te=>{if(!K){const pe=te.data[0];tt(!!pe,16349);const ve=pe,Te=ve?.error||ve[0]?.error;if(Te){ue(fn,`RPC '${e}' stream ${l} received error:`,Te);const Le=Te.status;let Xe=(function(R){const I=Bt[R];if(I!==void 0)return xb(I)})(Le),ke=Te.message;Xe===void 0&&(Xe=J.INTERNAL,ke="Unknown error status: "+Le+" with message "+Te.message),K=!0,W.a_(new le(Xe,ke)),w.close()}else ue(fn,`RPC '${e}' stream ${l} received:`,pe),W.u_(pe)}})),ie(g,GE.STAT_EVENT,(te=>{te.stat===dm.PROXY?ue(fn,`RPC '${e}' stream ${l} detected buffering proxy`):te.stat===dm.NOPROXY&&ue(fn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function em(){return typeof document<"u"?document:null}function kh(s){return new SC(s,!0)}class zb{constructor(e,i,r=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&ue("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const xv="PersistentStream";class Bb{constructor(e,i,r,l,c,d,g,y){this.Mi=e,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zb(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Os(i.toString()),Os("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new le(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(xv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ue(xv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class EI extends Bb{constructor(e,i,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=xC(this.serializer,e),r=(function(c){if(!("targetChange"in c))return xe.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?xe.min():d.readTime?$i(d.readTime):xe.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Sm(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=_m(y)?{documents:IC(c,y)}:{query:NC(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Ib(c,d.resumeToken);const _=Em(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(xe.min())>0){g.readTime=yh(c,d.snapshotVersion.toTimestamp());const _=Em(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const r=OC(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Sm(this.serializer),i.removeTarget=e,this.q_(i)}}class bI extends Bb{constructor(e,i,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=CC(e.writeResults,e.commitTime),r=$i(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Sm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>RC(this.serializer,r)))};this.q_(i)}}class TI{}class SI extends TI{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,bm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le(J.UNKNOWN,c.toString())}))}Ho(e,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,bm(i,r),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new le(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class AI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Os(i),this.aa=!1):ue("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const pa="RemoteStore";class wI{constructor(e,i,r,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Ea(this)&&(ue(pa,"Restarting streams for network reachability change."),await(async function(y){const _=Ie(y);_.Ea.add(4),await du(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Lh(_)})(this))}))})),this.Ra=new AI(r,l)}}async function Lh(s){if(Ea(s))for(const e of s.da)await e(!0)}async function du(s){for(const e of s.da)await e(!1)}function qb(s,e){const i=Ie(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),ug(i)?lg(i):Po(i).O_()&&og(i,e))}function ag(s,e){const i=Ie(s),r=Po(i);i.Ia.delete(e),r.O_()&&Hb(i,e),i.Ia.size===0&&(r.O_()?r.L_():Ea(i)&&i.Ra.set("Unknown"))}function og(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Po(s).Y_(e)}function Hb(s,e){s.Va.Ue(e),Po(s).Z_(e)}function lg(s){s.Va=new vC({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Po(s).start(),s.Ra.ua()}function ug(s){return Ea(s)&&!Po(s).x_()&&s.Ia.size>0}function Ea(s){return Ie(s).Ea.size===0}function Gb(s){s.Va=void 0}async function xI(s){s.Ra.set("Online")}async function RI(s){s.Ia.forEach(((e,i)=>{og(s,e)}))}async function CI(s,e){Gb(s),ug(s)?(s.Ra.ha(e),lg(s)):s.Ra.set("Unknown")}async function II(s,e,i){if(s.Ra.set("Online"),e instanceof Cb&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,e)}catch(r){ue(pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vh(s,r)}else if(e instanceof eh?s.Va.Ze(e):e instanceof Rb?s.Va.st(e):s.Va.tt(e),!i.isEqual(xe.min()))try{const r=await Pb(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken(ln.EMPTY_BYTE_STRING,A.snapshotVersion)),Hb(c,y);const w=new vr(A.target,y,_,A.sequenceNumber);og(c,w)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){ue(pa,"Failed to raise snapshot:",r),await vh(s,r)}}async function vh(s,e,i){if(!jo(e))throw e;s.Ea.add(1),await du(s),s.Ra.set("Offline"),i||(i=()=>Pb(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ue(pa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Lh(s)}))}function Fb(s,e){return e().catch((i=>vh(s,i,e)))}async function jh(s){const e=Ie(s),i=Ir(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Fm;for(;NI(e);)try{const l=await hI(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,DI(e,l)}catch(l){await vh(e,l)}$b(e)&&Qb(e)}function NI(s){return Ea(s)&&s.Ta.length<10}function DI(s,e){s.Ta.push(e);const i=Ir(s);i.O_()&&i.X_&&i.ea(e.mutations)}function $b(s){return Ea(s)&&!Ir(s).x_()&&s.Ta.length>0}function Qb(s){Ir(s).start()}async function OI(s){Ir(s).ra()}async function MI(s){const e=Ir(s);for(const i of s.Ta)e.ea(i.mutations)}async function VI(s,e,i){const r=s.Ta.shift(),l=Wm.from(r,e,i);await Fb(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await jh(s)}async function kI(s,e){e&&Ir(s).X_&&await(async function(r,l){if((function(d){return pC(d)&&d!==J.ABORTED})(l.code)){const c=r.Ta.shift();Ir(r).B_(),await Fb(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await jh(r)}})(s,e),$b(s)&&Qb(s)}async function Rv(s,e){const i=Ie(s);i.asyncQueue.verifyOperationInProgress(),ue(pa,"RemoteStore received new credentials");const r=Ea(i);i.Ea.add(3),await du(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Lh(i)}async function LI(s,e){const i=Ie(s);e?(i.Ea.delete(2),await Lh(i)):e||(i.Ea.add(2),await du(i),i.Ra.set("Unknown"))}function Po(s){return s.ma||(s.ma=(function(i,r,l){const c=Ie(i);return c.sa(),new EI(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:xI.bind(null,s),t_:RI.bind(null,s),r_:CI.bind(null,s),H_:II.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),ug(s)?lg(s):s.Ra.set("Unknown")):(await s.ma.stop(),Gb(s))}))),s.ma}function Ir(s){return s.fa||(s.fa=(function(i,r,l){const c=Ie(i);return c.sa(),new bI(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:OI.bind(null,s),r_:kI.bind(null,s),ta:MI.bind(null,s),na:VI.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await jh(s)):(await s.fa.stop(),s.Ta.length>0&&(ue(pa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class cg{constructor(e,i,r,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,c){const d=Date.now()+r,g=new cg(e,i,d,l,c);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hg(s,e){if(Os("AsyncQueue",`${e}: ${s}`),jo(s))return new le(J.UNAVAILABLE,`${e}: ${s}`);throw s}class bo{static emptySet(e){return new bo(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ge.comparator(i.key,r.key):(i,r)=>ge.comparator(i.key,r.key),this.keyedMap=Pl(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new bo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class Cv{constructor(){this.ga=new At(ge.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class No{constructor(e,i,r,l,c,d,g,y,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new No(e,i,bo.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class jI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class UI{constructor(){this.queries=Iv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Ie(i),c=l.queries;l.queries=Iv(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(r)}))})(this,new le(J.ABORTED,"Firestore shutting down"))}}function Iv(){return new _a((s=>mb(s)),Nh)}async function PI(s,e){const i=Ie(s);let r=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(r=2):(c=new jI,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=hg(d,`Initialization of query '${mo(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&fg(i)}async function zI(s,e){const i=Ie(s),r=e.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function BI(s,e){const i=Ie(s);let r=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&fg(i)}function qI(s,e,i){const r=Ie(s),l=r.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(e)}function fg(s){s.Ca.forEach((e=>{e.next()}))}var xm,Nv;(Nv=xm||(xm={})).Ma="default",Nv.Cache="cache";class HI{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new No(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xm.Cache}}class Kb{constructor(e){this.key=e}}class Yb{constructor(e){this.key=e}}class GI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=gb(e),this.tu=new bo(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new Cv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((A,w)=>{const S=l.get(A),K=Dh(this.query,w)?w:null,W=!!S&&this.mutatedKeys.has(S.key),ie=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let te=!1;S&&K?S.data.isEqual(K.data)?W!==ie&&(r.track({type:3,doc:K}),te=!0):this.su(S,K)||(r.track({type:2,doc:K}),te=!0,(y&&this.eu(K,y)>0||_&&this.eu(K,_)<0)&&(g=!0)):!S&&K?(r.track({type:0,doc:K}),te=!0):S&&!K&&(r.track({type:1,doc:S}),te=!0,(y||_)&&(g=!0)),te&&(K?(d=d.add(K),c=ie?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,w)=>(function(K,W){const ie=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:te})}};return ie(K)-ie(W)})(A.type,w.type)||this.eu(A.doc,w.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new No(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Cv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new Yb(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new Kb(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=He();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return No.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dg="SyncEngine";class FI{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class $I{constructor(e){this.key=e,this.hu=!1}}class QI{constructor(e,i,r,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new _a((g=>mb(g)),Nh),this.Iu=new Map,this.Eu=new Set,this.du=new At(ge.comparator),this.Au=new Map,this.Ru=new ng,this.Vu={},this.mu=new Map,this.fu=Io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function KI(s,e,i=!0){const r=tT(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await Xb(r,e,i,!0),l}async function YI(s,e){const i=tT(s);await Xb(i,e,!0,!1)}async function Xb(s,e,i,r){const l=await fI(s.localStore,Gi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await XI(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&qb(s.remoteStore,l),g}async function XI(s,e,i,r,l){s.pu=(w,S,K)=>(async function(ie,te,pe,ve){let Te=te.view.ru(pe);Te.Cs&&(Te=await Tv(ie.localStore,te.query,!1).then((({documents:N})=>te.view.ru(N,Te))));const Le=ve&&ve.targetChanges.get(te.targetId),Xe=ve&&ve.targetMismatches.get(te.targetId)!=null,ke=te.view.applyChanges(Te,ie.isPrimaryClient,Le,Xe);return Ov(ie,te.targetId,ke.au),ke.snapshot})(s,w,S,K);const c=await Tv(s.localStore,e,!0),d=new GI(e,c.Qs),g=d.ru(c.documents),y=fu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),_=d.applyChanges(g,s.isPrimaryClient,y);Ov(s,i,_.au);const A=new FI(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function JI(s,e,i){const r=Ie(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Nh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Am(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&ag(r.remoteStore,l.targetId),Rm(r,l.targetId)})).catch(Lo)):(Rm(r,l.targetId),await Am(r.localStore,l.targetId,!0))}async function ZI(s,e){const i=Ie(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),ag(i.remoteStore,r.targetId))}async function WI(s,e,i){const r=aN(s);try{const l=await(function(d,g){const y=Ie(d),_=_t.now(),A=g.reduce(((K,W)=>K.add(W.key)),He());let w,S;return y.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let W=Ms(),ie=He();return y.Ns.getEntries(K,A).next((te=>{W=te,W.forEach(((pe,ve)=>{ve.isValidDocument()||(ie=ie.add(pe))}))})).next((()=>y.localDocuments.getOverlayedDocuments(K,W))).next((te=>{w=te;const pe=[];for(const ve of g){const Te=hC(ve,w.get(ve.key).overlayedDocument);Te!=null&&pe.push(new va(ve.key,Te,ab(Te.value.mapValue),Fi.exists(!0)))}return y.mutationQueue.addMutationBatch(K,_,pe,g)})).next((te=>{S=te;const pe=te.applyToLocalDocumentSet(w,ie);return y.documentOverlayCache.saveOverlays(K,te.batchId,pe)}))})).then((()=>({batchId:S.batchId,changes:yb(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new At(qe)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,i),await mu(r,l.changes),await jh(r.remoteStore)}catch(l){const c=hg(l,"Failed to persist write");i.reject(c)}}async function Jb(s,e){const i=Ie(s);try{const r=await uI(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(tt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?tt(d.hu,14607):l.removedDocuments.size>0&&(tt(d.hu,42227),d.hu=!1))})),await mu(i,r,e)}catch(r){await Lo(r)}}function Dv(s,e,i){const r=Ie(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=Ie(d);y.onlineState=g;let _=!1;y.queries.forEach(((A,w)=>{for(const S of w.Sa)S.va(g)&&(_=!0)})),_&&fg(y)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function eN(s,e,i){const r=Ie(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new At(ge.comparator);d=d.insert(c,mn.newNoDocument(c,xe.min()));const g=He().add(c),y=new Vh(xe.min(),new Map,new At(qe),d,g);await Jb(r,y),r.du=r.du.remove(c),r.Au.delete(e),mg(r)}else await Am(r.localStore,e,!1).then((()=>Rm(r,e,i))).catch(Lo)}async function tN(s,e){const i=Ie(s),r=e.batch.batchId;try{const l=await lI(i.localStore,e);Wb(i,r,null),Zb(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await mu(i,l)}catch(l){await Lo(l)}}async function nN(s,e,i){const r=Ie(s);try{const l=await(function(d,g){const y=Ie(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,g).next((w=>(tt(w!==null,37113),A=w.keys(),y.mutationQueue.removeMutationBatch(_,w)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(r.localStore,e);Wb(r,e,i),Zb(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await mu(r,l)}catch(l){await Lo(l)}}function Zb(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function Wb(s,e,i){const r=Ie(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function Rm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||eT(s,r)}))}function eT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(ag(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),mg(s))}function Ov(s,e,i){for(const r of i)r instanceof Kb?(s.Ru.addReference(r.key,e),iN(s,r)):r instanceof Yb?(ue(dg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||eT(s,r.key)):Ae(19791,{wu:r})}function iN(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ue(dg,"New document in limbo: "+i),s.Eu.add(r),mg(s))}function mg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ge(dt.fromString(e)),r=s.fu.next();s.Au.set(r,new $I(i)),s.du=s.du.insert(i,r),qb(s.remoteStore,new vr(Gi(Xm(i.path)),r,"TargetPurposeLimboResolution",Rh.ce))}}async function mu(s,e,i){const r=Ie(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,y)=>{d.push(r.pu(y,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){l.push(_);const A=sg.As(y.targetId,_);c.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(y,_){const A=Ie(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Z.forEach(_,(S=>Z.forEach(S.Es,(K=>A.persistence.referenceDelegate.addReference(w,S.targetId,K))).next((()=>Z.forEach(S.ds,(K=>A.persistence.referenceDelegate.removeReference(w,S.targetId,K)))))))))}catch(w){if(!jo(w))throw w;ue(rg,"Failed to update sequence numbers: "+w)}for(const w of _){const S=w.targetId;if(!w.fromCache){const K=A.Ms.get(S),W=K.snapshotVersion,ie=K.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(S,ie)}}})(r.localStore,c))}async function sN(s,e){const i=Ie(s);if(!i.currentUser.isEqual(e)){ue(dg,"User change. New user:",e.toKey());const r=await Ub(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new le(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mu(i,r.Ls)}}function rN(s,e){const i=Ie(s),r=i.Au.get(e);if(r&&r.hu)return He().add(r.key);{let l=He();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function tT(s){const e=Ie(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eN.bind(null,e),e.Pu.H_=BI.bind(null,e.eventManager),e.Pu.yu=qI.bind(null,e.eventManager),e}function aN(s){const e=Ie(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nN.bind(null,e),e}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return oI(this.persistence,new sI,e.initialUser,this.serializer)}Cu(e){return new jb(ig.mi,this.serializer)}Du(e){return new mI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class oN extends Eh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){tt(this.persistence.referenceDelegate instanceof _h,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new HC(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new jb((r=>_h.mi(r,i)),this.serializer)}}class Cm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Dv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=sN.bind(null,this.syncEngine),await LI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new UI})()}createDatastore(e){const i=kh(e.databaseInfo.databaseId),r=(function(c){return new vI(c)})(e.databaseInfo);return(function(c,d,g,y){return new SI(c,d,g,y)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,c,d,g){return new wI(r,l,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>Dv(this.syncEngine,i,0)),(function(){return wv.v()?new wv:new gI})())}createSyncEngine(e,i){return(function(l,c,d,g,y,_,A){const w=new QI(l,c,d,g,y,_);return A&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ie(i);ue(pa,"RemoteStore shutting down."),r.Ea.add(5),await du(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cm.provider={build:()=>new Cm};class lN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Os("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Nr="FirestoreClient";class uN{constructor(e,i,r,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=dn.UNAUTHENTICATED,this.clientId=Gm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ue(Nr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ue(Nr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=hg(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function tm(s,e){s.asyncQueue.verifyOperationInProgress(),ue(Nr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await Ub(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Mv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await cN(s);ue(Nr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>Rv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>Rv(e.remoteStore,l))),s._onlineComponents=e}async function cN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ue(Nr,"Using user provided OfflineComponentProvider");try{await tm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;wo("Error using user provided cache. Falling back to memory cache: "+i),await tm(s,new Eh)}}else ue(Nr,"Using default OfflineComponentProvider"),await tm(s,new oN(void 0));return s._offlineComponents}async function nT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ue(Nr,"Using user provided OnlineComponentProvider"),await Mv(s,s._uninitializedComponentsProvider._online)):(ue(Nr,"Using default OnlineComponentProvider"),await Mv(s,new Cm))),s._onlineComponents}function hN(s){return nT(s).then((e=>e.syncEngine))}async function Vv(s){const e=await nT(s),i=e.eventManager;return i.onListen=KI.bind(null,e.syncEngine),i.onUnlisten=JI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=YI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=ZI.bind(null,e.syncEngine),i}function iT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const kv=new Map;const sT="firestore.googleapis.com",Lv=!0;class jv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sT,this.ssl=Lv}else this.host=e.host,this.ssl=e.ssl??Lv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Lb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BC)throw new le(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uh{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new mR;switch(r.type){case"firstParty":return new _R(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=kv.get(i);r&&(ue("ComponentProvider","Removing Datastore"),kv.delete(i),r.terminate())})(this),Promise.resolve()}}function fN(s,e,i,r={}){s=Eo(s,Uh);const l=Do(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;l&&(Zv(`https://${g}`),Wv("Firestore",!0)),c.host!==sT&&c.host!==g&&wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:l,emulatorOptions:r};if(!fa(y,d)&&(s._setSettings(y),r.mockUserToken)){let _,A;if(typeof r.mockUserToken=="string")_=r.mockUserToken,A=dn.MOCK_USER;else{_=pA(r.mockUserToken,s._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new le(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new dn(w)}s._authCredentials=new gR(new KE(_,A))}}class Dr{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Dr(this.firestore,e,this._query)}}class $t{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $t(this.firestore,e,this._key)}toJSON(){return{type:$t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(cu(i,$t._jsonSchema))return new $t(e,r||null,new ge(dt.fromString(i.referencePath)))}}$t._jsonSchemaVersion="firestore/documentReference/1.0",$t._jsonSchema={type:Ht("string",$t._jsonSchemaVersion),referencePath:Ht("string")};class Ar extends Dr{constructor(e,i,r){super(e,i,Xm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new ge(e))}withConverter(e){return new Ar(this.firestore,e,this._path)}}function Uv(s,e,...i){if(s=Wt(s),YE("collection","path",e),s instanceof Uh){const r=dt.fromString(e,...i);return Y_(r),new Ar(s,null,r)}{if(!(s instanceof $t||s instanceof Ar))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(dt.fromString(e,...i));return Y_(r),new Ar(s.firestore,null,r)}}function rT(s,e,...i){if(s=Wt(s),arguments.length===1&&(e=Gm.newId()),YE("doc","path",e),s instanceof Uh){const r=dt.fromString(e,...i);return K_(r),new $t(s,null,new ge(r))}{if(!(s instanceof $t||s instanceof Ar))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(dt.fromString(e,...i));return K_(r),new $t(s.firestore,s instanceof Ar?s.converter:null,new ge(r))}}const Pv="AsyncQueue";class zv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zb(this,"async_queue_retry"),this._c=()=>{const r=em();r&&ue(Pv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=em();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=em();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ca;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!jo(e))throw e;ue(Pv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Os("INTERNAL UNHANDLED ERROR: ",Bv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=cg.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Ae(47125,{Pc:Bv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Bv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function qv(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class su extends Uh{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new zv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zv(e),this._firestoreClient=void 0,await e}}}function dN(s,e){const i=typeof s=="object"?s:iE(),r=typeof s=="string"?s:fh,l=Om(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=mA("firestore");c&&fN(l,...c)}return l}function aT(s){if(s._terminated)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||mN(s),s._firestoreClient}function mN(s){const e=s._freezeSettings(),i=(function(l,c,d,g){return new kR(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,iT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new uN(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class oi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oi(ln.fromBase64String(e))}catch(i){throw new le(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new oi(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:oi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cu(e,oi._jsonSchema))return oi.fromBase64String(e.bytes)}}oi._jsonSchemaVersion="firestore/bytes/1.0",oi._jsonSchema={type:Ht("string",oi._jsonSchemaVersion),bytes:Ht("string")};class gg{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new le(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pg{constructor(e){this._methodName=e}}class Qi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new le(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new le(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(e){if(cu(e,Qi._jsonSchema))return new Qi(e.latitude,e.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:Ht("string",Qi._jsonSchemaVersion),latitude:Ht("number"),longitude:Ht("number")};class Ki{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cu(e,Ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ki(e.vectorValues);throw new le(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ki._jsonSchemaVersion="firestore/vectorValue/1.0",Ki._jsonSchema={type:Ht("string",Ki._jsonSchemaVersion),vectorValues:Ht("object")};const gN=/^__.*__$/;class pN{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new va(e,this.data,this.fieldMask,i,this.fieldTransforms):new hu(e,this.data,i,this.fieldTransforms)}}function oT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:s})}}class yg{constructor(e,i,r,l,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new yg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(oT(this.Ac)&&gN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class yN{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||kh(e)}Cc(e,i,r,l=!1){return new yg({Ac:e,methodName:i,Dc:r,path:on.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lT(s){const e=s._freezeSettings(),i=kh(s._databaseId);return new yN(s._databaseId,!!e.ignoreUndefinedProperties,i)}function _N(s,e,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,l);hT("Data must be an object, but it was:",d,r);const g=uT(r,d);let y,_;if(c.merge)y=new bi(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const w of c.mergeFields){const S=EN(e,w,i);if(!d.contains(S))throw new le(J.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);TN(A,S)||A.push(S)}y=new bi(A),_=d.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,_=d.fieldTransforms;return new pN(new ai(g),y,_)}class _g extends pg{_toFieldTransform(e){return new oC(e.path,new tu)}isEqual(e){return e instanceof _g}}function vN(s,e,i,r=!1){return vg(i,s.Cc(r?4:3,e))}function vg(s,e){if(cT(s=Wt(s)))return hT("Unsupported field value:",e,s),uT(s,e);if(s instanceof pg)return(function(r,l){if(!oT(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const g of r){let y=vg(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=Wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sC(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=_t.fromDate(r);return{timestampValue:yh(l.serializer,c)}}if(r instanceof _t){const c=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yh(l.serializer,c)}}if(r instanceof Qi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oi)return{bytesValue:Ib(l.serializer,r._byteString)};if(r instanceof $t){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:tg(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Ki)return(function(d,g){return{mapValue:{fields:{[sb]:{stringValue:rb},[dh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Jm(g.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${xh(r)}`)})(s,e)}function uT(s,e){const i={};return ZE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ya(s,((r,l)=>{const c=vg(l,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function cT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof _t||s instanceof Qi||s instanceof oi||s instanceof $t||s instanceof pg||s instanceof Ki)}function hT(s,e,i){if(!cT(i)||!XE(i)){const r=xh(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function EN(s,e,i){if((e=Wt(e))instanceof gg)return e._internalPath;if(typeof e=="string")return fT(s,e);throw bh("Field path arguments must be of type string or ",s,!1,void 0,i)}const bN=new RegExp("[~\\*/\\[\\]]");function fT(s,e,i){if(e.search(bN)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new gg(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function bh(s,e,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new le(J.INVALID_ARGUMENT,g+s+y)}function TN(s,e){return s.some((i=>i.isEqual(e)))}class dT{constructor(e,i,r,l,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Eg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class SN extends dT{data(){return super.data()}}function Eg(s,e){return typeof e=="string"?fT(s,e):e instanceof gg?e._internalPath:e._delegate._internalPath}function AN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new le(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bg{}class Tg extends bg{}function wN(s,e,...i){let r=[];e instanceof bg&&r.push(e),r=r.concat(i),(function(c){const d=c.filter((y=>y instanceof Ag)).length,g=c.filter((y=>y instanceof Sg)).length;if(d>1||d>0&&g>0)throw new le(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Sg extends Tg{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Sg(e,i,r)}_apply(e){const i=this._parse(e);return mT(e._query,i),new Dr(e.firestore,e.converter,vm(e._query,i))}_parse(e){const i=lT(e.firestore);return(function(c,d,g,y,_,A,w){let S;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new le(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Gv(w,A);const W=[];for(const ie of w)W.push(Hv(y,c,ie));S={arrayValue:{values:W}}}else S=Hv(y,c,w)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Gv(w,A),S=vN(g,d,w,A==="in"||A==="not-in");return qt.create(_,A,S)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Ag extends bg{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Ag(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Ai.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const y of g)mT(d,y),d=vm(d,y)})(e._query,i),new Dr(e.firestore,e.converter,vm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wg extends Tg{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new wg(e,i)}_apply(e){const i=(function(l,c,d){if(l.startAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eu(c,d)})(e._query,this._field,this._direction);return new Dr(e.firestore,e.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new Uo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function xN(s,e="asc"){const i=e,r=Eg("orderBy",s);return wg._create(r,i)}class xg extends Tg{constructor(e,i,r){super(),this.type=e,this._limit=i,this._limitType=r}static _create(e,i,r){return new xg(e,i,r)}_apply(e){return new Dr(e.firestore,e.converter,gh(e._query,this._limit,this._limitType))}}function RN(s){return xg._create("limit",s,"F")}function Hv(s,e,i){if(typeof(i=Wt(i))=="string"){if(i==="")throw new le(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!db(e)&&i.indexOf("/")!==-1)throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(dt.fromString(i));if(!ge.isDocumentKey(r))throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return iv(s,new ge(r))}if(i instanceof $t)return iv(s,i._key);throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xh(i)}.`)}function Gv(s,e){if(!Array.isArray(s)||s.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mT(s,e){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class CN{convertValue(e,i="none"){switch(Cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return ya(e,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[dh].arrayValue?.values?.map((r=>Vt(r.doubleValue)));return new Ki(i)}convertGeoPoint(e){return new Qi(Vt(e.latitude),Vt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Ih(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const i=xr(e);return new _t(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=dt.fromString(e);tt(kb(r),9688,{name:e});const l=new Zl(r.get(1),r.get(3)),c=new ge(r.popFirst(5));return l.isEqual(i)||Os(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function IN(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class Bl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ha extends dT{constructor(e,i,r,l,c,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Eg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ha._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",ha._jsonSchema={type:Ht("string",ha._jsonSchemaVersion),bundleSource:Ht("string","DocumentSnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class th extends ha{data(e={}){return super.data(e)}}class To{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Bl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new th(this._firestore,this._userDataWriter,r.key,r,new Bl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new le(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new th(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Bl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new th(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Bl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:NN(g.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=To._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function NN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:s})}}To._jsonSchemaVersion="firestore/querySnapshot/1.0",To._jsonSchema={type:Ht("string",To._jsonSchemaVersion),bundleSource:Ht("string","QuerySnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class gT extends CN{constructor(e){super(),this.firestore=e}convertBytes(e){return new oi(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,i)}}function DN(s){return pT(Eo(s.firestore,su),[new Zm(s._key,Fi.none())])}function ON(s,e){const i=Eo(s.firestore,su),r=rT(s),l=IN(s.converter,e);return pT(i,[_N(lT(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,Fi.exists(!1))]).then((()=>r))}function MN(s,...e){s=Wt(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||qv(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(qv(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof $t)d=Eo(s.firestore,su),g=Xm(s._key.path),c={next:y=>{e[r]&&e[r](VN(d,s,y))},error:e[r+1],complete:e[r+2]};else{const y=Eo(s,Dr);d=Eo(y.firestore,su),g=y._query;const _=new gT(d);c={next:A=>{e[r]&&e[r](new To(d,_,y,A))},error:e[r+1],complete:e[r+2]},AN(s._query)}return(function(_,A,w,S){const K=new lN(S),W=new HI(A,K,w);return _.asyncQueue.enqueueAndForget((async()=>PI(await Vv(_),W))),()=>{K.Nu(),_.asyncQueue.enqueueAndForget((async()=>zI(await Vv(_),W)))}})(aT(d),g,l,c)}function pT(s,e){return(function(r,l){const c=new ca;return r.asyncQueue.enqueueAndForget((async()=>WI(await hN(r),l,c))),c.promise})(aT(s),e)}function VN(s,e,i){const r=i.docs.get(e._key),l=new gT(s);return new ha(s,l,e._key,r,new Bl(i.hasPendingWrites,i.fromCache),e.converter)}function kN(){return new _g("serverTimestamp")}(function(e,i=!0){(function(l){ko=l})(Oo),So(new da("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new su(new pR(r.getProvider("auth-internal")),new vR(d,r.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new le(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(_.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Tr(G_,F_,e),Tr(G_,F_,"esm2020")})();const LN={apiKey:"AIzaSyBeQemubnB8jBWLiPZob5HiDC4yubuxupI",authDomain:"learn-d8e71.firebaseapp.com",projectId:"learn-d8e71",storageBucket:"learn-d8e71.firebasestorage.app",messagingSenderId:"1098133970936",appId:"1:1098133970936:web:fed75c94fc73c36585000d",measurementId:"G-VH6H0XJKLP"},jN=typeof __firebase_config<"u"?JSON.parse(__firebase_config):LN,yT=nE(jN),Bi=fR(yT),nm=dN(yT),Fc=typeof __app_id<"u"?__app_id:"default-app-id",ho=()=>E.jsx("style",{children:`
    @import url('https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&display=swap');
    body, textarea, input, button { font-family: 'Be Vietnam Pro', sans-serif !important; }
    .diff-anim { animation: fadeIn 0.5s ease-out; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
    .custom-scrollbar::-webkit-scrollbar { width: 6px; }
    .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
    .custom-scrollbar::-webkit-scrollbar-thumb { background-color: rgba(156, 163, 175, 0.5); border-radius: 20px; }
    .score-circle { transition: stroke-dashoffset 1s ease-in-out; transform: rotate(-90deg); transform-origin: 50% 50%; }
    .tooltip-word { position: relative; z-index: 10; }
    .tooltip-word:hover { z-index: 999999; }
    .tooltip-content { z-index: 999999 !important; }
  `}),UN=["Startup cng ngh","Tr tu nhn to","Khoa hc v tr","Cng ngh Blockchain","Du lch bi","m thc ng ph","Li sng ti gin","Sc khe tinh thn","Email cng vic","K nng m phn","Ti chnh c nhn","Lnh o nhm","Review phim","Lch s th gii","Nhip nh ng ph","Bin i kh hu"],im=(s,e)=>{const i=W=>W.replace(/[']/g,"'"),r=W=>i(W).replace(/([.,!?;:()])/g," $1 ").trim().split(/\s+/),l=W=>W.toLowerCase().replace(/[.,/#!$%^&*;:{}=\-_`~()?"']/g,""),c=r(s),d=r(e),g=c.length,y=d.length,_=Array(g+1).fill().map(()=>Array(y+1).fill(0));for(let W=1;W<=g;W++)for(let ie=1;ie<=y;ie++){const te=l(c[W-1]),pe=l(d[ie-1]);c[W-1].toLowerCase()===d[ie-1].toLowerCase()||te!==""&&te===pe?_[W][ie]=_[W-1][ie-1]+1:_[W][ie]=Math.max(_[W-1][ie],_[W][ie-1])}let A=g,w=y;const S=[];for(;A>0&&w>0;){const W=l(c[A-1]),ie=l(d[w-1]);c[A-1].toLowerCase()===d[w-1].toLowerCase()||W!==""&&W===ie?(S.unshift({type:"same",value:c[A-1]}),A--,w--):_[A-1][w]>_[A][w-1]?(S.unshift({type:"remove",value:c[A-1]}),A--):(S.unshift({type:"add",value:d[w-1]}),w--)}for(;A>0;)S.unshift({type:"remove",value:c[A-1]}),A--;for(;w>0;)S.unshift({type:"add",value:d[w-1]}),w--;const K=[];for(let W=0;W<S.length;W++)S[W].type==="remove"&&S[W+1]?.type==="add"?(K.push({type:"replace",oldVal:S[W].value,newVal:S[W+1].value}),W++):K.push(S[W]);return K},Rg="AIzaSyDqDfB3lsg11GFoIarvbL_B7H1EKkm4aKo",PN=async(s,e)=>{let i="";switch(e){case"short":i="Generate a SHORT story/essay (approx 5-8 sentences). Keep it concise.";break;case"medium":i="Generate a MEDIUM length story/essay (approx 12-15 sentences).";break;case"long":i="Generate a LONG, DETAILED story/essay (more than 20 sentences). Elaborate on details.";break;default:i="Generate a MEDIUM length story/essay (approx 10-15 sentences)."}const r=`
    You are an expert English tutor for Vietnamese students.
    Task: Create a translation lesson based on the topic: "${s}".
    CRITICAL REQUIREMENT: ${i}. Split content into logical sentences.
    Output Format: STRICT JSON ONLY. No markdown.
    JSON Structure: {
      "title": "Short catchy title in Vietnamese",
      "type": "Story/Article/Email/Essay",
      "sentences": [
        {
          "id": 1,
          "vietnamese_full": "Full Vietnamese sentence",
          "segments": [{"text": "VN word", "trans": "EN meaning"}],
          "acceptableAnswers": ["Full English sentence 1", "Full English sentence 2"],
          "grammar_hint": "Explain grammar/usage in Vietnamese",
          "structure": "Formula (S+V+O)",
          "example_en": "English example",
          "example_vi": "Vietnamese example",
          "vocabulary": [{"word": "Word", "meaning": "Meaning"}]
        }
      ]
    }
  `;try{const l=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${Rg}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:r}]}],generationConfig:{responseMimeType:"application/json"}})});if(!l.ok)throw console.error("API Error:",l.status,await l.text()),new Error("API Call Failed");const c=await l.json();return JSON.parse(c.candidates[0].content.parts[0].text)}catch(l){return console.error("AI Generation Error:",l),null}},zN=async(s,e,i)=>{const r=`
        You are a strict translation judge for English learners.
        
        Vietnamese original: "${e}"
        User's English translation: "${s}"
        Correct answers: ${i.join(" OR ")}
        
        STRICT RULES:
        1. Check spelling FIRST - if there are obvious typos (like "daiy" instead of "daily"), mark as INCORRECT
        2. Only accept minor typos like: "teh""the" (adjacent keys), "recieve""receive" (common mistakes)
        3. Do NOT accept: completely wrong letters, missing letters that change meaning
        4. Check grammar - subject-verb agreement, tense, articles
        5. Check meaning accuracy - must convey the SAME meaning as Vietnamese
        
        Scoring logic:
        - If spelling errors are obvious/multiple: isCorrect = false
        - If meaning is wrong: isCorrect = false
        - If grammar is severely wrong: isCorrect = false
        - Only mark as correct if both meaning AND form are acceptable
        
        In feedback (Vietnamese):
        - List ALL errors specifically: "Li chnh t: 'daiy' phi l 'daily', 'toughts' phi l 'thoughts'"
        - Mention grammar errors if any
        - Explain meaning differences if wrong
        
        Return JSON ONLY: { "isCorrect": boolean, "feedback": "detailed Vietnamese explanation" }
    `;try{const c=await(await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${Rg}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:r}]}],generationConfig:{responseMimeType:"application/json"}})})).json();return JSON.parse(c.candidates[0].content.parts[0].text)}catch(l){return console.error("API Error:",l),{isCorrect:null,feedback:"Li kt ni API. Vui lng th li.",apiError:!0}}},BN=async(s,e)=>{let i="";switch(e){case"short":i="Generate 5-8 sentences for dictation practice.";break;case"medium":i="Generate 12-15 sentences for dictation practice.";break;case"long":i="Generate 20-25 sentences for dictation practice.";break;default:i="Generate 10-15 sentences for dictation practice."}const r=`
You are an English dictation teacher for Vietnamese students.
Topic: "${s}"
Task: Create an English dictation exercise. ${i}

Requirements:
- All sentences in ENGLISH only
- Natural, conversational English
- Varied difficulty (mix of easy/medium/hard)
- Clear, complete sentences
- Contextually connected to the topic

Output JSON ONLY:
{
  "title": "Catchy title in Vietnamese (VD: 'Nghe Chnh T: Cuc Sng Trn Sao Ha')",
  "type": "Dictation",
  "learningMode": "listen",
  "sentences": [
    {
      "id": 1,
      "english": "The full English sentence to dictate",
      "hint": "Optional Vietnamese hint about context",
      "difficulty": "easy|medium|hard"
    }
  ]
}
  `;try{const l=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${Rg}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:r}]}],generationConfig:{responseMimeType:"application/json"}})});if(!l.ok)throw console.error("API Error:",l.status,await l.text()),new Error("API Call Failed");const c=await l.json();return JSON.parse(c.candidates[0].content.parts[0].text)}catch(l){return console.error("AI Generation Error:",l),null}},sm=()=>[...UN].sort(()=>.5-Math.random()).slice(0,4);function qN(){const[s,e]=be.useState(null),[i,r]=be.useState(!0),[l,c]=be.useState("login"),[d,g]=be.useState(""),[y,_]=be.useState("medium"),[A,w]=be.useState("write"),[S,K]=be.useState(!0),[W,ie]=be.useState(()=>sm()),[te,pe]=be.useState([]),[ve,Te]=be.useState("all"),[Le,Xe]=be.useState("login"),[ke,N]=be.useState(""),[R,I]=be.useState(""),[V,D]=be.useState(""),[L,x]=be.useState(""),[ft,Tt]=be.useState(!1),[F,re]=be.useState(!1),[ee,Ge]=be.useState(null),[fe,M]=be.useState(0),[$,ae]=be.useState(""),[ne,de]=be.useState("idle"),[Re,De]=be.useState(null),[St,Fe]=be.useState(""),[xi,vn]=be.useState(null),[Wi,ui]=be.useState(!1),[Cn,es]=be.useState(!1),[un,ts]=be.useState([]),[ns,vt]=be.useState([]),[It,In]=be.useState(!1),[Kt,ks]=be.useState(null),[kt,is]=be.useState({mistakes:0,hints:0,fullAnswers:0}),[Ri,ss]=be.useState({visible:!1,x:0,y:0,itemId:null}),[Ci,ba]=be.useState(!1),[Hn,ci]=be.useState(!1),[Or,Nn]=be.useState(1),rt=be.useRef({mistakes:0,hints:0,fullAnswers:0}),Gt=be.useRef({hintUsed:!1,fullUsed:!1}),mt=be.useRef(null),Mr=be.useRef(null),Ls=be.useRef(null);be.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token&&await $x(Bi,__initial_auth_token),r(!1)})();const oe=t2(Bi,ye=>{e(ye),ye&&ye.email&&ye.emailVerified||ye&&ye.isAnonymous?c("home"):ye&&ye.email&&!ye.emailVerified||c("login")});return()=>oe()},[]),be.useEffect(()=>{if(s){console.log(" Setting up history listener for user:",s.uid);const q=wN(Uv(nm,"artifacts",Fc,"users",s.uid,"history"),xN("timestamp","desc"),RN(20)),oe=MN(q,ye=>{const _e=ye.docs.map(we=>({id:we.id,...we.data()}));console.log(" History updated:",_e.length,"items"),pe(_e)},ye=>{console.error(" Error fetching history:",ye)});return()=>oe()}else console.log(" No user, clearing history data"),pe([])},[s]),be.useEffect(()=>{l==="learning"&&(Mr.current?.scrollIntoView({behavior:"smooth"}),mt.current&&ne!=="correct"&&ne!=="checking"&&mt.current.focus())},[ne,Wi,Cn,fe,l]);const Ta=async q=>{q.preventDefault(),x("");try{const oe=await Yx(Bi,ke,R);if(oe.user&&!oe.user.emailVerified){await Yd(Bi),x("Email cha c xc thc. Vui lng kim tra hp th.");return}}catch(oe){oe.code==="auth/invalid-credential"||oe.code==="auth/user-not-found"||oe.code==="auth/wrong-password"?x("Email hoc mt khu khng chnh xc."):x("ng nhp tht bi. Vui lng th li.")}},Gn=async q=>{if(q.preventDefault(),x(""),re(!1),!V){x("Vui lng nhp tn hin th");return}try{const oe=await Kx(Bi,ke,R);await Zx(oe.user,{displayName:V}),await Xx(oe.user),re(!0),await Yd(Bi),Xe("login")}catch(oe){console.error(oe),oe.code==="auth/email-already-in-use"?x("Email ny  c s dng. Vui lng ng nhp."):oe.code==="auth/weak-password"?x("Mt khu qu yu."):x("ng k tht bi. Vui lng th li.")}},rs=async q=>{if(q.preventDefault(),x(""),Tt(!1),!ke){x("Vui lng nhp email.");return}try{await Qx(Bi,ke),Tt(!0),x("")}catch{x("Li gi email. Vui lng th li sau.")}},wt=async()=>{x("");try{const q=new Rs;await b2(Bi,q)}catch(q){x("ng nhp Google tht bi."),console.error(q)}},Fn=async()=>{x("");try{await Bx(Bi),c("home")}catch{x("Li ng nhp khch.")}},$n=async()=>{await Yd(Bi),c("login"),N(""),I(""),D(""),Xe("login"),re(!1)},Dn=async q=>{if(q.preventDefault(),!d.trim())return;c("generating"),rt.current={mistakes:0,hints:0,fullAnswers:0},Gt.current={hintUsed:!1,fullUsed:!1};const oe=A==="listen"?await BN(d,y):await PN(d,y);oe?.sentences?.length>0?(Ge(oe),M(0),ts(new Array(oe.sentences.length).fill(!1)),vt(Array.from({length:oe.sentences.length},()=>[])),ae(""),de("idle"),De(null),Fe(""),vn(null),ui(!1),es(!1),In(!1),c("learning")):c("error")},Sa=(q=null)=>{const oe=ee?.sentences?.length||1,ye=un.filter(Boolean).length,_e=q||rt.current,we=ye/oe*100,ct=_e.mistakes*3+_e.fullAnswers*10;return Math.max(0,Math.round(we-ct))},Aa=async()=>{if(console.log(" handleSaveResult called"),console.log("  - User:",s?`${s.uid} (${s.email||"anonymous"})`:"NULL"),console.log("  - Course:",ee?ee.title:"NULL"),!s||!ee){console.warn(" Cannot save history - User:",!!s,"Course:",!!ee);return}ba(!0);const q=Sa(),oe=un.filter(Boolean).length,ye=un.length-oe,_e={topic:ee.title,score:q,totalSentences:ee.sentences.length,completedCorrectly:oe,failedSentences:ye,timestamp:kN(),mistakes:rt.current.mistakes,hints:rt.current.hints,fullAnswers:rt.current.fullAnswers,level:y,courseData:ee,completedStatus:un,sentenceErrors:ns.reduce((we,ct,Ne)=>(ct&&ct.length>0&&(we[Ne]=ct),we),{})};console.log(" Saving history doc:",{topic:_e.topic,score:_e.score,totalSentences:_e.totalSentences,path:`artifacts/${Fc}/users/${s.uid}/history`});try{const we=await ON(Uv(nm,"artifacts",Fc,"users",s.uid,"history"),_e);console.log(" History saved successfully with ID:",we.id),console.log("   Path:",we.path)}catch(we){console.error(" Error saving history:",we),console.error("   Error code:",we.code),console.error("   Error message:",we.message)}finally{ba(!1)}},On=async q=>{if(q.preventDefault(),!$.trim())return;const oe=ee.sentences[fe];if(ee.learningMode==="listen"){const $e=oe.english;if($.trim().toLowerCase()===$e.toLowerCase()){de("correct");const Yt=[...un];Yt[fe]=!0,ts(Yt),Fe("Chnh xc!");const xt=im($,$e);De(xt),vn($e)}else{de("incorrect"),rt.current.mistakes+=1;const Yt=im($,$e);De(Yt),vn(null),Fe("Cha chnh xc. Kim tra li!");const xt=[...ns];xt[fe]||(xt[fe]=[]),xt[fe].push({userAnswer:$,correctAnswer:$e,feedback:"Sai chnh t",timestamp:new Date().toISOString()}),vt(xt)}return}de("checking");const ye=oe.segments.map($e=>$e.text).join(""),_e=await zN($,ye,oe.acceptableAnswers);let we=null,ct=1/0,Ne=null;if(oe.acceptableAnswers.forEach($e=>{const cn=im($,$e),Yt=cn.reduce((xt,Kn)=>{if(Kn.type==="same")return xt;const ls=Lr=>Lr.replace(/[.,/#!$%^&*;:{}=\-_`~()?"']/g,"");return Kn.type==="replace"&&ls(Kn.oldVal)===""&&ls(Kn.newVal)===""||Kn.type!=="replace"&&ls(Kn.value)===""?xt:xt+1},0);Yt<ct&&(ct=Yt,we=$e,Ne=cn)}),_e.apiError){de("idle"),Fe(_e.feedback||"Li kt ni API. Vui lng th li.");return}if(_e.isCorrect){de("correct");const $e=[...un];$e[fe]=!0,ts($e),De(Ne),vn(we),_e.feedback&&_e.feedback.trim()?Fe(_e.feedback):Fe(ct===0?"Chnh xc tuyt i!":"Chnh xc!")}else{de("incorrect"),De(Ne),vn(null),Fe(typeof _e.feedback=="string"?_e.feedback:"Cu tr li cha chnh xc."),rt.current.mistakes+=1;const $e=[...ns];$e[fe]||($e[fe]=[]),$e[fe].push({userAnswer:$,correctAnswer:we,feedback:typeof _e.feedback=="string"?_e.feedback:"Cha chnh xc.",timestamp:new Date().toISOString()}),vt($e)}},Ii=async()=>{await Aa(),is({...rt.current}),c("summary")},zo=()=>{fe<ee.sentences.length-1?(M(q=>q+1),ae(""),de("idle"),De(null),Fe(""),vn(null),ui(!1),es(!1),Gt.current={hintUsed:!1,fullUsed:!1}):Ii()},as=()=>In(!0),Vr=()=>{In(!1),Ii()},kr=()=>In(!1),os=(q,oe)=>{q.preventDefault(),ss({visible:!0,x:q.clientX,y:q.clientY,itemId:oe})},hi=async q=>{if(!(!s||!q))try{await DN(rT(nm,"artifacts",Fc,"users",s.uid,"history",q)),ss({visible:!1,x:0,y:0,itemId:null})}catch(oe){console.error("Li xa lch s:",oe)}},wa=()=>ss({visible:!1,x:0,y:0,itemId:null}),Mn=()=>{ui(!0),Gt.current.hintUsed||(rt.current.hints+=1,Gt.current.hintUsed=!0)},Vn=()=>{es(!0),Gt.current.fullUsed||(rt.current.fullAnswers+=1,Gt.current.fullUsed=!0)},gt=()=>K(!S),Nt=()=>{if(!ee||A!=="listen")return;const oe=ee.sentences[fe].english;if(Hn){window.speechSynthesis.cancel(),ci(!1);return}const ye=new SpeechSynthesisUtterance(oe);ye.lang="en-US",ye.rate=Or*.9,ye.onstart=()=>ci(!0),ye.onend=()=>ci(!1),ye.onerror=()=>ci(!1),window.speechSynthesis.speak(ye)},Qn=()=>{window.speechSynthesis.cancel(),ci(!1),setTimeout(()=>Nt(),100)},js=q=>{Nn(q),Hn&&(window.speechSynthesis.cancel(),ci(!1))},Bo=()=>{c("home"),g(""),de("idle"),De(null),Fe(""),vn(null),ie(sm())},z={bg:S?"bg-slate-900":"bg-gray-50",text:S?"text-slate-200":"text-slate-700",cardBg:S?"bg-slate-800":"bg-white",cardBorder:S?"border-slate-700":"border-gray-300",secondaryText:S?"text-slate-400":"text-slate-600",inputBg:S?"bg-slate-900":"bg-gray-50",inputBorder:S?"border-slate-700":"border-gray-300",inputText:S?"text-slate-200":"text-gray-900",highlightBg:S?"bg-indigo-900/50":"bg-indigo-100",highlightText:S?"text-indigo-200":"text-indigo-950",successBg:S?"bg-green-900/30":"bg-green-50",successText:S?"text-green-300":"text-green-800",errorBg:S?"bg-red-900/30":"bg-red-50",errorText:S?"text-red-300":"text-red-800"},xa=()=>Re?E.jsx("span",{className:"leading-relaxed break-words",children:Re.map((q,oe)=>{if(q.type==="same")return E.jsx("span",{className:"text-green-500 dark:text-green-400 mr-1.5",children:q.value},oe);if(q.type==="replace"){const ye=ne==="correct"?"text-yellow-500 dark:text-yellow-400 mr-1.5 underline decoration-dotted":"text-red-400 dark:text-red-400 line-through decoration-red-500/50 decoration-2 cursor-help mr-1.5";return E.jsxs("span",{className:`relative group inline-block ${ye}`,children:[q.oldVal,ne!=="correct"&&E.jsxs("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-1.5 bg-slate-900 border border-slate-700 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50 shadow-xl pointer-events-none transform -translate-y-1 group-hover:translate-y-0 duration-200",children:["Sa thnh: ",E.jsx("span",{className:"font-bold text-green-400",children:q.newVal}),E.jsx("span",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-slate-900"})]})]},oe)}else{if(q.type==="remove")return ne==="correct"?null:E.jsx("span",{className:"text-red-400 dark:text-red-400 line-through mr-1.5 decoration-2 opacity-80",children:q.value},oe);if(q.type==="add")return ne==="correct"?null:E.jsx("span",{className:"inline-block w-5 h-5 border-b-2 border-dashed border-amber-500 mr-1.5 relative group align-middle",children:E.jsxs("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-1.5 bg-amber-900 border border-amber-700 text-amber-100 text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50 shadow-xl",children:["Thiu: ",q.value]})},oe)}return null})}):$;if(i)return E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 text-white",children:E.jsx(kS,{className:"w-8 h-8 animate-spin"})});if(l==="login")return E.jsxs("div",{className:`min-h-screen ${z.bg} flex flex-col items-center justify-center p-4 ${z.text} font-sans`,children:[E.jsx(ho,{}),E.jsx("button",{onClick:gt,className:`absolute top-4 right-4 p-2.5 rounded-full ${S?z.cardBg+" text-yellow-400 border "+z.cardBorder:"bg-gradient-to-br from-orange-50 to-amber-50 hover:from-orange-100 hover:to-amber-100 text-orange-600 border border-orange-200"}`,children:S?E.jsx(Lc,{className:"w-5 h-5"}):E.jsx(Uc,{className:"w-5 h-5"})}),E.jsxs("div",{className:`max-w-md w-full ${z.cardBg} p-8 rounded-3xl shadow-2xl border ${z.cardBorder}`,children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("div",{className:"w-20 h-20 bg-indigo-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-indigo-500/30",children:E.jsx(jc,{className:"w-10 h-10 text-white"})}),E.jsx("h1",{className:`text-3xl font-bold mb-2 ${z.text}`,children:"AI English Tutor"}),E.jsx("p",{className:z.secondaryText,children:"ng nhp  lu qu trnh hc tp"})]}),F&&E.jsxs("div",{className:"mb-6 p-4 bg-green-500/20 border border-green-500/50 rounded-xl text-green-400 text-sm flex items-center gap-2 animate-in fade-in slide-in-from-top-2",children:[E.jsx(zd,{className:"w-5 h-5 flex-shrink-0"}),E.jsx("span",{children:"Link xc thc  gi! Vui lng kim tra email."})]}),Le!=="forgot"&&E.jsxs("div",{className:`flex ${S?"bg-slate-700":"bg-gradient-to-r from-indigo-100/50 to-purple-100/50"} rounded-lg p-1 mb-6`,children:[E.jsx("button",{onClick:()=>{Xe("login"),x("")},className:`flex-1 py-2.5 rounded-md text-sm font-bold transition-all ${Le==="login"?S?"bg-slate-600 text-white shadow-md":"bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-md":S?"text-slate-400 hover:text-white":"!bg-white text-indigo-600 hover:text-indigo-800"}`,children:"ng nhp"}),E.jsx("button",{onClick:()=>{Xe("register"),x("")},className:`flex-1 py-2.5 rounded-md text-sm font-bold transition-all ${Le==="register"?S?"bg-slate-600 text-white shadow-md":"bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-md":S?"text-slate-400 hover:text-white":"!bg-white !text-indigo-600 hover:!text-indigo-800"}`,children:"ng k"})]}),Le==="forgot"?E.jsxs("form",{onSubmit:rs,className:"space-y-4 animate-in fade-in",children:[E.jsxs("div",{className:"text-left",children:[E.jsx("label",{className:`text-xs font-bold ${S?"text-slate-500":"text-slate-600"} uppercase ml-1`,children:"Email ng k"}),E.jsxs("div",{className:"relative",children:[E.jsx(l_,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 ${S?"text-slate-500":"text-slate-400"}`}),E.jsx("input",{type:"email",value:ke,onChange:q=>N(q.target.value),placeholder:"name@example.com",className:`w-full p-4 pl-12 rounded-xl ${S?"bg-slate-900 border-slate-700 text-white":"bg-slate-100 border-slate-300 text-slate-900"} border focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none mt-1`,required:!0})]})]}),ft?E.jsxs("div",{className:"p-3 bg-green-500/20 border border-green-500/50 rounded-xl text-green-400 text-sm flex items-center gap-2",children:[E.jsx(zd,{className:"w-4 h-4"}),"  gi link khi phc!"]}):L&&E.jsx("p",{className:"text-red-500 text-sm bg-red-500/10 p-2 rounded border border-red-500/20",children:L}),E.jsxs("button",{type:"submit",className:`w-full ${S?"bg-indigo-600 hover:bg-indigo-500":"bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700"} text-white font-bold py-4 rounded-xl transition-all shadow-lg active:scale-95 flex items-center justify-center gap-2`,children:[E.jsx(OS,{className:"w-5 h-5"})," Gi link khi phc"]}),E.jsx("button",{type:"button",onClick:()=>{Xe("login"),x(""),Tt(!1)},className:`w-full ${S?"text-slate-400 hover:text-white":"text-indigo-600 hover:text-indigo-800"} text-sm underline mt-2 font-semibold`,children:"Quay li ng nhp"})]}):E.jsxs("form",{onSubmit:Le==="login"?Ta:Gn,className:"space-y-4 animate-in fade-in",children:[Le==="register"&&E.jsxs("div",{className:"text-left",children:[E.jsx("label",{className:`text-xs font-bold ${S?"text-slate-500":"text-slate-600"} uppercase ml-1`,children:"Tn hin th"}),E.jsx("input",{type:"text",value:V,onChange:q=>D(q.target.value),placeholder:"VD: Minh T",className:`w-full p-4 rounded-xl ${S?"bg-slate-900 border-slate-700 text-white":"bg-slate-100 border-slate-300 text-slate-900"} border focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none mt-1`,required:!0})]}),E.jsxs("div",{className:"text-left",children:[E.jsx("label",{className:`text-xs font-bold ${S?"text-slate-500":"text-slate-600"} uppercase ml-1`,children:"Email"}),E.jsxs("div",{className:"relative",children:[E.jsx(l_,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 ${S?"text-slate-500":"text-slate-400"}`}),E.jsx("input",{type:"email",value:ke,onChange:q=>N(q.target.value),placeholder:"name@example.com",className:`w-full p-4 pl-12 rounded-xl ${S?"bg-slate-900 border-slate-700 text-white":"bg-slate-100 border-slate-300 text-slate-900"} border focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none mt-1`,required:!0})]})]}),E.jsxs("div",{className:"text-left",children:[E.jsx("label",{className:`text-xs font-bold ${S?"text-slate-500":"text-slate-600"} uppercase ml-1`,children:"Mt khu"}),E.jsxs("div",{className:"relative",children:[E.jsx(jS,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 ${S?"text-slate-500":"text-slate-400"}`}),E.jsx("input",{type:"password",value:R,onChange:q=>I(q.target.value),placeholder:"",className:`w-full p-4 pl-12 rounded-xl ${S?"bg-slate-900 border-slate-700 text-white":"bg-slate-100 border-slate-300 text-slate-900"} border focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none mt-1`,required:!0})]})]}),L&&E.jsx("p",{className:"text-red-500 text-sm bg-red-500/10 p-2 rounded border border-red-500/20",children:L}),Le==="login"&&E.jsx("div",{className:"text-right",children:E.jsx("button",{type:"button",onClick:()=>{Xe("forgot"),x("")},className:`text-xs font-bold px-3 py-1.5 rounded-lg transition-all ${S?"text-indigo-400 hover:text-indigo-300":"bg-gradient-to-br from-indigo-50 to-purple-50 hover:from-indigo-100 hover:to-purple-100 text-indigo-700 border border-indigo-200"}`,children:"Qun mt khu?"})}),E.jsx("button",{type:"submit",className:`w-full ${S?"bg-indigo-600 hover:bg-indigo-700":"bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700"} text-white font-bold py-4 rounded-xl transition-all shadow-lg active:scale-95`,children:Le==="login"?"ng nhp":"ng k ti khon"})]}),Le!=="forgot"&&E.jsxs("div",{className:"mt-6 flex flex-col gap-3 animate-in fade-in",children:[E.jsxs("button",{onClick:wt,className:"w-full bg-gradient-to-r from-blue-500 to-red-500 hover:from-blue-600 hover:to-red-600 text-white font-bold py-3 rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg",children:[E.jsx("span",{className:"text-lg font-bold",children:"G"})," Tip tc vi Google"]}),E.jsx("button",{onClick:Fn,className:`w-full py-3 rounded-xl font-bold transition-all ${S?"bg-slate-700 text-slate-300 hover:bg-slate-600 hover:text-white border border-slate-600":"bg-gradient-to-br from-slate-50 to-gray-50 hover:from-slate-100 hover:to-gray-100 text-slate-700 border border-slate-300 hover:border-slate-400"}`,children:"Dng th khng cn ti khon"})]})]})]});if(l==="history")return E.jsxs("div",{className:`min-h-screen ${z.bg} p-4 transition-colors duration-300 font-sans`,onClick:wa,children:[E.jsx(ho,{}),E.jsxs("header",{className:"max-w-4xl mx-auto flex items-center justify-between mb-8 pt-4",children:[E.jsxs("button",{onClick:()=>c("home"),className:`flex items-center gap-2 ${S?z.secondaryText+" hover:"+z.text:"text-indigo-600 hover:text-indigo-700"} font-medium transition-colors`,children:[E.jsx(Vc,{className:"w-5 h-5 rotate-180"})," Quay li"]}),E.jsxs("div",{className:"text-center",children:[E.jsx("h1",{className:`text-xl font-bold ${z.text}`,children:"Lch s hc tp"}),s&&E.jsxs("p",{className:"text-xs text-indigo-500 font-medium mt-1",children:[te.length," bi hc"]})]}),E.jsx("button",{onClick:gt,className:`p-2 rounded-full ${S?z.cardBg+" text-yellow-400 border "+z.cardBorder:"bg-gradient-to-br from-orange-50 to-amber-50 hover:from-orange-100 hover:to-amber-100 text-orange-600 border border-orange-200"}`,children:S?E.jsx(Lc,{className:"w-5 h-5"}):E.jsx(Uc,{className:"w-5 h-5"})})]}),s&&te.length>0&&E.jsx("div",{className:"max-w-4xl mx-auto flex justify-center gap-2 mb-6",children:[{id:"all",label:"Tt c",icon:null},{id:"write",label:"Dch vn",icon:E.jsx(Bd,{className:"w-4 h-4"})},{id:"listen",label:"Nghe",icon:E.jsx(kc,{className:"w-4 h-4"})}].map(q=>E.jsxs("button",{onClick:()=>Te(q.id),className:`flex items-center gap-2 px-4 py-2 rounded-xl font-bold text-sm transition-all ${ve===q.id?S?"bg-indigo-600 text-white shadow-lg":"bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-lg":S?`${z.bg} ${z.secondaryText} border border-slate-700 hover:border-indigo-500`:"bg-white text-slate-700 border border-slate-300 hover:border-indigo-400"}`,children:[q.icon," ",q.label]},q.id))}),E.jsx("div",{className:"max-w-4xl mx-auto space-y-4 pb-10",children:s?te.filter(q=>ve==="all"||q.courseData&&q.courseData.learningMode===ve||!q.courseData?.learningMode&&ve==="write").length===0?E.jsxs("div",{className:`text-center py-20 ${z.secondaryText}`,children:[E.jsx("p",{className:"mb-2",children:"Khng c bi hc no."}),E.jsx("p",{className:"text-xs opacity-70",children:"Hon thnh mt bi hc  xem lch s ti y"})]}):te.filter(q=>ve==="all"||q.courseData&&q.courseData.learningMode===ve||!q.courseData?.learningMode&&ve==="write").map(q=>E.jsxs("div",{onClick:()=>ks(q),onContextMenu:oe=>os(oe,q.id),className:`${z.cardBg} p-5 rounded-2xl border ${z.cardBorder} flex items-center justify-between hover:scale-[1.01] transition-transform cursor-pointer group`,children:[E.jsxs("div",{className:"flex-1",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[E.jsx("h3",{className:`font-bold ${z.text} text-lg group-hover:text-indigo-500 transition-colors`,children:q.topic}),E.jsxs("span",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-bold ${q.courseData?.learningMode==="listen"?"bg-purple-500/20 text-purple-500 border border-purple-500/30":"bg-blue-500/20 text-blue-500 border border-blue-500/30"}`,children:[q.courseData?.learningMode==="listen"?E.jsx(kc,{className:"w-3 h-3"}):E.jsx(Bd,{className:"w-3 h-3"}),q.courseData?.learningMode==="listen"?"Nghe":"Dch"]})]}),E.jsxs("div",{className:`flex items-center gap-4 text-xs ${z.secondaryText}`,children:[E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx(_S,{className:"w-3 h-3"})," ",q.timestamp&&typeof q.timestamp.toDate=="function"?q.timestamp.toDate().toLocaleDateString("vi-VN"):"Va xong"]}),E.jsx("span",{className:"flex items-center gap-1 bg-indigo-500/10 text-indigo-500 px-2 py-0.5 rounded uppercase font-bold",children:q.level||"medium"})]})]}),E.jsxs("div",{className:"flex items-center gap-6",children:[E.jsxs("div",{className:"text-right hidden sm:block",children:[E.jsx("div",{className:`text-sm ${z.secondaryText}`,children:"im s"}),E.jsx("div",{className:`font-bold text-lg ${q.score>=80?"text-green-500":q.score>=50?"text-yellow-500":"text-red-500"}`,children:Math.round(q.score)})]}),E.jsx(ES,{className:`w-5 h-5 ${z.secondaryText}`})]})]},q.id)):E.jsxs("div",{className:`text-center py-20 ${z.secondaryText}`,children:[E.jsx("p",{className:"mb-4",children:"Vui lng ng nhp  xem lch s"}),E.jsx("button",{onClick:()=>c("login"),className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-xl shadow-lg transition-all active:scale-95",children:"ng nhp"})]})}),Ri.visible&&E.jsx("div",{className:`fixed z-50 ${z.cardBg} border-2 ${z.cardBorder} rounded-xl shadow-2xl overflow-hidden`,style:{top:Ri.y,left:Ri.x},onClick:q=>q.stopPropagation(),children:E.jsxs("button",{onClick:()=>hi(Ri.itemId),className:"px-5 py-3 text-red-500 hover:bg-red-500/10 flex items-center gap-3 text-sm font-bold whitespace-nowrap",children:[E.jsx(qd,{className:"w-4 h-4"}),"Xa bi hc ny"]})}),Kt&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4 animate-in fade-in backdrop-blur-sm",onClick:()=>ks(null),children:E.jsxs("div",{className:`${z.cardBg} w-full max-w-3xl max-h-[85vh] rounded-3xl shadow-2xl overflow-hidden flex flex-col`,onClick:q=>q.stopPropagation(),children:[E.jsxs("div",{className:`p-6 border-b ${z.cardBorder} flex justify-between items-center bg-indigo-600`,children:[E.jsx("h2",{className:"text-xl font-bold text-white truncate pr-4",children:Kt.topic}),E.jsx("button",{onClick:()=>ks(null),className:"text-white/80 hover:text-white",children:E.jsx(qd,{className:"w-6 h-6"})})]}),E.jsx("div",{className:`flex-1 overflow-y-auto p-6 ${z.bg} custom-scrollbar`,children:Kt.courseData&&Kt.courseData.sentences?E.jsx("div",{className:"space-y-4",children:Kt.courseData.sentences.map((q,oe)=>{const ye=Kt.completedStatus&&Kt.completedStatus[oe],_e=Kt.sentenceErrors&&Kt.sentenceErrors[oe],we=_e&&Array.isArray(_e)?_e.length:_e?1:0,ct=ye||we>0,Ne=ye?"correct":ct?"incorrect":"skipped";return E.jsx("div",{className:`${z.cardBg} p-4 rounded-xl border-2 transition-all ${Ne==="correct"?"border-green-500/50":Ne==="incorrect"?"border-red-500/50":"border-gray-500/50"}`,children:E.jsxs("div",{className:"flex gap-3",children:[E.jsx("span",{className:`flex-shrink-0 w-7 h-7 rounded-full flex items-center justify-center text-sm font-bold ${Ne==="correct"?"bg-green-500 text-white":Ne==="incorrect"?"bg-red-500 text-white":"bg-gray-500 text-white"}`,children:Ne==="correct"?"":Ne==="incorrect"?"":""}),E.jsxs("div",{className:"flex-1",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[E.jsxs("span",{className:"text-xs font-bold text-indigo-400",children:["Cu ",oe+1]}),E.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-bold ${Ne==="correct"?"bg-green-500/20 text-green-500":Ne==="incorrect"?"bg-red-500/20 text-red-500":"bg-gray-500/20 text-gray-500"}`,children:Ne==="correct"?"ng":Ne==="incorrect"?"Sai":"Cha lm"}),we>0&&E.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-orange-500/20 text-orange-500 font-bold",children:[we," ln sai"]})]}),E.jsx("p",{className:`font-medium ${z.text} mb-2 text-base`,children:q.vietnamese_full||(q.segments?q.segments.map($e=>$e.text).join(""):"")}),E.jsxs("div",{className:`${S?"bg-slate-800":"bg-slate-100"} p-3 rounded-lg mb-2`,children:[E.jsx("p",{className:"text-xs font-bold text-indigo-400 mb-1",children:"p n ng:"}),E.jsx("p",{className:"text-green-500 italic text-sm font-medium",children:q.acceptableAnswers[0]})]}),_e&&we>0&&E.jsx("div",{className:`${S?"bg-red-900/20":"bg-red-50"} p-3 rounded-lg border ${S?"border-red-800":"border-red-200"}`,children:Array.isArray(_e)&&_e.length>0?E.jsxs("div",{className:"space-y-3",children:[E.jsxs("p",{className:"text-xs font-bold text-red-400 mb-2",children:["Chi tit cc ln sai (",_e.length," ln):"]}),_e.map(($e,cn)=>E.jsxs("div",{className:`${S?"bg-red-900/30":"bg-red-100"} p-2 rounded border ${S?"border-red-800":"border-red-300"}`,children:[E.jsxs("p",{className:"text-xs font-bold text-orange-400 mb-1",children:["Ln ",cn+1,":"]}),E.jsxs("p",{className:`${S?"text-red-300":"text-red-700"} italic text-sm mb-1`,children:['"',$e.userAnswer||"Khng tr li",'"']}),$e.feedback&&E.jsxs("p",{className:`${S?"text-orange-300":"text-orange-700"} text-xs`,children:[" ",$e.feedback]})]},cn))]}):_e.userAnswer?E.jsxs(E.Fragment,{children:[E.jsx("p",{className:"text-xs font-bold text-red-400 mb-1",children:"Cu tr li ca bn:"}),E.jsx("p",{className:`${S?"text-red-300":"text-red-700"} italic text-sm mb-2 font-medium`,children:_e.userAnswer}),_e.feedback&&E.jsxs(E.Fragment,{children:[E.jsx("p",{className:"text-xs font-bold text-orange-400 mb-1",children:"Li sai:"}),E.jsx("p",{className:`${S?"text-orange-300":"text-orange-700"} text-xs`,children:_e.feedback})]})]}):null}),Ne==="skipped"&&E.jsx("div",{className:`${S?"bg-gray-800/50":"bg-gray-100"} p-3 rounded-lg border ${S?"border-gray-700":"border-gray-300"}`,children:E.jsx("p",{className:`text-xs italic ${z.secondaryText}`,children:"Cu ny cha c lm (b qua)"})})]})]})},oe)})}):E.jsx("p",{className:`${z.secondaryText} text-center py-10`,children:"Chi tit bi hc khng kh dng cho mc ny."})}),E.jsxs("div",{className:`p-4 border-t ${z.cardBorder} ${z.cardBg} flex justify-between items-center text-sm`,children:[E.jsxs("div",{className:"flex gap-4",children:[E.jsxs("span",{className:z.text,children:["im: ",E.jsx("strong",{className:Kt.score>=50?"text-green-500":"text-red-500",children:Math.round(Kt.score)})]}),E.jsxs("span",{className:"text-green-500 font-bold",children:[" ",Kt.completedCorrectly||0]}),E.jsxs("span",{className:"text-red-500 font-bold",children:[" ",Kt.failedSentences||0]})]}),E.jsxs("span",{className:z.secondaryText,children:["Tng: ",Kt.totalSentences," cu"]})]})]})})]});if(l==="generating")return E.jsxs("div",{className:`min-h-screen ${z.bg} flex flex-col items-center justify-center p-4`,children:[E.jsx(ho,{}),E.jsxs("div",{className:"text-center space-y-8",children:[E.jsxs("div",{className:"relative w-20 h-20 mx-auto",children:[E.jsx("div",{className:`absolute inset-0 border-4 ${S?"border-slate-700":"border-slate-200"} rounded-full`}),E.jsx("div",{className:"absolute inset-0 border-4 border-indigo-500 rounded-full border-t-transparent animate-spin"}),E.jsx(Pd,{className:"absolute inset-0 m-auto text-indigo-500 w-8 h-8 animate-pulse"})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("h2",{className:`text-xl font-bold ${z.text}`,children:"AI ang vit bi lun..."}),E.jsxs("p",{className:`${z.secondaryText}`,children:["Ch : ",E.jsxs("span",{className:"text-indigo-500",children:['"',d,'"']})]})]})]})]});if(l==="error")return E.jsxs("div",{className:`min-h-screen ${z.bg} flex flex-col items-center justify-center p-4`,children:[E.jsx(ho,{}),E.jsxs("div",{className:"text-center space-y-6",children:[E.jsx("div",{className:"w-20 h-20 mx-auto bg-red-500/10 rounded-full flex items-center justify-center",children:E.jsx(qd,{className:"w-10 h-10 text-red-500"})}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("h2",{className:`text-xl font-bold ${z.text}`,children:"Khng th to bi hc"}),E.jsx("p",{className:`${z.secondaryText}`,children:"C li xy ra khi to ni dung. Vui lng th li."})]}),E.jsx("button",{onClick:()=>c("home"),className:`px-6 py-3 ${S?"bg-indigo-600 hover:bg-indigo-500":"bg-indigo-600 hover:bg-indigo-700"} text-white font-bold rounded-xl transition-all shadow-lg active:scale-95`,children:"Quay li trang ch"})]})]});if(l==="summary"){const q=Sa(kt);let oe="Cn c gng",ye="text-red-500";q>=90?(oe="Xut sc",ye="text-green-500"):q>=80?(oe="Gii",ye="text-blue-500"):q>=65?(oe="Kh",ye="text-yellow-500"):q>=50&&(oe="Trung bnh",ye="text-orange-500");const we=2*Math.PI*50,ct=we-q/100*we,Ne=un.filter(Boolean).length,$e=(ee?.sentences?.length||0)-Ne;return E.jsxs("div",{className:`min-h-screen ${z.bg} flex items-center justify-center p-4`,children:[E.jsx(ho,{}),Ci&&E.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-indigo-600 text-white px-4 py-3 rounded-xl shadow-lg flex items-center gap-2 animate-in slide-in-from-top-2",children:[E.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),E.jsx("span",{className:"text-sm font-bold",children:"ang lu lch s..."})]}),E.jsxs("div",{className:`max-w-3xl w-full ${z.cardBg} rounded-3xl shadow-2xl p-8 md:p-12 border ${z.cardBorder}`,children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsxs("div",{className:"relative w-40 h-40 mx-auto mb-6",children:[E.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 120 120",children:[E.jsx("circle",{cx:"60",cy:"60",r:"50",fill:"none",stroke:S?"#374151":"#e5e7eb",strokeWidth:"10"}),E.jsx("circle",{className:"score-circle",cx:"60",cy:"60",r:"50",fill:"none",stroke:q>=80?"#10B981":q>=50?"#F59E0B":"#EF4444",strokeWidth:"10",strokeDasharray:we,strokeDashoffset:ct,strokeLinecap:"round"})]}),E.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[E.jsx("span",{className:`text-4xl font-bold ${z.text}`,children:q}),E.jsx("span",{className:`text-xs uppercase font-bold ${z.secondaryText}`,children:"im"})]})]}),E.jsx("h1",{className:`text-3xl font-bold ${ye} mb-2`,children:oe}),E.jsxs("p",{className:`${z.secondaryText}`,children:["Ch : ",E.jsx("span",{className:"font-bold text-indigo-500",children:ee?.title})]})]}),E.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[E.jsxs("div",{className:`${S?"bg-slate-900":"bg-slate-50"} p-4 rounded-2xl text-center border ${z.cardBorder}`,children:[E.jsx(wS,{className:"w-6 h-6 text-red-500 mx-auto mb-2"}),E.jsx("div",{className:`text-2xl font-bold ${z.text}`,children:kt.mistakes}),E.jsx("div",{className:`text-xs ${z.secondaryText}`,children:"Li sai (-2)"})]}),E.jsxs("div",{className:`${S?"bg-slate-900":"bg-slate-50"} p-4 rounded-2xl text-center border ${z.cardBorder}`,children:[E.jsx(f_,{className:"w-6 h-6 text-orange-500 mx-auto mb-2"}),E.jsx("div",{className:`text-2xl font-bold ${z.text}`,children:$e}),E.jsx("div",{className:`text-xs ${z.secondaryText}`,children:"B qua (-10)"})]}),E.jsxs("div",{className:`${S?"bg-slate-900":"bg-slate-50"} p-4 rounded-2xl text-center border ${z.cardBorder}`,children:[E.jsx(o_,{className:"w-6 h-6 text-yellow-500 mx-auto mb-2"}),E.jsx("div",{className:`text-2xl font-bold ${z.text}`,children:kt.hints}),E.jsx("div",{className:`text-xs ${z.secondaryText}`,children:"Gi  (0)"})]}),E.jsxs("div",{className:`${S?"bg-slate-900":"bg-slate-50"} p-4 rounded-2xl text-center border ${z.cardBorder}`,children:[E.jsx(dS,{className:"w-6 h-6 text-blue-500 mx-auto mb-2"}),E.jsx("div",{className:`text-2xl font-bold ${z.text}`,children:kt.fullAnswers}),E.jsx("div",{className:`text-xs ${z.secondaryText}`,children:"p n (-15)"})]})]}),E.jsxs("div",{className:`${S?"bg-slate-900":"bg-slate-50"} p-6 rounded-2xl text-left mb-8 border ${z.cardBorder} max-h-60 overflow-y-auto custom-scrollbar`,children:[E.jsx("h4",{className:`text-xs font-bold ${z.secondaryText} uppercase mb-2`,children:"on vn hon chnh"}),E.jsx("p",{className:`${z.text} text-base leading-relaxed`,children:ee?.sentences.map(cn=>cn.acceptableAnswers[0]).join(" ")})]}),E.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3",children:[E.jsxs("button",{onClick:Bo,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-xl flex items-center justify-center gap-2 shadow-lg transition-transform active:scale-95",children:[E.jsx(c_,{className:"w-5 h-5"})," Bi hc mi"]}),E.jsxs("button",{onClick:()=>c("history"),className:`${S?"bg-slate-600 hover:bg-slate-700":"bg-slate-500 hover:bg-slate-600"} text-white font-bold py-3 px-8 rounded-xl flex items-center justify-center gap-2 shadow-lg transition-transform active:scale-95`,children:[E.jsx(r_,{className:"w-5 h-5"})," Xem lch s"]})]})]})]})}return E.jsxs("div",{className:`min-h-screen ${z.bg} ${z.text} ${l==="learning"?"p-2 md:p-3":"p-4 md:p-6"} flex flex-col font-medium transition-colors duration-300 font-sans`,children:[E.jsx(ho,{}),It&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 animate-in fade-in",children:E.jsxs("div",{className:`${z.cardBg} p-6 rounded-2xl shadow-2xl max-w-sm w-full border ${z.cardBorder}`,children:[E.jsx("h3",{className:`text-lg font-bold ${z.text} mb-2`,children:"Kt thc sm?"}),E.jsx("p",{className:`${z.secondaryText} mb-6 text-sm`,children:"Bn c chc mun dng? Cc cu cha hon thnh s b tnh l b qua v tr im."}),E.jsxs("div",{className:"flex gap-3 justify-end",children:[E.jsx("button",{onClick:kr,className:`px-4 py-2 rounded-xl text-sm font-bold ${z.secondaryText} hover:${z.bg}`,children:"Hy"}),E.jsx("button",{onClick:Vr,className:"px-4 py-2 rounded-xl text-sm font-bold bg-red-500 hover:bg-red-600 text-white",children:"Kt thc ngay"})]})]})}),l==="home"&&E.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center max-w-2xl mx-auto w-full animate-in fade-in slide-in-from-bottom-8",children:[E.jsxs("div",{className:"absolute top-4 left-4 flex items-center gap-3",children:[E.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-600 flex items-center justify-center text-white font-bold text-lg shadow-lg cursor-pointer hover:scale-105 transition-transform",onClick:()=>c("history"),children:s?.displayName?.charAt(0)||E.jsx(sA,{className:"w-5 h-5"})}),E.jsxs("div",{className:"hidden md:block",children:[E.jsx("p",{className:`text-xs font-bold ${z.secondaryText}`,children:"Xin cho,"}),E.jsx("p",{className:`font-bold ${z.text}`,children:s?.displayName||"Hc vin"})]})]}),E.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[E.jsx("button",{onClick:()=>c("history"),className:`p-2.5 rounded-full ${S?z.cardBg+" "+z.secondaryText+" hover:"+z.text:"bg-gradient-to-br from-indigo-50 to-purple-50 hover:from-indigo-100 hover:to-purple-100 text-indigo-600"} border ${S?z.cardBorder:"border-indigo-200"}`,title:"Lch s",children:E.jsx(r_,{className:"w-5 h-5"})}),E.jsx("button",{onClick:gt,className:`p-2.5 rounded-full ${S?z.cardBg+" text-yellow-400 border "+z.cardBorder:"bg-gradient-to-br from-orange-50 to-amber-50 hover:from-orange-100 hover:to-amber-100 text-orange-600 border border-orange-200"}`,children:S?E.jsx(Lc,{className:"w-5 h-5"}):E.jsx(Uc,{className:"w-5 h-5"})}),E.jsx("button",{onClick:$n,className:`p-2.5 rounded-full ${S?z.cardBg+" text-red-500 hover:bg-red-500/10":"bg-gradient-to-br from-rose-50 to-red-50 hover:from-rose-100 hover:to-red-100 text-rose-600"} border ${S?z.cardBorder:"border-rose-200"}`,title:"ng xut",children:E.jsx(PS,{className:"w-5 h-5"})})]}),E.jsxs("div",{className:"space-y-4 text-center mb-8 mt-12",children:[E.jsx("div",{className:`inline-flex items-center justify-center p-4 ${z.cardBg} rounded-full shadow-xl mb-2`,children:E.jsx(jc,{className:"w-12 h-12 text-indigo-500"})}),E.jsx("h1",{className:`text-4xl md:text-5xl font-extrabold ${S?"text-white":"text-slate-900"} tracking-tight`,children:"AI English Tutor"}),E.jsx("p",{className:`text-base md:text-lg ${z.secondaryText}`,children:"Luyn dch thc t. Chm im & sa li thng minh."})]}),E.jsxs("div",{className:`${z.cardBg} p-5 rounded-3xl shadow-2xl border ${z.cardBorder} w-full transition-all`,children:[E.jsx("div",{className:"flex justify-center gap-2 mb-4",children:[{id:"write",label:"Dch Vn",icon:E.jsx(Bd,{className:"w-4 h-4"})},{id:"listen",label:"Nghe Chnh T",icon:E.jsx(kc,{className:"w-4 h-4"})}].map(q=>E.jsxs("button",{onClick:()=>w(q.id),className:`flex items-center gap-2 px-5 py-3 text-sm font-bold rounded-xl border-2 transition-all ${A===q.id?S?"bg-indigo-600 text-white border-indigo-600 shadow-lg shadow-indigo-500/30":"bg-gradient-to-r from-indigo-500 to-purple-600 text-white border-transparent shadow-lg":S?`${z.bg} ${z.secondaryText} border-slate-700 hover:border-indigo-500`:"bg-gradient-to-br from-slate-50 to-gray-50 text-slate-700 border-slate-300 hover:border-indigo-400 hover:from-indigo-50 hover:to-purple-50 hover:text-indigo-600"}`,children:[q.icon," ",q.label]},q.id))}),E.jsx("div",{className:"flex justify-center gap-2 mb-5",children:[{id:"short",label:"Ngn"},{id:"medium",label:"Va"},{id:"long",label:"Di"}].map(q=>E.jsx("button",{onClick:()=>_(q.id),className:`px-4 py-2 text-xs font-bold rounded-xl border-2 transition-all ${y===q.id?S?"bg-indigo-600 text-white border-indigo-600":"bg-gradient-to-r from-indigo-500 to-purple-600 text-white border-transparent":S?`${z.bg} ${z.secondaryText} border-slate-700 hover:border-indigo-500`:"bg-gradient-to-br from-slate-50 to-gray-50 text-slate-700 border-slate-300 hover:border-indigo-400 hover:from-indigo-50 hover:to-purple-50 hover:text-indigo-600"}`,children:q.label},q.id))}),E.jsxs("form",{onSubmit:Dn,className:"relative flex items-center",children:[E.jsx("div",{className:"pl-4 text-indigo-400",children:E.jsx(Pd,{className:"w-6 h-6"})}),E.jsx("input",{ref:Ls,type:"text",value:d,onChange:q=>g(q.target.value),placeholder:"Nhp ch  (VD: Cuc sng  Sao Ha)...",className:`w-full p-4 text-base bg-transparent outline-none ${z.inputText} placeholder-slate-400 font-medium`}),E.jsx("button",{type:"submit",disabled:!d.trim(),className:"bg-indigo-600 hover:bg-indigo-700 text-white p-3 rounded-xl m-1 transition-all shadow-md active:scale-95",children:E.jsx(Vc,{className:"w-6 h-6"})})]})]}),E.jsxs("div",{className:`flex flex-wrap justify-center gap-2 text-sm ${z.secondaryText} mt-6`,children:[W.map(q=>E.jsx("button",{onClick:()=>g(q),className:`${S?z.cardBg+" border-2 border-slate-700 hover:border-indigo-500":"bg-gradient-to-br from-indigo-50 to-purple-50 border-2 border-indigo-200 hover:border-indigo-400 hover:from-indigo-100 hover:to-purple-100"} px-4 py-2 rounded-full ${S?"hover:text-indigo-400":"hover:text-indigo-700"} transition-all shadow-sm hover:shadow-md ${S?"text-slate-300":"text-slate-700"} font-medium`,children:q},q)),E.jsx("button",{onClick:()=>ie(sm()),className:`p-2 rounded-full transition-all ${S?"hover:bg-indigo-500/10 text-indigo-400":"bg-gradient-to-br from-indigo-50 to-purple-50 hover:from-indigo-100 hover:to-purple-100 text-indigo-600 border border-indigo-200"}`,children:E.jsx(QS,{className:"w-4 h-4"})})]})]}),l==="learning"&&ee&&E.jsxs(E.Fragment,{children:[E.jsxs("header",{className:"w-full mb-4 flex items-center justify-between px-1 lg:px-4",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("button",{onClick:()=>c("home"),className:`p-2 rounded-full transition-all ${S?"hover:bg-slate-800 text-slate-400":"bg-gradient-to-br from-indigo-50 to-purple-50 hover:from-indigo-100 hover:to-purple-100 text-indigo-600 border border-indigo-200"}`,children:E.jsx(Vc,{className:"w-6 h-6 rotate-180"})}),E.jsxs("div",{children:[E.jsx("h1",{className:`text-xl font-bold ${z.text} flex items-center gap-3`,children:ee.title}),E.jsx("span",{className:"text-xs font-bold bg-indigo-500/10 text-indigo-500 px-3 py-1 rounded-full uppercase border border-indigo-500/20",children:ee.type})]})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsxs("button",{onClick:as,className:`hidden md:flex items-center gap-1 px-3 py-1.5 rounded-lg ${S?"bg-slate-500/10 hover:bg-slate-500/20 text-slate-400":"bg-rose-50 hover:bg-rose-100 text-rose-600 border border-rose-200"} text-xs font-bold transition-colors`,children:[E.jsx(f_,{className:"w-4 h-4"})," Kt thc"]}),E.jsx("button",{onClick:gt,className:`p-2 rounded-full ${S?z.cardBg+" text-yellow-400 shadow-sm border "+z.cardBorder:"bg-gradient-to-br from-orange-50 to-amber-50 hover:from-orange-100 hover:to-amber-100 text-orange-600 shadow-sm border border-orange-200"}`,children:S?E.jsx(Lc,{className:"w-5 h-5"}):E.jsx(Uc,{className:"w-5 h-5"})}),E.jsxs("div",{className:`hidden md:flex ${z.cardBg} px-4 py-2 rounded-xl shadow-sm border ${z.cardBorder} text-sm font-bold`,children:[E.jsx("span",{className:`${z.secondaryText} mr-2`,children:"TIN "})," ",E.jsxs("span",{className:"text-indigo-500",children:[fe+1," ",E.jsx("span",{className:z.secondaryText,children:"/"})," ",ee.sentences.length]})]})]})]}),E.jsxs("div",{className:"w-full grid grid-cols-1 lg:grid-cols-12 gap-4 flex-1 min-h-0 px-1 lg:px-4",children:[ee.learningMode==="listen"?E.jsx("div",{className:`lg:col-span-8 ${z.cardBg} p-8 rounded-3xl ${S?"shadow-xl":"shadow-2xl shadow-slate-300/50"} border-2 ${z.cardBorder} overflow-y-auto h-[30vh] lg:h-auto flex flex-col items-center justify-center`,children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:`w-40 h-40 mx-auto mb-8 rounded-full flex items-center justify-center transition-all ${Hn?"bg-gradient-to-br from-indigo-500 to-purple-600 shadow-2xl shadow-indigo-500/50 scale-105":S?"bg-gradient-to-br from-indigo-600 to-purple-700":"bg-gradient-to-br from-indigo-500 to-purple-600"}`,children:Hn?E.jsx(u_,{className:"w-20 h-20 text-white animate-pulse"}):E.jsx(kc,{className:"w-20 h-20 text-white"})}),E.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[E.jsxs("button",{onClick:Nt,className:`flex items-center gap-2 px-6 py-4 rounded-xl font-bold text-white shadow-lg transition-all active:scale-95 ${Hn?"bg-red-500 hover:bg-red-600":"bg-indigo-600 hover:bg-indigo-700"}`,children:[Hn?E.jsx(u_,{className:"w-6 h-6"}):E.jsx(FS,{className:"w-6 h-6"}),Hn?"Tm dng":"Nghe"]}),E.jsxs("button",{onClick:Qn,className:"flex items-center gap-2 px-6 py-4 rounded-xl font-bold bg-purple-600 hover:bg-purple-700 text-white shadow-lg transition-all active:scale-95",children:[E.jsx(c_,{className:"w-6 h-6"}),"Nghe li"]})]}),E.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[E.jsx("span",{className:`text-sm font-bold ${z.secondaryText}`,children:"Tc :"}),[.5,.75,1,1.25,1.5].map(q=>E.jsxs("button",{onClick:()=>js(q),className:`px-3 py-2 text-sm font-bold rounded-lg transition-all ${Or===q?"bg-indigo-600 text-white shadow-md":S?`${z.bg} ${z.secondaryText} hover:bg-slate-700`:"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[q,"x"]},q))]}),E.jsxs("p",{className:`text-base ${z.text} mb-2`,children:["Cu ",E.jsx("span",{className:"font-bold text-indigo-500",children:fe+1})," / ",ee.sentences.length]}),ee.sentences[fe].hint&&E.jsx("div",{className:`mt-6 p-4 rounded-xl ${S?"bg-amber-900/20 border border-amber-900/30":"bg-amber-50 border border-amber-200"}`,children:E.jsxs("p",{className:`text-sm ${S?"text-amber-400":"text-amber-700"} flex items-center gap-2`,children:[E.jsx(a_,{className:"w-4 h-4"}),E.jsx("span",{className:"font-bold",children:"Gi :"})," ",ee.sentences[fe].hint]})})]})}):E.jsx("div",{className:`lg:col-span-8 ${z.cardBg} p-6 pt-16 rounded-3xl ${S?"shadow-xl":"shadow-2xl shadow-slate-300/50"} border-2 ${z.cardBorder} overflow-y-auto h-[30vh] lg:h-auto custom-scrollbar`,children:E.jsx("div",{className:`text-base md:text-lg leading-[3] ${z.text} font-sans relative`,style:{zIndex:1},children:ee.sentences.map((q,oe)=>{const ye=un[oe],_e=oe===fe;if(ye)return E.jsxs("span",{className:"text-green-500 dark:text-green-400 transition-all duration-500 mr-1",children:[q.acceptableAnswers[0]," "]},q.id);let we="transition-all duration-300 inline mr-1 rounded px-1 ";return _e?we+=`${z.highlightBg} ${z.highlightText} shadow-[inset_0_0_0_2px_rgba(99,102,241,0.5)] py-1 `:we+=S?"text-slate-500 ":"text-gray-800 ",E.jsx("span",{className:we,children:q.segments.map((ct,Ne)=>{const $e=q.segments[Ne+1],cn=$e&&!/^[.,!?;:)]/.test($e.text);return E.jsxs(Z1.Fragment,{children:[E.jsxs("span",{className:"tooltip-word group relative cursor-help inline-block hover:text-indigo-500 transition-colors",children:[ct.text,E.jsx("span",{className:`tooltip-content invisible group-hover:visible absolute left-1/2 -translate-x-1/2 bottom-full mb-1 px-3 py-2 ${S?"bg-slate-800 text-white border-2 border-slate-600":"bg-slate-900 text-white border-2 border-slate-700"} text-sm font-medium rounded-lg shadow-2xl whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-200`,children:ct.trans})]}),cn&&" "]},Ne)})},q.id)})})}),E.jsxs("div",{className:"lg:col-span-4 flex flex-col h-full gap-4 min-h-[500px]",children:[E.jsxs("div",{className:`flex-1 ${z.cardBg} rounded-3xl ${S?"shadow-xl":"shadow-2xl shadow-slate-300/50"} border-2 ${z.cardBorder} flex flex-col overflow-hidden relative`,children:[E.jsxs("div",{className:`flex-1 p-6 overflow-y-auto ${z.bg} space-y-6 custom-scrollbar`,children:[E.jsxs("div",{className:"flex gap-4 animate-in slide-in-from-left-4",children:[E.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:E.jsx(Pd,{className:"w-6 h-6 text-indigo-600"})}),E.jsxs("div",{className:`${z.cardBg} p-5 rounded-3xl rounded-tl-none shadow-sm border ${z.cardBorder} w-full`,children:[E.jsx("p",{className:`text-xs font-bold ${z.secondaryText} uppercase mb-2`,children:ee.learningMode==="listen"?"Nghe v g li":"Dch cu ny"}),ee.learningMode==="listen"?E.jsx("div",{className:`text-lg p-4 rounded-xl border-2 italic font-bold ${S?"bg-purple-900/60 text-purple-100 border-purple-700":"bg-purple-100 text-purple-950 border-purple-300"}`,children:" Nghe audio v g chnh xc nhng g bn nghe c"}):E.jsxs("div",{className:`text-lg p-4 rounded-xl border-2 italic font-bold ${S?"bg-indigo-900/60 text-indigo-100 border-indigo-700":"bg-indigo-100 text-indigo-950 border-indigo-300"}`,children:['"',ee.sentences[fe].segments.map((q,oe)=>{const ye=ee.sentences[fe].segments[oe+1],_e=ye&&!/^[.,!?;:)]/.test(ye.text)?" ":"";return q.text+_e}),'"']})]})]}),ne!=="idle"&&ne!=="checking"&&E.jsxs("div",{className:"flex gap-4 flex-row-reverse animate-in slide-in-from-right-4",children:[E.jsx("div",{className:`w-10 h-10 ${S?"bg-slate-700":"bg-gradient-to-br from-indigo-100 to-purple-100"} rounded-2xl flex items-center justify-center flex-shrink-0`,children:E.jsx("div",{className:`w-6 h-6 rounded-full ${S?"bg-slate-500":"bg-gradient-to-br from-indigo-400 to-purple-500"}`})}),E.jsx("div",{className:`p-5 rounded-3xl rounded-tr-none shadow-lg max-w-[85%] text-lg relative overflow-visible z-10 font-medium border-2 ${S?ne==="correct"?"bg-slate-800 text-white border-green-500":"bg-slate-800 text-white border-red-500":ne==="correct"?"bg-white text-slate-900 border-green-500":"bg-white text-slate-900 border-red-500"}`,children:xa()})]}),ne==="correct"&&E.jsxs("div",{className:"flex gap-4 animate-in slide-in-from-left-4",children:[E.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:E.jsx(zd,{className:"w-6 h-6 text-green-600"})}),E.jsxs("div",{className:`${z.successBg} p-5 rounded-3xl rounded-tl-none border ${S?"border-green-800":"border-green-200"} w-full`,children:[E.jsx("p",{className:`font-bold ${z.successText} text-lg mb-2`,children:"Tuyt vi!"}),St&&E.jsx("p",{className:`text-sm ${z.successText} mb-3 italic`,children:String(St)}),xi&&E.jsxs("div",{className:`mt-3 ${z.cardBg} p-3 rounded-xl border ${z.cardBorder}`,children:[E.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[E.jsx(RS,{className:"w-4 h-4 text-indigo-400"}),E.jsx("span",{className:"text-xs font-bold text-indigo-400 uppercase",children:"p n mu"})]}),E.jsx("p",{className:`${z.text} text-sm italic`,children:xi})]}),E.jsxs("button",{onClick:zo,className:"mt-4 w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg active:scale-95 transition-all",children:["Cu tip theo ",E.jsx(Vc,{className:"w-5 h-5"})]})]})]}),ne==="checking"&&E.jsxs("div",{className:"flex gap-4 animate-in slide-in-from-left-4",children:[E.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-2xl flex items-center justify-center flex-shrink-0 animate-pulse",children:E.jsx(h_,{className:"w-6 h-6 text-indigo-600"})}),E.jsx("div",{className:`${z.cardBg} p-4 rounded-3xl rounded-tl-none border ${z.cardBorder} text-sm italic ${z.secondaryText}`,children:"AI ang kim tra ng ngha cu tr li ca bn..."})]}),ne==="incorrect"&&E.jsxs("div",{className:"flex gap-4 animate-in slide-in-from-left-4",children:[E.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:E.jsx(nA,{className:"w-6 h-6 text-red-600"})}),E.jsxs("div",{className:`${z.errorBg} p-5 rounded-3xl rounded-tl-none border ${S?"border-red-800":"border-red-200"} w-full`,children:[E.jsx("p",{className:`font-bold ${z.errorText} mb-3 text-lg`,children:"Cha chnh xc lm."}),E.jsxs("div",{className:`mb-3 ${z.cardBg} p-4 rounded-xl border ${S?"border-red-500/30":"border-red-200"}`,children:[E.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[E.jsx(h_,{className:"w-4 h-4 text-indigo-400"}),E.jsx("span",{className:"text-xs font-bold text-indigo-400 uppercase",children:"AI Phn tch li sai"})]}),E.jsx("p",{className:`${z.text} text-sm italic leading-relaxed`,children:String(St||"Cu tr li cha st ngha. Hy kim tra t vng v ng php.")})]})]})]}),E.jsx("div",{ref:Mr})]}),E.jsx("div",{className:`p-4 md:p-6 ${z.cardBg} border-t ${z.cardBorder} z-20 transition-colors duration-300`,children:E.jsxs("form",{onSubmit:On,className:"relative group",children:[E.jsx("textarea",{ref:mt,value:$,onChange:q=>ae(q.target.value),disabled:ne==="correct"||ne==="checking",onKeyDown:q=>{q.key==="Enter"&&!q.shiftKey&&(q.preventDefault(),ne!=="correct"&&ne!=="checking"&&On(q))},placeholder:ne==="correct"?"ang ch...":"Nhp cu dch...",className:`w-full p-4 pr-14 rounded-2xl ${z.inputBg} ${z.inputBorder} border-2 focus:border-indigo-500 outline-none resize-none text-base shadow-inner ${z.inputText}`,rows:"2"}),ne!=="correct"&&ne!=="checking"&&E.jsx("button",{type:"submit",disabled:!$.trim(),className:"absolute right-3 top-1/2 -translate-y-1/2 p-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl shadow-lg active:scale-95 disabled:opacity-50 transition-all",children:E.jsx(JS,{className:"w-5 h-5"})})]})})]}),ne!=="correct"&&E.jsx("div",{className:`${z.cardBg} rounded-3xl shadow-lg border ${z.cardBorder} overflow-hidden flex-shrink-0 transition-all duration-300`,children:Wi?E.jsxs("div",{className:`p-5 ${S?"bg-amber-900/20":"bg-amber-50"} animate-in fade-in relative border-2 ${S?"border-amber-900/30":"border-amber-200"}`,children:[E.jsx("button",{onClick:()=>ui(!1),className:`absolute top-3 right-3 p-1.5 rounded-full transition-colors ${S?"bg-white/10 hover:bg-white/20 text-amber-400":"bg-amber-200/50 hover:bg-amber-300/70 text-amber-700"}`,title:"Thu gn",children:E.jsx(TS,{className:"w-4 h-4"})}),E.jsxs("div",{className:"space-y-4",children:[ee.learningMode==="listen"?E.jsxs("div",{children:[E.jsxs("p",{className:`text-xs font-bold ${S?"text-amber-400":"text-amber-600"} uppercase mb-2 flex items-center gap-2`,children:[E.jsx(jc,{className:"w-4 h-4"})," Gi "]}),E.jsx("p",{className:`${z.text} text-sm mb-3 font-medium ${z.cardBg} p-3 rounded-xl border-2 ${S?"border-amber-900/30":"border-amber-300"}`,children:ee.sentences[fe].hint||"Nghe k v ch  chnh t!"})]}):E.jsxs("div",{children:[E.jsxs("p",{className:`text-xs font-bold ${S?"text-amber-400":"text-amber-600"} uppercase mb-2 flex items-center gap-2`,children:[E.jsx(jc,{className:"w-4 h-4"})," Gi  Ng php"]}),E.jsx("p",{className:`${z.text} text-sm mb-3 font-medium ${z.cardBg} p-3 rounded-xl border-2 ${S?"border-amber-900/30":"border-amber-300"}`,children:ee.sentences[fe].grammar_hint})]}),ee.sentences[fe].structure&&E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[E.jsxs("div",{children:[E.jsxs("p",{className:"text-xs font-bold ${isDarkMode ? 'text-amber-400' : 'text-amber-600'} uppercase mb-2 flex items-center gap-2",children:[E.jsx(a_,{className:"w-4 h-4"})," Cu trc"]}),E.jsx("div",{className:`${z.text} text-sm ${z.cardBg} p-2 rounded-lg border-2 ${S?"border-amber-900/30":"border-amber-300"} font-mono text-xs`,children:ee.sentences[fe].structure})]}),E.jsxs("div",{children:[E.jsxs("p",{className:"text-xs font-bold ${isDarkMode ? 'text-amber-400' : 'text-amber-600'} uppercase mb-2 flex items-center gap-2",children:[E.jsx(gS,{className:"w-4 h-4"})," V d"]}),E.jsxs("div",{className:`${z.text} text-sm ${z.cardBg} p-2 rounded-lg border-2 ${S?"border-amber-900/30":"border-amber-300"} italic`,children:[E.jsx("p",{className:"mb-1 text-indigo-400",children:ee.sentences[fe].example_en}),E.jsx("p",{className:"text-xs opacity-80",children:ee.sentences[fe].example_vi})]})]})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-xs font-bold ${isDarkMode ? 'text-amber-400' : 'text-amber-600'} uppercase mb-2",children:"T vng cn dng"}),E.jsx("div",{className:"flex flex-wrap gap-2",children:ee.sentences[fe].vocabulary.map((q,oe)=>E.jsxs("span",{className:`text-xs ${z.cardBg} px-2 py-1 rounded-lg ${S?"text-amber-400":"text-amber-700"} border-2 ${S?"border-amber-900":"border-amber-300"} font-medium`,children:[q.word,": ",q.meaning]},oe))})]}),Cn?E.jsxs("p",{className:`${z.text} font-serif italic text-base border-t ${z.cardBorder} pt-2 mt-2`,children:['"',ee.learningMode==="listen"?ee.sentences[fe].english:ee.sentences[fe].acceptableAnswers[0],'"']}):E.jsx("button",{onClick:Vn,className:`text-xs font-bold ${S?"text-slate-400 hover:text-white":"text-amber-700 hover:text-amber-900"} hover:underline`,children:"Xem p n y "})]})]}):E.jsxs("button",{onClick:Mn,className:`w-full flex items-center justify-center gap-2 py-4 ${S?"text-amber-500 hover:bg-amber-500/10":"bg-gradient-to-r from-amber-50 to-yellow-50 hover:from-amber-100 hover:to-yellow-100 text-amber-700 border-2 border-amber-200"} font-bold text-sm transition-colors`,children:[E.jsx(o_,{className:"w-5 h-5"})," XEM GI "]})})]})]})]})]})}rS.createRoot(document.getElementById("root")).render(E.jsx(be.StrictMode,{children:E.jsx(qN,{})}));
