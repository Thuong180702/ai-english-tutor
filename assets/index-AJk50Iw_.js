(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function Y1(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Md={exports:{}},kl={};var X0;function X1(){if(X0)return kl;X0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:u}}return kl.Fragment=e,kl.jsx=i,kl.jsxs=i,kl}var J0;function J1(){return J0||(J0=1,Md.exports=X1()),Md.exports}var E=J1(),Vd={exports:{}},Re={};var Z0;function Z1(){if(Z0)return Re;Z0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),S=Symbol.iterator;function K(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ie=Object.assign,ne={};function ye(M,F,ae){this.props=M,this.context=F,this.refs=ne,this.updater=ae||W}ye.prototype.isReactComponent={},ye.prototype.setState=function(M,F){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,F,"setState")},ye.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Ee(){}Ee.prototype=ye.prototype;function Te(M,F,ae){this.props=M,this.context=F,this.refs=ne,this.updater=ae||W}var Ve=Te.prototype=new Ee;Ve.constructor=Te,ie(Ve,ye.prototype),Ve.isPureReactComponent=!0;var Ye=Array.isArray;function Me(){}var N={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(M,F,ae){var te=ae.ref;return{$$typeof:s,type:M,key:F,ref:te!==void 0?te:null,props:ae}}function V(M,F){return I(M.type,F,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function L(M){var F={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ae){return F[ae]})}var x=/\/+/g;function ft(M,F){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):F.toString(36)}function Tt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Me,Me):(M.status="pending",M.then(function(F){M.status==="pending"&&(M.status="fulfilled",M.value=F)},function(F){M.status==="pending"&&(M.status="rejected",M.reason=F)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function $(M,F,ae,te,de){var xe=typeof M;(xe==="undefined"||xe==="boolean")&&(M=null);var Ie=!1;if(M===null)Ie=!0;else switch(xe){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(M.$$typeof){case s:case e:Ie=!0;break;case A:return Ie=M._init,$(Ie(M._payload),F,ae,te,de)}}if(Ie)return de=de(M),Ie=te===""?"."+ft(M,0):te,Ye(de)?(ae="",Ie!=null&&(ae=Ie.replace(x,"$&/")+"/"),$(de,F,ae,"",function(Mi){return Mi})):de!=null&&(D(de)&&(de=V(de,ae+(de.key==null||M&&M.key===de.key?"":(""+de.key).replace(x,"$&/")+"/")+Ie)),F.push(de)),1;Ie=0;var St=te===""?".":te+":";if(Ye(M))for(var Pe=0;Pe<M.length;Pe++)te=M[Pe],xe=St+ft(te,Pe),Ie+=$(te,F,ae,xe,de);else if(Pe=K(M),typeof Pe=="function")for(M=Pe.call(M),Pe=0;!(te=M.next()).done;)te=te.value,xe=St+ft(te,Pe++),Ie+=$(te,F,ae,xe,de);else if(xe==="object"){if(typeof M.then=="function")return $(Tt(M),F,ae,te,de);throw F=String(M),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function re(M,F,ae){if(M==null)return M;var te=[],de=0;return $(M,te,"","",function(xe){return F.call(ae,xe,de++)}),te}function ee(M){if(M._status===-1){var F=M._result;F=F(),F.then(function(ae){(M._status===0||M._status===-1)&&(M._status=1,M._result=ae)},function(ae){(M._status===0||M._status===-1)&&(M._status=2,M._result=ae)}),M._status===-1&&(M._status=0,M._result=F)}if(M._status===1)return M._result.default;throw M._result}var Fe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},he={map:re,forEach:function(M,F,ae){re(M,function(){F.apply(this,arguments)},ae)},count:function(M){var F=0;return re(M,function(){F++}),F},toArray:function(M){return re(M,function(F){return F})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Re.Activity=w,Re.Children=he,Re.Component=ye,Re.Fragment=i,Re.Profiler=l,Re.PureComponent=Te,Re.StrictMode=r,Re.Suspense=y,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Re.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},Re.cache=function(M){return function(){return M.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(M,F,ae){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var te=ie({},M.props),de=M.key;if(F!=null)for(xe in F.key!==void 0&&(de=""+F.key),F)!R.call(F,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&F.ref===void 0||(te[xe]=F[xe]);var xe=arguments.length-2;if(xe===1)te.children=ae;else if(1<xe){for(var Ie=Array(xe),St=0;St<xe;St++)Ie[St]=arguments[St+2];te.children=Ie}return I(M.type,de,te)},Re.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Re.createElement=function(M,F,ae){var te,de={},xe=null;if(F!=null)for(te in F.key!==void 0&&(xe=""+F.key),F)R.call(F,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(de[te]=F[te]);var Ie=arguments.length-2;if(Ie===1)de.children=ae;else if(1<Ie){for(var St=Array(Ie),Pe=0;Pe<Ie;Pe++)St[Pe]=arguments[Pe+2];de.children=St}if(M&&M.defaultProps)for(te in Ie=M.defaultProps,Ie)de[te]===void 0&&(de[te]=Ie[te]);return I(M,xe,de)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(M){return{$$typeof:g,render:M}},Re.isValidElement=D,Re.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:ee}},Re.memo=function(M,F){return{$$typeof:_,type:M,compare:F===void 0?null:F}},Re.startTransition=function(M){var F=N.T,ae={};N.T=ae;try{var te=M(),de=N.S;de!==null&&de(ae,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(Me,Fe)}catch(xe){Fe(xe)}finally{F!==null&&ae.types!==null&&(F.types=ae.types),N.T=F}},Re.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Re.use=function(M){return N.H.use(M)},Re.useActionState=function(M,F,ae){return N.H.useActionState(M,F,ae)},Re.useCallback=function(M,F){return N.H.useCallback(M,F)},Re.useContext=function(M){return N.H.useContext(M)},Re.useDebugValue=function(){},Re.useDeferredValue=function(M,F){return N.H.useDeferredValue(M,F)},Re.useEffect=function(M,F){return N.H.useEffect(M,F)},Re.useEffectEvent=function(M){return N.H.useEffectEvent(M)},Re.useId=function(){return N.H.useId()},Re.useImperativeHandle=function(M,F,ae){return N.H.useImperativeHandle(M,F,ae)},Re.useInsertionEffect=function(M,F){return N.H.useInsertionEffect(M,F)},Re.useLayoutEffect=function(M,F){return N.H.useLayoutEffect(M,F)},Re.useMemo=function(M,F){return N.H.useMemo(M,F)},Re.useOptimistic=function(M,F){return N.H.useOptimistic(M,F)},Re.useReducer=function(M,F,ae){return N.H.useReducer(M,F,ae)},Re.useRef=function(M){return N.H.useRef(M)},Re.useState=function(M){return N.H.useState(M)},Re.useSyncExternalStore=function(M,F,ae){return N.H.useSyncExternalStore(M,F,ae)},Re.useTransition=function(){return N.H.useTransition()},Re.version="19.2.0",Re}var W0;function Dm(){return W0||(W0=1,Vd.exports=Z1()),Vd.exports}var ve=Dm();const W1=Y1(ve);var kd={exports:{}},Ll={},Ld={exports:{}},jd={};var e_;function eS(){return e_||(e_=1,(function(s){function e($,re){var ee=$.length;$.push(re);e:for(;0<ee;){var Fe=ee-1>>>1,he=$[Fe];if(0<l(he,re))$[Fe]=re,$[ee]=he,ee=Fe;else break e}}function i($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var re=$[0],ee=$.pop();if(ee!==re){$[0]=ee;e:for(var Fe=0,he=$.length,M=he>>>1;Fe<M;){var F=2*(Fe+1)-1,ae=$[F],te=F+1,de=$[te];if(0>l(ae,ee))te<he&&0>l(de,ae)?($[Fe]=de,$[te]=ee,Fe=te):($[Fe]=ae,$[F]=ee,Fe=F);else if(te<he&&0>l(de,ee))$[Fe]=de,$[te]=ee,Fe=te;else break e}}return re}function l($,re){var ee=$.sortIndex-re.sortIndex;return ee!==0?ee:$.id-re.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],_=[],A=1,w=null,S=3,K=!1,W=!1,ie=!1,ne=!1,ye=typeof setTimeout=="function"?setTimeout:null,Ee=typeof clearTimeout=="function"?clearTimeout:null,Te=typeof setImmediate<"u"?setImmediate:null;function Ve($){for(var re=i(_);re!==null;){if(re.callback===null)r(_);else if(re.startTime<=$)r(_),re.sortIndex=re.expirationTime,e(y,re);else break;re=i(_)}}function Ye($){if(ie=!1,Ve($),!W)if(i(y)!==null)W=!0,Me||(Me=!0,L());else{var re=i(_);re!==null&&Tt(Ye,re.startTime-$)}}var Me=!1,N=-1,R=5,I=-1;function V(){return ne?!0:!(s.unstable_now()-I<R)}function D(){if(ne=!1,Me){var $=s.unstable_now();I=$;var re=!0;try{e:{W=!1,ie&&(ie=!1,Ee(N),N=-1),K=!0;var ee=S;try{t:{for(Ve($),w=i(y);w!==null&&!(w.expirationTime>$&&V());){var Fe=w.callback;if(typeof Fe=="function"){w.callback=null,S=w.priorityLevel;var he=Fe(w.expirationTime<=$);if($=s.unstable_now(),typeof he=="function"){w.callback=he,Ve($),re=!0;break t}w===i(y)&&r(y),Ve($)}else r(y);w=i(y)}if(w!==null)re=!0;else{var M=i(_);M!==null&&Tt(Ye,M.startTime-$),re=!1}}break e}finally{w=null,S=ee,K=!1}re=void 0}}finally{re?L():Me=!1}}}var L;if(typeof Te=="function")L=function(){Te(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ft=x.port2;x.port1.onmessage=D,L=function(){ft.postMessage(null)}}else L=function(){ye(D,0)};function Tt($,re){N=ye(function(){$(s.unstable_now())},re)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function($){$.callback=null},s.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function($){switch(S){case 1:case 2:case 3:var re=3;break;default:re=S}var ee=S;S=re;try{return $()}finally{S=ee}},s.unstable_requestPaint=function(){ne=!0},s.unstable_runWithPriority=function($,re){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ee=S;S=$;try{return re()}finally{S=ee}},s.unstable_scheduleCallback=function($,re,ee){var Fe=s.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Fe+ee:Fe):ee=Fe,$){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=ee+he,$={id:A++,callback:re,priorityLevel:$,startTime:ee,expirationTime:he,sortIndex:-1},ee>Fe?($.sortIndex=ee,e(_,$),i(y)===null&&$===i(_)&&(ie?(Ee(N),N=-1):ie=!0,Tt(Ye,ee-Fe))):($.sortIndex=he,e(y,$),W||K||(W=!0,Me||(Me=!0,L()))),$},s.unstable_shouldYield=V,s.unstable_wrapCallback=function($){var re=S;return function(){var ee=S;S=re;try{return $.apply(this,arguments)}finally{S=ee}}}})(jd)),jd}var t_;function tS(){return t_||(t_=1,Ld.exports=eS()),Ld.exports}var Ud={exports:{}},fn={};var n_;function nS(){if(n_)return fn;n_=1;var s=Dm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,_,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:y,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fn.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(y,_,null,A)},fn.flushSync=function(y){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=_,r.p=A,r.d.f()}},fn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},fn.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},fn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,w=g(A,_.crossOrigin),S=typeof _.integrity=="string"?_.integrity:void 0,K=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:K}):A==="script"&&r.d.X(y,{crossOrigin:w,integrity:S,fetchPriority:K,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},fn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},fn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,w=g(A,_.crossOrigin);r.d.L(y,A,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},fn.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=g(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},fn.requestFormReset=function(y){r.d.r(y)},fn.unstable_batchedUpdates=function(y,_){return y(_)},fn.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},fn.useFormStatus=function(){return d.H.useHostTransitionStatus()},fn.version="19.2.0",fn}var i_;function iS(){if(i_)return Ud.exports;i_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ud.exports=nS(),Ud.exports}var s_;function sS(){if(s_)return Ll;s_=1;var s=tS(),e=Dm(),i=iS();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),t;if(f===o)return y(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var p=!1,b=h.child;b;){if(b===a){p=!0,a=h,o=f;break}if(b===o){p=!0,o=h,a=f;break}b=b.sibling}if(!p){for(b=f.child;b;){if(b===a){p=!0,a=f,o=h;break}if(b===o){p=!0,o=f,a=h;break}b=b.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,S=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),ye=Symbol.for("react.profiler"),Ee=Symbol.for("react.consumer"),Te=Symbol.for("react.context"),Ve=Symbol.for("react.forward_ref"),Ye=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function ft(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ie:return"Fragment";case ye:return"Profiler";case ne:return"StrictMode";case Ye:return"Suspense";case Me:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case Te:return t.displayName||"Context";case Ee:return(t._context.displayName||"Context")+".Consumer";case Ve:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:ft(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return ft(t(n))}catch{}}return null}var Tt=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Fe=[],he=-1;function M(t){return{current:t}}function F(t){0>he||(t.current=Fe[he],Fe[he]=null,he--)}function ae(t,n){he++,Fe[he]=t.current,t.current=n}var te=M(null),de=M(null),xe=M(null),Ie=M(null);function St(t,n){switch(ae(xe,n),ae(de,t),ae(te,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?v0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=v0(n),t=E0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}F(te),ae(te,t)}function Pe(){F(te),F(de),F(xe)}function Mi(t){t.memoizedState!==null&&ae(Ie,t);var n=te.current,a=E0(n,t.type);n!==a&&(ae(de,t),ae(te,a))}function Sn(t){de.current===t&&(F(te),F(de)),Ie.current===t&&(F(Ie),Dl._currentValue=ee)}var os,gi;function kn(t){if(os===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);os=n&&n[1]||"",gi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+os+t+gi}var ls=!1;function en(t,n){if(!t||ls)return"";ls=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(G){var B=G}Reflect.construct(t,[],X)}else{try{X.call()}catch(G){B=G}t.call(X.prototype)}}else{try{throw Error()}catch(G){B=G}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(G){if(G&&B&&typeof G.stack=="string")return[G.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],b=f[1];if(p&&b){var C=p.split(`
`),z=b.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var Q=`
`+C[o].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=o&&0<=h);break}}}finally{ls=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?kn(a):""}function Vi(t,n){switch(t.tag){case 26:case 27:case 5:return kn(t.type);case 16:return kn("Lazy");case 13:return t.child!==n&&n!==null?kn("Suspense Fallback"):kn("Suspense");case 19:return kn("SuspenseList");case 0:case 15:return en(t.type,!1);case 11:return en(t.type.render,!1);case 1:return en(t.type,!0);case 31:return kn("Activity");default:return""}}function cs(t){try{var n="",a=null;do n+=Vi(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _t=Object.prototype.hasOwnProperty,Dt=s.unstable_scheduleCallback,Ln=s.unstable_cancelCallback,jt=s.unstable_shouldYield,Bs=s.unstable_requestPaint,Ut=s.unstable_now,us=s.unstable_getCurrentPriorityLevel,ki=s.unstable_ImmediatePriority,hs=s.unstable_UserBlockingPriority,Li=s.unstable_NormalPriority,wa=s.unstable_LowPriority,Yn=s.unstable_IdlePriority,pi=s.log,Ur=s.unstable_setDisableYieldValue,jn=null,dt=null;function hn(t){if(typeof pi=="function"&&Ur(t),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(jn,t)}catch{}}var wt=Math.clz32?Math.clz32:qs,Pr=Math.log,zr=Math.LN2;function qs(t){return t>>>=0,t===0?32:31-(Pr(t)/zr|0)|0}var xt=256,An=262144,vt=4194304;function Un(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Xn(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var b=o&134217727;return b!==0?(o=b&~f,o!==0?h=Un(o):(p&=b,p!==0?h=Un(p):a||(a=b&~t,a!==0&&(h=Un(a))))):(b=o&~f,b!==0?h=Un(b):p!==0?h=Un(p):a||(a=o&~t,a!==0&&(h=Un(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Pn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Bo(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xa(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function Jn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function fs(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qo(t,n,a,o,h,f){var p=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(a=p&~a;0<a;){var Q=31-wt(a),X=1<<Q;b[Q]=0,C[Q]=-1;var B=z[Q];if(B!==null)for(z[Q]=null,Q=0;Q<B.length;Q++){var G=B[Q];G!==null&&(G.lane&=-536870913)}a&=~X}o!==0&&ds(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function ds(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-wt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Hs(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-wt(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Br(t,n){var a=n&-n;return a=(a&42)!==0?1:ji(a),(a&(t.suspendedLanes|n))!==0?0:a}function ji(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Zn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function qr(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:H0(t.type))}function zn(t,n){var a=re.p;try{return re.p=t,n()}finally{re.p=a}}var Bn=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Bn,Pt="__reactProps$"+Bn,Wn="__reactContainer$"+Bn,Gs="__reactEvents$"+Bn,Ho="__reactListeners$"+Bn,Ra="__reactHandles$"+Bn,Ca="__reactResources$"+Bn,yn="__reactMarker$"+Bn;function ms(t){delete t[Rt],delete t[Pt],delete t[Gs],delete t[Ho],delete t[Ra]}function ei(t){var n=t[Rt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Wn]||a[Rt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=R0(t);t!==null;){if(a=t[Rt])return a;t=R0(t)}return n}t=a,a=t.parentNode}return null}function wn(t){if(t=t[Rt]||t[Wn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function _n(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function U(t){var n=t[Ca];return n||(n=t[Ca]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ct(t){t[yn]=!0}var q=new Set,oe={};function me(t,n){_e(t,n),_e(t+"Capture",n)}function _e(t,n){for(oe[t]=n,t=0;t<n.length;t++)q.add(n[t])}var ke=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ot={},at={};function Le(t){return _t.call(at,t)?!0:_t.call(Ot,t)?!1:ke.test(t)?at[t]=!0:(Ot[t]=!0,!1)}function zt(t,n,a){if(Le(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function tn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Xe(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function nt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xn(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function yi(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function We(t){if(!t._valueTracker){var n=xn(t)?"checked":"value";t._valueTracker=yi(t,n,""+t[n])}}function _i(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=xn(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function vn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ui=/[\n"\\]/g;function Rn(t){return t.replace(Ui,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ia(t,n,a,o,h,f,p,b){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+nt(n)):t.value!==""+nt(n)&&(t.value=""+nt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Go(t,p,nt(n)):a!=null?Go(t,p,nt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+nt(b):t.removeAttribute("name")}function pc(t,n,a,o,h,f,p,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){We(t);return}a=a!=null?""+nt(a):"",n=n!=null?""+nt(n):a,b||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=b?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),We(t)}function Go(t,n,a){n==="number"&&vn(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Fs(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+nt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function yc(t,n,a){if(n!=null&&(n=""+nt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+nt(a):""}function $s(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Tt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=nt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),We(t)}function Cn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var _c=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fo(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||_c.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function $o(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Fo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Fo(t,f,n[f])}function Na(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Da(t){return Qs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function vi(){}var Qo=null;function ti(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ks=null,Pi=null;function Hr(t){var n=wn(t);if(n&&(t=n.stateNode)){var a=t[Pt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ia(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Rn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Pt]||null;if(!h)throw Error(r(90));Ia(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&_i(o)}break e;case"textarea":yc(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Fs(t,!!a.multiple,n,!1)}}}var Oa=!1;function Ys(t,n,a){if(Oa)return t(n,a);Oa=!0;try{var o=t(n);return o}finally{if(Oa=!1,(Ks!==null||Pi!==null)&&(fu(),Ks&&(n=Ks,t=Pi,Pi=Ks=null,Hr(n),t)))for(n=0;n<t.length;n++)Hr(t[n])}}function Ei(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Pt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gr=!1;if(ni)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){Gr=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{Gr=!1}var zi=null,Ko=null,Fr=null;function Yo(){if(Fr)return Fr;var t,n=Ko,a=n.length,o,h="value"in zi?zi.value:zi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var p=a-t;for(o=1;o<=p&&n[a-o]===h[f-o];o++);return Fr=h.slice(t,1<o?1-o:void 0)}function $r(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function gs(){return!0}function bi(){return!1}function nn(t){function n(a,o,h,f,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?gs:bi,this.isPropagationStopped=bi,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),n}var ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bi=nn(ps),Xs=w({},ps,{view:0,detail:0}),Xo=nn(Xs),Js,Ma,qi,Va=w({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qi&&(qi&&t.type==="mousemove"?(Js=t.screenX-qi.screenX,Ma=t.screenY-qi.screenY):Ma=Js=0,qi=t),Js)},movementY:function(t){return"movementY"in t?t.movementY:Ma}}),Jo=nn(Va),Qr=w({},Va,{dataTransfer:0}),Ec=nn(Qr),bc=w({},Xs,{relatedTarget:0}),Kr=nn(bc),Zo=w({},ps,{animationName:0,elapsedTime:0,pseudoElement:0}),Tc=nn(Zo),ka=w({},ps,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sc=nn(ka),Ac=w({},ps,{data:0}),Hi=nn(Ac),wc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cc(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Rc[t])?!!n[t]:!1}function Zs(){return Cc}var En=w({},Xs,{key:function(t){if(t.key){var n=wc[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=$r(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zs,charCode:function(t){return t.type==="keypress"?$r(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$r(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ic=nn(En),Nc=w({},Va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ys=nn(Nc),c=w({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zs}),m=nn(c),v=w({},ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=nn(v),j=w({},Va,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=nn(j),se=w({},ps,{newState:0,oldState:0}),Ne=nn(se),Mt=[9,13,27,32],et=ni&&"CompositionEvent"in window,Et=null;ni&&"documentMode"in document&&(Et=document.documentMode);var ii=ni&&"TextEvent"in window&&!Et,Gi=ni&&(!et||Et&&8<Et&&11>=Et),Ti=" ",Si=!1;function Yr(t,n){switch(t){case"keyup":return Mt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function La(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ja=!1;function vT(t,n){switch(t){case"compositionend":return La(n);case"keypress":return n.which!==32?null:(Si=!0,Ti);case"textInput":return t=n.data,t===Ti&&Si?null:t;default:return null}}function ET(t,n){if(ja)return t==="compositionend"||!et&&Yr(t,n)?(t=Yo(),Fr=Ko=zi=null,ja=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Gi&&n.locale!=="ko"?null:n.data;default:return null}}var bT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ng(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!bT[t.type]:n==="textarea"}function Dg(t,n,a,o){Ks?Pi?Pi.push(o):Pi=[o]:Ks=o,n=vu(n,"onChange"),0<n.length&&(a=new Bi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Wo=null,el=null;function TT(t){d0(t,0)}function Dc(t){var n=_n(t);if(_i(n))return t}function Og(t,n){if(t==="change")return n}var Mg=!1;if(ni){var Ph;if(ni){var zh="oninput"in document;if(!zh){var Vg=document.createElement("div");Vg.setAttribute("oninput","return;"),zh=typeof Vg.oninput=="function"}Ph=zh}else Ph=!1;Mg=Ph&&(!document.documentMode||9<document.documentMode)}function kg(){Wo&&(Wo.detachEvent("onpropertychange",Lg),el=Wo=null)}function Lg(t){if(t.propertyName==="value"&&Dc(el)){var n=[];Dg(n,el,t,ti(t)),Ys(TT,n)}}function ST(t,n,a){t==="focusin"?(kg(),Wo=n,el=a,Wo.attachEvent("onpropertychange",Lg)):t==="focusout"&&kg()}function AT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dc(el)}function wT(t,n){if(t==="click")return Dc(n)}function xT(t,n){if(t==="input"||t==="change")return Dc(n)}function RT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var qn=typeof Object.is=="function"?Object.is:RT;function tl(t,n){if(qn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!_t.call(n,h)||!qn(t[h],n[h]))return!1}return!0}function jg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ug(t,n){var a=jg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=jg(a)}}function Pg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Pg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function zg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=vn(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=vn(t.document)}return n}function Bh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var CT=ni&&"documentMode"in document&&11>=document.documentMode,Ua=null,qh=null,nl=null,Hh=!1;function Bg(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hh||Ua==null||Ua!==vn(o)||(o=Ua,"selectionStart"in o&&Bh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),nl&&tl(nl,o)||(nl=o,o=vu(qh,"onSelect"),0<o.length&&(n=new Bi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=Ua)))}function Xr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Pa={animationend:Xr("Animation","AnimationEnd"),animationiteration:Xr("Animation","AnimationIteration"),animationstart:Xr("Animation","AnimationStart"),transitionrun:Xr("Transition","TransitionRun"),transitionstart:Xr("Transition","TransitionStart"),transitioncancel:Xr("Transition","TransitionCancel"),transitionend:Xr("Transition","TransitionEnd")},Gh={},qg={};ni&&(qg=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function Jr(t){if(Gh[t])return Gh[t];if(!Pa[t])return t;var n=Pa[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in qg)return Gh[t]=n[a];return t}var Hg=Jr("animationend"),Gg=Jr("animationiteration"),Fg=Jr("animationstart"),IT=Jr("transitionrun"),NT=Jr("transitionstart"),DT=Jr("transitioncancel"),$g=Jr("transitionend"),Qg=new Map,Fh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fh.push("scrollEnd");function Ai(t,n){Qg.set(t,n),me(n,[t])}var Oc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},si=[],za=0,$h=0;function Mc(){for(var t=za,n=$h=za=0;n<t;){var a=si[n];si[n++]=null;var o=si[n];si[n++]=null;var h=si[n];si[n++]=null;var f=si[n];if(si[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Kg(a,h,f)}}function Vc(t,n,a,o){si[za++]=t,si[za++]=n,si[za++]=a,si[za++]=o,$h|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Qh(t,n,a,o){return Vc(t,n,a,o),kc(t)}function Zr(t,n){return Vc(t,null,null,n),kc(t)}function Kg(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-wt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function kc(t){if(50<Al)throw Al=0,id=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ba={};function OT(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(t,n,a,o){return new OT(t,n,a,o)}function Kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _s(t,n){var a=t.alternate;return a===null?(a=Hn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Yg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Lc(t,n,a,o,h,f){var p=0;if(o=t,typeof t=="function")Kh(t)&&(p=1);else if(typeof t=="string")p=j1(t,a,te.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Hn(31,a,n,h),t.elementType=I,t.lanes=f,t;case ie:return Wr(a.children,h,f,n);case ne:p=8,h|=24;break;case ye:return t=Hn(12,a,n,h|2),t.elementType=ye,t.lanes=f,t;case Ye:return t=Hn(13,a,n,h),t.elementType=Ye,t.lanes=f,t;case Me:return t=Hn(19,a,n,h),t.elementType=Me,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Te:p=10;break e;case Ee:p=9;break e;case Ve:p=11;break e;case N:p=14;break e;case R:p=16,o=null;break e}p=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=Hn(p,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Wr(t,n,a,o){return t=Hn(7,t,o,n),t.lanes=a,t}function Yh(t,n,a){return t=Hn(6,t,null,n),t.lanes=a,t}function Xg(t){var n=Hn(18,null,null,0);return n.stateNode=t,n}function Xh(t,n,a){return n=Hn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Jg=new WeakMap;function ri(t,n){if(typeof t=="object"&&t!==null){var a=Jg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:cs(n)},Jg.set(t,n),n)}return{value:t,source:n,stack:cs(n)}}var qa=[],Ha=0,jc=null,il=0,ai=[],oi=0,Ws=null,Fi=1,$i="";function vs(t,n){qa[Ha++]=il,qa[Ha++]=jc,jc=t,il=n}function Zg(t,n,a){ai[oi++]=Fi,ai[oi++]=$i,ai[oi++]=Ws,Ws=t;var o=Fi;t=$i;var h=32-wt(o)-1;o&=~(1<<h),a+=1;var f=32-wt(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Fi=1<<32-wt(n)+h|a<<h|o,$i=f+t}else Fi=1<<f|a<<h|o,$i=t}function Jh(t){t.return!==null&&(vs(t,1),Zg(t,1,0))}function Zh(t){for(;t===jc;)jc=qa[--Ha],qa[Ha]=null,il=qa[--Ha],qa[Ha]=null;for(;t===Ws;)Ws=ai[--oi],ai[oi]=null,$i=ai[--oi],ai[oi]=null,Fi=ai[--oi],ai[oi]=null}function Wg(t,n){ai[oi++]=Fi,ai[oi++]=$i,ai[oi++]=Ws,Fi=n.id,$i=n.overflow,Ws=t}var sn=null,gt=null,$e=!1,er=null,li=!1,Wh=Error(r(519));function tr(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sl(ri(n,t)),Wh}function ep(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Rt]=t,n[Pt]=o,a){case"dialog":Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":case"embed":Ue("load",n);break;case"video":case"audio":for(a=0;a<xl.length;a++)Ue(xl[a],n);break;case"source":Ue("error",n);break;case"img":case"image":case"link":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"input":Ue("invalid",n),pc(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ue("invalid",n);break;case"textarea":Ue("invalid",n),$s(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||y0(n.textContent,a)?(o.popover!=null&&(Ue("beforetoggle",n),Ue("toggle",n)),o.onScroll!=null&&Ue("scroll",n),o.onScrollEnd!=null&&Ue("scrollend",n),o.onClick!=null&&(n.onclick=vi),n=!0):n=!1,n||tr(t,!0)}function tp(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 31:case 13:li=!1;return;case 27:case 3:li=!0;return;default:sn=sn.return}}function Ga(t){if(t!==sn)return!1;if(!$e)return tp(t),$e=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||_d(t.type,t.memoizedProps)),a=!a),a&&gt&&tr(t),tp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));gt=x0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));gt=x0(t)}else n===27?(n=gt,gr(t.type)?(t=Sd,Sd=null,gt=t):gt=n):gt=sn?ui(t.stateNode.nextSibling):null;return!0}function ea(){gt=sn=null,$e=!1}function ef(){var t=er;return t!==null&&(On===null?On=t:On.push.apply(On,t),er=null),t}function sl(t){er===null?er=[t]:er.push(t)}var tf=M(null),ta=null,Es=null;function nr(t,n,a){ae(tf,n._currentValue),n._currentValue=a}function bs(t){t._currentValue=tf.current,F(tf)}function nf(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function sf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var C=0;C<n.length;C++)if(b.context===n[C]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),nf(f.return,a,t),o||(p=null);break e}f=b.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),nf(p,a,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Fa(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var b=h.type;qn(h.pendingProps.value,p.value)||(t!==null?t.push(b):t=[b])}}else if(h===Ie.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Dl):t=[Dl])}h=h.return}t!==null&&sf(n,t,a,o),n.flags|=262144}function Uc(t){for(t=t.firstContext;t!==null;){if(!qn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function na(t){ta=t,Es=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function rn(t){return np(ta,t)}function Pc(t,n){return ta===null&&na(t),np(t,n)}function np(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Es===null){if(t===null)throw Error(r(308));Es=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Es=Es.next=n;return a}var MT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},VT=s.unstable_scheduleCallback,kT=s.unstable_NormalPriority,Bt={$$typeof:Te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new MT,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&VT(kT,function(){t.controller.abort()})}var al=null,af=0,$a=0,Qa=null;function LT(t,n){if(al===null){var a=al=[];af=0,$a=cd(),Qa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return af++,n.then(ip,ip),n}function ip(){if(--af===0&&al!==null){Qa!==null&&(Qa.status="fulfilled");var t=al;al=null,$a=0,Qa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function jT(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var sp=$.S;$.S=function(t,n){By=Ut(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&LT(t,n),sp!==null&&sp(t,n)};var ia=M(null);function of(){var t=ia.current;return t!==null?t:ht.pooledCache}function zc(t,n){n===null?ae(ia,ia.current):ae(ia,n.pool)}function rp(){var t=of();return t===null?null:{parent:Bt._currentValue,pool:t}}var Ka=Error(r(460)),lf=Error(r(474)),Bc=Error(r(542)),qc={then:function(){}};function ap(t){return t=t.status,t==="fulfilled"||t==="rejected"}function op(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(vi,vi),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cp(t),t;default:if(typeof n.status=="string")n.then(vi,vi);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cp(t),t}throw ra=n,Ka}}function sa(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ra=a,Ka):a}}var ra=null;function lp(){if(ra===null)throw Error(r(459));var t=ra;return ra=null,t}function cp(t){if(t===Ka||t===Bc)throw Error(r(483))}var Ya=null,ol=0;function Hc(t){var n=ol;return ol+=1,Ya===null&&(Ya=[]),op(Ya,t,n)}function ll(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Gc(t,n){throw n.$$typeof===S?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function up(t){function n(k,O){if(t){var P=k.deletions;P===null?(k.deletions=[O],k.flags|=16):P.push(O)}}function a(k,O){if(!t)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=_s(k,O),k.index=0,k.sibling=null,k}function f(k,O,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<O?(k.flags|=67108866,O):P):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function b(k,O,P,Y){return O===null||O.tag!==6?(O=Yh(P,k.mode,Y),O.return=k,O):(O=h(O,P),O.return=k,O)}function C(k,O,P,Y){var ge=P.type;return ge===ie?Q(k,O,P.props.children,Y,P.key):O!==null&&(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&sa(ge)===O.type)?(O=h(O,P.props),ll(O,P),O.return=k,O):(O=Lc(P.type,P.key,P.props,null,k.mode,Y),ll(O,P),O.return=k,O)}function z(k,O,P,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Xh(P,k.mode,Y),O.return=k,O):(O=h(O,P.children||[]),O.return=k,O)}function Q(k,O,P,Y,ge){return O===null||O.tag!==7?(O=Wr(P,k.mode,Y,ge),O.return=k,O):(O=h(O,P),O.return=k,O)}function X(k,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Yh(""+O,k.mode,P),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case K:return P=Lc(O.type,O.key,O.props,null,k.mode,P),ll(P,O),P.return=k,P;case W:return O=Xh(O,k.mode,P),O.return=k,O;case R:return O=sa(O),X(k,O,P)}if(Tt(O)||L(O))return O=Wr(O,k.mode,P,null),O.return=k,O;if(typeof O.then=="function")return X(k,Hc(O),P);if(O.$$typeof===Te)return X(k,Pc(k,O),P);Gc(k,O)}return null}function B(k,O,P,Y){var ge=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ge!==null?null:b(k,O,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case K:return P.key===ge?C(k,O,P,Y):null;case W:return P.key===ge?z(k,O,P,Y):null;case R:return P=sa(P),B(k,O,P,Y)}if(Tt(P)||L(P))return ge!==null?null:Q(k,O,P,Y,null);if(typeof P.then=="function")return B(k,O,Hc(P),Y);if(P.$$typeof===Te)return B(k,O,Pc(k,P),Y);Gc(k,P)}return null}function G(k,O,P,Y,ge){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(P)||null,b(O,k,""+Y,ge);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case K:return k=k.get(Y.key===null?P:Y.key)||null,C(O,k,Y,ge);case W:return k=k.get(Y.key===null?P:Y.key)||null,z(O,k,Y,ge);case R:return Y=sa(Y),G(k,O,P,Y,ge)}if(Tt(Y)||L(Y))return k=k.get(P)||null,Q(O,k,Y,ge,null);if(typeof Y.then=="function")return G(k,O,P,Hc(Y),ge);if(Y.$$typeof===Te)return G(k,O,P,Pc(O,Y),ge);Gc(O,Y)}return null}function ue(k,O,P,Y){for(var ge=null,Je=null,fe=O,Oe=O=0,Be=null;fe!==null&&Oe<P.length;Oe++){fe.index>Oe?(Be=fe,fe=null):Be=fe.sibling;var Ze=B(k,fe,P[Oe],Y);if(Ze===null){fe===null&&(fe=Be);break}t&&fe&&Ze.alternate===null&&n(k,fe),O=f(Ze,O,Oe),Je===null?ge=Ze:Je.sibling=Ze,Je=Ze,fe=Be}if(Oe===P.length)return a(k,fe),$e&&vs(k,Oe),ge;if(fe===null){for(;Oe<P.length;Oe++)fe=X(k,P[Oe],Y),fe!==null&&(O=f(fe,O,Oe),Je===null?ge=fe:Je.sibling=fe,Je=fe);return $e&&vs(k,Oe),ge}for(fe=o(fe);Oe<P.length;Oe++)Be=G(fe,k,Oe,P[Oe],Y),Be!==null&&(t&&Be.alternate!==null&&fe.delete(Be.key===null?Oe:Be.key),O=f(Be,O,Oe),Je===null?ge=Be:Je.sibling=Be,Je=Be);return t&&fe.forEach(function(Er){return n(k,Er)}),$e&&vs(k,Oe),ge}function be(k,O,P,Y){if(P==null)throw Error(r(151));for(var ge=null,Je=null,fe=O,Oe=O=0,Be=null,Ze=P.next();fe!==null&&!Ze.done;Oe++,Ze=P.next()){fe.index>Oe?(Be=fe,fe=null):Be=fe.sibling;var Er=B(k,fe,Ze.value,Y);if(Er===null){fe===null&&(fe=Be);break}t&&fe&&Er.alternate===null&&n(k,fe),O=f(Er,O,Oe),Je===null?ge=Er:Je.sibling=Er,Je=Er,fe=Be}if(Ze.done)return a(k,fe),$e&&vs(k,Oe),ge;if(fe===null){for(;!Ze.done;Oe++,Ze=P.next())Ze=X(k,Ze.value,Y),Ze!==null&&(O=f(Ze,O,Oe),Je===null?ge=Ze:Je.sibling=Ze,Je=Ze);return $e&&vs(k,Oe),ge}for(fe=o(fe);!Ze.done;Oe++,Ze=P.next())Ze=G(fe,k,Oe,Ze.value,Y),Ze!==null&&(t&&Ze.alternate!==null&&fe.delete(Ze.key===null?Oe:Ze.key),O=f(Ze,O,Oe),Je===null?ge=Ze:Je.sibling=Ze,Je=Ze);return t&&fe.forEach(function(K1){return n(k,K1)}),$e&&vs(k,Oe),ge}function ut(k,O,P,Y){if(typeof P=="object"&&P!==null&&P.type===ie&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case K:e:{for(var ge=P.key;O!==null;){if(O.key===ge){if(ge=P.type,ge===ie){if(O.tag===7){a(k,O.sibling),Y=h(O,P.props.children),Y.return=k,k=Y;break e}}else if(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&sa(ge)===O.type){a(k,O.sibling),Y=h(O,P.props),ll(Y,P),Y.return=k,k=Y;break e}a(k,O);break}else n(k,O);O=O.sibling}P.type===ie?(Y=Wr(P.props.children,k.mode,Y,P.key),Y.return=k,k=Y):(Y=Lc(P.type,P.key,P.props,null,k.mode,Y),ll(Y,P),Y.return=k,k=Y)}return p(k);case W:e:{for(ge=P.key;O!==null;){if(O.key===ge)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){a(k,O.sibling),Y=h(O,P.children||[]),Y.return=k,k=Y;break e}else{a(k,O);break}else n(k,O);O=O.sibling}Y=Xh(P,k.mode,Y),Y.return=k,k=Y}return p(k);case R:return P=sa(P),ut(k,O,P,Y)}if(Tt(P))return ue(k,O,P,Y);if(L(P)){if(ge=L(P),typeof ge!="function")throw Error(r(150));return P=ge.call(P),be(k,O,P,Y)}if(typeof P.then=="function")return ut(k,O,Hc(P),Y);if(P.$$typeof===Te)return ut(k,O,Pc(k,P),Y);Gc(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(a(k,O.sibling),Y=h(O,P),Y.return=k,k=Y):(a(k,O),Y=Yh(P,k.mode,Y),Y.return=k,k=Y),p(k)):a(k,O)}return function(k,O,P,Y){try{ol=0;var ge=ut(k,O,P,Y);return Ya=null,ge}catch(fe){if(fe===Ka||fe===Bc)throw fe;var Je=Hn(29,fe,null,k.mode);return Je.lanes=Y,Je.return=k,Je}finally{}}}var aa=up(!0),hp=up(!1),ir=!1;function cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function sr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function rr(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(tt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=kc(t),Kg(t,null,a),n}return Vc(t,o,n,a),kc(t)}function cl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Hs(t,a)}}function hf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var ff=!1;function ul(){if(ff){var t=Qa;if(t!==null)throw t}}function hl(t,n,a,o){ff=!1;var h=t.updateQueue;ir=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var C=b,z=C.next;C.next=null,p===null?f=z:p.next=z,p=C;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,b=Q.lastBaseUpdate,b!==p&&(b===null?Q.firstBaseUpdate=z:b.next=z,Q.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;p=0,Q=z=C=null,b=f;do{var B=b.lane&-536870913,G=B!==b.lane;if(G?(ze&B)===B:(o&B)===B){B!==0&&B===$a&&(ff=!0),Q!==null&&(Q=Q.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ue=t,be=b;B=n;var ut=a;switch(be.tag){case 1:if(ue=be.payload,typeof ue=="function"){X=ue.call(ut,X,B);break e}X=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=be.payload,B=typeof ue=="function"?ue.call(ut,X,B):ue,B==null)break e;X=w({},X,B);break e;case 2:ir=!0}}B=b.callback,B!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[B]:G.push(B))}else G={lane:B,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Q===null?(z=Q=G,C=X):Q=Q.next=G,p|=B;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;G=b,b=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Q===null&&(C=X),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),ur|=p,t.lanes=p,t.memoizedState=X}}function fp(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function dp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)fp(a[t],n)}var Xa=M(null),Fc=M(0);function mp(t,n){t=Ns,ae(Fc,t),ae(Xa,n),Ns=t|n.baseLanes}function df(){ae(Fc,Ns),ae(Xa,Xa.current)}function mf(){Ns=Fc.current,F(Xa),F(Fc)}var Gn=M(null),ci=null;function ar(t){var n=t.alternate;ae(Vt,Vt.current&1),ae(Gn,t),ci===null&&(n===null||Xa.current!==null||n.memoizedState!==null)&&(ci=t)}function gf(t){ae(Vt,Vt.current),ae(Gn,t),ci===null&&(ci=t)}function gp(t){t.tag===22?(ae(Vt,Vt.current),ae(Gn,t),ci===null&&(ci=t)):or()}function or(){ae(Vt,Vt.current),ae(Gn,Gn.current)}function Fn(t){F(Gn),ci===t&&(ci=null),F(Vt)}var Vt=M(0);function $c(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||bd(a)||Td(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ts=0,De=null,lt=null,qt=null,Qc=!1,Ja=!1,oa=!1,Kc=0,fl=0,Za=null,UT=0;function It(){throw Error(r(321))}function pf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!qn(t[a],n[a]))return!1;return!0}function yf(t,n,a,o,h,f){return Ts=f,De=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$.H=t===null||t.memoizedState===null?Zp:Of,oa=!1,f=a(o,h),oa=!1,Ja&&(f=yp(n,a,o,h)),pp(t),f}function pp(t){$.H=gl;var n=lt!==null&&lt.next!==null;if(Ts=0,qt=lt=De=null,Qc=!1,fl=0,Za=null,n)throw Error(r(300));t===null||Ht||(t=t.dependencies,t!==null&&Uc(t)&&(Ht=!0))}function yp(t,n,a,o){De=t;var h=0;do{if(Ja&&(Za=null),fl=0,Ja=!1,25<=h)throw Error(r(301));if(h+=1,qt=lt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}$.H=Wp,f=n(a,o)}while(Ja);return f}function PT(){var t=$.H,n=t.useState()[0];return n=typeof n.then=="function"?dl(n):n,t=t.useState()[0],(lt!==null?lt.memoizedState:null)!==t&&(De.flags|=1024),n}function _f(){var t=Kc!==0;return Kc=0,t}function vf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Ef(t){if(Qc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Qc=!1}Ts=0,qt=lt=De=null,Ja=!1,fl=Kc=0,Za=null}function bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?De.memoizedState=qt=t:qt=qt.next=t,qt}function kt(){if(lt===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var n=qt===null?De.memoizedState:qt.next;if(n!==null)qt=n,lt=t;else{if(t===null)throw De.alternate===null?Error(r(467)):Error(r(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},qt===null?De.memoizedState=qt=t:qt=qt.next=t}return qt}function Yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(t){var n=fl;return fl+=1,Za===null&&(Za=[]),t=op(Za,t,n),n=De,(qt===null?n.memoizedState:qt.next)===null&&(n=n.alternate,$.H=n===null||n.memoizedState===null?Zp:Of),t}function Xc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return dl(t);if(t.$$typeof===Te)return rn(t)}throw Error(r(438,String(t)))}function bf(t){var n=null,a=De.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=De.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Yc(),De.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=V;return n.index++,a}function Ss(t,n){return typeof n=="function"?n(t):n}function Jc(t){var n=kt();return Tf(n,lt,t)}function Tf(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var b=p=null,C=null,z=n,Q=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(ze&X)===X:(Ts&X)===X){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===$a&&(Q=!0);else if((Ts&B)===B){z=z.next,B===$a&&(Q=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(b=C=X,p=f):C=C.next=X,De.lanes|=B,ur|=B;X=z.action,oa&&a(f,X),f=z.hasEagerState?z.eagerState:a(f,X)}else B={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(b=C=B,p=f):C=C.next=B,De.lanes|=X,ur|=X;z=z.next}while(z!==null&&z!==n);if(C===null?p=f:C.next=b,!qn(f,t.memoizedState)&&(Ht=!0,Q&&(a=Qa,a!==null)))throw a;t.memoizedState=f,t.baseState=p,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Sf(t){var n=kt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);qn(f,n.memoizedState)||(Ht=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function _p(t,n,a){var o=De,h=kt(),f=$e;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var p=!qn((lt||h).memoizedState,a);if(p&&(h.memoizedState=a,Ht=!0),h=h.queue,xf(bp.bind(null,o,h,t),[t]),h.getSnapshot!==n||p||qt!==null&&qt.memoizedState.tag&1){if(o.flags|=2048,Wa(9,{destroy:void 0},Ep.bind(null,o,h,a,n),null),ht===null)throw Error(r(349));f||(Ts&127)!==0||vp(o,n,a)}return a}function vp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=De.updateQueue,n===null?(n=Yc(),De.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Ep(t,n,a,o){n.value=a,n.getSnapshot=o,Tp(n)&&Sp(t)}function bp(t,n,a){return a(function(){Tp(n)&&Sp(t)})}function Tp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!qn(t,a)}catch{return!0}}function Sp(t){var n=Zr(t,2);n!==null&&Mn(n,t,2)}function Af(t){var n=bn();if(typeof t=="function"){var a=t;if(t=a(),oa){hn(!0);try{a()}finally{hn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:t},n}function Ap(t,n,a,o){return t.baseState=a,Tf(t,lt,typeof o=="function"?o:Ss)}function zT(t,n,a,o,h){if(eu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};$.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,wp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function wp(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=$.T,p={};$.T=p;try{var b=a(h,o),C=$.S;C!==null&&C(p,b),xp(t,n,b)}catch(z){wf(t,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),$.T=f}}else try{f=a(h,o),xp(t,n,f)}catch(z){wf(t,n,z)}}function xp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Rp(t,n,o)},function(o){return wf(t,n,o)}):Rp(t,n,a)}function Rp(t,n,a){n.status="fulfilled",n.value=a,Cp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,wp(t,a)))}function wf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Cp(n),n=n.next;while(n!==o)}t.action=null}function Cp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ip(t,n){return n}function Np(t,n){if($e){var a=ht.formState;if(a!==null){e:{var o=De;if($e){if(gt){t:{for(var h=gt,f=li;h.nodeType!==8;){if(!f){h=null;break t}if(h=ui(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){gt=ui(h.nextSibling),o=h.data==="F!";break e}}tr(o)}o=!1}o&&(n=a[0])}}return a=bn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ip,lastRenderedState:n},a.queue=o,a=Yp.bind(null,De,o),o.dispatch=a,o=Af(!1),f=Df.bind(null,De,!1,o.queue),o=bn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=zT.bind(null,De,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Dp(t){var n=kt();return Op(n,lt,t)}function Op(t,n,a){if(n=Tf(t,n,Ip)[0],t=Jc(Ss)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=dl(n)}catch(p){throw p===Ka?Bc:p}else o=n;n=kt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(De.flags|=2048,Wa(9,{destroy:void 0},BT.bind(null,h,a),null)),[o,f,t]}function BT(t,n){t.action=n}function Mp(t){var n=kt(),a=lt;if(a!==null)return Op(n,a,t);kt(),n=n.memoizedState,a=kt();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function Wa(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=De.updateQueue,n===null&&(n=Yc(),De.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Vp(){return kt().memoizedState}function Zc(t,n,a,o){var h=bn();De.flags|=t,h.memoizedState=Wa(1|n,{destroy:void 0},a,o===void 0?null:o)}function Wc(t,n,a,o){var h=kt();o=o===void 0?null:o;var f=h.memoizedState.inst;lt!==null&&o!==null&&pf(o,lt.memoizedState.deps)?h.memoizedState=Wa(n,f,a,o):(De.flags|=t,h.memoizedState=Wa(1|n,f,a,o))}function kp(t,n){Zc(8390656,8,t,n)}function xf(t,n){Wc(2048,8,t,n)}function qT(t){De.flags|=4;var n=De.updateQueue;if(n===null)n=Yc(),De.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Lp(t){var n=kt().memoizedState;return qT({ref:n,nextImpl:t}),function(){if((tt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function jp(t,n){return Wc(4,2,t,n)}function Up(t,n){return Wc(4,4,t,n)}function Pp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function zp(t,n,a){a=a!=null?a.concat([t]):null,Wc(4,4,Pp.bind(null,n,t),a)}function Rf(){}function Bp(t,n){var a=kt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&pf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function qp(t,n){var a=kt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&pf(n,o[1]))return o[0];if(o=t(),oa){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[o,n],o}function Cf(t,n,a){return a===void 0||(Ts&1073741824)!==0&&(ze&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Hy(),De.lanes|=t,ur|=t,a)}function Hp(t,n,a,o){return qn(a,n)?a:Xa.current!==null?(t=Cf(t,a,o),qn(t,n)||(Ht=!0),t):(Ts&42)===0||(Ts&1073741824)!==0&&(ze&261930)===0?(Ht=!0,t.memoizedState=a):(t=Hy(),De.lanes|=t,ur|=t,n)}function Gp(t,n,a,o,h){var f=re.p;re.p=f!==0&&8>f?f:8;var p=$.T,b={};$.T=b,Df(t,!1,n,a);try{var C=h(),z=$.S;if(z!==null&&z(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=jT(C,o);ml(t,n,Q,Kn(t))}else ml(t,n,o,Kn(t))}catch(X){ml(t,n,{then:function(){},status:"rejected",reason:X},Kn())}finally{re.p=f,p!==null&&b.types!==null&&(p.types=b.types),$.T=p}}function HT(){}function If(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=Fp(t).queue;Gp(t,h,n,ee,a===null?HT:function(){return $p(t),a(o)})}function Fp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:ee},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function $p(t){var n=Fp(t);n.next===null&&(n=t.alternate.memoizedState),ml(t,n.next.queue,{},Kn())}function Nf(){return rn(Dl)}function Qp(){return kt().memoizedState}function Kp(){return kt().memoizedState}function GT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Kn();t=sr(a);var o=rr(n,t,a);o!==null&&(Mn(o,n,a),cl(o,n,a)),n={cache:rf()},t.payload=n;return}n=n.return}}function FT(t,n,a){var o=Kn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},eu(t)?Xp(n,a):(a=Qh(t,n,a,o),a!==null&&(Mn(a,t,o),Jp(a,n,o)))}function Yp(t,n,a){var o=Kn();ml(t,n,a,o)}function ml(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(eu(t))Xp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,b=f(p,a);if(h.hasEagerState=!0,h.eagerState=b,qn(b,p))return Vc(t,n,h,0),ht===null&&Mc(),!1}catch{}finally{}if(a=Qh(t,n,h,o),a!==null)return Mn(a,t,o),Jp(a,n,o),!0}return!1}function Df(t,n,a,o){if(o={lane:2,revertLane:cd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},eu(t)){if(n)throw Error(r(479))}else n=Qh(t,a,o,2),n!==null&&Mn(n,t,2)}function eu(t){var n=t.alternate;return t===De||n!==null&&n===De}function Xp(t,n){Ja=Qc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Jp(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Hs(t,a)}}var gl={readContext:rn,use:Xc,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};gl.useEffectEvent=It;var Zp={readContext:rn,use:Xc,useCallback:function(t,n){return bn().memoizedState=[t,n===void 0?null:n],t},useContext:rn,useEffect:kp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Zc(4194308,4,Pp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Zc(4194308,4,t,n)},useInsertionEffect:function(t,n){Zc(4,2,t,n)},useMemo:function(t,n){var a=bn();n=n===void 0?null:n;var o=t();if(oa){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=bn();if(a!==void 0){var h=a(n);if(oa){hn(!0);try{a(n)}finally{hn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=FT.bind(null,De,t),[o.memoizedState,t]},useRef:function(t){var n=bn();return t={current:t},n.memoizedState=t},useState:function(t){t=Af(t);var n=t.queue,a=Yp.bind(null,De,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Rf,useDeferredValue:function(t,n){var a=bn();return Cf(a,t,n)},useTransition:function(){var t=Af(!1);return t=Gp.bind(null,De,t.queue,!0,!1),bn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=De,h=bn();if($e){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ht===null)throw Error(r(349));(ze&127)!==0||vp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,kp(bp.bind(null,o,f,t),[t]),o.flags|=2048,Wa(9,{destroy:void 0},Ep.bind(null,o,f,a,n),null),a},useId:function(){var t=bn(),n=ht.identifierPrefix;if($e){var a=$i,o=Fi;a=(o&~(1<<32-wt(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Kc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=UT++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Nf,useFormState:Np,useActionState:Np,useOptimistic:function(t){var n=bn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Df.bind(null,De,!0,a),a.dispatch=n,[t,n]},useMemoCache:bf,useCacheRefresh:function(){return bn().memoizedState=GT.bind(null,De)},useEffectEvent:function(t){var n=bn(),a={impl:t};return n.memoizedState=a,function(){if((tt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Of={readContext:rn,use:Xc,useCallback:Bp,useContext:rn,useEffect:xf,useImperativeHandle:zp,useInsertionEffect:jp,useLayoutEffect:Up,useMemo:qp,useReducer:Jc,useRef:Vp,useState:function(){return Jc(Ss)},useDebugValue:Rf,useDeferredValue:function(t,n){var a=kt();return Hp(a,lt.memoizedState,t,n)},useTransition:function(){var t=Jc(Ss)[0],n=kt().memoizedState;return[typeof t=="boolean"?t:dl(t),n]},useSyncExternalStore:_p,useId:Qp,useHostTransitionStatus:Nf,useFormState:Dp,useActionState:Dp,useOptimistic:function(t,n){var a=kt();return Ap(a,lt,t,n)},useMemoCache:bf,useCacheRefresh:Kp};Of.useEffectEvent=Lp;var Wp={readContext:rn,use:Xc,useCallback:Bp,useContext:rn,useEffect:xf,useImperativeHandle:zp,useInsertionEffect:jp,useLayoutEffect:Up,useMemo:qp,useReducer:Sf,useRef:Vp,useState:function(){return Sf(Ss)},useDebugValue:Rf,useDeferredValue:function(t,n){var a=kt();return lt===null?Cf(a,t,n):Hp(a,lt.memoizedState,t,n)},useTransition:function(){var t=Sf(Ss)[0],n=kt().memoizedState;return[typeof t=="boolean"?t:dl(t),n]},useSyncExternalStore:_p,useId:Qp,useHostTransitionStatus:Nf,useFormState:Mp,useActionState:Mp,useOptimistic:function(t,n){var a=kt();return lt!==null?Ap(a,lt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:bf,useCacheRefresh:Kp};Wp.useEffectEvent=Lp;function Mf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:w({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Vf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=Kn(),h=sr(o);h.payload=n,a!=null&&(h.callback=a),n=rr(t,h,o),n!==null&&(Mn(n,t,o),cl(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=Kn(),h=sr(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=rr(t,h,o),n!==null&&(Mn(n,t,o),cl(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Kn(),o=sr(a);o.tag=2,n!=null&&(o.callback=n),n=rr(t,o,a),n!==null&&(Mn(n,t,a),cl(n,t,a))}};function ey(t,n,a,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!tl(a,o)||!tl(h,f):!0}function ty(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Vf.enqueueReplaceState(n,n.state,null)}function la(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ny(t){Oc(t)}function iy(t){console.error(t)}function sy(t){Oc(t)}function tu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ry(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function kf(t,n,a){return a=sr(a),a.tag=3,a.payload={element:null},a.callback=function(){tu(t,n)},a}function ay(t){return t=sr(t),t.tag=3,t}function oy(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){ry(n,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){ry(n,a,o),typeof h!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function $T(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Fa(n,a,h,!0),a=Gn.current,a!==null){switch(a.tag){case 31:case 13:return ci===null?du():a.alternate===null&&Nt===0&&(Nt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===qc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),ad(t,o,h)),!1;case 22:return a.flags|=65536,o===qc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),ad(t,o,h)),!1}throw Error(r(435,a.tag))}return ad(t,o,h),du(),!1}if($e)return n=Gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Wh&&(t=Error(r(422),{cause:o}),sl(ri(t,a)))):(o!==Wh&&(n=Error(r(423),{cause:o}),sl(ri(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=ri(o,a),h=kf(t.stateNode,o,h),hf(t,h),Nt!==4&&(Nt=2)),!1;var f=Error(r(520),{cause:o});if(f=ri(f,a),Sl===null?Sl=[f]:Sl.push(f),Nt!==4&&(Nt=2),n===null)return!0;o=ri(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=kf(a.stateNode,o,t),hf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(hr===null||!hr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ay(h),oy(h,t,a,o),hf(a,h),!1}a=a.return}while(a!==null);return!1}var Lf=Error(r(461)),Ht=!1;function an(t,n,a,o){n.child=t===null?hp(n,null,a,o):aa(n,t.child,a,o)}function ly(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var p={};for(var b in o)b!=="ref"&&(p[b]=o[b])}else p=o;return na(n),o=yf(t,n,a,p,f,h),b=_f(),t!==null&&!Ht?(vf(t,n,h),As(t,n,h)):($e&&b&&Jh(n),n.flags|=1,an(t,n,o,h),n.child)}function cy(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!Kh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,uy(t,n,f,o,h)):(t=Lc(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Gf(t,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(p,o)&&t.ref===n.ref)return As(t,n,h)}return n.flags|=1,t=_s(f,o),t.ref=n.ref,t.return=n,n.child=t}function uy(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(tl(f,o)&&t.ref===n.ref)if(Ht=!1,n.pendingProps=o=f,Gf(t,h))(t.flags&131072)!==0&&(Ht=!0);else return n.lanes=t.lanes,As(t,n,h)}return jf(t,n,a,o,h)}function hy(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return fy(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&zc(n,f!==null?f.cachePool:null),f!==null?mp(n,f):df(),gp(n);else return o=n.lanes=536870912,fy(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(zc(n,f.cachePool),mp(n,f),or(),n.memoizedState=null):(t!==null&&zc(n,null),df(),or());return an(t,n,h,a),n.child}function pl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function fy(t,n,a,o,h){var f=of();return f=f===null?null:{parent:Bt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&zc(n,null),df(),gp(n),t!==null&&Fa(t,n,o,!0),n.childLanes=h,null}function nu(t,n){return n=su({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function dy(t,n,a){return aa(n,t.child,null,a),t=nu(n,n.pendingProps),t.flags|=2,Fn(n),n.memoizedState=null,t}function QT(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if($e){if(o.mode==="hidden")return t=nu(n,o),n.lanes=536870912,pl(null,t);if(gf(n),(t=gt)?(t=w0(t,li),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ws!==null?{id:Fi,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},a=Xg(t),a.return=n,n.child=a,sn=n,gt=null)):t=null,t===null)throw tr(n);return n.lanes=536870912,null}return nu(n,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(gf(n),h)if(n.flags&256)n.flags&=-257,n=dy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ht||Fa(t,n,a,!1),h=(a&t.childLanes)!==0,Ht||h){if(o=ht,o!==null&&(p=Br(o,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,Zr(t,p),Mn(o,t,p),Lf;du(),n=dy(t,n,a)}else t=f.treeContext,gt=ui(p.nextSibling),sn=n,$e=!0,er=null,li=!1,t!==null&&Wg(n,t),n=nu(n,o),n.flags|=4096;return n}return t=_s(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function iu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function jf(t,n,a,o,h){return na(n),a=yf(t,n,a,o,void 0,h),o=_f(),t!==null&&!Ht?(vf(t,n,h),As(t,n,h)):($e&&o&&Jh(n),n.flags|=1,an(t,n,a,h),n.child)}function my(t,n,a,o,h,f){return na(n),n.updateQueue=null,a=yp(n,o,a,h),pp(t),o=_f(),t!==null&&!Ht?(vf(t,n,f),As(t,n,f)):($e&&o&&Jh(n),n.flags|=1,an(t,n,a,f),n.child)}function gy(t,n,a,o,h){if(na(n),n.stateNode===null){var f=Ba,p=a.contextType;typeof p=="object"&&p!==null&&(f=rn(p)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},cf(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?rn(p):Ba,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Mf(n,a,p,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Vf.enqueueReplaceState(f,f.state,null),hl(n,o,f,h),ul(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var b=n.memoizedProps,C=la(a,b);f.props=C;var z=f.context,Q=a.contextType;p=Ba,typeof Q=="object"&&Q!==null&&(p=rn(Q));var X=a.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||z!==p)&&ty(n,f,o,p),ir=!1;var B=n.memoizedState;f.state=B,hl(n,o,f,h),ul(),z=n.memoizedState,b||B!==z||ir?(typeof X=="function"&&(Mf(n,a,X,o),z=n.memoizedState),(C=ir||ey(n,a,C,o,B,z,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,uf(t,n),p=n.memoizedProps,Q=la(a,p),f.props=Q,X=n.pendingProps,B=f.context,z=a.contextType,C=Ba,typeof z=="object"&&z!==null&&(C=rn(z)),b=a.getDerivedStateFromProps,(z=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||B!==C)&&ty(n,f,o,C),ir=!1,B=n.memoizedState,f.state=B,hl(n,o,f,h),ul();var G=n.memoizedState;p!==X||B!==G||ir||t!==null&&t.dependencies!==null&&Uc(t.dependencies)?(typeof b=="function"&&(Mf(n,a,b,o),G=n.memoizedState),(Q=ir||ey(n,a,Q,o,B,G,C)||t!==null&&t.dependencies!==null&&Uc(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,G,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,G,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=G),f.props=o,f.state=G,f.context=C,o=Q):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,iu(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=aa(n,t.child,null,h),n.child=aa(n,null,a,h)):an(t,n,a,h),n.memoizedState=f.state,t=n.child):t=As(t,n,h),t}function py(t,n,a,o){return ea(),n.flags|=256,an(t,n,a,o),n.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(t){return{baseLanes:t,cachePool:rp()}}function zf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Qn),t}function yy(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Vt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if($e){if(h?ar(n):or(),(t=gt)?(t=w0(t,li),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ws!==null?{id:Fi,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},a=Xg(t),a.return=n,n.child=a,sn=n,gt=null)):t=null,t===null)throw tr(n);return Td(t)?n.lanes=32:n.lanes=536870912,null}var b=o.children;return o=o.fallback,h?(or(),h=n.mode,b=su({mode:"hidden",children:b},h),o=Wr(o,h,a,null),b.return=n,o.return=n,b.sibling=o,n.child=b,o=n.child,o.memoizedState=Pf(a),o.childLanes=zf(t,p,a),n.memoizedState=Uf,pl(null,o)):(ar(n),Bf(n,b))}var C=t.memoizedState;if(C!==null&&(b=C.dehydrated,b!==null)){if(f)n.flags&256?(ar(n),n.flags&=-257,n=qf(t,n,a)):n.memoizedState!==null?(or(),n.child=t.child,n.flags|=128,n=null):(or(),b=o.fallback,h=n.mode,o=su({mode:"visible",children:o.children},h),b=Wr(b,h,a,null),b.flags|=2,o.return=n,b.return=n,o.sibling=b,n.child=o,aa(n,t.child,null,a),o=n.child,o.memoizedState=Pf(a),o.childLanes=zf(t,p,a),n.memoizedState=Uf,n=pl(null,o));else if(ar(n),Td(b)){if(p=b.nextSibling&&b.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(r(419)),o.stack="",o.digest=p,sl({value:o,source:null,stack:null}),n=qf(t,n,a)}else if(Ht||Fa(t,n,a,!1),p=(a&t.childLanes)!==0,Ht||p){if(p=ht,p!==null&&(o=Br(p,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Zr(t,o),Mn(p,t,o),Lf;bd(b)||du(),n=qf(t,n,a)}else bd(b)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,gt=ui(b.nextSibling),sn=n,$e=!0,er=null,li=!1,t!==null&&Wg(n,t),n=Bf(n,o.children),n.flags|=4096);return n}return h?(or(),b=o.fallback,h=n.mode,C=t.child,z=C.sibling,o=_s(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?b=_s(z,b):(b=Wr(b,h,a,null),b.flags|=2),b.return=n,o.return=n,o.sibling=b,n.child=o,pl(null,o),o=n.child,b=t.child.memoizedState,b===null?b=Pf(a):(h=b.cachePool,h!==null?(C=Bt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=rp(),b={baseLanes:b.baseLanes|a,cachePool:h}),o.memoizedState=b,o.childLanes=zf(t,p,a),n.memoizedState=Uf,pl(t.child,o)):(ar(n),a=t.child,t=a.sibling,a=_s(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=a,n.memoizedState=null,a)}function Bf(t,n){return n=su({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function su(t,n){return t=Hn(22,t,null,n),t.lanes=0,t}function qf(t,n,a){return aa(n,t.child,null,a),t=Bf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function _y(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),nf(t.return,n,a)}function Hf(t,n,a,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function vy(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=Vt.current,b=(p&2)!==0;if(b?(p=p&1|2,n.flags|=128):p&=1,ae(Vt,p),an(t,n,o,a),o=$e?il:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_y(t,a,n);else if(t.tag===19)_y(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&$c(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Hf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&$c(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Hf(n,!0,a,null,f,o);break;case"together":Hf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function As(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ur|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Fa(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=_s(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=_s(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Gf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Uc(t)))}function KT(t,n,a){switch(n.tag){case 3:St(n,n.stateNode.containerInfo),nr(n,Bt,t.memoizedState.cache),ea();break;case 27:case 5:Mi(n);break;case 4:St(n,n.stateNode.containerInfo);break;case 10:nr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,gf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ar(n),n.flags|=128,null):(a&n.child.childLanes)!==0?yy(t,n,a):(ar(n),t=As(t,n,a),t!==null?t.sibling:null);ar(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Fa(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return vy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(Vt,Vt.current),o)break;return null;case 22:return n.lanes=0,hy(t,n,a,n.pendingProps);case 24:nr(n,Bt,t.memoizedState.cache)}return As(t,n,a)}function Ey(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ht=!0;else{if(!Gf(t,a)&&(n.flags&128)===0)return Ht=!1,KT(t,n,a);Ht=(t.flags&131072)!==0}else Ht=!1,$e&&(n.flags&1048576)!==0&&Zg(n,il,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=sa(n.elementType),n.type=t,typeof t=="function")Kh(t)?(o=la(t,o),n.tag=1,n=gy(null,n,t,o,a)):(n.tag=0,n=jf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Ve){n.tag=11,n=ly(null,n,t,o,a);break e}else if(h===N){n.tag=14,n=cy(null,n,t,o,a);break e}}throw n=ft(t)||t,Error(r(306,n,""))}}return n;case 0:return jf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=la(o,n.pendingProps),gy(t,n,o,h,a);case 3:e:{if(St(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,uf(t,n),hl(n,o,null,a);var p=n.memoizedState;if(o=p.cache,nr(n,Bt,o),o!==f.cache&&sf(n,[Bt],a,!0),ul(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=py(t,n,o,a);break e}else if(o!==h){h=ri(Error(r(424)),n),sl(h),n=py(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(gt=ui(t.firstChild),sn=n,$e=!0,er=null,li=!0,a=hp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ea(),o===h){n=As(t,n,a);break e}an(t,n,o,a)}n=n.child}return n;case 26:return iu(t,n),t===null?(a=D0(n.type,null,n.pendingProps,null))?n.memoizedState=a:$e||(a=n.type,t=n.pendingProps,o=Eu(xe.current).createElement(a),o[Rt]=n,o[Pt]=t,on(o,a,t),Ct(o),n.stateNode=o):n.memoizedState=D0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Mi(n),t===null&&$e&&(o=n.stateNode=C0(n.type,n.pendingProps,xe.current),sn=n,li=!0,h=gt,gr(n.type)?(Sd=h,gt=ui(o.firstChild)):gt=h),an(t,n,n.pendingProps.children,a),iu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&$e&&((h=o=gt)&&(o=A1(o,n.type,n.pendingProps,li),o!==null?(n.stateNode=o,sn=n,gt=ui(o.firstChild),li=!1,h=!0):h=!1),h||tr(n)),Mi(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,_d(h,f)?o=null:p!==null&&_d(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=yf(t,n,PT,null,null,a),Dl._currentValue=h),iu(t,n),an(t,n,o,a),n.child;case 6:return t===null&&$e&&((t=a=gt)&&(a=w1(a,n.pendingProps,li),a!==null?(n.stateNode=a,sn=n,gt=null,t=!0):t=!1),t||tr(n)),null;case 13:return yy(t,n,a);case 4:return St(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=aa(n,null,o,a):an(t,n,o,a),n.child;case 11:return ly(t,n,n.type,n.pendingProps,a);case 7:return an(t,n,n.pendingProps,a),n.child;case 8:return an(t,n,n.pendingProps.children,a),n.child;case 12:return an(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,nr(n,n.type,o.value),an(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,na(n),h=rn(h),o=o(h),n.flags|=1,an(t,n,o,a),n.child;case 14:return cy(t,n,n.type,n.pendingProps,a);case 15:return uy(t,n,n.type,n.pendingProps,a);case 19:return vy(t,n,a);case 31:return QT(t,n,a);case 22:return hy(t,n,a,n.pendingProps);case 24:return na(n),o=rn(Bt),t===null?(h=of(),h===null&&(h=ht,f=rf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},cf(n),nr(n,Bt,h)):((t.lanes&a)!==0&&(uf(t,n),hl(n,null,null,a),ul()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),nr(n,Bt,o)):(o=f.cache,nr(n,Bt,o),o!==h.cache&&sf(n,[Bt],a,!0))),an(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ws(t){t.flags|=4}function Ff(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Qy())t.flags|=8192;else throw ra=qc,lf}else t.flags&=-16777217}function by(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!L0(n))if(Qy())t.flags|=8192;else throw ra=qc,lf}function ru(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?xa():536870912,t.lanes|=n,io|=n)}function yl(t,n){if(!$e)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function pt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function YT(t,n,a){var o=n.pendingProps;switch(Zh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(n),null;case 1:return pt(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),bs(Bt),Pe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ga(n)?ws(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ef())),pt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ws(n),f!==null?(pt(n),by(n,f)):(pt(n),Ff(n,h,null,o,a))):f?f!==t.memoizedState?(ws(n),pt(n),by(n,f)):(pt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ws(n),pt(n),Ff(n,h,t,o,a)),null;case 27:if(Sn(n),a=xe.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ws(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return pt(n),null}t=te.current,Ga(n)?ep(n):(t=C0(h,o,a),n.stateNode=t,ws(n))}return pt(n),null;case 5:if(Sn(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ws(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return pt(n),null}if(f=te.current,Ga(n))ep(n);else{var p=Eu(xe.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Rt]=n,f[Pt]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(on(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ws(n)}}return pt(n),Ff(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ws(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=xe.current,Ga(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=sn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Rt]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||y0(t.nodeValue,a)),t||tr(n,!0)}else t=Eu(t).createTextNode(o),t[Rt]=n,n.stateNode=t}return pt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=Ga(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Rt]=n}else ea(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pt(n),t=!1}else a=ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Fn(n),n):(Fn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return pt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ga(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Rt]=n}else ea(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pt(n),h=!1}else h=ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Fn(n),n):(Fn(n),null)}return Fn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),ru(n,n.updateQueue),pt(n),null);case 4:return Pe(),t===null&&dd(n.stateNode.containerInfo),pt(n),null;case 10:return bs(n.type),pt(n),null;case 19:if(F(Vt),o=n.memoizedState,o===null)return pt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)yl(o,!1);else{if(Nt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=$c(t),f!==null){for(n.flags|=128,yl(o,!1),t=f.updateQueue,n.updateQueue=t,ru(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Yg(a,t),a=a.sibling;return ae(Vt,Vt.current&1|2),$e&&vs(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Ut()>uu&&(n.flags|=128,h=!0,yl(o,!1),n.lanes=4194304)}else{if(!h)if(t=$c(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ru(n,t),yl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!$e)return pt(n),null}else 2*Ut()-o.renderingStartTime>uu&&a!==536870912&&(n.flags|=128,h=!0,yl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ut(),t.sibling=null,a=Vt.current,ae(Vt,h?a&1|2:a&1),$e&&vs(n,o.treeForkCount),t):(pt(n),null);case 22:case 23:return Fn(n),mf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(pt(n),n.subtreeFlags&6&&(n.flags|=8192)):pt(n),a=n.updateQueue,a!==null&&ru(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&F(ia),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),bs(Bt),pt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function XT(t,n){switch(Zh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return bs(Bt),Pe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Sn(n),null;case 31:if(n.memoizedState!==null){if(Fn(n),n.alternate===null)throw Error(r(340));ea()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Fn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ea()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return F(Vt),null;case 4:return Pe(),null;case 10:return bs(n.type),null;case 22:case 23:return Fn(n),mf(),t!==null&&F(ia),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return bs(Bt),null;case 25:return null;default:return null}}function Ty(t,n){switch(Zh(n),n.tag){case 3:bs(Bt),Pe();break;case 26:case 27:case 5:Sn(n);break;case 4:Pe();break;case 31:n.memoizedState!==null&&Fn(n);break;case 13:Fn(n);break;case 19:F(Vt);break;case 10:bs(n.type);break;case 22:case 23:Fn(n),mf(),t!==null&&F(ia);break;case 24:bs(Bt)}}function _l(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,p=a.inst;o=f(),p.destroy=o}a=a.next}while(a!==h)}}catch(b){rt(n,n.return,b)}}function lr(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,b=p.destroy;if(b!==void 0){p.destroy=void 0,h=n;var C=a,z=b;try{z()}catch(Q){rt(h,C,Q)}}}o=o.next}while(o!==f)}}catch(Q){rt(n,n.return,Q)}}function Sy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{dp(n,a)}catch(o){rt(t,t.return,o)}}}function Ay(t,n,a){a.props=la(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){rt(t,n,o)}}function vl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){rt(t,n,h)}}function Qi(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){rt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){rt(t,n,h)}else a.current=null}function wy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){rt(t,t.return,h)}}function $f(t,n,a){try{var o=t.stateNode;_1(o,t.type,a,n),o[Pt]=n}catch(h){rt(t,t.return,h)}}function xy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&gr(t.type)||t.tag===4}function Qf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&gr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kf(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=vi));else if(o!==4&&(o===27&&gr(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Kf(t,n,a),t=t.sibling;t!==null;)Kf(t,n,a),t=t.sibling}function au(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&gr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(au(t,n,a),t=t.sibling;t!==null;)au(t,n,a),t=t.sibling}function Ry(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);on(n,o,a),n[Rt]=t,n[Pt]=a}catch(f){rt(t,t.return,f)}}var xs=!1,Gt=!1,Yf=!1,Cy=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function JT(t,n){if(t=t.containerInfo,pd=Ru,t=zg(t),Bh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var p=0,b=-1,C=-1,z=0,Q=0,X=t,B=null;t:for(;;){for(var G;X!==a||h!==0&&X.nodeType!==3||(b=p+h),X!==f||o!==0&&X.nodeType!==3||(C=p+o),X.nodeType===3&&(p+=X.nodeValue.length),(G=X.firstChild)!==null;)B=X,X=G;for(;;){if(X===t)break t;if(B===a&&++z===h&&(b=p),B===f&&++Q===o&&(C=p),(G=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=G}a=b===-1||C===-1?null:{start:b,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(yd={focusedElem:t,selectionRange:a},Ru=!1,Jt=n;Jt!==null;)if(n=Jt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Jt=t;else for(;Jt!==null;){switch(n=Jt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ue=la(a.type,h);t=o.getSnapshotBeforeUpdate(ue,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(be){rt(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Ed(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ed(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Jt=t;break}Jt=n.return}}function Iy(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Cs(t,a),o&4&&_l(5,a);break;case 1:if(Cs(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(p){rt(a,a.return,p)}else{var h=la(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){rt(a,a.return,p)}}o&64&&Sy(a),o&512&&vl(a,a.return);break;case 3:if(Cs(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{dp(t,n)}catch(p){rt(a,a.return,p)}}break;case 27:n===null&&o&4&&Ry(a);case 26:case 5:Cs(t,a),n===null&&o&4&&wy(a),o&512&&vl(a,a.return);break;case 12:Cs(t,a);break;case 31:Cs(t,a),o&4&&Oy(t,a);break;case 13:Cs(t,a),o&4&&My(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=a1.bind(null,a),x1(t,a))));break;case 22:if(o=a.memoizedState!==null||xs,!o){n=n!==null&&n.memoizedState!==null||Gt,h=xs;var f=Gt;xs=o,(Gt=n)&&!f?Is(t,a,(a.subtreeFlags&8772)!==0):Cs(t,a),xs=h,Gt=f}break;case 30:break;default:Cs(t,a)}}function Ny(t){var n=t.alternate;n!==null&&(t.alternate=null,Ny(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ms(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var bt=null,In=!1;function Rs(t,n,a){for(a=a.child;a!==null;)Dy(t,n,a),a=a.sibling}function Dy(t,n,a){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(jn,a)}catch{}switch(a.tag){case 26:Gt||Qi(a,n),Rs(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Gt||Qi(a,n);var o=bt,h=In;gr(a.type)&&(bt=a.stateNode,In=!1),Rs(t,n,a),Cl(a.stateNode),bt=o,In=h;break;case 5:Gt||Qi(a,n);case 6:if(o=bt,h=In,bt=null,Rs(t,n,a),bt=o,In=h,bt!==null)if(In)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(a.stateNode)}catch(f){rt(a,n,f)}else try{bt.removeChild(a.stateNode)}catch(f){rt(a,n,f)}break;case 18:bt!==null&&(In?(t=bt,S0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ho(t)):S0(bt,a.stateNode));break;case 4:o=bt,h=In,bt=a.stateNode.containerInfo,In=!0,Rs(t,n,a),bt=o,In=h;break;case 0:case 11:case 14:case 15:lr(2,a,n),Gt||lr(4,a,n),Rs(t,n,a);break;case 1:Gt||(Qi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ay(a,n,o)),Rs(t,n,a);break;case 21:Rs(t,n,a);break;case 22:Gt=(o=Gt)||a.memoizedState!==null,Rs(t,n,a),Gt=o;break;default:Rs(t,n,a)}}function Oy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ho(t)}catch(a){rt(n,n.return,a)}}}function My(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ho(t)}catch(a){rt(n,n.return,a)}}function ZT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Cy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Cy),n;default:throw Error(r(435,t.tag))}}function ou(t,n){var a=ZT(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=o1.bind(null,t,o);o.then(h,h)}})}function Nn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,p=n,b=p;e:for(;b!==null;){switch(b.tag){case 27:if(gr(b.type)){bt=b.stateNode,In=!1;break e}break;case 5:bt=b.stateNode,In=!1;break e;case 3:case 4:bt=b.stateNode.containerInfo,In=!0;break e}b=b.return}if(bt===null)throw Error(r(160));Dy(f,p,h),bt=null,In=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Vy(n,t),n=n.sibling}var wi=null;function Vy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Nn(n,t),Dn(t),o&4&&(lr(3,t,t.return),_l(3,t),lr(5,t,t.return));break;case 1:Nn(n,t),Dn(t),o&512&&(Gt||a===null||Qi(a,a.return)),o&64&&xs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=wi;if(Nn(n,t),Dn(t),o&512&&(Gt||a===null||Qi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[yn]||f[Rt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),on(f,o,a),f[Rt]=t,Ct(f),o=f;break e;case"link":var p=V0("link","href",h).get(o+(a.href||""));if(p){for(var b=0;b<p.length;b++)if(f=p[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(b,1);break t}}f=h.createElement(o),on(f,o,a),h.head.appendChild(f);break;case"meta":if(p=V0("meta","content",h).get(o+(a.content||""))){for(b=0;b<p.length;b++)if(f=p[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(b,1);break t}}f=h.createElement(o),on(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Rt]=t,Ct(f),o=f}t.stateNode=o}else k0(h,t.type,t.stateNode);else t.stateNode=M0(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?k0(h,t.type,t.stateNode):M0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&$f(t,t.memoizedProps,a.memoizedProps)}break;case 27:Nn(n,t),Dn(t),o&512&&(Gt||a===null||Qi(a,a.return)),a!==null&&o&4&&$f(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Nn(n,t),Dn(t),o&512&&(Gt||a===null||Qi(a,a.return)),t.flags&32){h=t.stateNode;try{Cn(h,"")}catch(ue){rt(t,t.return,ue)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,$f(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Yf=!0);break;case 6:if(Nn(n,t),Dn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ue){rt(t,t.return,ue)}}break;case 3:if(Su=null,h=wi,wi=bu(n.containerInfo),Nn(n,t),wi=h,Dn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ho(n.containerInfo)}catch(ue){rt(t,t.return,ue)}Yf&&(Yf=!1,ky(t));break;case 4:o=wi,wi=bu(t.stateNode.containerInfo),Nn(n,t),Dn(t),wi=o;break;case 12:Nn(n,t),Dn(t);break;case 31:Nn(n,t),Dn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ou(t,o)));break;case 13:Nn(n,t),Dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(cu=Ut()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ou(t,o)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=xs,Q=Gt;if(xs=z||h,Gt=Q||C,Nn(n,t),Gt=Q,xs=z,Dn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||xs||Gt||ca(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{b=C.stateNode;var X=C.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;b.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ue){rt(C,C.return,ue)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ue){rt(C,C.return,ue)}}}else if(n.tag===18){if(a===null){C=n;try{var G=C.stateNode;h?A0(G,!0):A0(C.stateNode,!1)}catch(ue){rt(C,C.return,ue)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,ou(t,a))));break;case 19:Nn(n,t),Dn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ou(t,o)));break;case 30:break;case 21:break;default:Nn(n,t),Dn(t)}}function Dn(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(xy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Qf(t);au(t,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(Cn(p,""),a.flags&=-33);var b=Qf(t);au(t,b,p);break;case 3:case 4:var C=a.stateNode.containerInfo,z=Qf(t);Kf(t,z,C);break;default:throw Error(r(161))}}catch(Q){rt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function ky(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;ky(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Cs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Iy(t,n.alternate,n),n=n.sibling}function ca(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:lr(4,n,n.return),ca(n);break;case 1:Qi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ay(n,n.return,a),ca(n);break;case 27:Cl(n.stateNode);case 26:case 5:Qi(n,n.return),ca(n);break;case 22:n.memoizedState===null&&ca(n);break;case 30:ca(n);break;default:ca(n)}t=t.sibling}}function Is(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Is(h,f,a),_l(4,f);break;case 1:if(Is(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){rt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var b=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)fp(C[h],b)}catch(z){rt(o,o.return,z)}}a&&p&64&&Sy(f),vl(f,f.return);break;case 27:Ry(f);case 26:case 5:Is(h,f,a),a&&o===null&&p&4&&wy(f),vl(f,f.return);break;case 12:Is(h,f,a);break;case 31:Is(h,f,a),a&&p&4&&Oy(h,f);break;case 13:Is(h,f,a),a&&p&4&&My(h,f);break;case 22:f.memoizedState===null&&Is(h,f,a),vl(f,f.return);break;case 30:break;default:Is(h,f,a)}n=n.sibling}}function Xf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&rl(a))}function Jf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&rl(t))}function xi(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ly(t,n,a,o),n=n.sibling}function Ly(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:xi(t,n,a,o),h&2048&&_l(9,n);break;case 1:xi(t,n,a,o);break;case 3:xi(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&rl(t)));break;case 12:if(h&2048){xi(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,b=f.onPostCommit;typeof b=="function"&&b(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){rt(n,n.return,C)}}else xi(t,n,a,o);break;case 31:xi(t,n,a,o);break;case 13:xi(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?xi(t,n,a,o):El(t,n):f._visibility&2?xi(t,n,a,o):(f._visibility|=2,eo(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Xf(p,n);break;case 24:xi(t,n,a,o),h&2048&&Jf(n.alternate,n);break;default:xi(t,n,a,o)}}function eo(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,b=a,C=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:eo(f,p,b,C,h),_l(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?eo(f,p,b,C,h):El(f,p):(Q._visibility|=2,eo(f,p,b,C,h)),h&&z&2048&&Xf(p.alternate,p);break;case 24:eo(f,p,b,C,h),h&&z&2048&&Jf(p.alternate,p);break;default:eo(f,p,b,C,h)}n=n.sibling}}function El(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:El(a,o),h&2048&&Xf(o.alternate,o);break;case 24:El(a,o),h&2048&&Jf(o.alternate,o);break;default:El(a,o)}n=n.sibling}}var bl=8192;function to(t,n,a){if(t.subtreeFlags&bl)for(t=t.child;t!==null;)jy(t,n,a),t=t.sibling}function jy(t,n,a){switch(t.tag){case 26:to(t,n,a),t.flags&bl&&t.memoizedState!==null&&U1(a,wi,t.memoizedState,t.memoizedProps);break;case 5:to(t,n,a);break;case 3:case 4:var o=wi;wi=bu(t.stateNode.containerInfo),to(t,n,a),wi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=bl,bl=16777216,to(t,n,a),bl=o):to(t,n,a));break;default:to(t,n,a)}}function Uy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Tl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Jt=o,zy(o,t)}Uy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Py(t),t=t.sibling}function Py(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&lr(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,lu(t)):Tl(t);break;default:Tl(t)}}function lu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Jt=o,zy(o,t)}Uy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:lr(8,n,n.return),lu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,lu(n));break;default:lu(n)}t=t.sibling}}function zy(t,n){for(;Jt!==null;){var a=Jt;switch(a.tag){case 0:case 11:case 15:lr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:rl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Jt=o;else e:for(a=t;Jt!==null;){o=Jt;var h=o.sibling,f=o.return;if(Ny(o),o===a){Jt=null;break e}if(h!==null){h.return=f,Jt=h;break e}Jt=f}}}var WT={getCacheForType:function(t){var n=rn(Bt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return rn(Bt).controller.signal}},e1=typeof WeakMap=="function"?WeakMap:Map,tt=0,ht=null,je=null,ze=0,st=0,$n=null,cr=!1,no=!1,Zf=!1,Ns=0,Nt=0,ur=0,ua=0,Wf=0,Qn=0,io=0,Sl=null,On=null,ed=!1,cu=0,By=0,uu=1/0,hu=null,hr=null,Kt=0,fr=null,so=null,Ds=0,td=0,nd=null,qy=null,Al=0,id=null;function Kn(){return(tt&2)!==0&&ze!==0?ze&-ze:$.T!==null?cd():qr()}function Hy(){if(Qn===0)if((ze&536870912)===0||$e){var t=An;An<<=1,(An&3932160)===0&&(An=262144),Qn=t}else Qn=536870912;return t=Gn.current,t!==null&&(t.flags|=32),Qn}function Mn(t,n,a){(t===ht&&(st===2||st===9)||t.cancelPendingCommit!==null)&&(ro(t,0),dr(t,ze,Qn,!1)),fs(t,a),((tt&2)===0||t!==ht)&&(t===ht&&((tt&2)===0&&(ua|=a),Nt===4&&dr(t,ze,Qn,!1)),Ki(t))}function Gy(t,n,a){if((tt&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Pn(t,n),h=o?i1(t,n):rd(t,n,!0),f=o;do{if(h===0){no&&!o&&dr(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!t1(a)){h=rd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var b=t;h=Sl;var C=b.current.memoizedState.isDehydrated;if(C&&(ro(b,p).flags|=256),p=rd(b,p,!1),p!==2){if(Zf&&!C){b.errorRecoveryDisabledLanes|=f,ua|=f,h=4;break e}f=On,On=h,f!==null&&(On===null?On=f:On.push.apply(On,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){ro(t,0),dr(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:dr(o,n,Qn,!cr);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=cu+300-Ut(),10<h)){if(dr(o,n,Qn,!cr),Xn(o,0,!0)!==0)break e;Ds=n,o.timeoutHandle=b0(Fy.bind(null,o,a,On,hu,ed,n,Qn,ua,io,cr,f,"Throttled",-0,0),h);break e}Fy(o,a,On,hu,ed,n,Qn,ua,io,cr,f,null,-0,0)}}break}while(!0);Ki(t)}function Fy(t,n,a,o,h,f,p,b,C,z,Q,X,B,G){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vi},jy(n,f,X);var ue=(f&62914560)===f?cu-Ut():(f&4194048)===f?By-Ut():0;if(ue=P1(X,ue),ue!==null){Ds=f,t.cancelPendingCommit=ue(Wy.bind(null,t,n,f,a,o,h,p,b,C,Q,X,null,B,G)),dr(t,f,p,!z);return}}Wy(t,n,f,a,o,h,p,b,C)}function t1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!qn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function dr(t,n,a,o){n&=~Wf,n&=~ua,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-wt(h),p=1<<f;o[f]=-1,h&=~p}a!==0&&ds(t,a,n)}function fu(){return(tt&6)===0?(wl(0),!1):!0}function sd(){if(je!==null){if(st===0)var t=je.return;else t=je,Es=ta=null,Ef(t),Ya=null,ol=0,t=je;for(;t!==null;)Ty(t.alternate,t),t=t.return;je=null}}function ro(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,b1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ds=0,sd(),ht=t,je=a=_s(t.current,null),ze=n,st=0,$n=null,cr=!1,no=Pn(t,n),Zf=!1,io=Qn=Wf=ua=ur=Nt=0,On=Sl=null,ed=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-wt(o),f=1<<h;n|=t[h],o&=~f}return Ns=n,Mc(),a}function $y(t,n){De=null,$.H=gl,n===Ka||n===Bc?(n=lp(),st=3):n===lf?(n=lp(),st=4):st=n===Lf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,$n=n,je===null&&(Nt=1,tu(t,ri(n,t.current)))}function Qy(){var t=Gn.current;return t===null?!0:(ze&4194048)===ze?ci===null:(ze&62914560)===ze||(ze&536870912)!==0?t===ci:!1}function Ky(){var t=$.H;return $.H=gl,t===null?gl:t}function Yy(){var t=$.A;return $.A=WT,t}function du(){Nt=4,cr||(ze&4194048)!==ze&&Gn.current!==null||(no=!0),(ur&134217727)===0&&(ua&134217727)===0||ht===null||dr(ht,ze,Qn,!1)}function rd(t,n,a){var o=tt;tt|=2;var h=Ky(),f=Yy();(ht!==t||ze!==n)&&(hu=null,ro(t,n)),n=!1;var p=Nt;e:do try{if(st!==0&&je!==null){var b=je,C=$n;switch(st){case 8:sd(),p=6;break e;case 3:case 2:case 9:case 6:Gn.current===null&&(n=!0);var z=st;if(st=0,$n=null,ao(t,b,C,z),a&&no){p=0;break e}break;default:z=st,st=0,$n=null,ao(t,b,C,z)}}n1(),p=Nt;break}catch(Q){$y(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Es=ta=null,tt=o,$.H=h,$.A=f,je===null&&(ht=null,ze=0,Mc()),p}function n1(){for(;je!==null;)Xy(je)}function i1(t,n){var a=tt;tt|=2;var o=Ky(),h=Yy();ht!==t||ze!==n?(hu=null,uu=Ut()+500,ro(t,n)):no=Pn(t,n);e:do try{if(st!==0&&je!==null){n=je;var f=$n;t:switch(st){case 1:st=0,$n=null,ao(t,n,f,1);break;case 2:case 9:if(ap(f)){st=0,$n=null,Jy(n);break}n=function(){st!==2&&st!==9||ht!==t||(st=7),Ki(t)},f.then(n,n);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:ap(f)?(st=0,$n=null,Jy(n)):(st=0,$n=null,ao(t,n,f,7));break;case 5:var p=null;switch(je.tag){case 26:p=je.memoizedState;case 5:case 27:var b=je;if(p?L0(p):b.stateNode.complete){st=0,$n=null;var C=b.sibling;if(C!==null)je=C;else{var z=b.return;z!==null?(je=z,mu(z)):je=null}break t}}st=0,$n=null,ao(t,n,f,5);break;case 6:st=0,$n=null,ao(t,n,f,6);break;case 8:sd(),Nt=6;break e;default:throw Error(r(462))}}s1();break}catch(Q){$y(t,Q)}while(!0);return Es=ta=null,$.H=o,$.A=h,tt=a,je!==null?0:(ht=null,ze=0,Mc(),Nt)}function s1(){for(;je!==null&&!jt();)Xy(je)}function Xy(t){var n=Ey(t.alternate,t,Ns);t.memoizedProps=t.pendingProps,n===null?mu(t):je=n}function Jy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=my(a,n,n.pendingProps,n.type,void 0,ze);break;case 11:n=my(a,n,n.pendingProps,n.type.render,n.ref,ze);break;case 5:Ef(n);default:Ty(a,n),n=je=Yg(n,Ns),n=Ey(a,n,Ns)}t.memoizedProps=t.pendingProps,n===null?mu(t):je=n}function ao(t,n,a,o){Es=ta=null,Ef(n),Ya=null,ol=0;var h=n.return;try{if($T(t,h,n,a,ze)){Nt=1,tu(t,ri(a,t.current)),je=null;return}}catch(f){if(h!==null)throw je=h,f;Nt=1,tu(t,ri(a,t.current)),je=null;return}n.flags&32768?($e||o===1?t=!0:no||(ze&536870912)!==0?t=!1:(cr=t=!0,(o===2||o===9||o===3||o===6)&&(o=Gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Zy(n,t)):mu(n)}function mu(t){var n=t;do{if((n.flags&32768)!==0){Zy(n,cr);return}t=n.return;var a=YT(n.alternate,n,Ns);if(a!==null){je=a;return}if(n=n.sibling,n!==null){je=n;return}je=n=t}while(n!==null);Nt===0&&(Nt=5)}function Zy(t,n){do{var a=XT(t.alternate,t);if(a!==null){a.flags&=32767,je=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){je=t;return}je=t=a}while(t!==null);Nt=6,je=null}function Wy(t,n,a,o,h,f,p,b,C){t.cancelPendingCommit=null;do gu();while(Kt!==0);if((tt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=$h,qo(t,a,f,p,b,C),t===ht&&(je=ht=null,ze=0),so=n,fr=t,Ds=a,td=f,nd=h,qy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,l1(Li,function(){return s0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=$.T,$.T=null,h=re.p,re.p=2,p=tt,tt|=4;try{JT(t,n,a)}finally{tt=p,re.p=h,$.T=o}}Kt=1,e0(),t0(),n0()}}function e0(){if(Kt===1){Kt=0;var t=fr,n=so,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var o=re.p;re.p=2;var h=tt;tt|=4;try{Vy(n,t);var f=yd,p=zg(t.containerInfo),b=f.focusedElem,C=f.selectionRange;if(p!==b&&b&&b.ownerDocument&&Pg(b.ownerDocument.documentElement,b)){if(C!==null&&Bh(b)){var z=C.start,Q=C.end;if(Q===void 0&&(Q=z),"selectionStart"in b)b.selectionStart=z,b.selectionEnd=Math.min(Q,b.value.length);else{var X=b.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var G=B.getSelection(),ue=b.textContent.length,be=Math.min(C.start,ue),ut=C.end===void 0?be:Math.min(C.end,ue);!G.extend&&be>ut&&(p=ut,ut=be,be=p);var k=Ug(b,be),O=Ug(b,ut);if(k&&O&&(G.rangeCount!==1||G.anchorNode!==k.node||G.anchorOffset!==k.offset||G.focusNode!==O.node||G.focusOffset!==O.offset)){var P=X.createRange();P.setStart(k.node,k.offset),G.removeAllRanges(),be>ut?(G.addRange(P),G.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),G.addRange(P))}}}}for(X=[],G=b;G=G.parentNode;)G.nodeType===1&&X.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<X.length;b++){var Y=X[b];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Ru=!!pd,yd=pd=null}finally{tt=h,re.p=o,$.T=a}}t.current=n,Kt=2}}function t0(){if(Kt===2){Kt=0;var t=fr,n=so,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var o=re.p;re.p=2;var h=tt;tt|=4;try{Iy(t,n.alternate,n)}finally{tt=h,re.p=o,$.T=a}}Kt=3}}function n0(){if(Kt===4||Kt===3){Kt=0,Bs();var t=fr,n=so,a=Ds,o=qy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Kt=5:(Kt=0,so=fr=null,i0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(hr=null),Zn(a),n=n.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(jn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=$.T,h=re.p,re.p=2,$.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var b=o[p];f(b.value,{componentStack:b.stack})}}finally{$.T=n,re.p=h}}(Ds&3)!==0&&gu(),Ki(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===id?Al++:(Al=0,id=t):Al=0,wl(0)}}function i0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,rl(n)))}function gu(){return e0(),t0(),n0(),s0()}function s0(){if(Kt!==5)return!1;var t=fr,n=td;td=0;var a=Zn(Ds),o=$.T,h=re.p;try{re.p=32>a?32:a,$.T=null,a=nd,nd=null;var f=fr,p=Ds;if(Kt=0,so=fr=null,Ds=0,(tt&6)!==0)throw Error(r(331));var b=tt;if(tt|=4,Py(f.current),Ly(f,f.current,p,a),tt=b,wl(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(jn,f)}catch{}return!0}finally{re.p=h,$.T=o,i0(t,n)}}function r0(t,n,a){n=ri(a,n),n=kf(t.stateNode,n,2),t=rr(t,n,2),t!==null&&(fs(t,2),Ki(t))}function rt(t,n,a){if(t.tag===3)r0(t,t,a);else for(;n!==null;){if(n.tag===3){r0(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(hr===null||!hr.has(o))){t=ri(a,t),a=ay(2),o=rr(n,a,2),o!==null&&(oy(a,o,n,t),fs(o,2),Ki(o));break}}n=n.return}}function ad(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new e1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Zf=!0,h.add(a),t=r1.bind(null,t,n,a),n.then(t,t))}function r1(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ht===t&&(ze&a)===a&&(Nt===4||Nt===3&&(ze&62914560)===ze&&300>Ut()-cu?(tt&2)===0&&ro(t,0):Wf|=a,io===ze&&(io=0)),Ki(t)}function a0(t,n){n===0&&(n=xa()),t=Zr(t,n),t!==null&&(fs(t,n),Ki(t))}function a1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),a0(t,a)}function o1(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),a0(t,a)}function l1(t,n){return Dt(t,n)}var pu=null,oo=null,od=!1,yu=!1,ld=!1,mr=0;function Ki(t){t!==oo&&t.next===null&&(oo===null?pu=oo=t:oo=oo.next=t),yu=!0,od||(od=!0,u1())}function wl(t,n){if(!ld&&yu){ld=!0;do for(var a=!1,o=pu;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,b=o.pingedLanes;f=(1<<31-wt(42|t)+1)-1,f&=h&~(p&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,u0(o,f))}else f=ze,f=Xn(o,o===ht?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Pn(o,f)||(a=!0,u0(o,f));o=o.next}while(a);ld=!1}}function c1(){o0()}function o0(){yu=od=!1;var t=0;mr!==0&&E1()&&(t=mr);for(var n=Ut(),a=null,o=pu;o!==null;){var h=o.next,f=l0(o,n);f===0?(o.next=null,a===null?pu=h:a.next=h,h===null&&(oo=a)):(a=o,(t!==0||(f&3)!==0)&&(yu=!0)),o=h}Kt!==0&&Kt!==5||wl(t),mr!==0&&(mr=0)}function l0(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-wt(f),b=1<<p,C=h[p];C===-1?((b&a)===0||(b&o)!==0)&&(h[p]=Bo(b,n)):C<=n&&(t.expiredLanes|=b),f&=~b}if(n=ht,a=ze,a=Xn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(st===2||st===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Ln(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Pn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&Ln(o),Zn(a)){case 2:case 8:a=hs;break;case 32:a=Li;break;case 268435456:a=Yn;break;default:a=Li}return o=c0.bind(null,t),a=Dt(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&Ln(o),t.callbackPriority=2,t.callbackNode=null,2}function c0(t,n){if(Kt!==0&&Kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(gu()&&t.callbackNode!==a)return null;var o=ze;return o=Xn(t,t===ht?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Gy(t,o,n),l0(t,Ut()),t.callbackNode!=null&&t.callbackNode===a?c0.bind(null,t):null)}function u0(t,n){if(gu())return null;Gy(t,n,!0)}function u1(){T1(function(){(tt&6)!==0?Dt(ki,c1):o0()})}function cd(){if(mr===0){var t=$a;t===0&&(t=xt,xt<<=1,(xt&261888)===0&&(xt=256)),mr=t}return mr}function h0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Da(""+t)}function f0(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function h1(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=h0((h[Pt]||null).action),p=o.submitter;p&&(n=(n=p[Pt]||null)?h0(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var b=new Bi("action","action",null,o,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(mr!==0){var C=p?f0(h,p):new FormData(h);If(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(b.preventDefault(),C=p?f0(h,p):new FormData(h),If(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var ud=0;ud<Fh.length;ud++){var hd=Fh[ud],f1=hd.toLowerCase(),d1=hd[0].toUpperCase()+hd.slice(1);Ai(f1,"on"+d1)}Ai(Hg,"onAnimationEnd"),Ai(Gg,"onAnimationIteration"),Ai(Fg,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(IT,"onTransitionRun"),Ai(NT,"onTransitionStart"),Ai(DT,"onTransitionCancel"),Ai($g,"onTransitionEnd"),_e("onMouseEnter",["mouseout","mouseover"]),_e("onMouseLeave",["mouseout","mouseover"]),_e("onPointerEnter",["pointerout","pointerover"]),_e("onPointerLeave",["pointerout","pointerover"]),me("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),me("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),me("onBeforeInput",["compositionend","keypress","textInput","paste"]),me("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),me("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),me("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function d0(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var b=o[p],C=b.instance,z=b.currentTarget;if(b=b.listener,C!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=z;try{f(h)}catch(Q){Oc(Q)}h.currentTarget=null,f=C}else for(p=0;p<o.length;p++){if(b=o[p],C=b.instance,z=b.currentTarget,b=b.listener,C!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=z;try{f(h)}catch(Q){Oc(Q)}h.currentTarget=null,f=C}}}}function Ue(t,n){var a=n[Gs];a===void 0&&(a=n[Gs]=new Set);var o=t+"__bubble";a.has(o)||(m0(n,t,2,!1),a.add(o))}function fd(t,n,a){var o=0;n&&(o|=4),m0(a,t,o,n)}var _u="_reactListening"+Math.random().toString(36).slice(2);function dd(t){if(!t[_u]){t[_u]=!0,q.forEach(function(a){a!=="selectionchange"&&(m1.has(a)||fd(a,!1,t),fd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[_u]||(n[_u]=!0,fd("selectionchange",!1,n))}}function m0(t,n,a,o){switch(H0(n)){case 2:var h=q1;break;case 8:h=H1;break;default:h=Cd}a=h.bind(null,n,a,t),h=void 0,!Gr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function md(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var b=o.stateNode.containerInfo;if(b===h)break;if(p===4)for(p=o.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;b!==null;){if(p=ei(b),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){o=f=p;continue e}b=b.parentNode}}o=o.return}Ys(function(){var z=f,Q=ti(a),X=[];e:{var B=Qg.get(t);if(B!==void 0){var G=Bi,ue=t;switch(t){case"keypress":if($r(a)===0)break e;case"keydown":case"keyup":G=Ic;break;case"focusin":ue="focus",G=Kr;break;case"focusout":ue="blur",G=Kr;break;case"beforeblur":case"afterblur":G=Kr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Ec;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=m;break;case Hg:case Gg:case Fg:G=Tc;break;case $g:G=T;break;case"scroll":case"scrollend":G=Xo;break;case"wheel":G=H;break;case"copy":case"cut":case"paste":G=Sc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=ys;break;case"toggle":case"beforetoggle":G=Ne}var be=(n&4)!==0,ut=!be&&(t==="scroll"||t==="scrollend"),k=be?B!==null?B+"Capture":null:B;be=[];for(var O=z,P;O!==null;){var Y=O;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||k===null||(Y=Ei(O,k),Y!=null&&be.push(Rl(O,Y,P))),ut)break;O=O.return}0<be.length&&(B=new G(B,ue,null,a,Q),X.push({event:B,listeners:be}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",B&&a!==Qo&&(ue=a.relatedTarget||a.fromElement)&&(ei(ue)||ue[Wn]))break e;if((G||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,G?(ue=a.relatedTarget||a.toElement,G=z,ue=ue?ei(ue):null,ue!==null&&(ut=u(ue),be=ue.tag,ue!==ut||be!==5&&be!==27&&be!==6)&&(ue=null)):(G=null,ue=z),G!==ue)){if(be=Jo,Y="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(be=ys,Y="onPointerLeave",k="onPointerEnter",O="pointer"),ut=G==null?B:_n(G),P=ue==null?B:_n(ue),B=new be(Y,O+"leave",G,a,Q),B.target=ut,B.relatedTarget=P,Y=null,ei(Q)===z&&(be=new be(k,O+"enter",ue,a,Q),be.target=P,be.relatedTarget=ut,Y=be),ut=Y,G&&ue)t:{for(be=g1,k=G,O=ue,P=0,Y=k;Y;Y=be(Y))P++;Y=0;for(var ge=O;ge;ge=be(ge))Y++;for(;0<P-Y;)k=be(k),P--;for(;0<Y-P;)O=be(O),Y--;for(;P--;){if(k===O||O!==null&&k===O.alternate){be=k;break t}k=be(k),O=be(O)}be=null}else be=null;G!==null&&g0(X,B,G,be,!1),ue!==null&&ut!==null&&g0(X,ut,ue,be,!0)}}e:{if(B=z?_n(z):window,G=B.nodeName&&B.nodeName.toLowerCase(),G==="select"||G==="input"&&B.type==="file")var Je=Og;else if(Ng(B))if(Mg)Je=xT;else{Je=AT;var fe=ST}else G=B.nodeName,!G||G.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Na(z.elementType)&&(Je=Og):Je=wT;if(Je&&(Je=Je(t,z))){Dg(X,Je,a,Q);break e}fe&&fe(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Go(B,"number",B.value)}switch(fe=z?_n(z):window,t){case"focusin":(Ng(fe)||fe.contentEditable==="true")&&(Ua=fe,qh=z,nl=null);break;case"focusout":nl=qh=Ua=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,Bg(X,a,Q);break;case"selectionchange":if(CT)break;case"keydown":case"keyup":Bg(X,a,Q)}var Oe;if(et)e:{switch(t){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else ja?Yr(t,a)&&(Be="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Be="onCompositionStart");Be&&(Gi&&a.locale!=="ko"&&(ja||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&ja&&(Oe=Yo()):(zi=Q,Ko="value"in zi?zi.value:zi.textContent,ja=!0)),fe=vu(z,Be),0<fe.length&&(Be=new Hi(Be,t,null,a,Q),X.push({event:Be,listeners:fe}),Oe?Be.data=Oe:(Oe=La(a),Oe!==null&&(Be.data=Oe)))),(Oe=ii?vT(t,a):ET(t,a))&&(Be=vu(z,"onBeforeInput"),0<Be.length&&(fe=new Hi("onBeforeInput","beforeinput",null,a,Q),X.push({event:fe,listeners:Be}),fe.data=Oe)),h1(X,t,z,a,Q)}d0(X,n)})}function Rl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function vu(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Ei(t,a),h!=null&&o.unshift(Rl(t,h,f)),h=Ei(t,n),h!=null&&o.push(Rl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function g1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function g0(t,n,a,o,h){for(var f=n._reactName,p=[];a!==null&&a!==o;){var b=a,C=b.alternate,z=b.stateNode;if(b=b.tag,C!==null&&C===o)break;b!==5&&b!==26&&b!==27||z===null||(C=z,h?(z=Ei(a,f),z!=null&&p.unshift(Rl(a,z,C))):h||(z=Ei(a,f),z!=null&&p.push(Rl(a,z,C)))),a=a.return}p.length!==0&&t.push({event:n,listeners:p})}var p1=/\r\n?/g,y1=/\u0000|\uFFFD/g;function p0(t){return(typeof t=="string"?t:""+t).replace(p1,`
`).replace(y1,"")}function y0(t,n){return n=p0(n),p0(t)===n}function ct(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Cn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Cn(t,""+o);break;case"className":tn(t,"class",o);break;case"tabIndex":tn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":tn(t,a,o);break;case"style":$o(t,o,f);break;case"data":if(n!=="object"){tn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Da(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ct(t,n,"name",h.name,h,null),ct(t,n,"formEncType",h.formEncType,h,null),ct(t,n,"formMethod",h.formMethod,h,null),ct(t,n,"formTarget",h.formTarget,h,null)):(ct(t,n,"encType",h.encType,h,null),ct(t,n,"method",h.method,h,null),ct(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Da(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=vi);break;case"onScroll":o!=null&&Ue("scroll",t);break;case"onScrollEnd":o!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Da(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),zt(t,"popover",o);break;case"xlinkActuate":Xe(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Xe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Xe(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Xe(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Xe(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Xe(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Xe(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Xe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Xe(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":zt(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=vc.get(a)||a,zt(t,a,o))}}function gd(t,n,a,o,h,f){switch(a){case"style":$o(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?Cn(t,o):(typeof o=="number"||typeof o=="bigint")&&Cn(t,""+o);break;case"onScroll":o!=null&&Ue("scroll",t);break;case"onScrollEnd":o!=null&&Ue("scrollend",t);break;case"onClick":o!=null&&(t.onclick=vi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oe.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Pt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):zt(t,a,o)}}}function on(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ct(t,n,f,p,a,null)}}h&&ct(t,n,"srcSet",a.srcSet,a,null),o&&ct(t,n,"src",a.src,a,null);return;case"input":Ue("invalid",t);var b=f=p=h=null,C=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var Q=a[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":p=Q;break;case"checked":C=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:ct(t,n,o,Q,a,null)}}pc(t,f,b,C,z,p,h,!1);return;case"select":Ue("invalid",t),o=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":p=b;break;case"multiple":o=b;default:ct(t,n,h,b,a,null)}n=f,a=p,t.multiple=!!o,n!=null?Fs(t,!!o,n,!1):a!=null&&Fs(t,!!o,a,!0);return;case"textarea":Ue("invalid",t),f=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(b=a[p],b!=null))switch(p){case"value":o=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:ct(t,n,p,b,a,null)}$s(t,o,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ct(t,n,C,o,a,null)}return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(o=0;o<xl.length;o++)Ue(xl[o],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ct(t,n,z,o,a,null)}return;default:if(Na(n)){for(Q in a)a.hasOwnProperty(Q)&&(o=a[Q],o!==void 0&&gd(t,n,Q,o,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(o=a[b],o!=null&&ct(t,n,b,o,a,null))}function _1(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,b=null,C=null,z=null,Q=null;for(G in a){var X=a[G];if(a.hasOwnProperty(G)&&X!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(G)||ct(t,n,G,null,o,X)}}for(var B in o){var G=o[B];if(X=a[B],o.hasOwnProperty(B)&&(G!=null||X!=null))switch(B){case"type":f=G;break;case"name":h=G;break;case"checked":z=G;break;case"defaultChecked":Q=G;break;case"value":p=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:G!==X&&ct(t,n,B,G,o,X)}}Ia(t,p,b,C,z,Q,f,h);return;case"select":G=p=b=B=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":G=C;default:o.hasOwnProperty(f)||ct(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":b=f;break;case"multiple":p=f;default:f!==C&&ct(t,n,h,f,o,C)}n=b,a=p,o=G,B!=null?Fs(t,!!a,B,!1):!!o!=!!a&&(n!=null?Fs(t,!!a,n,!0):Fs(t,!!a,a?[]:"",!1));return;case"textarea":G=B=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ct(t,n,b,null,o,h)}for(p in o)if(h=o[p],f=a[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":B=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ct(t,n,p,h,o,f)}yc(t,B,G);return;case"option":for(var ue in a)if(B=a[ue],a.hasOwnProperty(ue)&&B!=null&&!o.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:ct(t,n,ue,null,o,B)}for(C in o)if(B=o[C],G=a[C],o.hasOwnProperty(C)&&B!==G&&(B!=null||G!=null))switch(C){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ct(t,n,C,B,o,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)B=a[be],a.hasOwnProperty(be)&&B!=null&&!o.hasOwnProperty(be)&&ct(t,n,be,null,o,B);for(z in o)if(B=o[z],G=a[z],o.hasOwnProperty(z)&&B!==G&&(B!=null||G!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:ct(t,n,z,B,o,G)}return;default:if(Na(n)){for(var ut in a)B=a[ut],a.hasOwnProperty(ut)&&B!==void 0&&!o.hasOwnProperty(ut)&&gd(t,n,ut,void 0,o,B);for(Q in o)B=o[Q],G=a[Q],!o.hasOwnProperty(Q)||B===G||B===void 0&&G===void 0||gd(t,n,Q,B,o,G);return}}for(var k in a)B=a[k],a.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&ct(t,n,k,null,o,B);for(X in o)B=o[X],G=a[X],!o.hasOwnProperty(X)||B===G||B==null&&G==null||ct(t,n,X,B,o,G)}function _0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function v1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,p=h.initiatorType,b=h.duration;if(f&&b&&_0(p)){for(p=0,b=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],z=C.startTime;if(z>b)break;var Q=C.transferSize,X=C.initiatorType;Q&&_0(X)&&(C=C.responseEnd,p+=Q*(C<b?1:(b-z)/(C-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pd=null,yd=null;function Eu(t){return t.nodeType===9?t:t.ownerDocument}function v0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function E0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function _d(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var vd=null;function E1(){var t=window.event;return t&&t.type==="popstate"?t===vd?!1:(vd=t,!0):(vd=null,!1)}var b0=typeof setTimeout=="function"?setTimeout:void 0,b1=typeof clearTimeout=="function"?clearTimeout:void 0,T0=typeof Promise=="function"?Promise:void 0,T1=typeof queueMicrotask=="function"?queueMicrotask:typeof T0<"u"?function(t){return T0.resolve(null).then(t).catch(S1)}:b0;function S1(t){setTimeout(function(){throw t})}function gr(t){return t==="head"}function S0(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),ho(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Cl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Cl(a);for(var f=a.firstChild;f;){var p=f.nextSibling,b=f.nodeName;f[yn]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&Cl(t.ownerDocument.body);a=h}while(a);ho(n)}function A0(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Ed(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ed(a),ms(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function A1(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[yn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ui(t.nextSibling),t===null)break}return null}function w1(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ui(t.nextSibling),t===null))return null;return t}function w0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ui(t.nextSibling),t===null))return null;return t}function bd(t){return t.data==="$?"||t.data==="$~"}function Td(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function x1(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ui(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Sd=null;function x0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return ui(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function R0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function C0(t,n,a){switch(n=Eu(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Cl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ms(t)}var hi=new Map,I0=new Set;function bu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Os=re.d;re.d={f:R1,r:C1,D:I1,C:N1,L:D1,m:O1,X:V1,S:M1,M:k1};function R1(){var t=Os.f(),n=fu();return t||n}function C1(t){var n=wn(t);n!==null&&n.tag===5&&n.type==="form"?$p(n):Os.r(t)}var lo=typeof document>"u"?null:document;function N0(t,n,a){var o=lo;if(o&&typeof n=="string"&&n){var h=Rn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),I0.has(h)||(I0.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),on(n,"link",t),Ct(n),o.head.appendChild(n)))}}function I1(t){Os.D(t),N0("dns-prefetch",t,null)}function N1(t,n){Os.C(t,n),N0("preconnect",t,n)}function D1(t,n,a){Os.L(t,n,a);var o=lo;if(o&&t&&n){var h='link[rel="preload"][as="'+Rn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Rn(a.imageSizes)+'"]')):h+='[href="'+Rn(t)+'"]';var f=h;switch(n){case"style":f=co(t);break;case"script":f=uo(t)}hi.has(f)||(t=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),hi.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Il(f))||n==="script"&&o.querySelector(Nl(f))||(n=o.createElement("link"),on(n,"link",t),Ct(n),o.head.appendChild(n)))}}function O1(t,n){Os.m(t,n);var a=lo;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Rn(o)+'"][href="'+Rn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=uo(t)}if(!hi.has(f)&&(t=w({rel:"modulepreload",href:t},n),hi.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nl(f)))return}o=a.createElement("link"),on(o,"link",t),Ct(o),a.head.appendChild(o)}}}function M1(t,n,a){Os.S(t,n,a);var o=lo;if(o&&t){var h=U(o).hoistableStyles,f=co(t);n=n||"default";var p=h.get(f);if(!p){var b={loading:0,preload:null};if(p=o.querySelector(Il(f)))b.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},a),(a=hi.get(f))&&Ad(t,a);var C=p=o.createElement("link");Ct(C),on(C,"link",t),C._p=new Promise(function(z,Q){C.onload=z,C.onerror=Q}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Tu(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:b},h.set(f,p)}}}function V1(t,n){Os.X(t,n);var a=lo;if(a&&t){var o=U(a).hoistableScripts,h=uo(t),f=o.get(h);f||(f=a.querySelector(Nl(h)),f||(t=w({src:t,async:!0},n),(n=hi.get(h))&&wd(t,n),f=a.createElement("script"),Ct(f),on(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function k1(t,n){Os.M(t,n);var a=lo;if(a&&t){var o=U(a).hoistableScripts,h=uo(t),f=o.get(h);f||(f=a.querySelector(Nl(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=hi.get(h))&&wd(t,n),f=a.createElement("script"),Ct(f),on(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function D0(t,n,a,o){var h=(h=xe.current)?bu(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=co(a.href),a=U(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=co(a.href);var f=U(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(Il(t)))&&!f._p&&(p.instance=f,p.state.loading=5),hi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},hi.set(t,a),f||L1(h,t,a,p.state))),n&&o===null)throw Error(r(528,""));return p}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=uo(a),a=U(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function co(t){return'href="'+Rn(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function O0(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function L1(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),on(n,"link",a),Ct(n),t.head.appendChild(n))}function uo(t){return'[src="'+Rn(t)+'"]'}function Nl(t){return"script[async]"+t}function M0(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Rn(a.href)+'"]');if(o)return n.instance=o,Ct(o),o;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ct(o),on(o,"style",h),Tu(o,a.precedence,t),n.instance=o;case"stylesheet":h=co(a.href);var f=t.querySelector(Il(h));if(f)return n.state.loading|=4,n.instance=f,Ct(f),f;o=O0(a),(h=hi.get(h))&&Ad(o,h),f=(t.ownerDocument||t).createElement("link"),Ct(f);var p=f;return p._p=new Promise(function(b,C){p.onload=b,p.onerror=C}),on(f,"link",o),n.state.loading|=4,Tu(f,a.precedence,t),n.instance=f;case"script":return f=uo(a.src),(h=t.querySelector(Nl(f)))?(n.instance=h,Ct(h),h):(o=a,(h=hi.get(f))&&(o=w({},a),wd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ct(h),on(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Tu(o,a.precedence,t));return n.instance}function Tu(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var b=o[p];if(b.dataset.precedence===n)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Ad(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function wd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Su=null;function V0(t,n,a){if(Su===null){var o=new Map,h=Su=new Map;h.set(a,o)}else h=Su,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[yn]||f[Rt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var b=o.get(p);b?b.push(f):o.set(p,[f])}}return o}function k0(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function j1(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function L0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function U1(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=co(o.href),f=n.querySelector(Il(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Au.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Ct(f);return}f=n.ownerDocument||n,o=O0(o),(h=hi.get(h))&&Ad(o,h),f=f.createElement("link"),Ct(f);var p=f;p._p=new Promise(function(b,C){p.onload=b,p.onerror=C}),on(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Au.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var xd=0;function P1(t,n){return t.stylesheets&&t.count===0&&xu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&xu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&xd===0&&(xd=62500*v1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&xu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>xd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Au(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wu=null;function xu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wu=new Map,n.forEach(z1,t),wu=null,Au.call(t))}function z1(t,n){if(!(n.state.loading&4)){var a=wu.get(t);if(a)var o=a.get(null);else{a=new Map,wu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||o,f===o&&a.set(null,h),a.set(p,h),this.count++,o=Au.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Dl={$$typeof:Te,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function B1(t,n,a,o,h,f,p,b,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jn(0),this.hiddenUpdates=Jn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function j0(t,n,a,o,h,f,p,b,C,z,Q,X){return t=new B1(t,n,a,p,C,z,Q,X,b),n=1,f===!0&&(n|=24),f=Hn(3,null,null,n),t.current=f,f.stateNode=t,n=rf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},cf(f),t}function U0(t){return t?(t=Ba,t):Ba}function P0(t,n,a,o,h,f){h=U0(h),o.context===null?o.context=h:o.pendingContext=h,o=sr(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=rr(t,o,n),a!==null&&(Mn(a,t,n),cl(a,t,n))}function z0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Rd(t,n){z0(t,n),(t=t.alternate)&&z0(t,n)}function B0(t){if(t.tag===13||t.tag===31){var n=Zr(t,67108864);n!==null&&Mn(n,t,67108864),Rd(t,67108864)}}function q0(t){if(t.tag===13||t.tag===31){var n=Kn();n=ji(n);var a=Zr(t,n);a!==null&&Mn(a,t,n),Rd(t,n)}}var Ru=!0;function q1(t,n,a,o){var h=$.T;$.T=null;var f=re.p;try{re.p=2,Cd(t,n,a,o)}finally{re.p=f,$.T=h}}function H1(t,n,a,o){var h=$.T;$.T=null;var f=re.p;try{re.p=8,Cd(t,n,a,o)}finally{re.p=f,$.T=h}}function Cd(t,n,a,o){if(Ru){var h=Id(o);if(h===null)md(t,n,o,Cu,a),G0(t,o);else if(F1(h,t,n,a,o))o.stopPropagation();else if(G0(t,o),n&4&&-1<G1.indexOf(t)){for(;h!==null;){var f=wn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Un(f.pendingLanes);if(p!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;p;){var C=1<<31-wt(p);b.entanglements[1]|=C,p&=~C}Ki(f),(tt&6)===0&&(uu=Ut()+500,wl(0))}}break;case 31:case 13:b=Zr(f,2),b!==null&&Mn(b,f,2),fu(),Rd(f,2)}if(f=Id(o),f===null&&md(t,n,o,Cu,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else md(t,n,o,null,a)}}function Id(t){return t=ti(t),Nd(t)}var Cu=null;function Nd(t){if(Cu=null,t=ei(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Cu=t,null}function H0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(us()){case ki:return 2;case hs:return 8;case Li:case wa:return 32;case Yn:return 268435456;default:return 32}default:return 32}}var Dd=!1,pr=null,yr=null,_r=null,Ol=new Map,Ml=new Map,vr=[],G1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G0(t,n){switch(t){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":Ol.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(n.pointerId)}}function Vl(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=wn(n),n!==null&&B0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function F1(t,n,a,o,h){switch(n){case"focusin":return pr=Vl(pr,t,n,a,o,h),!0;case"dragenter":return yr=Vl(yr,t,n,a,o,h),!0;case"mouseover":return _r=Vl(_r,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Ol.set(f,Vl(Ol.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Ml.set(f,Vl(Ml.get(f)||null,t,n,a,o,h)),!0}return!1}function F0(t){var n=ei(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,zn(t.priority,function(){q0(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,zn(t.priority,function(){q0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Iu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Id(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Qo=o,a.target.dispatchEvent(o),Qo=null}else return n=wn(a),n!==null&&B0(n),t.blockedOn=a,!1;n.shift()}return!0}function $0(t,n,a){Iu(t)&&a.delete(n)}function $1(){Dd=!1,pr!==null&&Iu(pr)&&(pr=null),yr!==null&&Iu(yr)&&(yr=null),_r!==null&&Iu(_r)&&(_r=null),Ol.forEach($0),Ml.forEach($0)}function Nu(t,n){t.blockedOn===n&&(t.blockedOn=null,Dd||(Dd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,$1)))}var Du=null;function Q0(t){Du!==t&&(Du=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Du===t&&(Du=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Nd(o||a)===null)continue;break}var f=wn(a);f!==null&&(t.splice(n,3),n-=3,If(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ho(t){function n(C){return Nu(C,t)}pr!==null&&Nu(pr,t),yr!==null&&Nu(yr,t),_r!==null&&Nu(_r,t),Ol.forEach(n),Ml.forEach(n);for(var a=0;a<vr.length;a++){var o=vr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<vr.length&&(a=vr[0],a.blockedOn===null);)F0(a),a.blockedOn===null&&vr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],p=h[Pt]||null;if(typeof f=="function")p||Q0(a);else if(p){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Pt]||null)b=p.formAction;else if(Nd(h)!==null)continue}else b=p.action;typeof b=="function"?a[o+1]=b:(a.splice(o,3),o-=3),Q0(a)}}}function K0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Od(t){this._internalRoot=t}Ou.prototype.render=Od.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Kn();P0(a,o,t,n,null,null)},Ou.prototype.unmount=Od.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;P0(t.current,2,null,t,null,null),fu(),n[Wn]=null}};function Ou(t){this._internalRoot=t}Ou.prototype.unstable_scheduleHydration=function(t){if(t){var n=qr();t={blockedOn:null,target:t,priority:n};for(var a=0;a<vr.length&&n!==0&&n<vr[a].priority;a++);vr.splice(a,0,t),a===0&&F0(t)}};var Y0=e.version;if(Y0!=="19.2.0")throw Error(r(527,Y0,"19.2.0"));re.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var Q1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{jn=Mu.inject(Q1),dt=Mu}catch{}}return Ll.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=ny,f=iy,p=sy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=j0(t,1,!1,null,null,a,o,null,h,f,p,K0),t[Wn]=n.current,dd(t),new Od(n)},Ll.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=ny,p=iy,b=sy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=j0(t,1,!0,n,a??null,o,h,C,f,p,b,K0),n.context=U0(null),a=n.current,o=Kn(),o=ji(o),h=sr(o),h.callback=null,rr(a,h,o),a=o,n.current.lanes=a,fs(n,a),Ki(n),t[Wn]=n.current,dd(t),new Ou(n)},Ll.version="19.2.0",Ll}var r_;function rS(){if(r_)return kd.exports;r_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),kd.exports=sS(),kd.exports}var aS=rS();const oS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),a_=s=>{const e=lS(s);return e.charAt(0).toUpperCase()+e.slice(1)},$v=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),cS=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var uS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hS=ve.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:d,...g},y)=>ve.createElement("svg",{ref:y,...uS,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:$v("lucide",l),...!u&&!cS(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,A])=>ve.createElement(_,A)),...Array.isArray(u)?u:[u]]));const Ke=(s,e)=>{const i=ve.forwardRef(({className:r,...l},u)=>ve.createElement(hS,{ref:u,iconNode:e,className:$v(`lucide-${oS(a_(s))}`,`lucide-${s}`,r),...l}));return i.displayName=a_(s),i};const fS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Vu=Ke("arrow-right",fS);const dS=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],mS=Ke("book-open",dS);const gS=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],pS=Ke("book",gS);const yS=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Pd=Ke("brain",yS);const _S=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vS=Ke("calendar",_S);const ES=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],bS=Ke("chevron-right",ES);const TS=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],SS=Ke("chevron-up",TS);const AS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zd=Ke("circle-check-big",AS);const wS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],xS=Ke("circle-x",wS);const RS=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]],CS=Ke("git-compare",RS);const IS=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],ku=Ke("headphones",IS);const NS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],o_=Ke("history",NS);const DS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],l_=Ke("info",DS);const OS=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],MS=Ke("key-round",OS);const VS=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Bd=Ke("lightbulb",VS);const kS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],LS=Ke("loader-circle",kS);const jS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],US=Ke("lock",jS);const PS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],zS=Ke("log-out",PS);const BS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],c_=Ke("mail",BS);const qS=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Lu=Ke("moon",qS);const HS=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],u_=Ke("pause",HS);const GS=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],qd=Ke("pen-line",GS);const FS=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],$S=Ke("play",FS);const QS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],KS=Ke("refresh-cw",QS);const YS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],h_=Ke("rotate-ccw",YS);const XS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],f_=Ke("search",XS);const JS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ZS=Ke("send",JS);const WS=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],Hd=Ke("skip-forward",WS);const eA=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ju=Ke("sparkles",eA);const tA=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Uu=Ke("sun",tA);const nA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],iA=Ke("triangle-alert",nA);const sA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],rA=Ke("user",sA);const aA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Gd=Ke("x",aA),oA=()=>{};var d_={};const Qv=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},lA=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[i++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[i++],d=s[i++],g=s[i++],y=((l&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const u=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},Kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,g=d?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,A=u>>2,w=(u&3)<<4|g>>4;let S=(g&15)<<2|_>>6,K=_&63;y||(K=64,d||(S=64)),r.push(i[A],i[w],i[S],i[K])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Qv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):lA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const w=l<s.length?i[s.charAt(l)]:64;if(++l,u==null||g==null||_==null||w==null)throw new cA;const S=u<<2|g>>4;if(r.push(S),_!==64){const K=g<<4&240|_>>2;if(r.push(K),w!==64){const W=_<<6&192|w;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class cA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uA=function(s){const e=Qv(s);return Kv.encodeByteArray(e,!0)},nh=function(s){return uA(s).replace(/\./g,"")},Yv=function(s){try{return Kv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const fA=()=>hA().__FIREBASE_DEFAULTS__,dA=()=>{if(typeof process>"u"||typeof d_>"u")return;const s=d_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},mA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Yv(s[1]);return e&&JSON.parse(e)},Th=()=>{try{return oA()||fA()||dA()||mA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Xv=s=>Th()?.emulatorHosts?.[s],gA=s=>{const e=Xv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Jv=()=>Th()?.config,Zv=s=>Th()?.[`_${s}`];class pA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function Oo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Wv(s){return(await fetch(s,{credentials:"include"})).ok}function yA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[nh(JSON.stringify(i)),nh(JSON.stringify(d)),""].join(".")}const Hl={};function _A(){const s={prod:[],emulator:[]};for(const e of Object.keys(Hl))Hl[e]?s.emulator.push(e):s.prod.push(e);return s}function vA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let m_=!1;function eE(s,e){if(typeof window>"u"||typeof document>"u"||!Oo(window.location.host)||Hl[s]===e||Hl[s]||m_)return;Hl[s]=e;function i(S){return`__firebase__banner__${S}`}const r="__firebase__banner",u=_A().prod.length>0;function d(){const S=document.getElementById(r);S&&S.remove()}function g(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function y(S,K){S.setAttribute("width","24"),S.setAttribute("id",K),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function _(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{m_=!0,d()},S}function A(S,K){S.setAttribute("id",K),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function w(){const S=vA(r),K=i("text"),W=document.getElementById(K)||document.createElement("span"),ie=i("learnmore"),ne=document.getElementById(ie)||document.createElement("a"),ye=i("preprendIcon"),Ee=document.getElementById(ye)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Te=S.element;g(Te),A(ne,ie);const Ve=_();y(Ee,ye),Te.append(Ee,W,ne,Ve),document.body.appendChild(Te)}u?(W.innerText="Preview backend disconnected.",Ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function bA(){const s=Th()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function AA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wA(){const s=pn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function xA(){return!bA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RA(){try{return typeof indexedDB=="object"}catch{return!1}}function CA(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const IA="FirebaseError";class zs extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=IA,Object.setPrototypeOf(this,zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ac.prototype.create)}}class ac{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?NA(u,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new zs(l,g,r)}}function NA(s,e){return s.replace(DA,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const DA=/\{\$([^}]+)}/g;function OA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function pa(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const u=s[l],d=e[l];if(g_(u)&&g_(d)){if(!pa(u,d))return!1}else if(u!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function g_(s){return s!==null&&typeof s=="object"}function oc(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Ul(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function MA(s,e){const i=new VA(s,e);return i.subscribe.bind(i)}class VA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");kA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=Fd),l.error===void 0&&(l.error=Fd),l.complete===void 0&&(l.complete=Fd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Fd(){}function Wt(s){return s&&s._delegate?s._delegate:s}class ya{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ha="[DEFAULT]";class LA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new pA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UA(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);r===g&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jA(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jA(s){return s===ha?void 0:s}function UA(s){return s.instantiationMode==="EAGER"}class PA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new LA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var qe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(qe||(qe={}));const zA={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},BA=qe.INFO,qA={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},HA=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=qA[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Om{constructor(e){this.name=e,this._logLevel=BA,this._logHandler=HA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const GA=(s,e)=>e.some(i=>s instanceof i);let p_,y_;function FA(){return p_||(p_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $A(){return y_||(y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tE=new WeakMap,om=new WeakMap,nE=new WeakMap,$d=new WeakMap,Mm=new WeakMap;function QA(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{i(xr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&tE.set(i,s)}).catch(()=>{}),Mm.set(e,s),e}function KA(s){if(om.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});om.set(s,e)}let lm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return om.get(s);if(e==="objectStoreNames")return s.objectStoreNames||nE.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return xr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function YA(s){lm=s(lm)}function XA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Qd(this),e,...i);return nE.set(r,e.sort?e.sort():[e]),xr(r)}:$A().includes(s)?function(...e){return s.apply(Qd(this),e),xr(tE.get(this))}:function(...e){return xr(s.apply(Qd(this),e))}}function JA(s){return typeof s=="function"?XA(s):(s instanceof IDBTransaction&&KA(s),GA(s,FA())?new Proxy(s,lm):s)}function xr(s){if(s instanceof IDBRequest)return QA(s);if($d.has(s))return $d.get(s);const e=JA(s);return e!==s&&($d.set(s,e),Mm.set(e,s)),e}const Qd=s=>Mm.get(s);function ZA(s,e,{blocked:i,upgrade:r,blocking:l,terminated:u}={}){const d=indexedDB.open(s,e),g=xr(d);return r&&d.addEventListener("upgradeneeded",y=>{r(xr(d.result),y.oldVersion,y.newVersion,xr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{u&&y.addEventListener("close",()=>u()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const WA=["get","getKey","getAll","getAllKeys","count"],ew=["put","add","delete","clear"],Kd=new Map;function __(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Kd.get(e))return Kd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=ew.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||WA.includes(i)))return;const u=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&y.done]))[0]};return Kd.set(e,u),u}YA(s=>({...s,get:(e,i,r)=>__(e,i)||s.get(e,i,r),has:(e,i)=>!!__(e,i)||s.has(e,i)}));class tw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(nw(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function nw(s){return s.getComponent()?.type==="VERSION"}const cm="@firebase/app",v_="0.14.6";const Ls=new Om("@firebase/app"),iw="@firebase/app-compat",sw="@firebase/analytics-compat",rw="@firebase/analytics",aw="@firebase/app-check-compat",ow="@firebase/app-check",lw="@firebase/auth",cw="@firebase/auth-compat",uw="@firebase/database",hw="@firebase/data-connect",fw="@firebase/database-compat",dw="@firebase/functions",mw="@firebase/functions-compat",gw="@firebase/installations",pw="@firebase/installations-compat",yw="@firebase/messaging",_w="@firebase/messaging-compat",vw="@firebase/performance",Ew="@firebase/performance-compat",bw="@firebase/remote-config",Tw="@firebase/remote-config-compat",Sw="@firebase/storage",Aw="@firebase/storage-compat",ww="@firebase/firestore",xw="@firebase/ai",Rw="@firebase/firestore-compat",Cw="firebase",Iw="12.6.0";const um="[DEFAULT]",Nw={[cm]:"fire-core",[iw]:"fire-core-compat",[rw]:"fire-analytics",[sw]:"fire-analytics-compat",[ow]:"fire-app-check",[aw]:"fire-app-check-compat",[lw]:"fire-auth",[cw]:"fire-auth-compat",[uw]:"fire-rtdb",[hw]:"fire-data-connect",[fw]:"fire-rtdb-compat",[dw]:"fire-fn",[mw]:"fire-fn-compat",[gw]:"fire-iid",[pw]:"fire-iid-compat",[yw]:"fire-fcm",[_w]:"fire-fcm-compat",[vw]:"fire-perf",[Ew]:"fire-perf-compat",[bw]:"fire-rc",[Tw]:"fire-rc-compat",[Sw]:"fire-gcs",[Aw]:"fire-gcs-compat",[ww]:"fire-fst",[Rw]:"fire-fst-compat",[xw]:"fire-vertex","fire-js":"fire-js",[Cw]:"fire-js-all"};const ih=new Map,Dw=new Map,hm=new Map;function E_(s,e){try{s.container.addComponent(e)}catch(i){Ls.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Ao(s){const e=s.name;if(hm.has(e))return Ls.debug(`There were multiple attempts to register component ${e}.`),!1;hm.set(e,s);for(const i of ih.values())E_(i,s);for(const i of Dw.values())E_(i,s);return!0}function Vm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Tn(s){return s==null?!1:s.settings!==void 0}const Ow={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rr=new ac("app","Firebase",Ow);class Mw{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}const Mo=Iw;function iE(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:um,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw Rr.create("bad-app-name",{appName:String(l)});if(i||(i=Jv()),!i)throw Rr.create("no-options");const u=ih.get(l);if(u){if(pa(i,u.options)&&pa(r,u.config))return u;throw Rr.create("duplicate-app",{appName:l})}const d=new PA(l);for(const y of hm.values())d.addComponent(y);const g=new Mw(i,r,d);return ih.set(l,g),g}function sE(s=um){const e=ih.get(s);if(!e&&s===um&&Jv())return iE();if(!e)throw Rr.create("no-app",{appName:s});return e}function Cr(s,e,i){let r=Nw[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ls.warn(d.join(" "));return}Ao(new ya(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Vw="firebase-heartbeat-database",kw=1,Yl="firebase-heartbeat-store";let Yd=null;function rE(){return Yd||(Yd=ZA(Vw,kw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Yl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Rr.create("idb-open",{originalErrorMessage:s.message})})),Yd}async function Lw(s){try{const i=(await rE()).transaction(Yl),r=await i.objectStore(Yl).get(aE(s));return await i.done,r}catch(e){if(e instanceof zs)Ls.warn(e.message);else{const i=Rr.create("idb-get",{originalErrorMessage:e?.message});Ls.warn(i.message)}}}async function b_(s,e){try{const r=(await rE()).transaction(Yl,"readwrite");await r.objectStore(Yl).put(e,aE(s)),await r.done}catch(i){if(i instanceof zs)Ls.warn(i.message);else{const r=Rr.create("idb-set",{originalErrorMessage:i?.message});Ls.warn(r.message)}}}function aE(s){return`${s.name}!${s.options.appId}`}const jw=1024,Uw=30;class Pw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Bw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=T_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>Uw){const l=qw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ls.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=T_(),{heartbeatsToSend:i,unsentEntries:r}=zw(this._heartbeatsCache.heartbeats),l=nh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Ls.warn(e),""}}}function T_(){return new Date().toISOString().substring(0,10)}function zw(s,e=jw){const i=[];let r=s.slice();for(const l of s){const u=i.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),S_(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),S_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Bw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RA()?CA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Lw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return b_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return b_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function S_(s){return nh(JSON.stringify({version:2,heartbeats:s})).length}function qw(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function Hw(s){Ao(new ya("platform-logger",e=>new tw(e),"PRIVATE")),Ao(new ya("heartbeat",e=>new Pw(e),"PRIVATE")),Cr(cm,v_,s),Cr(cm,v_,"esm2020"),Cr("fire-js","")}Hw("");var Gw="firebase",Fw="12.6.0";Cr(Gw,Fw,"app");function oE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $w=oE,lE=new ac("auth","Firebase",oE());const sh=new Om("@firebase/auth");function Qw(s,...e){sh.logLevel<=qe.WARN&&sh.warn(`Auth (${Mo}): ${s}`,...e)}function $u(s,...e){sh.logLevel<=qe.ERROR&&sh.error(`Auth (${Mo}): ${s}`,...e)}function mi(s,...e){throw Lm(s,...e)}function Ii(s,...e){return Lm(s,...e)}function km(s,e,i){const r={...$w(),[e]:i};return new ac("auth","Firebase",r).create(e,{appName:s.name})}function Ni(s){return km(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kw(s,e,i){const r=i;if(!(e instanceof r))throw r.name!==e.constructor.name&&mi(s,"argument-error"),km(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Lm(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return lE.create(s,...e)}function Se(s,e,...i){if(!s)throw Lm(e,...i)}function Vs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw $u(e),new Error(e)}function js(s,e){s||Vs(e)}function fm(){return typeof self<"u"&&self.location?.href||""}function Yw(){return A_()==="http:"||A_()==="https:"}function A_(){return typeof self<"u"&&self.location?.protocol||null}function Xw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Yw()||SA()||"connection"in navigator)?navigator.onLine:!0}function Jw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class lc{constructor(e,i){this.shortDelay=e,this.longDelay=i,js(i>e,"Short delay should be less than long delay!"),this.isMobile=EA()||AA()}get(){return Xw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jm(s,e){js(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class cE{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Zw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Ww=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ex=new lc(3e4,6e4);function rs(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function as(s,e,i,r,l={}){return uE(s,l,async()=>{let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});const g=oc({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:y,...u};return TA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&Oo(s.emulatorConfig.host)&&(_.credentials="include"),cE.fetch()(await hE(s,s.config.apiHost,i,g),_)})}async function uE(s,e,i){s._canInitEmulator=!1;const r={...Zw,...e};try{const l=new nx(s),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Pu(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pu(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Pu(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Pu(s,"user-disabled",d);const A=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw km(s,A,_);mi(s,A)}}catch(l){if(l instanceof zs)throw l;mi(s,"network-request-failed",{message:String(l)})}}async function Vo(s,e,i,r,l={}){const u=await as(s,e,i,r,l);return"mfaPendingCredential"in u&&mi(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function hE(s,e,i,r){const l=`${e}${i}?${r}`,u=s,d=u.config.emulator?jm(s.config,l):`${s.config.apiScheme}://${l}`;return Ww.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function tx(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Ii(this.auth,"network-request-failed")),ex.get())})}}function Pu(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Ii(s,e,r);return l.customData._tokenResponse=i,l}function w_(s){return s!==void 0&&s.enterprise!==void 0}class ix{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return tx(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sx(s,e){return as(s,"GET","/v2/recaptchaConfig",rs(s,e))}async function rx(s,e){return as(s,"POST","/v1/accounts:delete",e)}async function rh(s,e){return as(s,"POST","/v1/accounts:lookup",e)}function Gl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ax(s,e=!1){const i=Wt(s),r=await i.getIdToken(e),l=Um(r);Se(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:r,authTime:Gl(Xd(l.auth_time)),issuedAtTime:Gl(Xd(l.iat)),expirationTime:Gl(Xd(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Xd(s){return Number(s)*1e3}function Um(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return $u("JWT malformed, contained fewer than 3 sections"),null;try{const l=Yv(i);return l?JSON.parse(l):($u("Failed to decode base64 JWT payload"),null)}catch(l){return $u("Caught error parsing JWT payload as JSON",l?.toString()),null}}function x_(s){const e=Um(s);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function wo(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof zs&&ox(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function ox({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class lx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class dm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ah(s){const e=s.auth,i=await s.getIdToken(),r=await wo(s,rh(e,{idToken:i}));Se(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?fE(l.providerUserInfo):[],d=ux(s.providerData,u),g=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,_=g?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new dm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,A)}async function cx(s){const e=Wt(s);await ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ux(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function fE(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function hx(s,e){const i=await uE(s,{},async()=>{const r=oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=await hE(s,l,"/v1/token",`key=${u}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:r};return s.emulatorConfig&&Oo(s.emulatorConfig.host)&&(y.credentials="include"),cE.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function fx(s,e){return as(s,"POST","/v2/accounts:revokeToken",rs(s,e))}class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):x_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const i=x_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:u}=await hx(e,i);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:u}=i,d=new _o;return r&&(Se(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(Se(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(Se(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return Vs("not implemented")}}function br(s,e){Se(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Ri{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new lx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new dm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await wo(this,this.stsTokenManager.getToken(this.auth,e));return Se(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return ax(this,e)}reload(){return cx(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await ah(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(Ni(this.auth));const e=await this.getIdToken();return await wo(this,rx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,u=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:w,emailVerified:S,isAnonymous:K,providerData:W,stsTokenManager:ie}=i;Se(w&&ie,e,"internal-error");const ne=_o.fromJSON(this.name,ie);Se(typeof w=="string",e,"internal-error"),br(r,e.name),br(l,e.name),Se(typeof S=="boolean",e,"internal-error"),Se(typeof K=="boolean",e,"internal-error"),br(u,e.name),br(d,e.name),br(g,e.name),br(y,e.name),br(_,e.name),br(A,e.name);const ye=new Ri({uid:w,auth:e,email:l,emailVerified:S,displayName:r,isAnonymous:K,photoURL:d,phoneNumber:u,tenantId:g,stsTokenManager:ne,createdAt:_,lastLoginAt:A});return W&&Array.isArray(W)&&(ye.providerData=W.map(Ee=>({...Ee}))),y&&(ye._redirectEventId=y),ye}static async _fromIdTokenResponse(e,i,r=!1){const l=new _o;l.updateFromServerResponse(i);const u=new Ri({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await ah(u),u}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];Se(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?fE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,g=new _o;g.updateFromIdToken(r);const y=new Ri({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new dm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(y,_),y}}const R_=new Map;function ks(s){js(s instanceof Function,"Expected a class definition");let e=R_.get(s);return e?(js(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,R_.set(s,e),e)}class dE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}dE.type="NONE";const C_=dE;function Qu(s,e,i){return`firebase:${s}:${e}:${i}`}class vo{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=Qu(this.userKey,l.apiKey,u),this.fullPersistenceKey=Qu("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await rh(this.auth,{idToken:e}).catch(()=>{});return i?Ri._fromGetAccountInfoResponse(this.auth,i,e):null}return Ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new vo(ks(C_),e,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=l[0]||ks(C_);const d=Qu(r,e.config.apiKey,e.name);let g=null;for(const _ of i)try{const A=await _._get(d);if(A){let w;if(typeof A=="string"){const S=await rh(e,{idToken:A}).catch(()=>{});if(!S)break;w=await Ri._fromGetAccountInfoResponse(e,S,A)}else w=Ri._fromJSON(e,A);_!==u&&(g=w),u=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new vo(u,e,r):(u=y[0],g&&await u._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==u)try{await _._remove(d)}catch{}})),new vo(u,e,r))}}function I_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vE(e))return"Blackberry";if(EE(e))return"Webos";if(gE(e))return"Safari";if((e.includes("chrome/")||pE(e))&&!e.includes("edge/"))return"Chrome";if(_E(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function mE(s=pn()){return/firefox\//i.test(s)}function gE(s=pn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pE(s=pn()){return/crios\//i.test(s)}function yE(s=pn()){return/iemobile/i.test(s)}function _E(s=pn()){return/android/i.test(s)}function vE(s=pn()){return/blackberry/i.test(s)}function EE(s=pn()){return/webos/i.test(s)}function Pm(s=pn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function dx(s=pn()){return Pm(s)&&!!window.navigator?.standalone}function mx(){return wA()&&document.documentMode===10}function bE(s=pn()){return Pm(s)||_E(s)||EE(s)||vE(s)||/windows phone/i.test(s)||yE(s)}function TE(s,e=[]){let i;switch(s){case"Browser":i=I_(pn());break;case"Worker":i=`${I_(pn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Mo}/${r}`}class gx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=u=>new Promise((d,g)=>{try{const y=e(u);d(y)}catch(y){g(y)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function px(s,e={}){return as(s,"GET","/v2/passwordPolicy",rs(s,e))}const yx=6;class _x{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??yx,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class vx{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N_(this),this.idTokenSubscription=new N_(this),this.beforeStateQueue=new gx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ks(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await rh(this,{idToken:e}),r=await Ri._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Tn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!u||u===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await ah(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Jw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(Ni(this));const i=e?Wt(e):null;return i&&Se(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(Ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(Ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ks(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await px(this),i=new _x(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ac("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await fx(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ks(e)||this._popupRedirectResolver;Se(i,this,"argument-error"),this.redirectPersistenceManager=await vo.create(this,[ks(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,r,l);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Qw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Oi(s){return Wt(s)}class N_{constructor(e){this.auth=e,this.observer=null,this.addObserver=MA(i=>this.observer=i)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Sh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ex(s){Sh=s}function SE(s){return Sh.loadJS(s)}function bx(){return Sh.recaptchaEnterpriseScript}function Tx(){return Sh.gapiScript}function Sx(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Ax{constructor(){this.enterprise=new wx}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class wx{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const xx="recaptcha-enterprise",AE="NO_RECAPTCHA";class Rx{constructor(e){this.type=xx,this.auth=Oi(e)}async verify(e="verify",i=!1){async function r(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,g)=>{sx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new ix(y);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,d(_.siteKey)}}).catch(y=>{g(y)})})}function l(u,d,g){const y=window.grecaptcha;w_(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(_=>{d(_)}).catch(()=>{d(AE)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Ax().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{r(this.auth).then(g=>{if(!i&&w_(window.grecaptcha))l(g,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=bx();y.length!==0&&(y+=g),SE(y).then(()=>{l(g,u,d)}).catch(_=>{d(_)})}}).catch(g=>{d(g)})})}}async function D_(s,e,i,r=!1,l=!1){const u=new Rx(s);let d;if(l)d=AE;else try{d=await u.verify(i)}catch{d=await u.verify(i,!0)}const g={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function oh(s,e,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await D_(s,e,i,i==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await D_(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(u)})}function Cx(s,e){const i=Vm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(pa(u,e??{}))return l;mi(l,"already-initialized")}return i.initialize({options:e})}function Ix(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ks);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function Nx(s,e,i){const r=Oi(s);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=wE(e),{host:d,port:g}=Dx(e),y=g===null?"":`:${g}`,_={url:`${u}//${d}${y}/`},A=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(pa(_,r.config.emulator)&&pa(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,Oo(d)?(Wv(`${u}//${d}${y}`),eE("Auth",!0)):Ox()}function wE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function Dx(s){const e=wE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:O_(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:O_(d)}}}function O_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Ox(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class zm{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Vs("not implemented")}_getIdTokenResponse(e){return Vs("not implemented")}_linkToIdToken(e,i){return Vs("not implemented")}_getReauthenticationResolver(e){return Vs("not implemented")}}async function Mx(s,e){return as(s,"POST","/v1/accounts:signUp",e)}async function Vx(s,e){return Vo(s,"POST","/v1/accounts:signInWithPassword",rs(s,e))}async function xE(s,e){return as(s,"POST","/v1/accounts:sendOobCode",rs(s,e))}async function kx(s,e){return xE(s,e)}async function Lx(s,e){return xE(s,e)}async function jx(s,e){return Vo(s,"POST","/v1/accounts:signInWithEmailLink",rs(s,e))}async function Ux(s,e){return Vo(s,"POST","/v1/accounts:signInWithEmailLink",rs(s,e))}class Xl extends zm{constructor(e,i,r,l=null){super("password",r),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new Xl(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new Xl(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oh(e,i,"signInWithPassword",Vx);case"emailLink":return jx(e,{email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oh(e,r,"signUpPassword",Mx);case"emailLink":return Ux(e,{idToken:i,email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Eo(s,e){return Vo(s,"POST","/v1/accounts:signInWithIdp",rs(s,e))}const Px="http://localhost";class _a extends zm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new _a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):mi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...u}=i;if(!r||!l)return null;const d=new _a(r,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Eo(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,Eo(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Eo(e,i)}buildRequest(){const e={requestUri:Px,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=oc(i)}return e}}function zx(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Bx(s){const e=jl(Ul(s)).link,i=e?jl(Ul(e)).deep_link_id:null,r=jl(Ul(s)).deep_link_id;return(r?jl(Ul(r)).link:null)||r||i||e||s}class Bm{constructor(e){const i=jl(Ul(e)),r=i.apiKey??null,l=i.oobCode??null,u=zx(i.mode??null);Se(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=Bx(e);try{return new Bm(i)}catch{return null}}}class ko{constructor(){this.providerId=ko.PROVIDER_ID}static credential(e,i){return Xl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Bm.parseLink(i);return Se(r,"argument-error"),Xl._fromEmailAndCode(e,r.code,r.tenantId)}}ko.PROVIDER_ID="password";ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class qm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class cc extends qm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Tr extends cc{constructor(){super("facebook.com")}static credential(e){return _a._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Tr.credential(e.oauthAccessToken)}catch{return null}}}Tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Tr.PROVIDER_ID="facebook.com";class Ms extends cc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return _a._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Ms.credential(i,r)}catch{return null}}}Ms.GOOGLE_SIGN_IN_METHOD="google.com";Ms.PROVIDER_ID="google.com";class Sr extends cc{constructor(){super("github.com")}static credential(e){return _a._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sr.credential(e.oauthAccessToken)}catch{return null}}}Sr.GITHUB_SIGN_IN_METHOD="github.com";Sr.PROVIDER_ID="github.com";class Ar extends cc{constructor(){super("twitter.com")}static credential(e,i){return _a._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Ar.credential(i,r)}catch{return null}}}Ar.TWITTER_SIGN_IN_METHOD="twitter.com";Ar.PROVIDER_ID="twitter.com";async function RE(s,e){return Vo(s,"POST","/v1/accounts:signUp",rs(s,e))}class is{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const u=await Ri._fromIdTokenResponse(e,r,l),d=M_(r);return new is({user:u,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=M_(r);return new is({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function M_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function qx(s){if(Tn(s.app))return Promise.reject(Ni(s));const e=Oi(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new is({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await RE(e,{returnSecureToken:!0}),r=await is._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(r.user),r}class lh extends zs{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,lh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new lh(e,i,r,l)}}function CE(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?lh._fromErrorAndOperation(s,u,e,r):u})}async function Hx(s,e,i=!1){const r=await wo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return is._forOperation(s,"link",r)}async function Gx(s,e,i=!1){const{auth:r}=s;if(Tn(r.app))return Promise.reject(Ni(r));const l="reauthenticate";try{const u=await wo(s,CE(r,l,e,s),i);Se(u.idToken,r,"internal-error");const d=Um(u.idToken);Se(d,r,"internal-error");const{sub:g}=d;return Se(s.uid===g,r,"user-mismatch"),is._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&mi(r,"user-mismatch"),u}}async function IE(s,e,i=!1){if(Tn(s.app))return Promise.reject(Ni(s));const r="signIn",l=await CE(s,r,e),u=await is._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(u.user),u}async function Fx(s,e){return IE(Oi(s),e)}async function $x(s,e){return Vo(s,"POST","/v1/accounts:signInWithCustomToken",rs(s,e))}async function Qx(s,e){if(Tn(s.app))return Promise.reject(Ni(s));const i=Oi(s),r=await $x(i,{token:e,returnSecureToken:!0}),l=await is._fromIdTokenResponse(i,"signIn",r);return await i._updateCurrentUser(l.user),l}async function NE(s){const e=Oi(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Kx(s,e,i){const r=Oi(s);await oh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Lx)}async function Yx(s,e,i){if(Tn(s.app))return Promise.reject(Ni(s));const r=Oi(s),d=await oh(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",RE).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&NE(s),y}),g=await is._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(g.user),g}function Xx(s,e,i){return Tn(s.app)?Promise.reject(Ni(s)):Fx(Wt(s),ko.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&NE(s),r})}async function Jx(s,e){const i=Wt(s),l={requestType:"VERIFY_EMAIL",idToken:await s.getIdToken()},{email:u}=await kx(i.auth,l);u!==s.email&&await s.reload()}async function Zx(s,e){return as(s,"POST","/v1/accounts:update",e)}async function Wx(s,{displayName:e,photoURL:i}){if(e===void 0&&i===void 0)return;const r=Wt(s),u={idToken:await r.getIdToken(),displayName:e,photoUrl:i,returnSecureToken:!0},d=await wo(r,Zx(r.auth,u));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const g=r.providerData.find(({providerId:y})=>y==="password");g&&(g.displayName=r.displayName,g.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function e2(s,e,i,r){return Wt(s).onIdTokenChanged(e,i,r)}function t2(s,e,i){return Wt(s).beforeAuthStateChanged(e,i)}function n2(s,e,i,r){return Wt(s).onAuthStateChanged(e,i,r)}function Jd(s){return Wt(s).signOut()}const ch="__sak";class DE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const i2=1e3,s2=10;class OE extends DE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);mx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,s2):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},i2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}OE.type="LOCAL";const r2=OE;class ME extends DE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}ME.type="SESSION";const VE=ME;function a2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ah{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new Ah(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:u}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,u)),y=await a2(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];function Hm(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class o2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((g,y)=>{const _=Hm("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(w){const S=w;if(S.data.eventId===_)switch(S.data.status){case"ack":clearTimeout(A),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(S.data.response);break;default:clearTimeout(A),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ji(){return window}function l2(s){Ji().location.href=s}function kE(){return typeof Ji().WorkerGlobalScope<"u"&&typeof Ji().importScripts=="function"}async function c2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function u2(){return navigator?.serviceWorker?.controller||null}function h2(){return kE()?self:null}const LE="firebaseLocalStorageDb",f2=1,uh="firebaseLocalStorage",jE="fbase_key";class uc{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function wh(s,e){return s.transaction([uh],e?"readwrite":"readonly").objectStore(uh)}function d2(){const s=indexedDB.deleteDatabase(LE);return new uc(s).toPromise()}function mm(){const s=indexedDB.open(LE,f2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(uh,{keyPath:jE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(uh)?e(r):(r.close(),await d2(),e(await mm()))})})}async function V_(s,e,i){const r=wh(s,!0).put({[jE]:e,value:i});return new uc(r).toPromise()}async function m2(s,e){const i=wh(s,!1).get(e),r=await new uc(i).toPromise();return r===void 0?null:r.value}function k_(s,e){const i=wh(s,!0).delete(e);return new uc(i).toPromise()}const g2=800,p2=3;class UE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>p2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(h2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await c2(),!this.activeServiceWorker)return;this.sender=new o2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||u2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mm();return await V_(e,ch,"1"),await k_(e,ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>V_(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>m2(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>k_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=wh(l,!1).getAll();return new uc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),g2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UE.type="LOCAL";const y2=UE;new lc(3e4,6e4);function PE(s,e){return e?ks(e):(Se(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Gm extends zm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Eo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function _2(s){return IE(s.auth,new Gm(s),s.bypassAuthState)}function v2(s){const{auth:e,user:i}=s;return Se(i,e,"internal-error"),Gx(i,new Gm(s),s.bypassAuthState)}async function E2(s){const{auth:e,user:i}=s;return Se(i,e,"internal-error"),Hx(i,new Gm(s),s.bypassAuthState)}class zE{constructor(e,i,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:u,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _2;case"linkViaPopup":case"linkViaRedirect":return E2;case"reauthViaPopup":case"reauthViaRedirect":return v2;default:mi(this.auth,"internal-error")}}resolve(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const b2=new lc(2e3,1e4);async function T2(s,e,i){if(Tn(s.app))return Promise.reject(Ii(s,"operation-not-supported-in-this-environment"));const r=Oi(s);Kw(s,e,qm);const l=PE(r,i);return new fa(r,"signInViaPopup",e,l).executeNotNull()}class fa extends zE{constructor(e,i,r,l,u){super(e,i,l,u),this.provider=r,this.authWindow=null,this.pollId=null,fa.currentPopupAction&&fa.currentPopupAction.cancel(),fa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){js(this.filter.length===1,"Popup operations only handle one event");const e=Hm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,b2.get())};e()}}fa.currentPopupAction=null;const S2="pendingRedirect",Ku=new Map;class A2 extends zE{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Ku.get(this.auth._key());if(!e){try{const r=await w2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Ku.set(this.auth._key(),e)}return this.bypassAuthState||Ku.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function w2(s,e){const i=C2(e),r=R2(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function x2(s,e){Ku.set(s._key(),e)}function R2(s){return ks(s._redirectPersistence)}function C2(s){return Qu(S2,s.config.apiKey,s.name)}async function I2(s,e,i=!1){if(Tn(s.app))return Promise.reject(Ni(s));const r=Oi(s),l=PE(r,e),d=await new A2(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const N2=600*1e3;class D2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!O2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!BE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Ii(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=N2&&this.cachedEventUids.clear(),this.cachedEventUids.has(L_(e))}saveEventToCache(e){this.cachedEventUids.add(L_(e)),this.lastProcessedEventTime=Date.now()}}function L_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function BE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function O2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BE(s);default:return!1}}async function M2(s,e={}){return as(s,"GET","/v1/projects",e)}const V2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,k2=/^https?/;async function L2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await M2(s);for(const i of e)try{if(j2(i))return}catch{}mi(s,"unauthorized-domain")}function j2(s){const e=fm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!k2.test(i))return!1;if(V2.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const U2=new lc(3e4,6e4);function j_(){const s=Ji().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function P2(s){return new Promise((e,i)=>{function r(){j_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{j_(),i(Ii(s,"network-request-failed"))},timeout:U2.get()})}if(Ji().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ji().gapi?.load)r();else{const l=Sx("iframefcb");return Ji()[l]=()=>{gapi.load?r():i(Ii(s,"network-request-failed"))},SE(`${Tx()}?onload=${l}`).catch(u=>i(u))}}).catch(e=>{throw Yu=null,e})}let Yu=null;function z2(s){return Yu=Yu||P2(s),Yu}const B2=new lc(5e3,15e3),q2="__/auth/iframe",H2="emulator/auth/iframe",G2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},F2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $2(s){const e=s.config;Se(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?jm(e,H2):`https://${s.config.authDomain}/${q2}`,r={apiKey:e.apiKey,appName:s.name,v:Mo},l=F2.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${oc(r).slice(1)}`}async function Q2(s){const e=await z2(s),i=Ji().gapi;return Se(i,s,"internal-error"),e.open({where:document.body,url:$2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:G2,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const d=Ii(s,"network-request-failed"),g=Ji().setTimeout(()=>{u(d)},B2.get());function y(){Ji().clearTimeout(g),l(r)}r.ping(y).then(y,()=>{u(d)})}))}const K2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Y2=500,X2=600,J2="_blank",Z2="http://localhost";class U_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function W2(s,e,i,r=Y2,l=X2){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const y={...K2,width:r.toString(),height:l.toString(),top:u,left:d},_=pn().toLowerCase();i&&(g=pE(_)?J2:i),mE(_)&&(e=e||Z2,y.scrollbars="yes");const A=Object.entries(y).reduce((S,[K,W])=>`${S}${K}=${W},`,"");if(dx(_)&&g!=="_self")return eR(e||"",g),new U_(null);const w=window.open(e||"",g,A);Se(w,s,"popup-blocked");try{w.focus()}catch{}return new U_(w)}function eR(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const tR="__/auth/handler",nR="emulator/auth/handler",iR=encodeURIComponent("fac");async function P_(s,e,i,r,l,u){Se(s.config.authDomain,s,"auth-domain-config-required"),Se(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Mo,eventId:l};if(e instanceof qm){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",OA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,w]of Object.entries({}))d[A]=w}if(e instanceof cc){const A=e.getScopes().filter(w=>w!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const y=await s._getAppCheckToken(),_=y?`#${iR}=${encodeURIComponent(y)}`:"";return`${sR(s)}?${oc(g).slice(1)}${_}`}function sR({config:s}){return s.emulator?jm(s,nR):`https://${s.authDomain}/${tR}`}const Zd="webStorageSupport";class rR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VE,this._completeRedirectFn=I2,this._overrideRedirectResult=x2}async _openPopup(e,i,r,l){js(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await P_(e,i,r,fm(),l);return W2(e,u,Hm())}async _openRedirect(e,i,r,l){await this._originValidation(e);const u=await P_(e,i,r,fm(),l);return l2(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(js(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await Q2(e),r=new D2(e);return i.register("authEvent",l=>(Se(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Zd,{type:Zd},l=>{const u=l?.[0]?.[Zd];u!==void 0&&i(!!u),mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=L2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return bE()||gE()||Pm()}}const aR=rR;var z_="@firebase/auth",B_="1.11.1";class oR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function lR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cR(s){Ao(new ya("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;Se(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TE(s)},_=new vx(r,l,u,y);return Ix(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),Ao(new ya("auth-internal",e=>{const i=Oi(e.getProvider("auth").getImmediate());return(r=>new oR(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cr(z_,B_,lR(s)),Cr(z_,B_,"esm2020")}const uR=300,hR=Zv("authIdTokenMaxAge")||uR;let q_=null;const fR=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>hR)return;const l=i?.token;q_!==l&&(q_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function dR(s=sE()){const e=Vm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=Cx(s,{popupRedirectResolver:aR,persistence:[y2,r2,VE]}),r=Zv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=fR(u.toString());t2(i,d,()=>d(i.currentUser)),e2(i,g=>d(g))}}const l=Xv("auth");return l&&Nx(i,`http://${l}`),i}function mR(){return document.getElementsByTagName("head")?.[0]??document}Ex({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const u=Ii("internal-error");u.customData=l,i(u)},r.type="text/javascript",r.charset="UTF-8",mR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cR("Browser");var H_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ir,qE;(function(){var s;function e(N,R){function I(){}I.prototype=R.prototype,N.F=R.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(V,D,L){for(var x=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)x[ft-2]=arguments[ft];return R.prototype[D].apply(V,x)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,R,I){I||(I=0);const V=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)V[D]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(D=0;D<16;++D)V[D]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=N.g[0],I=N.g[1],D=N.g[2];let L=N.g[3],x;x=R+(L^I&(D^L))+V[0]+3614090360&4294967295,R=I+(x<<7&4294967295|x>>>25),x=L+(D^R&(I^D))+V[1]+3905402710&4294967295,L=R+(x<<12&4294967295|x>>>20),x=D+(I^L&(R^I))+V[2]+606105819&4294967295,D=L+(x<<17&4294967295|x>>>15),x=I+(R^D&(L^R))+V[3]+3250441966&4294967295,I=D+(x<<22&4294967295|x>>>10),x=R+(L^I&(D^L))+V[4]+4118548399&4294967295,R=I+(x<<7&4294967295|x>>>25),x=L+(D^R&(I^D))+V[5]+1200080426&4294967295,L=R+(x<<12&4294967295|x>>>20),x=D+(I^L&(R^I))+V[6]+2821735955&4294967295,D=L+(x<<17&4294967295|x>>>15),x=I+(R^D&(L^R))+V[7]+4249261313&4294967295,I=D+(x<<22&4294967295|x>>>10),x=R+(L^I&(D^L))+V[8]+1770035416&4294967295,R=I+(x<<7&4294967295|x>>>25),x=L+(D^R&(I^D))+V[9]+2336552879&4294967295,L=R+(x<<12&4294967295|x>>>20),x=D+(I^L&(R^I))+V[10]+4294925233&4294967295,D=L+(x<<17&4294967295|x>>>15),x=I+(R^D&(L^R))+V[11]+2304563134&4294967295,I=D+(x<<22&4294967295|x>>>10),x=R+(L^I&(D^L))+V[12]+1804603682&4294967295,R=I+(x<<7&4294967295|x>>>25),x=L+(D^R&(I^D))+V[13]+4254626195&4294967295,L=R+(x<<12&4294967295|x>>>20),x=D+(I^L&(R^I))+V[14]+2792965006&4294967295,D=L+(x<<17&4294967295|x>>>15),x=I+(R^D&(L^R))+V[15]+1236535329&4294967295,I=D+(x<<22&4294967295|x>>>10),x=R+(D^L&(I^D))+V[1]+4129170786&4294967295,R=I+(x<<5&4294967295|x>>>27),x=L+(I^D&(R^I))+V[6]+3225465664&4294967295,L=R+(x<<9&4294967295|x>>>23),x=D+(R^I&(L^R))+V[11]+643717713&4294967295,D=L+(x<<14&4294967295|x>>>18),x=I+(L^R&(D^L))+V[0]+3921069994&4294967295,I=D+(x<<20&4294967295|x>>>12),x=R+(D^L&(I^D))+V[5]+3593408605&4294967295,R=I+(x<<5&4294967295|x>>>27),x=L+(I^D&(R^I))+V[10]+38016083&4294967295,L=R+(x<<9&4294967295|x>>>23),x=D+(R^I&(L^R))+V[15]+3634488961&4294967295,D=L+(x<<14&4294967295|x>>>18),x=I+(L^R&(D^L))+V[4]+3889429448&4294967295,I=D+(x<<20&4294967295|x>>>12),x=R+(D^L&(I^D))+V[9]+568446438&4294967295,R=I+(x<<5&4294967295|x>>>27),x=L+(I^D&(R^I))+V[14]+3275163606&4294967295,L=R+(x<<9&4294967295|x>>>23),x=D+(R^I&(L^R))+V[3]+4107603335&4294967295,D=L+(x<<14&4294967295|x>>>18),x=I+(L^R&(D^L))+V[8]+1163531501&4294967295,I=D+(x<<20&4294967295|x>>>12),x=R+(D^L&(I^D))+V[13]+2850285829&4294967295,R=I+(x<<5&4294967295|x>>>27),x=L+(I^D&(R^I))+V[2]+4243563512&4294967295,L=R+(x<<9&4294967295|x>>>23),x=D+(R^I&(L^R))+V[7]+1735328473&4294967295,D=L+(x<<14&4294967295|x>>>18),x=I+(L^R&(D^L))+V[12]+2368359562&4294967295,I=D+(x<<20&4294967295|x>>>12),x=R+(I^D^L)+V[5]+4294588738&4294967295,R=I+(x<<4&4294967295|x>>>28),x=L+(R^I^D)+V[8]+2272392833&4294967295,L=R+(x<<11&4294967295|x>>>21),x=D+(L^R^I)+V[11]+1839030562&4294967295,D=L+(x<<16&4294967295|x>>>16),x=I+(D^L^R)+V[14]+4259657740&4294967295,I=D+(x<<23&4294967295|x>>>9),x=R+(I^D^L)+V[1]+2763975236&4294967295,R=I+(x<<4&4294967295|x>>>28),x=L+(R^I^D)+V[4]+1272893353&4294967295,L=R+(x<<11&4294967295|x>>>21),x=D+(L^R^I)+V[7]+4139469664&4294967295,D=L+(x<<16&4294967295|x>>>16),x=I+(D^L^R)+V[10]+3200236656&4294967295,I=D+(x<<23&4294967295|x>>>9),x=R+(I^D^L)+V[13]+681279174&4294967295,R=I+(x<<4&4294967295|x>>>28),x=L+(R^I^D)+V[0]+3936430074&4294967295,L=R+(x<<11&4294967295|x>>>21),x=D+(L^R^I)+V[3]+3572445317&4294967295,D=L+(x<<16&4294967295|x>>>16),x=I+(D^L^R)+V[6]+76029189&4294967295,I=D+(x<<23&4294967295|x>>>9),x=R+(I^D^L)+V[9]+3654602809&4294967295,R=I+(x<<4&4294967295|x>>>28),x=L+(R^I^D)+V[12]+3873151461&4294967295,L=R+(x<<11&4294967295|x>>>21),x=D+(L^R^I)+V[15]+530742520&4294967295,D=L+(x<<16&4294967295|x>>>16),x=I+(D^L^R)+V[2]+3299628645&4294967295,I=D+(x<<23&4294967295|x>>>9),x=R+(D^(I|~L))+V[0]+4096336452&4294967295,R=I+(x<<6&4294967295|x>>>26),x=L+(I^(R|~D))+V[7]+1126891415&4294967295,L=R+(x<<10&4294967295|x>>>22),x=D+(R^(L|~I))+V[14]+2878612391&4294967295,D=L+(x<<15&4294967295|x>>>17),x=I+(L^(D|~R))+V[5]+4237533241&4294967295,I=D+(x<<21&4294967295|x>>>11),x=R+(D^(I|~L))+V[12]+1700485571&4294967295,R=I+(x<<6&4294967295|x>>>26),x=L+(I^(R|~D))+V[3]+2399980690&4294967295,L=R+(x<<10&4294967295|x>>>22),x=D+(R^(L|~I))+V[10]+4293915773&4294967295,D=L+(x<<15&4294967295|x>>>17),x=I+(L^(D|~R))+V[1]+2240044497&4294967295,I=D+(x<<21&4294967295|x>>>11),x=R+(D^(I|~L))+V[8]+1873313359&4294967295,R=I+(x<<6&4294967295|x>>>26),x=L+(I^(R|~D))+V[15]+4264355552&4294967295,L=R+(x<<10&4294967295|x>>>22),x=D+(R^(L|~I))+V[6]+2734768916&4294967295,D=L+(x<<15&4294967295|x>>>17),x=I+(L^(D|~R))+V[13]+1309151649&4294967295,I=D+(x<<21&4294967295|x>>>11),x=R+(D^(I|~L))+V[4]+4149444226&4294967295,R=I+(x<<6&4294967295|x>>>26),x=L+(I^(R|~D))+V[11]+3174756917&4294967295,L=R+(x<<10&4294967295|x>>>22),x=D+(R^(L|~I))+V[2]+718787259&4294967295,D=L+(x<<15&4294967295|x>>>17),x=I+(L^(D|~R))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+L&4294967295}r.prototype.v=function(N,R){R===void 0&&(R=N.length);const I=R-this.blockSize,V=this.C;let D=this.h,L=0;for(;L<R;){if(D==0)for(;L<=I;)l(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<R;)if(V[D++]=N.charCodeAt(L++),D==this.blockSize){l(this,V),D=0;break}}else for(;L<R;)if(V[D++]=N[L++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=R},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;R=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=R&255,R/=256;for(this.v(N),N=Array(16),R=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)N[R++]=this.g[I]>>>V&255;return N};function u(N,R){var I=g;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=R(N)}function d(N,R){this.h=R;const I=[];let V=!0;for(let D=N.length-1;D>=0;D--){const L=N[D]|0;V&&L==R||(I[D]=L,V=!1)}this.g=I}var g={};function y(N){return-128<=N&&N<128?u(N,function(R){return new d([R|0],R<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return w;if(N<0)return ne(_(-N));const R=[];let I=1;for(let V=0;N>=I;V++)R[V]=N/I|0,I*=4294967296;return new d(R,0)}function A(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return ne(A(N.substring(1),R));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(R,8));let V=w;for(let L=0;L<N.length;L+=8){var D=Math.min(8,N.length-L);const x=parseInt(N.substring(L,L+D),R);D<8?(D=_(Math.pow(R,D)),V=V.j(D).add(_(x))):(V=V.j(I),V=V.add(_(x)))}return V}var w=y(0),S=y(1),K=y(16777216);s=d.prototype,s.m=function(){if(ie(this))return-ne(this).m();let N=0,R=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);N+=(V>=0?V:4294967296+V)*R,R*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(W(this))return"0";if(ie(this))return"-"+ne(this).toString(N);const R=_(Math.pow(N,6));var I=this;let V="";for(;;){const D=Ve(I,R).g;I=ye(I,D.j(R));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=D,W(I))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function W(N){if(N.h!=0)return!1;for(let R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function ie(N){return N.h==-1}s.l=function(N){return N=ye(this,N),ie(N)?-1:W(N)?0:1};function ne(N){const R=N.g.length,I=[];for(let V=0;V<R;V++)I[V]=~N.g[V];return new d(I,~N.h).add(S)}s.abs=function(){return ie(this)?ne(this):this},s.add=function(N){const R=Math.max(this.g.length,N.g.length),I=[];let V=0;for(let D=0;D<=R;D++){let L=V+(this.i(D)&65535)+(N.i(D)&65535),x=(L>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);V=x>>>16,L&=65535,x&=65535,I[D]=x<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ye(N,R){return N.add(ne(R))}s.j=function(N){if(W(this)||W(N))return w;if(ie(this))return ie(N)?ne(this).j(ne(N)):ne(ne(this).j(N));if(ie(N))return ne(this.j(ne(N)));if(this.l(K)<0&&N.l(K)<0)return _(this.m()*N.m());const R=this.g.length+N.g.length,I=[];for(var V=0;V<2*R;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<N.g.length;D++){const L=this.i(V)>>>16,x=this.i(V)&65535,ft=N.i(D)>>>16,Tt=N.i(D)&65535;I[2*V+2*D]+=x*Tt,Ee(I,2*V+2*D),I[2*V+2*D+1]+=L*Tt,Ee(I,2*V+2*D+1),I[2*V+2*D+1]+=x*ft,Ee(I,2*V+2*D+1),I[2*V+2*D+2]+=L*ft,Ee(I,2*V+2*D+2)}for(N=0;N<R;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=R;N<2*R;N++)I[N]=0;return new d(I,0)};function Ee(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function Te(N,R){this.g=N,this.h=R}function Ve(N,R){if(W(R))throw Error("division by zero");if(W(N))return new Te(w,w);if(ie(N))return R=Ve(ne(N),R),new Te(ne(R.g),ne(R.h));if(ie(R))return R=Ve(N,ne(R)),new Te(ne(R.g),R.h);if(N.g.length>30){if(ie(N)||ie(R))throw Error("slowDivide_ only works with positive integers.");for(var I=S,V=R;V.l(N)<=0;)I=Ye(I),V=Ye(V);var D=Me(I,1),L=Me(V,1);for(V=Me(V,2),I=Me(I,2);!W(V);){var x=L.add(V);x.l(N)<=0&&(D=D.add(I),L=x),V=Me(V,1),I=Me(I,1)}return R=ye(N,D.j(R)),new Te(D,R)}for(D=w;N.l(R)>=0;){for(I=Math.max(1,Math.floor(N.m()/R.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=_(I),x=L.j(R);ie(x)||x.l(N)>0;)I-=V,L=_(I),x=L.j(R);W(L)&&(L=S),D=D.add(L),N=ye(N,x)}return new Te(D,N)}s.B=function(N){return Ve(this,N).h},s.and=function(N){const R=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)&N.i(V);return new d(I,this.h&N.h)},s.or=function(N){const R=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)|N.i(V);return new d(I,this.h|N.h)},s.xor=function(N){const R=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)^N.i(V);return new d(I,this.h^N.h)};function Ye(N){const R=N.g.length+1,I=[];for(let V=0;V<R;V++)I[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(I,N.h)}function Me(N,R){const I=R>>5;R%=32;const V=N.g.length-I,D=[];for(let L=0;L<V;L++)D[L]=R>0?N.i(L+I)>>>R|N.i(L+I+1)<<32-R:N.i(L+I);return new d(D,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,qE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Ir=d}).apply(typeof H_<"u"?H_:typeof self<"u"?self:typeof window<"u"?window:{});var zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var HE,Pl,GE,Xu,gm,FE,$E,QE;(function(){var s,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof zu=="object"&&zu];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(c,m){if(m)e:{var v=r;c=c.split(".");for(var T=0;T<c.length-1;T++){var j=c[T];if(!(j in v))break e;v=v[j]}c=c[c.length-1],T=v[c],m=m(T),m!=T&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var u=u||{},d=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function y(c,m,v){return c.call.apply(c.bind,arguments)}function _(c,m,v){return _=y,_.apply(null,arguments)}function A(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function w(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(T,j,H){for(var se=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)se[Ne-2]=arguments[Ne];return m.prototype[j].apply(T,se)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function K(c){const m=c.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=c[T];return v}return[]}function W(c,m){for(let T=1;T<arguments.length;T++){const j=arguments[T];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=c.length||0;const H=j.length||0;c.length=v+H;for(let se=0;se<H;se++)c[v+se]=j[se]}else c.push(j)}}class ie{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ne(c){d.setTimeout(()=>{throw c},0)}function ye(){var c=N;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class Ee{constructor(){this.h=this.g=null}add(m,v){const T=Te.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var Te=new ie(()=>new Ve,c=>c.reset());class Ve{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ye,Me=!1,N=new Ee,R=()=>{const c=Promise.resolve(void 0);Ye=()=>{c.then(I)}};function I(){for(var c;c=ye();){try{c.h.call(c.g)}catch(v){ne(v)}var m=Te;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Me=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function x(c){return/^[\s\xa0]*$/.test(c)}function ft(c,m){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}w(ft,D),ft.prototype.init=function(c,m){const v=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ft.Z.h.call(this)},ft.prototype.h=function(){ft.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Tt="closure_listenable_"+(Math.random()*1e6|0),$=0;function re(c,m,v,T,j){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=j,this.key=++$,this.da=this.fa=!1}function ee(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Fe(c,m,v){for(const T in c)m.call(v,c[T],T,c)}function he(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function M(c){const m={};for(const v in c)m[v]=c[v];return m}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,m){let v,T;for(let j=1;j<arguments.length;j++){T=arguments[j];for(v in T)c[v]=T[v];for(let H=0;H<F.length;H++)v=F[H],Object.prototype.hasOwnProperty.call(T,v)&&(c[v]=T[v])}}function te(c){this.src=c,this.g={},this.h=0}te.prototype.add=function(c,m,v,T,j){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const se=xe(c,m,T,j);return se>-1?(m=c[se],v||(m.fa=!1)):(m=new re(m,this.src,H,!!T,j),m.fa=v,c.push(m)),m};function de(c,m){const v=m.type;if(v in c.g){var T=c.g[v],j=Array.prototype.indexOf.call(T,m,void 0),H;(H=j>=0)&&Array.prototype.splice.call(T,j,1),H&&(ee(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function xe(c,m,v,T){for(let j=0;j<c.length;++j){const H=c[j];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==T)return j}return-1}var Ie="closure_lm_"+(Math.random()*1e6|0),St={};function Pe(c,m,v,T,j){if(Array.isArray(m)){for(let H=0;H<m.length;H++)Pe(c,m[H],v,T,j);return null}return v=cs(v),c&&c[Tt]?c.J(m,v,g(T)?!!T.capture:!1,j):Mi(c,m,v,!1,T,j)}function Mi(c,m,v,T,j,H){if(!m)throw Error("Invalid event type");const se=g(j)?!!j.capture:!!j;let Ne=en(c);if(Ne||(c[Ie]=Ne=new te(c)),v=Ne.add(m,v,T,se,H),v.proxy)return v;if(T=Sn(),v.proxy=T,T.src=c,T.listener=v,c.addEventListener)L||(j=se),j===void 0&&(j=!1),c.addEventListener(m.toString(),T,j);else if(c.attachEvent)c.attachEvent(kn(m.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Sn(){function c(v){return m.call(c.src,c.listener,v)}const m=ls;return c}function os(c,m,v,T,j){if(Array.isArray(m))for(var H=0;H<m.length;H++)os(c,m[H],v,T,j);else T=g(T)?!!T.capture:!!T,v=cs(v),c&&c[Tt]?(c=c.i,H=String(m).toString(),H in c.g&&(m=c.g[H],v=xe(m,v,T,j),v>-1&&(ee(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[H],c.h--)))):c&&(c=en(c))&&(m=c.g[m.toString()],c=-1,m&&(c=xe(m,v,T,j)),(v=c>-1?m[c]:null)&&gi(v))}function gi(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Tt])de(m.i,c);else{var v=c.type,T=c.proxy;m.removeEventListener?m.removeEventListener(v,T,c.capture):m.detachEvent?m.detachEvent(kn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=en(m))?(de(v,c),v.h==0&&(v.src=null,m[Ie]=null)):ee(c)}}}function kn(c){return c in St?St[c]:St[c]="on"+c}function ls(c,m){if(c.da)c=!0;else{m=new ft(m,this);const v=c.listener,T=c.ha||c.src;c.fa&&gi(c),c=v.call(T,m)}return c}function en(c){return c=c[Ie],c instanceof te?c:null}var Vi="__closure_events_fn_"+(Math.random()*1e9>>>0);function cs(c){return typeof c=="function"?c:(c[Vi]||(c[Vi]=function(m){return c.handleEvent(m)}),c[Vi])}function _t(){V.call(this),this.i=new te(this),this.M=this,this.G=null}w(_t,V),_t.prototype[Tt]=!0,_t.prototype.removeEventListener=function(c,m,v,T){os(this,c,m,v,T)};function Dt(c,m){var v,T=c.G;if(T)for(v=[];T;T=T.G)v.push(T);if(c=c.M,T=m.type||m,typeof m=="string")m=new D(m,c);else if(m instanceof D)m.target=m.target||c;else{var j=m;m=new D(T,c),ae(m,j)}j=!0;let H,se;if(v)for(se=v.length-1;se>=0;se--)H=m.g=v[se],j=Ln(H,T,!0,m)&&j;if(H=m.g=c,j=Ln(H,T,!0,m)&&j,j=Ln(H,T,!1,m)&&j,v)for(se=0;se<v.length;se++)H=m.g=v[se],j=Ln(H,T,!1,m)&&j}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let T=0;T<v.length;T++)ee(v[T]);delete c.g[m],c.h--}}this.G=null},_t.prototype.J=function(c,m,v,T){return this.i.add(String(c),m,!1,v,T)},_t.prototype.K=function(c,m,v,T){return this.i.add(String(c),m,!0,v,T)};function Ln(c,m,v,T){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let H=0;H<m.length;++H){const se=m[H];if(se&&!se.da&&se.capture==v){const Ne=se.listener,Mt=se.ha||se.src;se.fa&&de(c.i,se),j=Ne.call(Mt,T)!==!1&&j}}return j&&!T.defaultPrevented}function jt(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function Bs(c){c.g=jt(()=>{c.g=null,c.i&&(c.i=!1,Bs(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Ut extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Bs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function us(c){V.call(this),this.h=c,this.g={}}w(us,V);var ki=[];function hs(c){Fe(c.g,function(m,v){this.g.hasOwnProperty(v)&&gi(m)},c),c.g={}}us.prototype.N=function(){us.Z.N.call(this),hs(this)},us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Li=d.JSON.stringify,wa=d.JSON.parse,Yn=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function pi(){}function Ur(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function dt(){D.call(this,"d")}w(dt,D);function hn(){D.call(this,"c")}w(hn,D);var wt={},Pr=null;function zr(){return Pr=Pr||new _t}wt.Ia="serverreachability";function qs(c){D.call(this,wt.Ia,c)}w(qs,D);function xt(c){const m=zr();Dt(m,new qs(m))}wt.STAT_EVENT="statevent";function An(c,m){D.call(this,wt.STAT_EVENT,c),this.stat=m}w(An,D);function vt(c){const m=zr();Dt(m,new An(m,c))}wt.Ja="timingevent";function Un(c,m){D.call(this,wt.Ja,c),this.size=m}w(Un,D);function Xn(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Bo(c,m,v,T,j,H){c.info(function(){if(c.g)if(H){var se="",Ne=H.split("&");for(let et=0;et<Ne.length;et++){var Mt=Ne[et].split("=");if(Mt.length>1){const Et=Mt[0];Mt=Mt[1];const ii=Et.split("_");se=ii.length>=2&&ii[1]=="type"?se+(Et+"="+Mt+"&"):se+(Et+"=redacted&")}}}else se=null;else se=H;return"XMLHTTP REQ ("+T+") [attempt "+j+"]: "+m+`
`+v+`
`+se})}function xa(c,m,v,T,j,H,se){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+j+"]: "+m+`
`+v+`
`+H+" "+se})}function Jn(c,m,v,T){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+qo(c,v)+(T?" "+T:"")})}function fs(c,m){c.info(function(){return"TIMEOUT: "+m})}Pn.prototype.info=function(){};function qo(c,m){if(!c.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var v=H[c];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var j=T[0];if(j!="noop"&&j!="stop"&&j!="close")for(let se=1;se<T.length;se++)T[se]=""}}}}return Li(H)}catch{return m}}var ds={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Hs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Br;function ji(){}w(ji,pi),ji.prototype.g=function(){return new XMLHttpRequest},Br=new ji;function Zn(c){return encodeURIComponent(String(c))}function qr(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function zn(c,m,v,T){this.j=c,this.i=m,this.l=v,this.S=T||1,this.V=new us(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var Rt={},Pt={};function Wn(c,m,v){c.M=1,c.A=_i(Xe(m)),c.u=v,c.R=!0,Gs(c,null)}function Gs(c,m){c.F=Date.now(),yn(c),c.B=Xe(c.A);var v=c.B,T=c.S;Array.isArray(T)||(T=[String(T)]),Na(v.i,"t",T),c.C=0,v=c.j.L,c.h=new Bn,c.g=Rc(c.j,v?m:null,!c.u),c.P>0&&(c.O=new Ut(_(c.Y,c,c.g),c.P)),m=c.V,v=c.g,T=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(ki[0]=j.toString()),j=ki);for(let H=0;H<j.length;H++){const se=Pe(v,j[H],T||m.handleEvent,!1,m.h||m);if(!se)break;m.g[se.key]=se}m=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),xt(),Bo(c.i,c.v,c.B,c.l,c.S,c.u)}zn.prototype.ba=function(c){c=c.target;const m=this.O;m&&bi(c)==3?m.j():this.Y(c)},zn.prototype.Y=function(c){try{if(c==this.g)e:{const Ne=bi(this.g),Mt=this.g.ya(),et=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||Ne!=4||Mt==7||(Mt==8||et<=0?xt(3):xt(2)),ei(this);var m=this.g.ca();this.X=m;var v=Ho(this);if(this.o=m==200,xa(this.i,this.v,this.B,this.l,this.S,Ne,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,j=this.g;if((T=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(T)){var H=T;break t}}H=null}if(c=H)Jn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,U(this,c);else{this.o=!1,this.m=3,vt(12),_n(this),wn(this);break e}}if(this.R){c=!0;let Et;for(;!this.K&&this.C<v.length;)if(Et=Ca(this,v),Et==Pt){Ne==4&&(this.m=4,vt(14),c=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(Et==Rt){this.m=4,vt(15),Jn(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else Jn(this.i,this.l,Et,null),U(this,Et);if(Ra(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||v.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)Jn(this.i,this.l,v,"[Invalid Chunked Response]"),_n(this),wn(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Zo(se),se.P=!0,vt(11))}}else Jn(this.i,this.l,v,null),U(this,v);Ne==4&&_n(this),this.o&&!this.K&&(Ne==4?Sc(this.j,this):(this.o=!1,yn(this)))}else ps(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),_n(this),wn(this)}}}catch{}finally{}};function Ho(c){if(!Ra(c))return c.g.la();const m=nn(c.g);if(m==="")return"";let v="";const T=m.length,j=bi(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return _n(c),wn(c),"";c.h.i=new d.TextDecoder}for(let H=0;H<T;H++)c.h.h=!0,v+=c.h.i.decode(m[H],{stream:!(j&&H==T-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function Ra(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Ca(c,m){var v=c.C,T=m.indexOf(`
`,v);return T==-1?Pt:(v=Number(m.substring(v,T)),isNaN(v)?Rt:(T+=1,T+v>m.length?Pt:(m=m.slice(T,T+v),c.C=T+v,m)))}zn.prototype.cancel=function(){this.K=!0,_n(this)};function yn(c){c.T=Date.now()+c.H,ms(c,c.H)}function ms(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Xn(_(c.aa,c),m)}function ei(c){c.D&&(d.clearTimeout(c.D),c.D=null)}zn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(fs(this.i,this.B),this.M!=2&&(xt(),vt(17)),_n(this),this.m=2,wn(this)):ms(this,this.T-c)};function wn(c){c.j.I==0||c.K||Sc(c.j,c)}function _n(c){ei(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,hs(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function U(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||_e(v.h,c))){if(!c.L&&_e(v.h,c)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var j=T;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ka(v),Js(v);else break e;Kr(v),vt(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Xn(_(v.Va,v),6e3));me(v.h)<=1&&v.ta&&(v.ta=void 0)}else Hi(v,11)}else if((c.L||v.g==c)&&ka(v),!x(m))for(j=v.Ba.g.parse(m),m=0;m<j.length;m++){let et=j[m];const Et=et[0];if(!(Et<=v.K))if(v.K=Et,et=et[1],v.I==2)if(et[0]=="c"){v.M=et[1],v.ba=et[2];const ii=et[3];ii!=null&&(v.ka=ii,v.j.info("VER="+v.ka));const Gi=et[4];Gi!=null&&(v.za=Gi,v.j.info("SVER="+v.za));const Ti=et[5];Ti!=null&&typeof Ti=="number"&&Ti>0&&(T=1.5*Ti,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Si=c.g;if(Si){const Yr=Si.g?Si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yr){var H=T.h;H.g||Yr.indexOf("spdy")==-1&&Yr.indexOf("quic")==-1&&Yr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(ke(H,H.h),H.h=null))}if(T.G){const La=Si.g?Si.g.getResponseHeader("X-HTTP-Session-Id"):null;La&&(T.wa=La,We(T.J,T.G,La))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var se=c;if(T.na=xc(T,T.L?T.ba:null,T.W),se.L){Ot(T.h,se);var Ne=se,Mt=T.O;Mt&&(Ne.H=Mt),Ne.D&&(ei(Ne),yn(Ne)),T.g=se}else bc(T);v.i.length>0&&qi(v)}else et[0]!="stop"&&et[0]!="close"||Hi(v,7);else v.I==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?Hi(v,7):Xo(v):et[0]!="noop"&&v.l&&v.l.qa(et),v.A=0)}}xt(4)}catch{}}var Ct=class{constructor(c,m){this.g=c,this.map=m}};function q(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function oe(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function me(c){return c.h?1:c.g?c.g.size:0}function _e(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function ke(c,m){c.g?c.g.add(m):c.h=m}function Ot(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}q.prototype.cancel=function(){if(this.i=at(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function at(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return K(c.i)}var Le=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zt(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const T=c[v].indexOf("=");let j,H=null;T>=0?(j=c[v].substring(0,T),H=c[v].substring(T+1)):j=c[v],m(j,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function tn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof tn?(this.l=c.l,nt(this,c.j),this.o=c.o,this.g=c.g,xn(this,c.u),this.h=c.h,yi(this,vc(c.i)),this.m=c.m):c&&(m=String(c).match(Le))?(this.l=!1,nt(this,m[1]||"",!0),this.o=vn(m[2]||""),this.g=vn(m[3]||"",!0),xn(this,m[4]),this.h=vn(m[5]||"",!0),yi(this,m[6]||"",!0),this.m=vn(m[7]||"")):(this.l=!1,this.i=new $s(null,this.l))}tn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Ui(m,Ia,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Ui(m,Ia,!0),"@"),c.push(Zn(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ui(v,v.charAt(0)=="/"?Go:pc,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ui(v,yc)),c.join("")},tn.prototype.resolve=function(c){const m=Xe(this);let v=!!c.j;v?nt(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var T=c.h;if(v)xn(m,c.u);else if(v=!!c.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var j=m.h.lastIndexOf("/");j!=-1&&(T=m.h.slice(0,j+1)+T)}if(j=T,j==".."||j==".")T="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){T=j.lastIndexOf("/",0)==0,j=j.split("/");const H=[];for(let se=0;se<j.length;){const Ne=j[se++];Ne=="."?T&&se==j.length&&H.push(""):Ne==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),T&&se==j.length&&H.push("")):(H.push(Ne),T=!0)}T=H.join("/")}else T=j}return v?m.h=T:v=c.i.toString()!=="",v?yi(m,vc(c.i)):v=!!c.m,v&&(m.m=c.m),m};function Xe(c){return new tn(c)}function nt(c,m,v){c.j=v?vn(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function xn(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function yi(c,m,v){m instanceof $s?(c.i=m,Da(c.i,c.l)):(v||(m=Ui(m,Fs)),c.i=new $s(m,c.l))}function We(c,m,v){c.i.set(m,v)}function _i(c){return We(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function vn(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ui(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,Rn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ia=/[#\/\?@]/g,pc=/[#\?:]/g,Go=/[#\?]/g,Fs=/[#\?@]/g,yc=/#/g;function $s(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Cn(c){c.g||(c.g=new Map,c.h=0,c.i&&zt(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=$s.prototype,s.add=function(c,m){Cn(this),this.i=null,c=Qs(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function _c(c,m){Cn(c),m=Qs(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Fo(c,m){return Cn(c),m=Qs(c,m),c.g.has(m)}s.forEach=function(c,m){Cn(this),this.g.forEach(function(v,T){v.forEach(function(j){c.call(m,j,T,this)},this)},this)};function $o(c,m){Cn(c);let v=[];if(typeof m=="string")Fo(c,m)&&(v=v.concat(c.g.get(Qs(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return Cn(this),this.i=null,c=Qs(this,c),Fo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=$o(this,c),c.length>0?String(c[0]):m):m};function Na(c,m,v){_c(c,m),v.length>0&&(c.i=null,c.g.set(Qs(c,m),K(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const j=Zn(v);v=$o(this,v);for(let H=0;H<v.length;H++){let se=j;v[H]!==""&&(se+="="+Zn(v[H])),c.push(se)}}return this.i=c.join("&")};function vc(c){const m=new $s;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function Qs(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function Da(c,m){m&&!c.j&&(Cn(c),c.i=null,c.g.forEach(function(v,T){const j=T.toLowerCase();T!=j&&(_c(this,T),Na(this,j,v))},c)),c.j=m}function vi(c,m){const v=new Pn;if(d.Image){const T=new Image;T.onload=A(ti,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(ti,v,"TestLoadImage: error",!1,m,T),T.onabort=A(ti,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(ti,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else m(!1)}function Qo(c,m){const v=new Pn,T=new AbortController,j=setTimeout(()=>{T.abort(),ti(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:T.signal}).then(H=>{clearTimeout(j),H.ok?ti(v,"TestPingServer: ok",!0,m):ti(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),ti(v,"TestPingServer: error",!1,m)})}function ti(c,m,v,T,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),T(v)}catch{}}function Ks(){this.g=new Yn}function Pi(c){this.i=c.Sb||null,this.h=c.ab||!1}w(Pi,pi),Pi.prototype.g=function(){return new Hr(this.i,this.h)};function Hr(c,m){_t.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Hr,_t),s=Hr.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Ei(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ys(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Oa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Oa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Ys(this):Ei(this),this.readyState==3&&Oa(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,Ys(this))},s.Na=function(c){this.g&&(this.response=c,Ys(this))},s.ga=function(){this.g&&Ys(this)};function Ys(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Ei(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Ei(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ni(c){let m="";return Fe(c,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Gr(c,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=ni(v),typeof c=="string"?v!=null&&Zn(v):We(c,m,v))}function ot(c){_t.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(ot,_t);var zi=/^https?$/i,Ko=["POST","PUT"];s=ot.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Br.g(),this.g.onreadystatechange=S(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(H){Fr(this,H);return}if(c=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var j in T)v.set(j,T[j]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())v.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),j=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Ko,m,void 0)>=0)||T||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,se]of v)this.g.setRequestHeader(H,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){Fr(this,H)}};function Fr(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Yo(c),gs(c)}function Yo(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Dt(this,"complete"),Dt(this,"abort"),gs(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gs(this,!0)),ot.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?$r(this):this.Xa())},s.Xa=function(){$r(this)};function $r(c){if(c.h&&typeof u<"u"){if(c.v&&bi(c)==4)setTimeout(c.Ca.bind(c),0);else if(Dt(c,"readystatechange"),bi(c)==4){c.h=!1;try{const H=c.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=H===0){let se=String(c.D).match(Le)[1]||null;!se&&d.self&&d.self.location&&(se=d.self.location.protocol.slice(0,-1)),T=!zi.test(se?se.toLowerCase():"")}v=T}if(v)Dt(c,"complete"),Dt(c,"success");else{c.o=6;try{var j=bi(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",Yo(c)}}finally{gs(c)}}}}function gs(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Dt(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function bi(c){return c.g?c.g.readyState:0}s.ca=function(){try{return bi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),wa(m)}};function nn(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ps(c){const m={};c=(c.g&&bi(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(x(c[T]))continue;var v=qr(c[T]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[j]||[];m[j]=H,H.push(v)}he(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function Xs(c){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Bi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Bi("baseRetryDelayMs",5e3,c),this.Za=Bi("retryDelaySeedMs",1e4,c),this.Ta=Bi("forwardChannelMaxRetries",2,c),this.va=Bi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new q(c&&c.concurrentRequestLimit),this.Ba=new Ks,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Xs.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,T){vt(0),this.W=c,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=xc(this,null,this.W),qi(this)};function Xo(c){if(Ma(c),c.I==3){var m=c.V++,v=Xe(c.J);if(We(v,"SID",c.M),We(v,"RID",m),We(v,"TYPE","terminate"),Qr(c,v),m=new zn(c,c.j,m),m.M=2,m.A=_i(Xe(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Rc(m.j,null),m.g.ea(m.A)),m.F=Date.now(),yn(m)}wc(c)}function Js(c){c.g&&(Zo(c),c.g.cancel(),c.g=null)}function Ma(c){Js(c),c.v&&(d.clearTimeout(c.v),c.v=null),ka(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function qi(c){if(!oe(c.h)&&!c.m){c.m=!0;var m=c.Ea;Ye||R(),Me||(Ye(),Me=!0),N.add(m,c),c.D=0}}function Va(c,m){return me(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Xn(_(c.Ea,c,m),Ac(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new zn(this,this.j,c);let H=this.o;if(this.U&&(H?(H=M(H),ae(H,this.U)):H=this.U),this.u!==null||this.R||(j.J=H,H=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Ec(this,j,m),v=Xe(this.J),We(v,"RID",c),We(v,"CVER",22),this.G&&We(v,"X-HTTP-Session-Id",this.G),Qr(this,v),H&&(this.R?m="headers="+Zn(ni(H))+"&"+m:this.u&&Gr(v,this.u,H)),ke(this.h,j),this.Ra&&We(v,"TYPE","init"),this.S?(We(v,"$req",m),We(v,"SID","null"),j.U=!0,Wn(j,v,null)):Wn(j,v,m),this.I=2}}else this.I==3&&(c?Jo(this,c):this.i.length==0||oe(this.h)||Jo(this))};function Jo(c,m){var v;m?v=m.l:v=c.V++;const T=Xe(c.J);We(T,"SID",c.M),We(T,"RID",v),We(T,"AID",c.K),Qr(c,T),c.u&&c.o&&Gr(T,c.u,c.o),v=new zn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Ec(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ke(c.h,v),Wn(v,T,m)}function Qr(c,m){c.H&&Fe(c.H,function(v,T){We(m,T,v)}),c.l&&Fe({},function(v,T){We(m,T,v)})}function Ec(c,m,v){v=Math.min(c.i.length,v);const T=c.l?_(c.l.Ka,c.l,c):null;e:{var j=c.i;let Ne=-1;for(;;){const Mt=["count="+v];Ne==-1?v>0?(Ne=j[0].g,Mt.push("ofs="+Ne)):Ne=0:Mt.push("ofs="+Ne);let et=!0;for(let Et=0;Et<v;Et++){var H=j[Et].g;const ii=j[Et].map;if(H-=Ne,H<0)Ne=Math.max(0,j[Et].g-100),et=!1;else try{H="req"+H+"_"||"";try{var se=ii instanceof Map?ii:Object.entries(ii);for(const[Gi,Ti]of se){let Si=Ti;g(Ti)&&(Si=Li(Ti)),Mt.push(H+Gi+"="+encodeURIComponent(Si))}}catch(Gi){throw Mt.push(H+"type="+encodeURIComponent("_badmap")),Gi}}catch{T&&T(ii)}}if(et){se=Mt.join("&");break e}}se=void 0}return c=c.i.splice(0,v),m.G=c,se}function bc(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Ye||R(),Me||(Ye(),Me=!0),N.add(m,c),c.A=0}}function Kr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Xn(_(c.Da,c),Ac(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Tc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Xn(_(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),Js(this),Tc(this))};function Zo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Tc(c){c.g=new zn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Xe(c.na);We(m,"RID","rpc"),We(m,"SID",c.M),We(m,"AID",c.K),We(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&We(m,"TO",c.ia),We(m,"TYPE","xmlhttp"),Qr(c,m),c.u&&c.o&&Gr(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=_i(Xe(m)),v.u=null,v.R=!0,Gs(v,c)}s.Va=function(){this.C!=null&&(this.C=null,Js(this),Kr(this),vt(19))};function ka(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Sc(c,m){var v=null;if(c.g==m){ka(c),Zo(c),c.g=null;var T=2}else if(_e(c.h,m))v=m.G,Ot(c.h,m),T=1;else return;if(c.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var j=c.D;T=zr(),Dt(T,new Un(T,v)),qi(c)}else bc(c);else if(j=m.m,j==3||j==0&&m.X>0||!(T==1&&Va(c,m)||T==2&&Kr(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),j){case 1:Hi(c,5);break;case 4:Hi(c,10);break;case 3:Hi(c,6);break;default:Hi(c,2)}}}function Ac(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Hi(c,m){if(c.j.info("Error code "+m),m==2){var v=_(c.bb,c),T=c.Ua;const j=!T;T=new tn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||nt(T,"https"),_i(T),j?vi(T.toString(),v):Qo(T.toString(),v)}else vt(2);c.I=0,c.l&&c.l.pa(m),wc(c),Ma(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function wc(c){if(c.I=0,c.ja=[],c.l){const m=at(c.h);(m.length!=0||c.i.length!=0)&&(W(c.ja,m),W(c.ja,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.oa()}}function xc(c,m,v){var T=v instanceof tn?Xe(v):new tn(v);if(T.g!="")m&&(T.g=m+"."+T.g),xn(T,T.u);else{var j=d.location;T=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const H=new tn(null);T&&nt(H,T),m&&(H.g=m),j&&xn(H,j),v&&(H.h=v),T=H}return v=c.G,m=c.wa,v&&m&&We(T,v,m),We(T,"VER",c.ka),Qr(c,T),T}function Rc(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new ot(new Pi({ab:v})):new ot(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cc(){}s=Cc.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Zs(){}Zs.prototype.g=function(c,m){return new En(c,m)};function En(c,m){_t.call(this),this.g=new Xs(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!x(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new ys(this)}w(En,_t),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Xo(this.g)},En.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Li(c),c=v);m.i.push(new Ct(m.Ya++,c)),m.I==3&&qi(m)},En.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,En.Z.N.call(this)};function Ic(c){dt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}w(Ic,dt);function Nc(){hn.call(this),this.status=1}w(Nc,hn);function ys(c){this.g=c}w(ys,Cc),ys.prototype.ra=function(){Dt(this.g,"a")},ys.prototype.qa=function(c){Dt(this.g,new Ic(c))},ys.prototype.pa=function(c){Dt(this.g,new Nc)},ys.prototype.oa=function(){Dt(this.g,"b")},Zs.prototype.createWebChannel=Zs.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,QE=function(){return new Zs},$E=function(){return zr()},FE=wt,gm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ds.NO_ERROR=0,ds.TIMEOUT=8,ds.HTTP_ERROR=6,Xu=ds,Hs.COMPLETE="complete",GE=Hs,Ur.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Pl=Ur,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,HE=ot}).apply(typeof zu<"u"?zu:typeof self<"u"?self:typeof window<"u"?window:{});const G_="@firebase/firestore",F_="4.9.2";class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let Lo="12.3.0";const va=new Om("@firebase/firestore");function mo(){return va.logLevel}function ce(s,...e){if(va.logLevel<=qe.DEBUG){const i=e.map(Fm);va.debug(`Firestore (${Lo}): ${s}`,...i)}}function Us(s,...e){if(va.logLevel<=qe.ERROR){const i=e.map(Fm);va.error(`Firestore (${Lo}): ${s}`,...i)}}function xo(s,...e){if(va.logLevel<=qe.WARN){const i=e.map(Fm);va.warn(`Firestore (${Lo}): ${s}`,...i)}}function Fm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ae(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,KE(s,r,i)}function KE(s,e,i){let r=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Us(r),new Error(r)}function it(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||KE(e,l,r)}function Ce(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends zs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ma{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class YE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(mn.UNAUTHENTICATED)))}shutdown(){}}class pR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class yR{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){it(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let u=new ma;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ma,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ma)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it(typeof r.accessToken=="string",31837,{l:r}),new YE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class _R{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vR{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new _R(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ER{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){it(this.o===void 0,3512);const r=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(it(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new $_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function bR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class $m{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=bR(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<i&&(r+=e.charAt(l[u]%62))}return r}}function He(s,e){return s<e?-1:s>e?1:0}function pm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),u=e.charAt(r);if(l!==u)return Wd(l)===Wd(u)?He(l,u):Wd(l)?1:-1}return He(s.length,e.length)}const TR=55296,SR=57343;function Wd(s){const e=s.charCodeAt(0);return e>=TR&&e<=SR}function Ro(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}const Q_="__name__";class Xi{constructor(e,i,r){i===void 0?i=0:i>e.length&&Ae(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Ae(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Xi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Xi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const u=Xi.compareSegments(e.get(l),i.get(l));if(u!==0)return u}return He(e.length,i.length)}static compareSegments(e,i){const r=Xi.isNumericId(e),l=Xi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Xi.extractNumericId(e).compare(Xi.extractNumericId(i)):pm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ir.fromString(e.substring(4,e.length-2))}}class mt extends Xi{construct(e,i,r){return new mt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new mt(i)}static emptyPath(){return new mt([])}}const AR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends Xi{construct(e,i,r){return new cn(e,i,r)}static isValidIdentifier(e){return AR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q_}static keyField(){return new cn([Q_])}static fromServerFormat(e){const i=[];let r="",l=0;const u=()=>{if(r.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new le(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new le(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(u(),l++)}if(u(),d)throw new le(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(i)}static emptyPath(){return new cn([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(mt.fromString(e))}static fromName(e){return new pe(mt.fromString(e).popFirst(5))}static empty(){return new pe(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return mt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new mt(e.slice()))}}function XE(s,e,i){if(!i)throw new le(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function wR(s,e,i,r){if(e===!0&&r===!0)throw new le(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function K_(s){if(!pe.isDocumentKey(s))throw new le(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Y_(s){if(pe.isDocumentKey(s))throw new le(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function JE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function xh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ae(12329,{type:typeof s})}function bo(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new le(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=xh(s);throw new le(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Qt(s,e){const i={typeString:s};return e&&(i.value=e),i}function hc(s,e){if(!JE(s))throw new le(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new le(J.INVALID_ARGUMENT,i);return!0}const X_=-62135596800,J_=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*J_);return new yt(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<X_)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/J_}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hc(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-X_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:Qt("string",yt._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new yt(0,0))}static max(){return new we(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Jl=-1;function xR(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=we.fromTimestamp(r===1e9?new yt(i+1,0):new yt(i,r));return new Dr(l,pe.empty(),e)}function RR(s){return new Dr(s.readTime,s.key,Jl)}class Dr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Dr(we.min(),pe.empty(),Jl)}static max(){return new Dr(we.max(),pe.empty(),Jl)}}function CR(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=pe.comparator(s.documentKey,e.documentKey),i!==0?i:He(s.largestBatchId,e.largestBatchId))}const IR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function jo(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==IR)throw s;ce("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,r)=>{i(e)}))}static reject(e){return new Z(((i,r)=>{r(e)}))}static waitFor(e){return new Z(((i,r)=>{let l=0,u=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++u,d&&u===l&&i()}),(y=>r(y)))})),d=!0,u===l&&i()}))}static or(e){let i=Z.resolve(!1);for(const r of e)i=i.next((l=>l?Z.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,u)=>{r.push(i.call(this,l,u))})),this.waitFor(r)}static mapArray(e,i){return new Z(((r,l)=>{const u=e.length,d=new Array(u);let g=0;for(let y=0;y<u;y++){const _=y;i(e[_]).next((A=>{d[_]=A,++g,g===u&&r(d)}),(A=>l(A)))}}))}static doWhile(e,i){return new Z(((r,l)=>{const u=()=>{e()===!0?i().next((()=>{u()}),l):r()};u()}))}}function DR(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Uo(s){return s.name==="IndexedDbTransactionError"}class Rh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rh.ce=-1;const Qm=-1;function Ch(s){return s==null}function hh(s){return s===0&&1/s==-1/0}function OR(s){return typeof s=="number"&&Number.isInteger(s)&&!hh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const ZE="";function MR(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Z_(e)),e=VR(s.get(i),e);return Z_(e)}function VR(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":i+="";break;case ZE:i+="";break;default:i+=u}}return i}function Z_(s){return s+ZE+""}function W_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function ba(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function WE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class At{constructor(e,i){this.comparator=e,this.root=i||ln.EMPTY}insert(e,i){return new At(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bu(this.root,e,this.comparator,!0)}}class Bu{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?r(e.key,i):1,i&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,i,r,l,u){this.key=e,this.value=i,this.color=r??ln.RED,this.left=l??ln.EMPTY,this.right=u??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,u){return new ln(e??this.key,i??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,i,r),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return ln.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,i,r,l,u){return this}insert(e,i,r){return new ln(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new ev(this.data.getIterator())}getIteratorFrom(e){return new ev(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Xt(this.comparator);return i.data=e,i}}class ev{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ci{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new Ci([])}unionWith(e){let i=new Xt(cn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Ci(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class eb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new eb("Invalid base64 string: "+u):u}})(e);return new un(i)}static fromUint8Array(e){const i=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new un(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const kR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(s){if(it(!!s,39018),typeof s=="string"){let e=0;const i=kR.exec(s);if(it(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lt(s.seconds),nanos:Lt(s.nanos)}}function Lt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Mr(s){return typeof s=="string"?un.fromBase64String(s):un.fromUint8Array(s)}const tb="server_timestamp",nb="__type__",ib="__previous_value__",sb="__local_write_time__";function Km(s){return(s?.mapValue?.fields||{})[nb]?.stringValue===tb}function Ih(s){const e=s.mapValue.fields[ib];return Km(e)?Ih(e):e}function Zl(s){const e=Or(s.mapValue.fields[sb].timestampValue);return new yt(e.seconds,e.nanos)}class LR{constructor(e,i,r,l,u,d,g,y,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const fh="(default)";class Wl{constructor(e,i){this.projectId=e,this.database=i||fh}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===fh}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}const rb="__type__",jR="__max__",qu={mapValue:{}},ab="__vector__",dh="value";function Vr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Km(s)?4:PR(s)?9007199254740991:UR(s)?10:11:Ae(28295,{value:s})}function ss(s,e){if(s===e)return!0;const i=Vr(s);if(i!==Vr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Zl(s).isEqual(Zl(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=Or(l.timestampValue),g=Or(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,u){return Mr(l.bytesValue).isEqual(Mr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,u){return Lt(l.geoPointValue.latitude)===Lt(u.geoPointValue.latitude)&&Lt(l.geoPointValue.longitude)===Lt(u.geoPointValue.longitude)})(s,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Lt(l.integerValue)===Lt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=Lt(l.doubleValue),g=Lt(u.doubleValue);return d===g?hh(d)===hh(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return Ro(s.arrayValue.values||[],e.arrayValue.values||[],ss);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},g=u.mapValue.fields||{};if(W_(d)!==W_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!ss(d[y],g[y])))return!1;return!0})(s,e);default:return Ae(52216,{left:s})}}function ec(s,e){return(s.values||[]).find((i=>ss(i,e)))!==void 0}function Co(s,e){if(s===e)return 0;const i=Vr(s),r=Vr(e);if(i!==r)return He(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return He(s.booleanValue,e.booleanValue);case 2:return(function(u,d){const g=Lt(u.integerValue||u.doubleValue),y=Lt(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,e);case 3:return tv(s.timestampValue,e.timestampValue);case 4:return tv(Zl(s),Zl(e));case 5:return pm(s.stringValue,e.stringValue);case 6:return(function(u,d){const g=Mr(u),y=Mr(d);return g.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(u,d){const g=u.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const A=He(g[_],y[_]);if(A!==0)return A}return He(g.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,d){const g=He(Lt(u.latitude),Lt(d.latitude));return g!==0?g:He(Lt(u.longitude),Lt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return nv(s.arrayValue,e.arrayValue);case 10:return(function(u,d){const g=u.fields||{},y=d.fields||{},_=g[dh]?.arrayValue,A=y[dh]?.arrayValue,w=He(_?.values?.length||0,A?.values?.length||0);return w!==0?w:nv(_,A)})(s.mapValue,e.mapValue);case 11:return(function(u,d){if(u===qu.mapValue&&d===qu.mapValue)return 0;if(u===qu.mapValue)return 1;if(d===qu.mapValue)return-1;const g=u.fields||{},y=Object.keys(g),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let w=0;w<y.length&&w<A.length;++w){const S=pm(y[w],A[w]);if(S!==0)return S;const K=Co(g[y[w]],_[A[w]]);if(K!==0)return K}return He(y.length,A.length)})(s.mapValue,e.mapValue);default:throw Ae(23264,{he:i})}}function tv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return He(s,e);const i=Or(s),r=Or(e),l=He(i.seconds,r.seconds);return l!==0?l:He(i.nanos,r.nanos)}function nv(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const u=Co(i[l],r[l]);if(u)return u}return He(i.length,r.length)}function Io(s){return ym(s)}function ym(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Or(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Mr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return pe.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const u of i.values||[])l?l=!1:r+=",",r+=ym(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const d of r)u?u=!1:l+=",",l+=`${d}:${ym(i.fields[d])}`;return l+"}"})(s.mapValue):Ae(61005,{value:s})}function Ju(s){switch(Vr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ih(s);return e?16+Ju(e):16;case 5:return 2*s.stringValue.length;case 6:return Mr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+Ju(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return ba(r.fields,((u,d)=>{l+=u.length+Ju(d)})),l})(s.mapValue);default:throw Ae(13486,{value:s})}}function iv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function _m(s){return!!s&&"integerValue"in s}function Ym(s){return!!s&&"arrayValue"in s}function sv(s){return!!s&&"nullValue"in s}function rv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Zu(s){return!!s&&"mapValue"in s}function UR(s){return(s?.mapValue?.fields||{})[rb]?.stringValue===ab}function Fl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return ba(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Fl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Fl(s.arrayValue.values[i]);return e}return{...s}}function PR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===jR}class fi{constructor(e){this.value=e}static empty(){return new fi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Zu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(i)}setAll(e){let i=cn.emptyPath(),r={},l=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=Fl(d):l.push(g.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,l)}delete(e){const i=this.field(e.popLast());Zu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ss(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];Zu(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){ba(i,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new fi(Fl(this.value))}}function ob(s){const e=[];return ba(s.fields,((i,r)=>{const l=new cn([i]);if(Zu(r)){const u=ob(r.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new Ci(e)}class gn{constructor(e,i,r,l,u,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(e){return new gn(e,0,we.min(),we.min(),we.min(),fi.empty(),0)}static newFoundDocument(e,i,r,l){return new gn(e,1,i,we.min(),r,l,0)}static newNoDocument(e,i){return new gn(e,2,i,we.min(),we.min(),fi.empty(),0)}static newUnknownDocument(e,i){return new gn(e,3,i,we.min(),we.min(),fi.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mh{constructor(e,i){this.position=e,this.inclusive=i}}function av(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const u=e[l],d=s.position[l];if(u.field.isKeyField()?r=pe.comparator(pe.fromName(d.referenceValue),i.key):r=Co(d,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function ov(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ss(s.position[i],e.position[i]))return!1;return!0}class tc{constructor(e,i="asc"){this.field=e,this.dir=i}}function zR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class lb{}class $t extends lb{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new qR(e,i,r):i==="array-contains"?new FR(e,r):i==="in"?new $R(e,r):i==="not-in"?new QR(e,r):i==="array-contains-any"?new KR(e,r):new $t(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new HR(e,r):new GR(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Co(i,this.value)):i!==null&&Vr(this.value)===Vr(i)&&this.matchesComparison(Co(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends lb{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Di(e,i)}matches(e){return cb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function cb(s){return s.op==="and"}function ub(s){return BR(s)&&cb(s)}function BR(s){for(const e of s.filters)if(e instanceof Di)return!1;return!0}function vm(s){if(s instanceof $t)return s.field.canonicalString()+s.op.toString()+Io(s.value);if(ub(s))return s.filters.map((e=>vm(e))).join(",");{const e=s.filters.map((i=>vm(i))).join(",");return`${s.op}(${e})`}}function hb(s,e){return s instanceof $t?(function(r,l){return l instanceof $t&&r.op===l.op&&r.field.isEqual(l.field)&&ss(r.value,l.value)})(s,e):s instanceof Di?(function(r,l){return l instanceof Di&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,d,g)=>u&&hb(d,l.filters[g])),!0):!1})(s,e):void Ae(19439)}function fb(s){return s instanceof $t?(function(i){return`${i.field.canonicalString()} ${i.op} ${Io(i.value)}`})(s):s instanceof Di?(function(i){return i.op.toString()+" {"+i.getFilters().map(fb).join(" ,")+"}"})(s):"Filter"}class qR extends $t{constructor(e,i,r){super(e,i,r),this.key=pe.fromName(r.referenceValue)}matches(e){const i=pe.comparator(e.key,this.key);return this.matchesComparison(i)}}class HR extends $t{constructor(e,i){super(e,"in",i),this.keys=db("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class GR extends $t{constructor(e,i){super(e,"not-in",i),this.keys=db("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function db(s,e){return(e.arrayValue?.values||[]).map((i=>pe.fromName(i.referenceValue)))}class FR extends $t{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ym(i)&&ec(i.arrayValue,this.value)}}class $R extends $t{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ec(this.value.arrayValue,i)}}class QR extends $t{constructor(e,i){super(e,"not-in",i)}matches(e){if(ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ec(this.value.arrayValue,i)}}class KR extends $t{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ym(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>ec(this.value.arrayValue,r)))}}class YR{constructor(e,i=null,r=[],l=[],u=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=d,this.endAt=g,this.Te=null}}function lv(s,e=null,i=[],r=[],l=null,u=null,d=null){return new YR(s,e,i,r,l,u,d)}function Xm(s){const e=Ce(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>vm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Ch(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Io(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Io(r))).join(",")),e.Te=i}return e.Te}function Jm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!zR(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!hb(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!ov(s.startAt,e.startAt)&&ov(s.endAt,e.endAt)}function Em(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Po{constructor(e,i=null,r=[],l=[],u=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function XR(s,e,i,r,l,u,d,g){return new Po(s,e,i,r,l,u,d,g)}function Zm(s){return new Po(s)}function cv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function mb(s){return s.collectionGroup!==null}function $l(s){const e=Ce(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Xt(cn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new tc(u,r))})),i.has(cn.keyField().canonicalString())||e.Ie.push(new tc(cn.keyField(),r))}return e.Ie}function Zi(s){const e=Ce(s);return e.Ee||(e.Ee=JR(e,$l(s))),e.Ee}function JR(s,e){if(s.limitType==="F")return lv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new tc(l.field,u)}));const i=s.endAt?new mh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new mh(s.startAt.position,s.startAt.inclusive):null;return lv(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function bm(s,e){const i=s.filters.concat([e]);return new Po(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function gh(s,e,i){return new Po(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Nh(s,e){return Jm(Zi(s),Zi(e))&&s.limitType===e.limitType}function gb(s){return`${Xm(Zi(s))}|lt:${s.limitType}`}function go(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>fb(l))).join(", ")}]`),Ch(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>Io(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>Io(l))).join(",")),`Target(${r})`})(Zi(s))}; limitType=${s.limitType})`}function Dh(s,e){return e.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):pe.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,l){for(const u of $l(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,g,y){const _=av(d,g,y);return d.inclusive?_<=0:_<0})(r.startAt,$l(r),l)||r.endAt&&!(function(d,g,y){const _=av(d,g,y);return d.inclusive?_>=0:_>0})(r.endAt,$l(r),l))})(s,e)}function ZR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function pb(s){return(e,i)=>{let r=!1;for(const l of $l(s)){const u=WR(l,e,i);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function WR(s,e,i){const r=s.field.isKeyField()?pe.comparator(e.key,i.key):(function(u,d,g){const y=d.data.field(u),_=g.data.field(u);return y!==null&&_!==null?Co(y,_):Ae(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:s.dir})}}class Ta{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ba(this.inner,((i,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return WE(this.inner)}size(){return this.innerSize}}const eC=new At(pe.comparator);function Ps(){return eC}const yb=new At(pe.comparator);function zl(...s){let e=yb;for(const i of s)e=e.insert(i.key,i);return e}function _b(s){let e=yb;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function da(){return Ql()}function vb(){return Ql()}function Ql(){return new Ta((s=>s.toString()),((s,e)=>s.isEqual(e)))}const tC=new At(pe.comparator),nC=new Xt(pe.comparator);function Ge(...s){let e=nC;for(const i of s)e=e.add(i);return e}const iC=new Xt(He);function sC(){return iC}function Wm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(e)?"-0":e}}function Eb(s){return{integerValue:""+s}}function rC(s,e){return OR(e)?Eb(e):Wm(s,e)}class Oh{constructor(){this._=void 0}}function aC(s,e,i){return s instanceof nc?(function(l,u){const d={fields:{[nb]:{stringValue:tb},[sb]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Km(u)&&(u=Ih(u)),u&&(d.fields[ib]=u),{mapValue:d}})(i,e):s instanceof ic?Tb(s,e):s instanceof sc?Sb(s,e):(function(l,u){const d=bb(l,u),g=uv(d)+uv(l.Ae);return _m(d)&&_m(l.Ae)?Eb(g):Wm(l.serializer,g)})(s,e)}function oC(s,e,i){return s instanceof ic?Tb(s,e):s instanceof sc?Sb(s,e):i}function bb(s,e){return s instanceof ph?(function(r){return _m(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class nc extends Oh{}class ic extends Oh{constructor(e){super(),this.elements=e}}function Tb(s,e){const i=Ab(e);for(const r of s.elements)i.some((l=>ss(l,r)))||i.push(r);return{arrayValue:{values:i}}}class sc extends Oh{constructor(e){super(),this.elements=e}}function Sb(s,e){let i=Ab(e);for(const r of s.elements)i=i.filter((l=>!ss(l,r)));return{arrayValue:{values:i}}}class ph extends Oh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function uv(s){return Lt(s.integerValue||s.doubleValue)}function Ab(s){return Ym(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class lC{constructor(e,i){this.field=e,this.transform=i}}function cC(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof ic&&l instanceof ic||r instanceof sc&&l instanceof sc?Ro(r.elements,l.elements,ss):r instanceof ph&&l instanceof ph?ss(r.Ae,l.Ae):r instanceof nc&&l instanceof nc})(s.transform,e.transform)}class uC{constructor(e,i){this.version=e,this.transformResults=i}}class Wi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Wi}static exists(e){return new Wi(void 0,e)}static updateTime(e){return new Wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Mh{}function wb(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new eg(s.key,Wi.none()):new fc(s.key,s.data,Wi.none());{const i=s.data,r=fi.empty();let l=new Xt(cn.comparator);for(let u of e.fields)if(!l.has(u)){let d=i.field(u);d===null&&u.length>1&&(u=u.popLast(),d=i.field(u)),d===null?r.delete(u):r.set(u,d),l=l.add(u)}return new Sa(s.key,r,new Ci(l.toArray()),Wi.none())}}function hC(s,e,i){s instanceof fc?(function(l,u,d){const g=l.value.clone(),y=fv(l.fieldTransforms,u,d.transformResults);g.setAll(y),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof Sa?(function(l,u,d){if(!Wu(l.precondition,u))return void u.convertToUnknownDocument(d.version);const g=fv(l.fieldTransforms,u,d.transformResults),y=u.data;y.setAll(xb(l)),y.setAll(g),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Kl(s,e,i,r){return s instanceof fc?(function(u,d,g,y){if(!Wu(u.precondition,d))return g;const _=u.value.clone(),A=dv(u.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof Sa?(function(u,d,g,y){if(!Wu(u.precondition,d))return g;const _=dv(u.fieldTransforms,y,d),A=d.data;return A.setAll(xb(u)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(s,e,i,r):(function(u,d,g){return Wu(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function fC(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),u=bb(r.transform,l||null);u!=null&&(i===null&&(i=fi.empty()),i.set(r.field,u))}return i||null}function hv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Ro(r,l,((u,d)=>cC(u,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class fc extends Mh{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Sa extends Mh{constructor(e,i,r,l,u=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function xb(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function fv(s,e,i){const r=new Map;it(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const u=s[l],d=u.transform,g=e.data.field(u.field);r.set(u.field,oC(d,g,i[l]))}return r}function dv(s,e,i){const r=new Map;for(const l of s){const u=l.transform,d=i.data.field(l.field);r.set(l.field,aC(u,d,e))}return r}class eg extends Mh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dC extends Mh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mC{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&hC(u,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Kl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Kl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=vb();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=i.has(l.key)?null:g;const y=wb(d,g);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(we.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,((i,r)=>hv(i,r)))&&Ro(this.baseMutations,e.baseMutations,((i,r)=>hv(i,r)))}}class tg{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){it(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return tC})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,r[d].version);return new tg(e,i,r,l)}}class gC{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class pC{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ft,Qe;function yC(s){switch(s){case J.OK:return Ae(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ae(15467,{code:s})}}function Rb(s){if(s===void 0)return Us("GRPC error has no .code"),J.UNKNOWN;switch(s){case Ft.OK:return J.OK;case Ft.CANCELLED:return J.CANCELLED;case Ft.UNKNOWN:return J.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return J.INTERNAL;case Ft.UNAVAILABLE:return J.UNAVAILABLE;case Ft.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ft.NOT_FOUND:return J.NOT_FOUND;case Ft.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ft.ABORTED:return J.ABORTED;case Ft.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ft.DATA_LOSS:return J.DATA_LOSS;default:return Ae(39323,{code:s})}}(Qe=Ft||(Ft={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function _C(){return new TextEncoder}const vC=new Ir([4294967295,4294967295],0);function mv(s){const e=_C().encode(s),i=new qE;return i.update(e),new Uint8Array(i.digest())}function gv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ir([i,r],0),new Ir([l,u],0)]}class ng{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Bl(`Invalid padding: ${i}`);if(r<0)throw new Bl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ir.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(Ir.fromNumber(r)));return l.compare(vC)===1&&(l=new Ir([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=mv(e),[r,l]=gv(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new ng(u,l,i);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=mv(e),[r,l]=gv(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vh{constructor(e,i,r,l,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,dc.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Vh(we.min(),l,new At(He),Ps(),Ge())}}class dc{constructor(e,i,r,l,u){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new dc(r,i,Ge(),Ge(),Ge())}}class eh{constructor(e,i,r,l){this.be=e,this.removedTargetIds=i,this.key=r,this.De=l}}class Cb{constructor(e,i){this.targetId=e,this.Ce=i}}class Ib{constructor(e,i,r=un.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class pv{constructor(){this.ve=0,this.Fe=yv(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),i=Ge(),r=Ge();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:Ae(38017,{changeType:u})}})),new dc(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=yv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class EC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ps(),this.Je=Hu(),this.He=Hu(),this.Ye=new At(He)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const u=l.target;if(Em(u))if(r===0){const d=new pe(u.path);this.et(i,d,gn.newNoDocument(d,we.min()))}else it(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=i;let d,g;try{d=Mr(r).toUint8Array()}catch(y){if(y instanceof eb)return xo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new ng(d,l,u)}catch(y){return xo(y instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((u=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(i,u,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((u,d)=>{const g=this.ot(d);if(g){if(u.current&&Em(g.target)){const y=new pe(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,gn.newNoDocument(y,e))}u.Be&&(i.set(d,u.ke()),u.qe())}}));let r=Ge();this.He.forEach(((u,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const l=new Vh(e,i,this.Ye,this.je,r);return this.je=Ps(),this.Je=Hu(),this.He=Hu(),this.Ye=new At(He),l}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new pv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Xt(He),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Xt(He),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ce("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new pv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Hu(){return new At(pe.comparator)}function yv(){return new At(pe.comparator)}const bC={asc:"ASCENDING",desc:"DESCENDING"},TC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SC={and:"AND",or:"OR"};class AC{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Tm(s,e){return s.useProto3Json||Ch(e)?e:{value:e}}function yh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nb(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function wC(s,e){return yh(s,e.toTimestamp())}function es(s){return it(!!s,49232),we.fromTimestamp((function(i){const r=Or(i);return new yt(r.seconds,r.nanos)})(s))}function ig(s,e){return Sm(s,e).canonicalString()}function Sm(s,e){const i=(function(l){return new mt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function Db(s){const e=mt.fromString(s);return it(Lb(e),10190,{key:e.toString()}),e}function Am(s,e){return ig(s.databaseId,e.path)}function em(s,e){const i=Db(e);if(i.get(1)!==s.databaseId.projectId)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pe(Mb(i))}function Ob(s,e){return ig(s.databaseId,e)}function xC(s){const e=Db(s);return e.length===4?mt.emptyPath():Mb(e)}function wm(s){return new mt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Mb(s){return it(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function _v(s,e,i){return{name:Am(s,e),fields:i.value.mapValue.fields}}function RC(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ae(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(_,A){return _.useProto3Json?(it(A===void 0||typeof A=="string",58123),un.fromBase64String(A||"")):(it(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),un.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const A=_.code===void 0?J.UNKNOWN:Rb(_.code);return new le(A,_.message||"")})(d);i=new Ib(r,l,u,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=em(s,r.document.name),u=es(r.document.updateTime),d=r.document.createTime?es(r.document.createTime):we.min(),g=new fi({mapValue:{fields:r.document.fields}}),y=gn.newFoundDocument(l,u,d,g),_=r.targetIds||[],A=r.removedTargetIds||[];i=new eh(_,A,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=em(s,r.document),u=r.readTime?es(r.readTime):we.min(),d=gn.newNoDocument(l,u),g=r.removedTargetIds||[];i=new eh([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=em(s,r.document),u=r.removedTargetIds||[];i=new eh([],u,l,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,d=new pC(l,u),g=r.targetId;i=new Cb(g,d)}}return i}function CC(s,e){let i;if(e instanceof fc)i={update:_v(s,e.key,e.value)};else if(e instanceof eg)i={delete:Am(s,e.key)};else if(e instanceof Sa)i={update:_v(s,e.key,e.data),updateMask:jC(e.fieldMask)};else{if(!(e instanceof dC))return Ae(16599,{Vt:e.type});i={verify:Am(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(u,d){const g=d.transform;if(g instanceof nc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ic)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof sc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ph)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Ae(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:wC(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)})(s,e.precondition)),i}function IC(s,e){return s&&s.length>0?(it(e!==void 0,14353),s.map((i=>(function(l,u){let d=l.updateTime?es(l.updateTime):es(u);return d.isEqual(we.min())&&(d=es(u)),new uC(d,l.transformResults||[])})(i,e)))):[]}function NC(s,e){return{documents:[Ob(s,e.path)]}}function DC(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Ob(s,l);const u=(function(_){if(_.length!==0)return kb(Di.create(_,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const d=(function(_){if(_.length!==0)return _.map((A=>(function(S){return{field:po(S.field),direction:VC(S.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Tm(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function OC(s){let e=xC(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){it(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:e=e.child(A.collectionId)}let u=[];i.where&&(u=(function(w){const S=Vb(w);return S instanceof Di&&ub(S)?S.getFilters():[S]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((S=>(function(W){return new tc(yo(W.field),(function(ne){switch(ne){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(S)))})(i.orderBy));let g=null;i.limit&&(g=(function(w){let S;return S=typeof w=="object"?w.value:w,Ch(S)?null:S})(i.limit));let y=null;i.startAt&&(y=(function(w){const S=!!w.before,K=w.values||[];return new mh(K,S)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const S=!w.before,K=w.values||[];return new mh(K,S)})(i.endAt)),XR(e,l,d,u,g,"F",y,_)}function MC(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Vb(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=yo(i.unaryFilter.field);return $t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=yo(i.unaryFilter.field);return $t.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=yo(i.unaryFilter.field);return $t.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=yo(i.unaryFilter.field);return $t.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(s):s.fieldFilter!==void 0?(function(i){return $t.create(yo(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Di.create(i.compositeFilter.filters.map((r=>Vb(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(i.compositeFilter.op))})(s):Ae(30097,{filter:s})}function VC(s){return bC[s]}function kC(s){return TC[s]}function LC(s){return SC[s]}function po(s){return{fieldPath:s.canonicalString()}}function yo(s){return cn.fromServerFormat(s.fieldPath)}function kb(s){return s instanceof $t?(function(i){if(i.op==="=="){if(rv(i.value))return{unaryFilter:{field:po(i.field),op:"IS_NAN"}};if(sv(i.value))return{unaryFilter:{field:po(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(rv(i.value))return{unaryFilter:{field:po(i.field),op:"IS_NOT_NAN"}};if(sv(i.value))return{unaryFilter:{field:po(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:po(i.field),op:kC(i.op),value:i.value}}})(s):s instanceof Di?(function(i){const r=i.getFilters().map((l=>kb(l)));return r.length===1?r[0]:{compositeFilter:{op:LC(i.op),filters:r}}})(s):Ae(54877,{filter:s})}function jC(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Lb(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class wr{constructor(e,i,r,l,u=we.min(),d=we.min(),g=un.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class UC{constructor(e){this.yt=e}}function PC(s){const e=OC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?gh(e,e.limit,"L"):e}class zC{constructor(){this.Cn=new BC}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Dr.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Dr.min())}updateCollectionGroup(e,i,r){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class BC{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new Xt(mt.comparator),u=!l.has(r);return this.index[i]=l.add(r),u}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Xt(mt.comparator)).toArray()}}const vv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jb=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(jb,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);class No{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new No(0)}static cr(){return new No(-1)}}const Ev="LruGarbageCollector",qC=1048576;function bv([s,e],[i,r]){const l=He(s,i);return l===0?He(e,r):l}class HC{constructor(e){this.Ir=e,this.buffer=new Xt(bv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();bv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class GC{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(Ev,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Uo(i)?ce(Ev,"Ignoring IndexedDB error during garbage collection: ",i):await jo(i)}await this.Vr(3e5)}))}}class FC{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(Rh.ce);const r=new HC(i);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(vv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,l,u,d,g,y,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(e,l)))).next((w=>(r=w,g=Date.now(),this.removeTargets(e,r,i)))).next((w=>(u=w,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(_=Date.now(),mo()<=qe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${u} targets in `+(y-g)+`ms
	Removed ${w} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:w}))))}}function $C(s,e){return new FC(s,e)}class QC{constructor(){this.changes=new Ta((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class KC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class YC{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&Kl(r.mutation,l,Ci.empty(),yt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Ge()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Ge()){const l=da();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((u=>{let d=zl();return u.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=da();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Ge())))}populateOverlays(e,i,r){const l=[];return r.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,r,l){let u=Ps();const d=Ql(),g=(function(){return Ql()})();return i.forEach(((y,_)=>{const A=r.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof Sa)?u=u.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Kl(A.mutation,_,A.mutation.getFieldMask(),yt.now())):d.set(_.key,Ci.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>g.set(_,new KC(A,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const r=Ql();let l=new At(((d,g)=>d-g)),u=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let A=r.get(y)||Ci.empty();A=g.applyToLocalView(_,A),r.set(y,A);const w=(l.get(g.batchId)||Ge()).add(y);l=l.insert(g.batchId,w)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,A=y.value,w=vb();A.forEach((S=>{if(!u.has(S)){const K=wb(i.get(S),r.get(S));K!==null&&w.set(S,K),u=u.add(S)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,w))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return(function(d){return pe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):mb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-u.size):Z.resolve(da());let g=Jl,y=u;return d.next((_=>Z.forEach(_,((A,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),u.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(e,A).next((S=>{y=y.insert(A,S)}))))).next((()=>this.populateOverlays(e,_,u))).next((()=>this.computeViews(e,y,_,Ge()))).next((A=>({batchId:g,changes:_b(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pe(i)).next((r=>{let l=zl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const u=i.collectionGroup;let d=zl();return this.indexManager.getCollectionParents(e,u).next((g=>Z.forEach(g,(y=>{const _=(function(w,S){return new Po(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,r,l).next((A=>{A.forEach(((w,S)=>{d=d.insert(w,S)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,u,l)))).next((d=>{u.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,gn.newInvalidDocument(A)))}));let g=zl();return d.forEach(((y,_)=>{const A=u.get(y);A!==void 0&&Kl(A.mutation,_,Ci.empty(),yt.now()),Dh(i,_)&&(g=g.insert(y,_))})),g}))}}class XC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:es(l.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:PC(l.bundledQuery),readTime:es(l.readTime)}})(i)),Z.resolve()}}class JC{constructor(){this.overlays=new At(pe.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const r=da();return Z.forEach(i,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,u)=>{this.St(e,i,u)})),Z.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,i,r){const l=da(),u=i.length+1,d=new pe(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===u&&y.largestBatchId>r&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let u=new At(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=u.get(_.largestBatchId);A===null&&(A=da(),u=u.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=da(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>g.set(_,A))),!(g.size()>=l)););return Z.resolve(g)}St(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new gC(i,r));let u=this.qr.get(i);u===void 0&&(u=Ge(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}class ZC{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class sg{constructor(){this.Qr=new Xt(Zt.$r),this.Ur=new Xt(Zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Zt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Zt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new pe(new mt([])),r=new Zt(i,e),l=new Zt(i,e+1),u=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new pe(new mt([])),r=new Zt(i,e),l=new Zt(i,e+1);let u=Ge();return this.Ur.forEachInRange([r,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const i=new Zt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Zt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return pe.comparator(e.key,i.key)||He(e.Yr,i.Yr)}static Kr(e,i){return He(e.Yr,i.Yr)||pe.comparator(e.key,i.key)}}class WC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Xt(Zt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new mC(u,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Zt(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.ei(r),u=l<0?0:l;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Qm:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Zt(i,0),l=new Zt(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,l],(d=>{const g=this.Xr(d.Yr);u.push(g)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Xt(He);return i.forEach((l=>{const u=new Zt(l,0),d=new Zt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(g=>{r=r.add(g.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let u=r;pe.isDocumentKey(u)||(u=u.child(""));const d=new Zt(new pe(u),0);let g=new Xt(He);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(g=g.add(y.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){it(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(l=>{const u=new Zt(l.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Zt(i,0),l=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class eI{constructor(e){this.ri=e,this.docs=(function(){return new At(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),u=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():gn.newInvalidDocument(i))}getEntries(e,i){let r=Ps();return i.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():gn.newInvalidDocument(l))})),Z.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let u=Ps();const d=i.path,g=new pe(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||CR(RR(A),r)<=0||(l.has(A.key)||Dh(i,A))&&(u=u.insert(A.key,A.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,i,r,l){Ae(9500)}ii(e,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new tI(this)}getSize(e){return Z.resolve(this.size)}}class tI extends QC{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class nI{constructor(e){this.persistence=e,this.si=new Ta((i=>Xm(i)),Jm),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new sg,this.targetCount=0,this.ai=No.ur()}forEachTarget(e,i){return this.si.forEach(((r,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new No(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,r){let l=0;const u=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),Z.waitFor(u).next((()=>l))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),Z.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class Ub{constructor(e,i){this.ui={},this.overlays={},this.ci=new Rh(0),this.li=!1,this.li=!0,this.hi=new ZC,this.referenceDelegate=e(this),this.Pi=new nI(this),this.indexManager=new zC,this.remoteDocumentCache=(function(l){return new eI(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new UC(i),this.Ii=new XC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new JC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new WC(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){ce("MemoryPersistence","Starting transaction:",e);const l=new iI(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class iI extends NR{constructor(e){super(),this.currentSequenceNumber=e}}class rg{constructor(e){this.persistence=e,this.Ri=new sg,this.Vi=null}static mi(e){return new rg(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const l=pe.fromPath(r);return this.gi(e,l).next((u=>{u||i.removeEntry(l,we.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class _h{constructor(e,i){this.persistence=e,this.pi=new Ta((r=>MR(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=$C(this,i)}static mi(e,i){return new _h(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((r,l)=>this.br(e,r,l).next((u=>u?Z.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((g=>{g||(r++,u.removeEntry(d,we.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ju(e.data.value)),i}br(e,i,r){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ag{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=l}static As(e,i){let r=Ge(),l=Ge();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new ag(e,i.fromCache,r,l)}}class sI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class rI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return xA()?8:DR(pn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const u={result:null};return this.ys(e,i).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(e,i,l,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new sI;return this.Ss(e,i,d).next((g=>{if(u.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>u.result))}bs(e,i,r,l){return r.documentReadCount<this.fs?(mo()<=qe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",go(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(mo()<=qe.DEBUG&&ce("QueryEngine","Query:",go(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(mo()<=qe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",go(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zi(i))):Z.resolve())}ys(e,i){if(cv(i))return Z.resolve(null);let r=Zi(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=gh(i,null,"F"),r=Zi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const d=Ge(...u);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(e,gh(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,r,l){return cv(i)||l.isEqual(we.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((u=>{const d=this.Ds(i,u);return this.Cs(i,d,r,l)?Z.resolve(null):(mo()<=qe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),go(i)),this.vs(e,d,i,xR(l,Jl)).next((g=>g)))}))}Ds(e,i){let r=new Xt(pb(e));return i.forEach(((l,u)=>{Dh(e,u)&&(r=r.add(u))})),r}Cs(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,i,r){return mo()<=qe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",go(i)),this.ps.getDocumentsMatchingQuery(e,i,Dr.min(),r)}vs(e,i,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((u=>(i.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const og="LocalStore",aI=3e8;class oI{constructor(e,i,r,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new At(He),this.xs=new Ta((u=>Xm(u)),Jm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function lI(s,e,i,r){return new oI(s,e,i,r)}async function Pb(s,e){const i=Ce(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],g=[];let y=Ge();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of u){g.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(r,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function cI(s,e){const i=Ce(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,A){const w=_.batch,S=w.keys();let K=Z.resolve();return S.forEach((W=>{K=K.next((()=>A.getEntry(y,W))).next((ie=>{const ne=_.docVersions.get(W);it(ne!==null,48541),ie.version.compareTo(ne)<0&&(w.applyToRemoteDocument(ie,_),ie.isValidDocument()&&(ie.setReadTime(_.commitVersion),A.addEntry(ie)))}))})),K.next((()=>g.mutationQueue.removeMutationBatch(y,w)))})(i,r,e,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let y=Ge();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function zb(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function uI(s,e){const i=Ce(s),r=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];e.targetChanges.forEach(((A,w)=>{const S=l.get(w);if(!S)return;g.push(i.Pi.removeMatchingKeys(u,A.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(u,A.addedDocuments,w))));let K=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?K=K.withResumeToken(un.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):A.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(A.resumeToken,r)),l=l.insert(w,K),(function(ie,ne,ye){return ie.resumeToken.approximateByteSize()===0||ne.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=aI?!0:ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0})(S,K,A)&&g.push(i.Pi.updateTargetData(u,K))}));let y=Ps(),_=Ge();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(u,A))})),g.push(hI(u,d,e.documentUpdates).next((A=>{y=A.ks,_=A.qs}))),!r.isEqual(we.min())){const A=i.Pi.getLastRemoteSnapshotVersion(u).next((w=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));g.push(A)}return Z.waitFor(g).next((()=>d.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,y,_))).next((()=>y))})).then((u=>(i.Ms=l,u)))}function hI(s,e,i){let r=Ge(),l=Ge();return i.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let d=Ps();return i.forEach(((g,y)=>{const _=u.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(we.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):ce(og,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function fI(s,e){const i=Ce(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Qm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function dI(s,e){const i=Ce(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,e).next((u=>u?(l=u,Z.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new wr(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function xm(s,e,i){const r=Ce(s),l=r.Ms.get(e),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Uo(d))throw d;ce(og,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function Tv(s,e,i){const r=Ce(s);let l=we.min(),u=Ge();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const w=Ce(y),S=w.xs.get(A);return S!==void 0?Z.resolve(w.Ms.get(S)):w.Pi.getTargetData(_,A)})(r,d,Zi(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{u=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?l:we.min(),i?u:Ge()))).next((g=>(mI(r,ZR(e),g),{documents:g,Qs:u})))))}function mI(s,e,i){let r=s.Os.get(e)||we.min();i.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(e,r)}class Sv{constructor(){this.activeTargetIds=sC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gI{constructor(){this.Mo=new Sv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Sv,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pI{Oo(e){}shutdown(){}}const Av="ConnectivityMonitor";class wv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(Av,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(Av,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Gu=null;function Rm(){return Gu===null?Gu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gu++,"0x"+Gu.toString(16)}const tm="RestConnection",yI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _I{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===fh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,i,r,l,u){const d=Rm(),g=this.zo(e,i.toUriEncodedString());ce(tm,`Sending RPC '${e}' ${d}:`,g,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,u);const{host:_}=new URL(g),A=Oo(_);return this.Jo(e,g,y,r,A).then((w=>(ce(tm,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw xo(tm,`RPC '${e}' ${d} failed with error: `,w,"url: ",g,"request:",r),w}))}Ho(e,i,r,l,u,d){return this.Go(e,i,r,l,u)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Lo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}zo(e,i){const r=yI[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class vI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const dn="WebChannelConnection";class EI extends _I{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,l,u){const d=Rm();return new Promise(((g,y)=>{const _=new HE;_.setWithCredentials(!0),_.listenOnce(GE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Xu.NO_ERROR:const w=_.getResponseJson();ce(dn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),g(w);break;case Xu.TIMEOUT:ce(dn,`RPC '${e}' ${d} timed out`),y(new le(J.DEADLINE_EXCEEDED,"Request time out"));break;case Xu.HTTP_ERROR:const S=_.getStatus();if(ce(dn,`RPC '${e}' ${d} failed with status:`,S,"response text:",_.getResponseText()),S>0){let K=_.getResponseJson();Array.isArray(K)&&(K=K[0]);const W=K?.error;if(W&&W.status&&W.message){const ie=(function(ye){const Ee=ye.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Ee)>=0?Ee:J.UNKNOWN})(W.status);y(new le(ie,W.message))}else y(new le(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new le(J.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ce(dn,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(l);ce(dn,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",A,r,15)}))}T_(e,i,r){const l=Rm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=QE(),g=$E(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const A=u.join("");ce(dn,`Creating RPC '${e}' stream ${l}: ${A}`,y);const w=d.createWebChannel(A,y);this.I_(w);let S=!1,K=!1;const W=new vI({Yo:ne=>{K?ce(dn,`Not sending because RPC '${e}' stream ${l} is closed:`,ne):(S||(ce(dn,`Opening RPC '${e}' stream ${l} transport.`),w.open(),S=!0),ce(dn,`RPC '${e}' stream ${l} sending:`,ne),w.send(ne))},Zo:()=>w.close()}),ie=(ne,ye,Ee)=>{ne.listen(ye,(Te=>{try{Ee(Te)}catch(Ve){setTimeout((()=>{throw Ve}),0)}}))};return ie(w,Pl.EventType.OPEN,(()=>{K||(ce(dn,`RPC '${e}' stream ${l} transport opened.`),W.o_())})),ie(w,Pl.EventType.CLOSE,(()=>{K||(K=!0,ce(dn,`RPC '${e}' stream ${l} transport closed`),W.a_(),this.E_(w))})),ie(w,Pl.EventType.ERROR,(ne=>{K||(K=!0,xo(dn,`RPC '${e}' stream ${l} transport errored. Name:`,ne.name,"Message:",ne.message),W.a_(new le(J.UNAVAILABLE,"The operation could not be completed")))})),ie(w,Pl.EventType.MESSAGE,(ne=>{if(!K){const ye=ne.data[0];it(!!ye,16349);const Ee=ye,Te=Ee?.error||Ee[0]?.error;if(Te){ce(dn,`RPC '${e}' stream ${l} received error:`,Te);const Ve=Te.status;let Ye=(function(R){const I=Ft[R];if(I!==void 0)return Rb(I)})(Ve),Me=Te.message;Ye===void 0&&(Ye=J.INTERNAL,Me="Unknown error status: "+Ve+" with message "+Te.message),K=!0,W.a_(new le(Ye,Me)),w.close()}else ce(dn,`RPC '${e}' stream ${l} received:`,ye),W.u_(ye)}})),ie(g,FE.STAT_EVENT,(ne=>{ne.stat===gm.PROXY?ce(dn,`RPC '${e}' stream ${l} detected buffering proxy`):ne.stat===gm.NOPROXY&&ce(dn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function nm(){return typeof document<"u"?document:null}function kh(s){return new AC(s,!0)}class Bb{constructor(e,i,r=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&ce("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const xv="PersistentStream";class qb{constructor(e,i,r,l,u,d,g,y){this.Mi=e,this.S_=r,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Bb(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Us(i.toString()),Us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new le(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(xv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ce(xv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bI extends qb{constructor(e,i,r,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=u}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=RC(this.serializer,e),r=(function(u){if(!("targetChange"in u))return we.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?we.min():d.readTime?es(d.readTime):we.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=wm(this.serializer),i.addTarget=(function(u,d){let g;const y=d.target;if(g=Em(y)?{documents:NC(u,y)}:{query:DC(u,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Nb(u,d.resumeToken);const _=Tm(u,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(we.min())>0){g.readTime=yh(u,d.snapshotVersion.toTimestamp());const _=Tm(u,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const r=MC(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=wm(this.serializer),i.removeTarget=e,this.q_(i)}}class TI extends qb{constructor(e,i,r,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=IC(e.writeResults,e.commitTime),r=es(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=wm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>CC(this.serializer,r)))};this.q_(i)}}class SI{}class AI extends SI{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(e,Sm(i,r),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(J.UNKNOWN,u.toString())}))}Ho(e,i,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,Sm(i,r),l,d,g,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new le(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class wI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Us(i),this.aa=!1):ce("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ea="RemoteStore";class xI{constructor(e,i,r,l,u){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Aa(this)&&(ce(Ea,"Restarting streams for network reachability change."),await(async function(y){const _=Ce(y);_.Ea.add(4),await mc(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Lh(_)})(this))}))})),this.Ra=new wI(r,l)}}async function Lh(s){if(Aa(s))for(const e of s.da)await e(!0)}async function mc(s){for(const e of s.da)await e(!1)}function Hb(s,e){const i=Ce(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),hg(i)?ug(i):zo(i).O_()&&cg(i,e))}function lg(s,e){const i=Ce(s),r=zo(i);i.Ia.delete(e),r.O_()&&Gb(i,e),i.Ia.size===0&&(r.O_()?r.L_():Aa(i)&&i.Ra.set("Unknown"))}function cg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}zo(s).Y_(e)}function Gb(s,e){s.Va.Ue(e),zo(s).Z_(e)}function ug(s){s.Va=new EC({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),zo(s).start(),s.Ra.ua()}function hg(s){return Aa(s)&&!zo(s).x_()&&s.Ia.size>0}function Aa(s){return Ce(s).Ea.size===0}function Fb(s){s.Va=void 0}async function RI(s){s.Ra.set("Online")}async function CI(s){s.Ia.forEach(((e,i)=>{cg(s,e)}))}async function II(s,e){Fb(s),hg(s)?(s.Ra.ha(e),ug(s)):s.Ra.set("Unknown")}async function NI(s,e,i){if(s.Ra.set("Online"),e instanceof Ib&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,e)}catch(r){ce(Ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vh(s,r)}else if(e instanceof eh?s.Va.Ze(e):e instanceof Cb?s.Va.st(e):s.Va.tt(e),!i.isEqual(we.min()))try{const r=await zb(s.localStore);i.compareTo(r)>=0&&await(function(u,d){const g=u.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=u.Ia.get(_);A&&u.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const A=u.Ia.get(y);if(!A)return;u.Ia.set(y,A.withResumeToken(un.EMPTY_BYTE_STRING,A.snapshotVersion)),Gb(u,y);const w=new wr(A.target,y,_,A.sequenceNumber);cg(u,w)})),u.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){ce(Ea,"Failed to raise snapshot:",r),await vh(s,r)}}async function vh(s,e,i){if(!Uo(e))throw e;s.Ea.add(1),await mc(s),s.Ra.set("Offline"),i||(i=()=>zb(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ce(Ea,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Lh(s)}))}function $b(s,e){return e().catch((i=>vh(s,i,e)))}async function jh(s){const e=Ce(s),i=kr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Qm;for(;DI(e);)try{const l=await fI(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,OI(e,l)}catch(l){await vh(e,l)}Qb(e)&&Kb(e)}function DI(s){return Aa(s)&&s.Ta.length<10}function OI(s,e){s.Ta.push(e);const i=kr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function Qb(s){return Aa(s)&&!kr(s).x_()&&s.Ta.length>0}function Kb(s){kr(s).start()}async function MI(s){kr(s).ra()}async function VI(s){const e=kr(s);for(const i of s.Ta)e.ea(i.mutations)}async function kI(s,e,i){const r=s.Ta.shift(),l=tg.from(r,e,i);await $b(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await jh(s)}async function LI(s,e){e&&kr(s).X_&&await(async function(r,l){if((function(d){return yC(d)&&d!==J.ABORTED})(l.code)){const u=r.Ta.shift();kr(r).B_(),await $b(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await jh(r)}})(s,e),Qb(s)&&Kb(s)}async function Rv(s,e){const i=Ce(s);i.asyncQueue.verifyOperationInProgress(),ce(Ea,"RemoteStore received new credentials");const r=Aa(i);i.Ea.add(3),await mc(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Lh(i)}async function jI(s,e){const i=Ce(s);e?(i.Ea.delete(2),await Lh(i)):e||(i.Ea.add(2),await mc(i),i.Ra.set("Unknown"))}function zo(s){return s.ma||(s.ma=(function(i,r,l){const u=Ce(i);return u.sa(),new bI(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:RI.bind(null,s),t_:CI.bind(null,s),r_:II.bind(null,s),H_:NI.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),hg(s)?ug(s):s.Ra.set("Unknown")):(await s.ma.stop(),Fb(s))}))),s.ma}function kr(s){return s.fa||(s.fa=(function(i,r,l){const u=Ce(i);return u.sa(),new TI(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:MI.bind(null,s),r_:LI.bind(null,s),ta:VI.bind(null,s),na:kI.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await jh(s)):(await s.fa.stop(),s.Ta.length>0&&(ce(Ea,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class fg{constructor(e,i,r,l,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,u){const d=Date.now()+r,g=new fg(e,i,d,l,u);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dg(s,e){if(Us("AsyncQueue",`${e}: ${s}`),Uo(s))return new le(J.UNAVAILABLE,`${e}: ${s}`);throw s}class To{static emptySet(e){return new To(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||pe.comparator(i.key,r.key):(i,r)=>pe.comparator(i.key,r.key),this.keyedMap=zl(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof To)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new To;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class Cv{constructor(){this.ga=new At(pe.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Do{constructor(e,i,r,l,u,d,g,y,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,l,u){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Do(e,i,To.emptySet(i),d,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class UI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class PI{constructor(){this.queries=Iv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Ce(i),u=l.queries;l.queries=Iv(),u.forEach(((d,g)=>{for(const y of g.Sa)y.onError(r)}))})(this,new le(J.ABORTED,"Firestore shutting down"))}}function Iv(){return new Ta((s=>gb(s)),Nh)}async function zI(s,e){const i=Ce(s);let r=3;const l=e.query;let u=i.queries.get(l);u?!u.ba()&&e.Da()&&(r=2):(u=new UI,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(l,!0);break;case 1:u.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=dg(d,`Initialization of query '${go(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,u),u.Sa.push(e),e.va(i.onlineState),u.wa&&e.Fa(u.wa)&&mg(i)}async function BI(s,e){const i=Ce(s),r=e.query;let l=3;const u=i.queries.get(r);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function qI(s,e){const i=Ce(s);let r=!1;for(const l of e){const u=l.query,d=i.queries.get(u);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&mg(i)}function HI(s,e,i){const r=Ce(s),l=r.queries.get(e);if(l)for(const u of l.Sa)u.onError(i);r.queries.delete(e)}function mg(s){s.Ca.forEach((e=>{e.next()}))}var Cm,Nv;(Nv=Cm||(Cm={})).Ma="default",Nv.Cache="cache";class GI{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new Do(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Do.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cm.Cache}}class Yb{constructor(e){this.key=e}}class Xb{constructor(e){this.key=e}}class FI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=pb(e),this.tu=new To(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new Cv,l=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((A,w)=>{const S=l.get(A),K=Dh(this.query,w)?w:null,W=!!S&&this.mutatedKeys.has(S.key),ie=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let ne=!1;S&&K?S.data.isEqual(K.data)?W!==ie&&(r.track({type:3,doc:K}),ne=!0):this.su(S,K)||(r.track({type:2,doc:K}),ne=!0,(y&&this.eu(K,y)>0||_&&this.eu(K,_)<0)&&(g=!0)):!S&&K?(r.track({type:0,doc:K}),ne=!0):S&&!K&&(r.track({type:1,doc:S}),ne=!0,(y||_)&&(g=!0)),ne&&(K?(d=d.add(K),u=ie?u.add(A):u.delete(A)):(d=d.delete(A),u=u.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),u=u.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:g,mutatedKeys:u}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,w)=>(function(K,W){const ie=ne=>{switch(ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:ne})}};return ie(K)-ie(W)})(A.type,w.type)||this.eu(A.doc,w.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new Do(this.query,e.tu,u,d,e.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Cv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new Xb(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new Yb(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ge();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Do.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gg="SyncEngine";class $I{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class QI{constructor(e){this.key=e,this.hu=!1}}class KI{constructor(e,i,r,l,u,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ta((g=>gb(g)),Nh),this.Iu=new Map,this.Eu=new Set,this.du=new At(pe.comparator),this.Au=new Map,this.Ru=new sg,this.Vu={},this.mu=new Map,this.fu=No.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function YI(s,e,i=!0){const r=nT(s);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await Jb(r,e,i,!0),l}async function XI(s,e){const i=nT(s);await Jb(i,e,!0,!1)}async function Jb(s,e,i,r){const l=await dI(s.localStore,Zi(e)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,i);let g;return r&&(g=await JI(s,e,u,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&Hb(s.remoteStore,l),g}async function JI(s,e,i,r,l){s.pu=(w,S,K)=>(async function(ie,ne,ye,Ee){let Te=ne.view.ru(ye);Te.Cs&&(Te=await Tv(ie.localStore,ne.query,!1).then((({documents:N})=>ne.view.ru(N,Te))));const Ve=Ee&&Ee.targetChanges.get(ne.targetId),Ye=Ee&&Ee.targetMismatches.get(ne.targetId)!=null,Me=ne.view.applyChanges(Te,ie.isPrimaryClient,Ve,Ye);return Ov(ie,ne.targetId,Me.au),Me.snapshot})(s,w,S,K);const u=await Tv(s.localStore,e,!0),d=new FI(e,u.Qs),g=d.ru(u.documents),y=dc.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),_=d.applyChanges(g,s.isPrimaryClient,y);Ov(s,i,_.au);const A=new $I(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function ZI(s,e,i){const r=Ce(s),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((d=>!Nh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await xm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&lg(r.remoteStore,l.targetId),Im(r,l.targetId)})).catch(jo)):(Im(r,l.targetId),await xm(r.localStore,l.targetId,!0))}async function WI(s,e){const i=Ce(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),lg(i.remoteStore,r.targetId))}async function eN(s,e,i){const r=oN(s);try{const l=await(function(d,g){const y=Ce(d),_=yt.now(),A=g.reduce(((K,W)=>K.add(W.key)),Ge());let w,S;return y.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let W=Ps(),ie=Ge();return y.Ns.getEntries(K,A).next((ne=>{W=ne,W.forEach(((ye,Ee)=>{Ee.isValidDocument()||(ie=ie.add(ye))}))})).next((()=>y.localDocuments.getOverlayedDocuments(K,W))).next((ne=>{w=ne;const ye=[];for(const Ee of g){const Te=fC(Ee,w.get(Ee.key).overlayedDocument);Te!=null&&ye.push(new Sa(Ee.key,Te,ob(Te.value.mapValue),Wi.exists(!0)))}return y.mutationQueue.addMutationBatch(K,_,ye,g)})).next((ne=>{S=ne;const ye=ne.applyToLocalDocumentSet(w,ie);return y.documentOverlayCache.saveOverlays(K,ne.batchId,ye)}))})).then((()=>({batchId:S.batchId,changes:_b(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new At(He)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,i),await gc(r,l.changes),await jh(r.remoteStore)}catch(l){const u=dg(l,"Failed to persist write");i.reject(u)}}async function Zb(s,e){const i=Ce(s);try{const r=await uI(i.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=i.Au.get(u);d&&(it(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?it(d.hu,14607):l.removedDocuments.size>0&&(it(d.hu,42227),d.hu=!1))})),await gc(i,r,e)}catch(r){await jo(r)}}function Dv(s,e,i){const r=Ce(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((u,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=Ce(d);y.onlineState=g;let _=!1;y.queries.forEach(((A,w)=>{for(const S of w.Sa)S.va(g)&&(_=!0)})),_&&mg(y)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function tN(s,e,i){const r=Ce(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),u=l&&l.key;if(u){let d=new At(pe.comparator);d=d.insert(u,gn.newNoDocument(u,we.min()));const g=Ge().add(u),y=new Vh(we.min(),new Map,new At(He),d,g);await Zb(r,y),r.du=r.du.remove(u),r.Au.delete(e),pg(r)}else await xm(r.localStore,e,!1).then((()=>Im(r,e,i))).catch(jo)}async function nN(s,e){const i=Ce(s),r=e.batch.batchId;try{const l=await cI(i.localStore,e);eT(i,r,null),Wb(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await gc(i,l)}catch(l){await jo(l)}}async function iN(s,e,i){const r=Ce(s);try{const l=await(function(d,g){const y=Ce(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,g).next((w=>(it(w!==null,37113),A=w.keys(),y.mutationQueue.removeMutationBatch(_,w)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(r.localStore,e);eT(r,e,i),Wb(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await gc(r,l)}catch(l){await jo(l)}}function Wb(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function eT(s,e,i){const r=Ce(s);let l=r.Vu[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(i?u.reject(i):u.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function Im(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||tT(s,r)}))}function tT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(lg(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),pg(s))}function Ov(s,e,i){for(const r of i)r instanceof Yb?(s.Ru.addReference(r.key,e),sN(s,r)):r instanceof Xb?(ce(gg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||tT(s,r.key)):Ae(19791,{wu:r})}function sN(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ce(gg,"New document in limbo: "+i),s.Eu.add(r),pg(s))}function pg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new pe(mt.fromString(e)),r=s.fu.next();s.Au.set(r,new QI(i)),s.du=s.du.insert(i,r),Hb(s.remoteStore,new wr(Zi(Zm(i.path)),r,"TargetPurposeLimboResolution",Rh.ce))}}async function gc(s,e,i){const r=Ce(s),l=[],u=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,y)=>{d.push(r.pu(y,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){l.push(_);const A=ag.As(y.targetId,_);u.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(y,_){const A=Ce(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Z.forEach(_,(S=>Z.forEach(S.Es,(K=>A.persistence.referenceDelegate.addReference(w,S.targetId,K))).next((()=>Z.forEach(S.ds,(K=>A.persistence.referenceDelegate.removeReference(w,S.targetId,K)))))))))}catch(w){if(!Uo(w))throw w;ce(og,"Failed to update sequence numbers: "+w)}for(const w of _){const S=w.targetId;if(!w.fromCache){const K=A.Ms.get(S),W=K.snapshotVersion,ie=K.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(S,ie)}}})(r.localStore,u))}async function rN(s,e){const i=Ce(s);if(!i.currentUser.isEqual(e)){ce(gg,"User change. New user:",e.toKey());const r=await Pb(i.localStore,e);i.currentUser=e,(function(u,d){u.mu.forEach((g=>{g.forEach((y=>{y.reject(new le(J.CANCELLED,d))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gc(i,r.Ls)}}function aN(s,e){const i=Ce(s),r=i.Au.get(e);if(r&&r.hu)return Ge().add(r.key);{let l=Ge();const u=i.Iu.get(e);if(!u)return l;for(const d of u){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function nT(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tN.bind(null,e),e.Pu.H_=qI.bind(null,e.eventManager),e.Pu.yu=HI.bind(null,e.eventManager),e}function oN(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iN.bind(null,e),e}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return lI(this.persistence,new rI,e.initialUser,this.serializer)}Cu(e){return new Ub(rg.mi,this.serializer)}Du(e){return new gI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class lN extends Eh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){it(this.persistence.referenceDelegate instanceof _h,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new GC(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new Ub((r=>_h.mi(r,i)),this.serializer)}}class Nm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Dv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rN.bind(null,this.syncEngine),await jI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new PI})()}createDatastore(e){const i=kh(e.databaseInfo.databaseId),r=(function(u){return new EI(u)})(e.databaseInfo);return(function(u,d,g,y){return new AI(u,d,g,y)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,u,d,g){return new xI(r,l,u,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>Dv(this.syncEngine,i,0)),(function(){return wv.v()?new wv:new pI})())}createSyncEngine(e,i){return(function(l,u,d,g,y,_,A){const w=new KI(l,u,d,g,y,_);return A&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ce(i);ce(Ea,"RemoteStore shutting down."),r.Ea.add(5),await mc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Nm.provider={build:()=>new Nm};class cN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Us("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Lr="FirestoreClient";class uN{constructor(e,i,r,l,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=mn.UNAUTHENTICATED,this.clientId=$m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{ce(Lr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ce(Lr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=dg(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function im(s,e){s.asyncQueue.verifyOperationInProgress(),ce(Lr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await Pb(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Mv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await hN(s);ce(Lr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>Rv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>Rv(e.remoteStore,l))),s._onlineComponents=e}async function hN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ce(Lr,"Using user provided OfflineComponentProvider");try{await im(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;xo("Error using user provided cache. Falling back to memory cache: "+i),await im(s,new Eh)}}else ce(Lr,"Using default OfflineComponentProvider"),await im(s,new lN(void 0));return s._offlineComponents}async function iT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ce(Lr,"Using user provided OnlineComponentProvider"),await Mv(s,s._uninitializedComponentsProvider._online)):(ce(Lr,"Using default OnlineComponentProvider"),await Mv(s,new Nm))),s._onlineComponents}function fN(s){return iT(s).then((e=>e.syncEngine))}async function Vv(s){const e=await iT(s),i=e.eventManager;return i.onListen=YI.bind(null,e.syncEngine),i.onUnlisten=ZI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=XI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=WI.bind(null,e.syncEngine),i}function sT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const kv=new Map;const rT="firestore.googleapis.com",Lv=!0;class jv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rT,this.ssl=Lv}else this.host=e.host,this.ssl=e.ssl??Lv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qC)throw new le(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uh{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new gR;switch(r.type){case"firstParty":return new vR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=kv.get(i);r&&(ce("ComponentProvider","Removing Datastore"),kv.delete(i),r.terminate())})(this),Promise.resolve()}}function dN(s,e,i,r={}){s=bo(s,Uh);const l=Oo(e),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;l&&(Wv(`https://${g}`),eE("Firestore",!0)),u.host!==rT&&u.host!==g&&xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:g,ssl:l,emulatorOptions:r};if(!pa(y,d)&&(s._setSettings(y),r.mockUserToken)){let _,A;if(typeof r.mockUserToken=="string")_=r.mockUserToken,A=mn.MOCK_USER;else{_=yA(r.mockUserToken,s._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new le(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new mn(w)}s._authCredentials=new pR(new YE(_,A))}}class jr{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new jr(this.firestore,e,this._query)}}class Yt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}toJSON(){return{type:Yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(hc(i,Yt._jsonSchema))return new Yt(e,r||null,new pe(mt.fromString(i.referencePath)))}}Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:Qt("string",Yt._jsonSchemaVersion),referencePath:Qt("string")};class Nr extends jr{constructor(e,i,r){super(e,i,Zm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new pe(e))}withConverter(e){return new Nr(this.firestore,e,this._path)}}function Uv(s,e,...i){if(s=Wt(s),XE("collection","path",e),s instanceof Uh){const r=mt.fromString(e,...i);return Y_(r),new Nr(s,null,r)}{if(!(s instanceof Yt||s instanceof Nr))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(mt.fromString(e,...i));return Y_(r),new Nr(s.firestore,null,r)}}function aT(s,e,...i){if(s=Wt(s),arguments.length===1&&(e=$m.newId()),XE("doc","path",e),s instanceof Uh){const r=mt.fromString(e,...i);return K_(r),new Yt(s,null,new pe(r))}{if(!(s instanceof Yt||s instanceof Nr))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(mt.fromString(e,...i));return K_(r),new Yt(s.firestore,s instanceof Nr?s.converter:null,new pe(r))}}const Pv="AsyncQueue";class zv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Bb(this,"async_queue_retry"),this._c=()=>{const r=nm();r&&ce(Pv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=nm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=nm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ma;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Uo(e))throw e;ce(Pv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Us("INTERNAL UNHANDLED ERROR: ",Bv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=fg.createAndSchedule(this,e,i,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Ae(47125,{Pc:Bv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Bv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function qv(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const u of r)if(u in l&&typeof l[u]=="function")return!0;return!1})(s,["next","error","complete"])}class rc extends Uh{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new zv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zv(e),this._firestoreClient=void 0,await e}}}function mN(s,e){const i=typeof s=="object"?s:sE(),r=typeof s=="string"?s:fh,l=Vm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=gA("firestore");u&&dN(l,...u)}return l}function oT(s){if(s._terminated)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||gN(s),s._firestoreClient}function gN(s){const e=s._freezeSettings(),i=(function(l,u,d,g){return new LR(l,u,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,sT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new uN(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class di{constructor(e){this._byteString=e}static fromBase64String(e){try{return new di(un.fromBase64String(e))}catch(i){throw new le(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new di(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:di._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hc(e,di._jsonSchema))return di.fromBase64String(e.bytes)}}di._jsonSchemaVersion="firestore/bytes/1.0",di._jsonSchema={type:Qt("string",di._jsonSchemaVersion),bytes:Qt("string")};class yg{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new le(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _g{constructor(e){this._methodName=e}}class ts{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new le(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new le(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ts._jsonSchemaVersion}}static fromJSON(e){if(hc(e,ts._jsonSchema))return new ts(e.latitude,e.longitude)}}ts._jsonSchemaVersion="firestore/geoPoint/1.0",ts._jsonSchema={type:Qt("string",ts._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};class ns{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ns._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hc(e,ns._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ns(e.vectorValues);throw new le(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ns._jsonSchemaVersion="firestore/vectorValue/1.0",ns._jsonSchema={type:Qt("string",ns._jsonSchemaVersion),vectorValues:Qt("object")};const pN=/^__.*__$/;class yN{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Sa(e,this.data,this.fieldMask,i,this.fieldTransforms):new fc(e,this.data,i,this.fieldTransforms)}}function lT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:s})}}class vg{constructor(e,i,r,l,u,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new vg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(lT(this.Ac)&&pN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _N{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||kh(e)}Cc(e,i,r,l=!1){return new vg({Ac:e,methodName:i,Dc:r,path:cn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cT(s){const e=s._freezeSettings(),i=kh(s._databaseId);return new _N(s._databaseId,!!e.ignoreUndefinedProperties,i)}function vN(s,e,i,r,l,u={}){const d=s.Cc(u.merge||u.mergeFields?2:0,e,i,l);fT("Data must be an object, but it was:",d,r);const g=uT(r,d);let y,_;if(u.merge)y=new Ci(d.fieldMask),_=d.fieldTransforms;else if(u.mergeFields){const A=[];for(const w of u.mergeFields){const S=bN(e,w,i);if(!d.contains(S))throw new le(J.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);SN(A,S)||A.push(S)}y=new Ci(A),_=d.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,_=d.fieldTransforms;return new yN(new fi(g),y,_)}class Eg extends _g{_toFieldTransform(e){return new lC(e.path,new nc)}isEqual(e){return e instanceof Eg}}function EN(s,e,i,r=!1){return bg(i,s.Cc(r?4:3,e))}function bg(s,e){if(hT(s=Wt(s)))return fT("Unsupported field value:",e,s),uT(s,e);if(s instanceof _g)return(function(r,l){if(!lT(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const u=[];let d=0;for(const g of r){let y=bg(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),d++}return{arrayValue:{values:u}}})(s,e)}return(function(r,l){if((r=Wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rC(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=yt.fromDate(r);return{timestampValue:yh(l.serializer,u)}}if(r instanceof yt){const u=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yh(l.serializer,u)}}if(r instanceof ts)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof di)return{bytesValue:Nb(l.serializer,r._byteString)};if(r instanceof Yt){const u=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ig(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof ns)return(function(d,g){return{mapValue:{fields:{[rb]:{stringValue:ab},[dh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Wm(g.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${xh(r)}`)})(s,e)}function uT(s,e){const i={};return WE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ba(s,((r,l)=>{const u=bg(l,e.mc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function hT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof yt||s instanceof ts||s instanceof di||s instanceof Yt||s instanceof _g||s instanceof ns)}function fT(s,e,i){if(!hT(i)||!JE(i)){const r=xh(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function bN(s,e,i){if((e=Wt(e))instanceof yg)return e._internalPath;if(typeof e=="string")return dT(s,e);throw bh("Field path arguments must be of type string or ",s,!1,void 0,i)}const TN=new RegExp("[~\\*/\\[\\]]");function dT(s,e,i){if(e.search(TN)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new yg(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function bh(s,e,i,r,l){const u=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new le(J.INVALID_ARGUMENT,g+s+y)}function SN(s,e){return s.some((i=>i.isEqual(e)))}class mT{constructor(e,i,r,l,u){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Tg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class AN extends mT{data(){return super.data()}}function Tg(s,e){return typeof e=="string"?dT(s,e):e instanceof yg?e._internalPath:e._delegate._internalPath}function wN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new le(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sg{}class Ag extends Sg{}function xN(s,e,...i){let r=[];e instanceof Sg&&r.push(e),r=r.concat(i),(function(u){const d=u.filter((y=>y instanceof xg)).length,g=u.filter((y=>y instanceof wg)).length;if(d>1||d>0&&g>0)throw new le(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class wg extends Ag{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new wg(e,i,r)}_apply(e){const i=this._parse(e);return gT(e._query,i),new jr(e.firestore,e.converter,bm(e._query,i))}_parse(e){const i=cT(e.firestore);return(function(u,d,g,y,_,A,w){let S;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new le(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Gv(w,A);const W=[];for(const ie of w)W.push(Hv(y,u,ie));S={arrayValue:{values:W}}}else S=Hv(y,u,w)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Gv(w,A),S=EN(g,d,w,A==="in"||A==="not-in");return $t.create(_,A,S)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class xg extends Sg{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new xg(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Di.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,u){let d=l;const g=u.getFlattenedFilters();for(const y of g)gT(d,y),d=bm(d,y)})(e._query,i),new jr(e.firestore,e.converter,bm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Rg extends Ag{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Rg(e,i)}_apply(e){const i=(function(l,u,d){if(l.startAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tc(u,d)})(e._query,this._field,this._direction);return new jr(e.firestore,e.converter,(function(l,u){const d=l.explicitOrderBy.concat([u]);return new Po(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function RN(s,e="asc"){const i=e,r=Tg("orderBy",s);return Rg._create(r,i)}class Cg extends Ag{constructor(e,i,r){super(),this.type=e,this._limit=i,this._limitType=r}static _create(e,i,r){return new Cg(e,i,r)}_apply(e){return new jr(e.firestore,e.converter,gh(e._query,this._limit,this._limitType))}}function CN(s){return Cg._create("limit",s,"F")}function Hv(s,e,i){if(typeof(i=Wt(i))=="string"){if(i==="")throw new le(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mb(e)&&i.indexOf("/")!==-1)throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(mt.fromString(i));if(!pe.isDocumentKey(r))throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return iv(s,new pe(r))}if(i instanceof Yt)return iv(s,i._key);throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xh(i)}.`)}function Gv(s,e){if(!Array.isArray(s)||s.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gT(s,e){const i=(function(l,u){for(const d of l)for(const g of d.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class IN{convertValue(e,i="none"){switch(Vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return ba(e,((l,u)=>{r[l]=this.convertValue(u,i)})),r}convertVectorValue(e){const i=e.fields?.[dh].arrayValue?.values?.map((r=>Lt(r.doubleValue)));return new ns(i)}convertGeoPoint(e){return new ts(Lt(e.latitude),Lt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Ih(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const i=Or(e);return new yt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=mt.fromString(e);it(Lb(r),9688,{name:e});const l=new Wl(r.get(1),r.get(3)),u=new pe(r.popFirst(5));return l.isEqual(i)||Us(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}function NN(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class ql{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ga extends mT{constructor(e,i,r,l,u,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Tg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ga._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ga._jsonSchemaVersion="firestore/documentSnapshot/1.0",ga._jsonSchema={type:Qt("string",ga._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class th extends ga{data(e={}){return super.data(e)}}class So{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new ql(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new th(this._firestore,this._userDataWriter,r.key,r,new ql(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new le(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new th(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ql(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const y=new th(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ql(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:DN(g.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=So._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$m.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function DN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:s})}}So._jsonSchemaVersion="firestore/querySnapshot/1.0",So._jsonSchema={type:Qt("string",So._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class pT extends IN{constructor(e){super(),this.firestore=e}convertBytes(e){return new di(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,i)}}function ON(s){return yT(bo(s.firestore,rc),[new eg(s._key,Wi.none())])}function MN(s,e){const i=bo(s.firestore,rc),r=aT(s),l=NN(s.converter,e);return yT(i,[vN(cT(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,Wi.exists(!1))]).then((()=>r))}function VN(s,...e){s=Wt(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||qv(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(qv(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let u,d,g;if(s instanceof Yt)d=bo(s.firestore,rc),g=Zm(s._key.path),u={next:y=>{e[r]&&e[r](kN(d,s,y))},error:e[r+1],complete:e[r+2]};else{const y=bo(s,jr);d=bo(y.firestore,rc),g=y._query;const _=new pT(d);u={next:A=>{e[r]&&e[r](new So(d,_,y,A))},error:e[r+1],complete:e[r+2]},wN(s._query)}return(function(_,A,w,S){const K=new cN(S),W=new GI(A,K,w);return _.asyncQueue.enqueueAndForget((async()=>zI(await Vv(_),W))),()=>{K.Nu(),_.asyncQueue.enqueueAndForget((async()=>BI(await Vv(_),W)))}})(oT(d),g,l,u)}function yT(s,e){return(function(r,l){const u=new ma;return r.asyncQueue.enqueueAndForget((async()=>eN(await fN(r),l,u))),u.promise})(oT(s),e)}function kN(s,e,i){const r=i.docs.get(e._key),l=new pT(s);return new ga(s,l,e._key,r,new ql(i.hasPendingWrites,i.fromCache),e.converter)}function LN(){return new Eg("serverTimestamp")}(function(e,i=!0){(function(l){Lo=l})(Mo),Ao(new ya("firestore",((r,{instanceIdentifier:l,options:u})=>{const d=r.getProvider("app").getImmediate(),g=new rc(new yR(r.getProvider("auth-internal")),new ER(d,r.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new le(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(_.options.projectId,A)})(d,l),d);return u={useFetchStreams:i,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Cr(G_,F_,e),Cr(G_,F_,"esm2020")})();const Fv=(s,e)=>{if(!s||!e)return{revealed:[],wrong:[]};const i=s.trim().split(/\s+/),r=e.trim().split(/\s+/),l=[],u=[];for(let d=0;d<i.length;d++){const g=i[d].toLowerCase().replace(/[.,!?;:"']/g,""),y=r[d]?.toLowerCase().replace(/[.,!?;:"']/g,"");if(g===y)l.push(d);else if(r[d]){u.push({index:d,word:i[d]});break}}return{revealed:l,wrong:u}},jN={apiKey:"AIzaSyBeQemubnB8jBWLiPZob5HiDC4yubuxupI",authDomain:"learn-d8e71.firebaseapp.com",projectId:"learn-d8e71",storageBucket:"learn-d8e71.firebasestorage.app",messagingSenderId:"1098133970936",appId:"1:1098133970936:web:fed75c94fc73c36585000d",measurementId:"G-VH6H0XJKLP"},UN=typeof __firebase_config<"u"?JSON.parse(__firebase_config):jN,_T=iE(UN),Yi=dR(_T),sm=mN(_T),Fu=typeof __app_id<"u"?__app_id:"default-app-id",fo=()=>E.jsx("style",{children:`
    @import url('https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&display=swap');
    body, textarea, input, button { font-family: 'Be Vietnam Pro', sans-serif !important; }
    .diff-anim { animation: fadeIn 0.5s ease-out; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
    .custom-scrollbar::-webkit-scrollbar { width: 6px; }
    .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
    .custom-scrollbar::-webkit-scrollbar-thumb { background-color: rgba(156, 163, 175, 0.5); border-radius: 20px; }
    .score-circle { transition: stroke-dashoffset 1s ease-in-out; transform: rotate(-90deg); transform-origin: 50% 50%; }
    .tooltip-word { position: relative; z-index: 10; }
    .tooltip-word:hover { z-index: 999999; }
    .tooltip-content { z-index: 999999 !important; }
  `}),PN=["Startup cng ngh","Tr tu nhn to","Khoa hc v tr","Cng ngh Blockchain","Du lch bi","m thc ng ph","Li sng ti gin","Sc khe tinh thn","Email cng vic","K nng m phn","Ti chnh c nhn","Lnh o nhm","Review phim","Lch s th gii","Nhip nh ng ph","Bin i kh hu"],rm=(s,e)=>{const i=W=>W.replace(/[']/g,"'"),r=W=>i(W).replace(/([.,!?;:()])/g," $1 ").trim().split(/\s+/),l=W=>W.toLowerCase().replace(/[.,/#!$%^&*;:{}=\-_`~()?"']/g,""),u=r(s),d=r(e),g=u.length,y=d.length,_=Array(g+1).fill().map(()=>Array(y+1).fill(0));for(let W=1;W<=g;W++)for(let ie=1;ie<=y;ie++){const ne=l(u[W-1]),ye=l(d[ie-1]);u[W-1].toLowerCase()===d[ie-1].toLowerCase()||ne!==""&&ne===ye?_[W][ie]=_[W-1][ie-1]+1:_[W][ie]=Math.max(_[W-1][ie],_[W][ie-1])}let A=g,w=y;const S=[];for(;A>0&&w>0;){const W=l(u[A-1]),ie=l(d[w-1]);u[A-1].toLowerCase()===d[w-1].toLowerCase()||W!==""&&W===ie?(S.unshift({type:"same",value:u[A-1]}),A--,w--):_[A-1][w]>_[A][w-1]?(S.unshift({type:"remove",value:u[A-1]}),A--):(S.unshift({type:"add",value:d[w-1]}),w--)}for(;A>0;)S.unshift({type:"remove",value:u[A-1]}),A--;for(;w>0;)S.unshift({type:"add",value:d[w-1]}),w--;const K=[];for(let W=0;W<S.length;W++)S[W].type==="remove"&&S[W+1]?.type==="add"?(K.push({type:"replace",oldVal:S[W].value,newVal:S[W+1].value}),W++):K.push(S[W]);return K},Ig="AIzaSyDqDfB3lsg11GFoIarvbL_B7H1EKkm4aKo",zN=async(s,e)=>{let i="";switch(e){case"short":i="Generate a SHORT story/essay (approx 5-8 sentences). Keep it concise.";break;case"medium":i="Generate a MEDIUM length story/essay (approx 12-15 sentences).";break;case"long":i="Generate a LONG, DETAILED story/essay (more than 20 sentences). Elaborate on details.";break;default:i="Generate a MEDIUM length story/essay (approx 10-15 sentences)."}const r=`
    You are an expert English tutor for Vietnamese students.
    Task: Create a translation lesson based on the topic: "${s}".
    CRITICAL REQUIREMENT: ${i}. Split content into logical sentences.
    Output Format: STRICT JSON ONLY. No markdown.
    JSON Structure: {
      "title": "Short catchy title in Vietnamese",
      "type": "Story/Article/Email/Essay",
      "sentences": [
        {
          "id": 1,
          "vietnamese_full": "Full Vietnamese sentence",
          "segments": [{"text": "VN word", "trans": "EN meaning"}],
          "acceptableAnswers": ["Full English sentence 1", "Full English sentence 2"],
          "grammar_hint": "Explain grammar/usage in Vietnamese",
          "structure": "Formula (S+V+O)",
          "example_en": "English example",
          "example_vi": "Vietnamese example",
          "vocabulary": [{"word": "Word", "meaning": "Meaning"}]
        }
      ]
    }
  `;try{const l=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${Ig}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:r}]}],generationConfig:{responseMimeType:"application/json"}})});if(!l.ok)throw console.error("API Error:",l.status,await l.text()),new Error("API Call Failed");const u=await l.json();return JSON.parse(u.candidates[0].content.parts[0].text)}catch(l){return console.error("AI Generation Error:",l),null}},BN=async(s,e,i)=>{const r=`
        You are a strict translation judge for English learners.
        
        Vietnamese original: "${e}"
        User's English translation: "${s}"
        Correct answers: ${i.join(" OR ")}
        
        STRICT RULES:
        1. Check spelling FIRST - if there are obvious typos (like "daiy" instead of "daily"), mark as INCORRECT
        2. Only accept minor typos like: "teh""the" (adjacent keys), "recieve""receive" (common mistakes)
        3. Do NOT accept: completely wrong letters, missing letters that change meaning
        4. Check grammar - subject-verb agreement, tense, articles
        5. Check meaning accuracy - must convey the SAME meaning as Vietnamese
        
        Scoring logic:
        - If spelling errors are obvious/multiple: isCorrect = false
        - If meaning is wrong: isCorrect = false
        - If grammar is severely wrong: isCorrect = false
        - Only mark as correct if both meaning AND form are acceptable
        
        In feedback (Vietnamese):
        - List ALL errors specifically: "Li chnh t: 'daiy' phi l 'daily', 'toughts' phi l 'thoughts'"
        - Mention grammar errors if any
        - Explain meaning differences if wrong
        
        Return JSON ONLY: { "isCorrect": boolean, "feedback": "detailed Vietnamese explanation" }
    `;try{const u=await(await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${Ig}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:r}]}],generationConfig:{responseMimeType:"application/json"}})})).json();return JSON.parse(u.candidates[0].content.parts[0].text)}catch(l){return console.error("API Error:",l),{isCorrect:null,feedback:"Li kt ni API. Vui lng th li.",apiError:!0}}},qN=async(s,e)=>{let i="";switch(e){case"short":i="Generate 5-8 sentences for dictation practice.";break;case"medium":i="Generate 12-15 sentences for dictation practice.";break;case"long":i="Generate 20-25 sentences for dictation practice.";break;default:i="Generate 10-15 sentences for dictation practice."}const r=`
You are an English dictation teacher for Vietnamese students.
Topic: "${s}"
Task: Create an English dictation exercise. ${i}

Requirements:
- All sentences in ENGLISH only
- Natural, conversational English
- Varied difficulty (mix of easy/medium/hard)
- Clear, complete sentences
- Contextually connected to the topic

Output JSON ONLY:
{
  "title": "Catchy title in Vietnamese (VD: 'Nghe Chnh T: Cuc Sng Trn Sao Ha')",
  "type": "Dictation",
  "learningMode": "listen",
  "sentences": [
    {
      "id": 1,
      "english": "The full English sentence to dictate",
      "hint": "Optional Vietnamese hint about context",
      "difficulty": "easy|medium|hard"
    }
  ]
}
  `;try{const l=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${Ig}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:r}]}],generationConfig:{responseMimeType:"application/json"}})});if(!l.ok)throw console.error("API Error:",l.status,await l.text()),new Error("API Call Failed");const u=await l.json();return JSON.parse(u.candidates[0].content.parts[0].text)}catch(l){return console.error("AI Generation Error:",l),null}},am=()=>[...PN].sort(()=>.5-Math.random()).slice(0,4);function HN(){const[s,e]=ve.useState(null),[i,r]=ve.useState(!0),[l,u]=ve.useState("login"),[d,g]=ve.useState(""),[y,_]=ve.useState("medium"),[A,w]=ve.useState("write"),[S,K]=ve.useState(!0),[W,ie]=ve.useState(()=>am()),[ne,ye]=ve.useState([]),[Ee,Te]=ve.useState("all"),[Ve,Ye]=ve.useState("login"),[Me,N]=ve.useState(""),[R,I]=ve.useState(""),[V,D]=ve.useState(""),[L,x]=ve.useState(""),[ft,Tt]=ve.useState(!1),[$,re]=ve.useState(!1),[ee,Fe]=ve.useState(null),[he,M]=ve.useState(0),[F,ae]=ve.useState(""),[te,de]=ve.useState("idle"),[xe,Ie]=ve.useState(null),[St,Pe]=ve.useState(""),[Mi,Sn]=ve.useState(null),[os,gi]=ve.useState(!1),[kn,ls]=ve.useState(!1),[en,Vi]=ve.useState([]),[cs,_t]=ve.useState([]),[Dt,Ln]=ve.useState(!1),[jt,Bs]=ve.useState(null),[Ut,us]=ve.useState({mistakes:0,hints:0,fullAnswers:0}),[ki,hs]=ve.useState({visible:!1,x:0,y:0,itemId:null}),[Li,wa]=ve.useState(!1),[Yn,pi]=ve.useState(!1),[Ur,jn]=ve.useState(1),[dt,hn]=ve.useState("none"),[wt,Pr]=ve.useState([]),[zr,qs]=ve.useState([]),xt=ve.useRef({mistakes:0,hints:0,fullAnswers:0}),An=ve.useRef({hintUsed:!1,fullUsed:!1}),vt=ve.useRef(null),Un=ve.useRef(null),Xn=ve.useRef(null);ve.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token&&await Qx(Yi,__initial_auth_token),r(!1)})();const oe=n2(Yi,me=>{e(me),me&&me.email&&me.emailVerified||me&&me.isAnonymous?u("home"):me&&me.email&&!me.emailVerified||u("login")});return()=>oe()},[]),ve.useEffect(()=>{if(s){console.log(" Setting up history listener for user:",s.uid);const q=xN(Uv(sm,"artifacts",Fu,"users",s.uid,"history"),RN("timestamp","desc"),CN(20)),oe=VN(q,me=>{const _e=me.docs.map(ke=>({id:ke.id,...ke.data()}));console.log(" History updated:",_e.length,"items"),ye(_e)},me=>{console.error(" Error fetching history:",me)});return()=>oe()}else console.log(" No user, clearing history data"),ye([])},[s]),ve.useEffect(()=>{l==="learning"&&(Un.current?.scrollIntoView({behavior:"smooth"}),vt.current&&te!=="correct"&&te!=="checking"&&vt.current.focus())},[te,os,kn,he,l]);const Pn=async q=>{q.preventDefault(),x("");try{const oe=await Xx(Yi,Me,R);if(oe.user&&!oe.user.emailVerified){await Jd(Yi),x("Email cha c xc thc. Vui lng kim tra hp th.");return}}catch(oe){oe.code==="auth/invalid-credential"||oe.code==="auth/user-not-found"||oe.code==="auth/wrong-password"?x("Email hoc mt khu khng chnh xc."):x("ng nhp tht bi. Vui lng th li.")}},Bo=async q=>{if(q.preventDefault(),x(""),re(!1),!V){x("Vui lng nhp tn hin th");return}try{const oe=await Yx(Yi,Me,R);await Wx(oe.user,{displayName:V}),await Jx(oe.user),re(!0),await Jd(Yi),Ye("login")}catch(oe){console.error(oe),oe.code==="auth/email-already-in-use"?x("Email ny  c s dng. Vui lng ng nhp."):oe.code==="auth/weak-password"?x("Mt khu qu yu."):x("ng k tht bi. Vui lng th li.")}},xa=async q=>{if(q.preventDefault(),x(""),Tt(!1),!Me){x("Vui lng nhp email.");return}try{await Kx(Yi,Me),Tt(!0),x("")}catch{x("Li gi email. Vui lng th li sau.")}},Jn=async()=>{x("");try{const q=new Ms;await T2(Yi,q)}catch(q){x("ng nhp Google tht bi."),console.error(q)}},fs=async()=>{x("");try{await qx(Yi),u("home")}catch{x("Li ng nhp khch.")}},qo=async()=>{await Jd(Yi),u("login"),N(""),I(""),D(""),Ye("login"),re(!1)},ds=async q=>{if(q.preventDefault(),!d.trim())return;u("generating"),xt.current={mistakes:0,hints:0,fullAnswers:0},An.current={hintUsed:!1,fullUsed:!1};const oe=A==="listen"?await qN(d,y):await zN(d,y);oe?.sentences?.length>0?(Fe(oe),M(0),Vi(new Array(oe.sentences.length).fill(!1)),_t(Array.from({length:oe.sentences.length},()=>[])),ae(""),de("idle"),Ie(null),Pe(""),Sn(null),gi(!1),ls(!1),Ln(!1),u("learning")):u("error")},Hs=(q=null)=>{const oe=ee?.sentences?.length||1,me=en.filter(Boolean).length,_e=q||xt.current,ke=me/oe*100,Ot=_e.mistakes*3+_e.fullAnswers*10;return Math.max(0,Math.round(ke-Ot))},Br=async()=>{if(console.log(" handleSaveResult called"),console.log("  - User:",s?`${s.uid} (${s.email||"anonymous"})`:"NULL"),console.log("  - Course:",ee?ee.title:"NULL"),!s||!ee){console.warn(" Cannot save history - User:",!!s,"Course:",!!ee);return}wa(!0);const q=Hs(),oe=en.filter(Boolean).length,me=en.length-oe,_e={topic:ee.title,score:q,totalSentences:ee.sentences.length,completedCorrectly:oe,failedSentences:me,timestamp:LN(),mistakes:xt.current.mistakes,hints:xt.current.hints,fullAnswers:xt.current.fullAnswers,level:y,courseData:ee,completedStatus:en,sentenceErrors:cs.reduce((ke,Ot,at)=>(Ot&&Ot.length>0&&(ke[at]=Ot),ke),{})};console.log(" Saving history doc:",{topic:_e.topic,score:_e.score,totalSentences:_e.totalSentences,path:`artifacts/${Fu}/users/${s.uid}/history`});try{const ke=await MN(Uv(sm,"artifacts",Fu,"users",s.uid,"history"),_e);console.log(" History saved successfully with ID:",ke.id),console.log("   Path:",ke.path)}catch(ke){console.error(" Error saving history:",ke),console.error("   Error code:",ke.code),console.error("   Error message:",ke.message)}finally{wa(!1)}},ji=async q=>{if(q.preventDefault(),!F.trim())return;const oe=ee.sentences[he];if(ee.learningMode==="listen"){const Le=oe.english,zt=Xe=>Xe.trim().toLowerCase().replace(/[.,!?;:"'`]/g,"").replace(/\s+/g," ");if(zt(F)===zt(Le)){de("correct");const Xe=[...en];Xe[he]=!0,Vi(Xe),Pe("Chnh xc!");const nt=rm(F,Le);Ie(nt),Sn(Le)}else{de("incorrect"),xt.current.mistakes+=1;const Xe=rm(F,Le);Ie(Xe),Sn(null),Pe("Cha chnh xc. Kim tra li!");const{revealed:nt,wrong:xn}=Fv(F,Le),yi=Le.trim().split(/\s+/),We=xn.map(Ui=>({index:Ui.index,word:yi[Ui.index]}));qs(We);let _i="Cha chnh xc. Kim tra li!";dt==="one"&&nt.length<yi.length?_i+=` Gi  t tip theo: "${yi[nt.length]}"`:dt==="all"&&(_i+=` Gi  ton b: "${Le}"`),Pe(_i);const vn=[...cs];vn[he]||(vn[he]=[]),vn[he].push({userAnswer:F,correctAnswer:Le,feedback:"Sai chnh t",timestamp:new Date().toISOString()}),_t(vn)}return}de("checking");const me=oe.segments.map(Le=>Le.text).join(""),_e=await BN(F,me,oe.acceptableAnswers);let ke=null,Ot=1/0,at=null;if(oe.acceptableAnswers.forEach(Le=>{const zt=rm(F,Le),tn=zt.reduce((Xe,nt)=>{if(nt.type==="same")return Xe;const xn=yi=>yi.replace(/[.,/#!$%^&*;:{}=\-_`~()?"']/g,"");return nt.type==="replace"&&xn(nt.oldVal)===""&&xn(nt.newVal)===""||nt.type!=="replace"&&xn(nt.value)===""?Xe:Xe+1},0);tn<Ot&&(Ot=tn,ke=Le,at=zt)}),_e.apiError){de("idle"),Pe(_e.feedback||"Li kt ni API. Vui lng th li.");return}if(_e.isCorrect){de("correct");const Le=[...en];Le[he]=!0,Vi(Le),Ie(at),Sn(ke),_e.feedback&&_e.feedback.trim()?Pe(_e.feedback):Pe(Ot===0?"Chnh xc tuyt i!":"Chnh xc!")}else{de("incorrect"),Ie(at),Sn(null),Pe(typeof _e.feedback=="string"?_e.feedback:"Cu tr li cha chnh xc."),xt.current.mistakes+=1;const Le=[...cs];Le[he]||(Le[he]=[]),Le[he].push({userAnswer:F,correctAnswer:ke,feedback:typeof _e.feedback=="string"?_e.feedback:"Cha chnh xc.",timestamp:new Date().toISOString()}),_t(Le)}},Zn=async()=>{await Br(),us({...xt.current}),u("summary")},qr=()=>{he<ee.sentences.length-1?(M(q=>q+1),ae(""),de("idle"),Ie(null),Pe(""),Sn(null),gi(!1),ls(!1),An.current={hintUsed:!1,fullUsed:!1},hn("none"),Pr([]),qs([])):Zn()},zn=()=>Ln(!0),Bn=()=>{Ln(!1),Zn()},Rt=()=>Ln(!1),Pt=()=>{const q=[...en];q[he]=!1,Vi(q),xt.current.mistakes+=1,qr()},Wn=(q,oe)=>{q.preventDefault(),hs({visible:!0,x:q.clientX,y:q.clientY,itemId:oe})},Gs=async q=>{if(!(!s||!q))try{await ON(aT(sm,"artifacts",Fu,"users",s.uid,"history",q)),hs({visible:!1,x:0,y:0,itemId:null})}catch(oe){console.error("Li xa lch s:",oe)}},Ho=()=>hs({visible:!1,x:0,y:0,itemId:null}),Ra=()=>{gi(!0),An.current.hintUsed||(xt.current.hints+=1,An.current.hintUsed=!0)},Ca=()=>{ls(!0),An.current.fullUsed||(xt.current.fullAnswers+=1,An.current.fullUsed=!0)},yn=()=>K(!S),ms=()=>{if(!ee||A!=="listen")return;const oe=ee.sentences[he].english;if(Yn){window.speechSynthesis.cancel(),pi(!1);return}const me=new SpeechSynthesisUtterance(oe);me.lang="en-US",me.rate=Ur*.9,me.onstart=()=>pi(!0),me.onend=()=>pi(!1),me.onerror=()=>pi(!1),window.speechSynthesis.speak(me)},ei=()=>{window.speechSynthesis.cancel(),pi(!1),setTimeout(()=>ms(),100)},wn=q=>{jn(q),Yn&&(window.speechSynthesis.cancel(),pi(!1))},_n=()=>{u("home"),g(""),de("idle"),Ie(null),Pe(""),Sn(null),ie(am())},U={bg:S?"bg-slate-900":"bg-gray-50",text:S?"text-slate-200":"text-slate-700",cardBg:S?"bg-slate-800":"bg-white",cardBorder:S?"border-slate-700":"border-gray-300",secondaryText:S?"text-slate-400":"text-slate-600",inputBg:S?"bg-slate-900":"bg-gray-50",inputBorder:S?"border-slate-700":"border-gray-300",inputText:S?"text-slate-200":"text-gray-900",highlightBg:S?"bg-indigo-900/50":"bg-indigo-100",highlightText:S?"text-indigo-200":"text-indigo-950",successBg:S?"bg-green-900/30":"bg-green-50",successText:S?"text-green-300":"text-green-800",errorBg:S?"bg-red-900/30":"bg-red-50",errorText:S?"text-red-300":"text-red-800"},Ct=()=>xe?E.jsx("span",{className:"leading-relaxed break-words",children:xe.map((q,oe)=>{if(q.type==="same")return E.jsx("span",{className:"text-green-500 dark:text-green-400 mr-1.5",children:q.value},oe);if(q.type==="replace"){const me=te==="correct"?"text-yellow-500 dark:text-yellow-400 mr-1.5 underline decoration-dotted":"text-red-400 dark:text-red-400 line-through decoration-red-500/50 decoration-2 cursor-help mr-1.5";return E.jsxs("span",{className:`relative group inline-block ${me}`,children:[q.oldVal,te!=="correct"&&E.jsxs("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-1.5 bg-slate-900 border border-slate-700 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50 shadow-xl pointer-events-none transform -translate-y-1 group-hover:translate-y-0 duration-200",children:["Sa thnh: ",E.jsx("span",{className:"font-bold text-green-400",children:q.newVal}),E.jsx("span",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-slate-900"})]})]},oe)}else{if(q.type==="remove")return te==="correct"?null:E.jsx("span",{className:"text-red-400 dark:text-red-400 line-through mr-1.5 decoration-2 opacity-80",children:q.value},oe);if(q.type==="add")return te==="correct"?null:E.jsx("span",{className:"inline-block w-5 h-5 border-b-2 border-dashed border-amber-500 mr-1.5 relative group align-middle",children:E.jsxs("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-1.5 bg-amber-900 border border-amber-700 text-amber-100 text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50 shadow-xl",children:["Thiu: ",q.value]})},oe)}return null})}):F;if(i)return E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 text-white",children:E.jsx(LS,{className:"w-8 h-8 animate-spin"})});if(l==="login")return E.jsxs("div",{className:`min-h-screen ${U.bg} flex flex-col items-center justify-center p-4 ${U.text} font-sans`,children:[E.jsx(fo,{}),E.jsx("button",{onClick:yn,className:`absolute top-4 right-4 p-2.5 rounded-full ${S?U.cardBg+" text-yellow-400 border "+U.cardBorder:"bg-gradient-to-br from-orange-50 to-amber-50 hover:from-orange-100 hover:to-amber-100 text-orange-600 border border-orange-200"}`,children:S?E.jsx(Lu,{className:"w-5 h-5"}):E.jsx(Uu,{className:"w-5 h-5"})}),E.jsxs("div",{className:`max-w-md w-full ${U.cardBg} p-8 rounded-3xl shadow-2xl border ${U.cardBorder}`,children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("div",{className:"w-20 h-20 bg-indigo-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-indigo-500/30",children:E.jsx(ju,{className:"w-10 h-10 text-white"})}),E.jsx("h1",{className:`text-3xl font-bold mb-2 ${U.text}`,children:"AI English Tutor"}),E.jsx("p",{className:U.secondaryText,children:"ng nhp  lu qu trnh hc tp"})]}),$&&E.jsxs("div",{className:"mb-6 p-4 bg-green-500/20 border border-green-500/50 rounded-xl text-green-400 text-sm flex items-center gap-2 animate-in fade-in slide-in-from-top-2",children:[E.jsx(zd,{className:"w-5 h-5 flex-shrink-0"}),E.jsx("span",{children:"Link xc thc  gi! Vui lng kim tra email."})]}),Ve!=="forgot"&&E.jsxs("div",{className:`flex ${S?"bg-slate-700":"bg-gradient-to-r from-indigo-100/50 to-purple-100/50"} rounded-lg p-1 mb-6`,children:[E.jsx("button",{onClick:()=>{Ye("login"),x("")},className:`flex-1 py-2.5 rounded-md text-sm font-bold transition-all ${Ve==="login"?S?"bg-slate-600 text-white shadow-md":"bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-md":S?"text-slate-400 hover:text-white":"!bg-white text-indigo-600 hover:text-indigo-800"}`,children:"ng nhp"}),E.jsx("button",{onClick:()=>{Ye("register"),x("")},className:`flex-1 py-2.5 rounded-md text-sm font-bold transition-all ${Ve==="register"?S?"bg-slate-600 text-white shadow-md":"bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-md":S?"text-slate-400 hover:text-white":"!bg-white !text-indigo-600 hover:!text-indigo-800"}`,children:"ng k"})]}),Ve==="forgot"?E.jsxs("form",{onSubmit:xa,className:"space-y-4 animate-in fade-in",children:[E.jsxs("div",{className:"text-left",children:[E.jsx("label",{className:`text-xs font-bold ${S?"text-slate-500":"text-slate-600"} uppercase ml-1`,children:"Email ng k"}),E.jsxs("div",{className:"relative",children:[E.jsx(c_,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 ${S?"text-slate-500":"text-slate-400"}`}),E.jsx("input",{type:"email",value:Me,onChange:q=>N(q.target.value),placeholder:"name@example.com",className:`w-full p-4 pl-12 rounded-xl ${S?"bg-slate-900 border-slate-700 text-white":"bg-slate-100 border-slate-300 text-slate-900"} border focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none mt-1`,required:!0})]})]}),ft?E.jsxs("div",{className:"p-3 bg-green-500/20 border border-green-500/50 rounded-xl text-green-400 text-sm flex items-center gap-2",children:[E.jsx(zd,{className:"w-4 h-4"}),"  gi link khi phc!"]}):L&&E.jsx("p",{className:"text-red-500 text-sm bg-red-500/10 p-2 rounded border border-red-500/20",children:L}),E.jsxs("button",{type:"submit",className:`w-full ${S?"bg-indigo-600 hover:bg-indigo-500":"bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700"} text-white font-bold py-4 rounded-xl transition-all shadow-lg active:scale-95 flex items-center justify-center gap-2`,children:[E.jsx(MS,{className:"w-5 h-5"})," Gi link khi phc"]}),E.jsx("button",{type:"button",onClick:()=>{Ye("login"),x(""),Tt(!1)},className:`w-full ${S?"text-slate-400 hover:text-white":"text-indigo-600 hover:text-indigo-800"} text-sm underline mt-2 font-semibold`,children:"Quay li ng nhp"})]}):E.jsxs("form",{onSubmit:Ve==="login"?Pn:Bo,className:"space-y-4 animate-in fade-in",children:[Ve==="register"&&E.jsxs("div",{className:"text-left",children:[E.jsx("label",{className:`text-xs font-bold ${S?"text-slate-500":"text-slate-600"} uppercase ml-1`,children:"Tn hin th"}),E.jsx("input",{type:"text",value:V,onChange:q=>D(q.target.value),placeholder:"VD: Minh T",className:`w-full p-4 rounded-xl ${S?"bg-slate-900 border-slate-700 text-white":"bg-slate-100 border-slate-300 text-slate-900"} border focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none mt-1`,required:!0})]}),E.jsxs("div",{className:"text-left",children:[E.jsx("label",{className:`text-xs font-bold ${S?"text-slate-500":"text-slate-600"} uppercase ml-1`,children:"Email"}),E.jsxs("div",{className:"relative",children:[E.jsx(c_,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 ${S?"text-slate-500":"text-slate-400"}`}),E.jsx("input",{type:"email",value:Me,onChange:q=>N(q.target.value),placeholder:"name@example.com",className:`w-full p-4 pl-12 rounded-xl ${S?"bg-slate-900 border-slate-700 text-white":"bg-slate-100 border-slate-300 text-slate-900"} border focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none mt-1`,required:!0})]})]}),E.jsxs("div",{className:"text-left",children:[E.jsx("label",{className:`text-xs font-bold ${S?"text-slate-500":"text-slate-600"} uppercase ml-1`,children:"Mt khu"}),E.jsxs("div",{className:"relative",children:[E.jsx(US,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 ${S?"text-slate-500":"text-slate-400"}`}),E.jsx("input",{type:"password",value:R,onChange:q=>I(q.target.value),placeholder:"",className:`w-full p-4 pl-12 rounded-xl ${S?"bg-slate-900 border-slate-700 text-white":"bg-slate-100 border-slate-300 text-slate-900"} border focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none mt-1`,required:!0})]})]}),L&&E.jsx("p",{className:"text-red-500 text-sm bg-red-500/10 p-2 rounded border border-red-500/20",children:L}),Ve==="login"&&E.jsx("div",{className:"text-right",children:E.jsx("button",{type:"button",onClick:()=>{Ye("forgot"),x("")},className:`text-xs font-bold px-3 py-1.5 rounded-lg transition-all ${S?"text-indigo-400 hover:text-indigo-300":"bg-gradient-to-br from-indigo-50 to-purple-50 hover:from-indigo-100 hover:to-purple-100 text-indigo-700 border border-indigo-200"}`,children:"Qun mt khu?"})}),E.jsx("button",{type:"submit",className:`w-full ${S?"bg-indigo-600 hover:bg-indigo-700":"bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700"} text-white font-bold py-4 rounded-xl transition-all shadow-lg active:scale-95`,children:Ve==="login"?"ng nhp":"ng k ti khon"})]}),Ve!=="forgot"&&E.jsxs("div",{className:"mt-6 flex flex-col gap-3 animate-in fade-in",children:[E.jsxs("button",{onClick:Jn,className:"w-full bg-gradient-to-r from-blue-500 to-red-500 hover:from-blue-600 hover:to-red-600 text-white font-bold py-3 rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg",children:[E.jsx("span",{className:"text-lg font-bold",children:"G"})," Tip tc vi Google"]}),E.jsx("button",{onClick:fs,className:`w-full py-3 rounded-xl font-bold transition-all ${S?"bg-slate-700 text-slate-300 hover:bg-slate-600 hover:text-white border border-slate-600":"bg-gradient-to-br from-slate-50 to-gray-50 hover:from-slate-100 hover:to-gray-100 text-slate-700 border border-slate-300 hover:border-slate-400"}`,children:"Dng th khng cn ti khon"})]})]})]});if(l==="history")return E.jsxs("div",{className:`min-h-screen ${U.bg} p-4 transition-colors duration-300 font-sans`,onClick:Ho,children:[E.jsx(fo,{}),E.jsxs("header",{className:"max-w-4xl mx-auto flex items-center justify-between mb-8 pt-4",children:[E.jsxs("button",{onClick:()=>u("home"),className:`flex items-center gap-2 ${S?U.secondaryText+" hover:"+U.text:"text-indigo-600 hover:text-indigo-700"} font-medium transition-colors`,children:[E.jsx(Vu,{className:"w-5 h-5 rotate-180"})," Quay li"]}),E.jsxs("div",{className:"text-center",children:[E.jsx("h1",{className:`text-xl font-bold ${U.text}`,children:"Lch s hc tp"}),s&&E.jsxs("p",{className:"text-xs text-indigo-500 font-medium mt-1",children:[ne.length," bi hc"]})]}),E.jsx("button",{onClick:yn,className:`p-2 rounded-full ${S?U.cardBg+" text-yellow-400 border "+U.cardBorder:"bg-gradient-to-br from-orange-50 to-amber-50 hover:from-orange-100 hover:to-amber-100 text-orange-600 border border-orange-200"}`,children:S?E.jsx(Lu,{className:"w-5 h-5"}):E.jsx(Uu,{className:"w-5 h-5"})})]}),s&&ne.length>0&&E.jsx("div",{className:"max-w-4xl mx-auto flex justify-center gap-2 mb-6",children:[{id:"all",label:"Tt c",icon:null},{id:"write",label:"Dch vn",icon:E.jsx(qd,{className:"w-4 h-4"})},{id:"listen",label:"Nghe",icon:E.jsx(ku,{className:"w-4 h-4"})}].map(q=>E.jsxs("button",{onClick:()=>Te(q.id),className:`flex items-center gap-2 px-4 py-2 rounded-xl font-bold text-sm transition-all ${Ee===q.id?S?"bg-indigo-600 text-white shadow-lg":"bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-lg":S?`${U.bg} ${U.secondaryText} border border-slate-700 hover:border-indigo-500`:"bg-white text-slate-700 border border-slate-300 hover:border-indigo-400"}`,children:[q.icon," ",q.label]},q.id))}),E.jsx("div",{className:"max-w-4xl mx-auto space-y-4 pb-10",children:s?ne.filter(q=>Ee==="all"||q.courseData&&q.courseData.learningMode===Ee||!q.courseData?.learningMode&&Ee==="write").length===0?E.jsxs("div",{className:`text-center py-20 ${U.secondaryText}`,children:[E.jsx("p",{className:"mb-2",children:"Khng c bi hc no."}),E.jsx("p",{className:"text-xs opacity-70",children:"Hon thnh mt bi hc  xem lch s ti y"})]}):ne.filter(q=>Ee==="all"||q.courseData&&q.courseData.learningMode===Ee||!q.courseData?.learningMode&&Ee==="write").map(q=>E.jsxs("div",{onClick:()=>Bs(q),onContextMenu:oe=>Wn(oe,q.id),className:`${U.cardBg} p-5 rounded-2xl border ${U.cardBorder} flex items-center justify-between hover:scale-[1.01] transition-transform cursor-pointer group`,children:[E.jsxs("div",{className:"flex-1",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[E.jsx("h3",{className:`font-bold ${U.text} text-lg group-hover:text-indigo-500 transition-colors`,children:q.topic}),E.jsxs("span",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-bold ${q.courseData?.learningMode==="listen"?"bg-purple-500/20 text-purple-500 border border-purple-500/30":"bg-blue-500/20 text-blue-500 border border-blue-500/30"}`,children:[q.courseData?.learningMode==="listen"?E.jsx(ku,{className:"w-3 h-3"}):E.jsx(qd,{className:"w-3 h-3"}),q.courseData?.learningMode==="listen"?"Nghe":"Dch"]})]}),E.jsxs("div",{className:`flex items-center gap-4 text-xs ${U.secondaryText}`,children:[E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx(vS,{className:"w-3 h-3"})," ",q.timestamp&&typeof q.timestamp.toDate=="function"?q.timestamp.toDate().toLocaleDateString("vi-VN"):"Va xong"]}),E.jsx("span",{className:"flex items-center gap-1 bg-indigo-500/10 text-indigo-500 px-2 py-0.5 rounded uppercase font-bold",children:q.level||"medium"})]})]}),E.jsxs("div",{className:"flex items-center gap-6",children:[E.jsxs("div",{className:"text-right hidden sm:block",children:[E.jsx("div",{className:`text-sm ${U.secondaryText}`,children:"im s"}),E.jsx("div",{className:`font-bold text-lg ${q.score>=80?"text-green-500":q.score>=50?"text-yellow-500":"text-red-500"}`,children:Math.round(q.score)})]}),E.jsx(bS,{className:`w-5 h-5 ${U.secondaryText}`})]})]},q.id)):E.jsxs("div",{className:`text-center py-20 ${U.secondaryText}`,children:[E.jsx("p",{className:"mb-4",children:"Vui lng ng nhp  xem lch s"}),E.jsx("button",{onClick:()=>u("login"),className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-xl shadow-lg transition-all active:scale-95",children:"ng nhp"})]})}),ki.visible&&E.jsx("div",{className:`fixed z-50 ${U.cardBg} border-2 ${U.cardBorder} rounded-xl shadow-2xl overflow-hidden`,style:{top:ki.y,left:ki.x},onClick:q=>q.stopPropagation(),children:E.jsxs("button",{onClick:()=>Gs(ki.itemId),className:"px-5 py-3 text-red-500 hover:bg-red-500/10 flex items-center gap-3 text-sm font-bold whitespace-nowrap",children:[E.jsx(Gd,{className:"w-4 h-4"}),"Xa bi hc ny"]})}),jt&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4 animate-in fade-in backdrop-blur-sm",onClick:()=>Bs(null),children:E.jsxs("div",{className:`${U.cardBg} w-full max-w-3xl max-h-[85vh] rounded-3xl shadow-2xl overflow-hidden flex flex-col`,onClick:q=>q.stopPropagation(),children:[E.jsxs("div",{className:`p-6 border-b ${U.cardBorder} flex justify-between items-center bg-indigo-600`,children:[E.jsx("h2",{className:"text-xl font-bold text-white truncate pr-4",children:jt.topic}),E.jsx("button",{onClick:()=>Bs(null),className:"text-white/80 hover:text-white",children:E.jsx(Gd,{className:"w-6 h-6"})})]}),E.jsx("div",{className:`flex-1 overflow-y-auto p-6 ${U.bg} custom-scrollbar`,children:jt.courseData&&jt.courseData.sentences?E.jsx("div",{className:"space-y-4",children:jt.courseData.sentences.map((q,oe)=>{const me=jt.completedStatus&&jt.completedStatus[oe],_e=jt.sentenceErrors&&jt.sentenceErrors[oe],ke=_e&&Array.isArray(_e)?_e.length:_e?1:0,Ot=me||ke>0,at=me?"correct":Ot?"incorrect":"skipped";return E.jsx("div",{className:`${U.cardBg} p-4 rounded-xl border-2 transition-all ${at==="correct"?"border-green-500/50":at==="incorrect"?"border-red-500/50":"border-gray-500/50"}`,children:E.jsxs("div",{className:"flex gap-3",children:[E.jsx("span",{className:`flex-shrink-0 w-7 h-7 rounded-full flex items-center justify-center text-sm font-bold ${at==="correct"?"bg-green-500 text-white":at==="incorrect"?"bg-red-500 text-white":"bg-gray-500 text-white"}`,children:at==="correct"?"":at==="incorrect"?"":""}),E.jsxs("div",{className:"flex-1",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[E.jsxs("span",{className:"text-xs font-bold text-indigo-400",children:["Cu ",oe+1]}),E.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-bold ${at==="correct"?"bg-green-500/20 text-green-500":at==="incorrect"?"bg-red-500/20 text-red-500":"bg-gray-500/20 text-gray-500"}`,children:at==="correct"?"ng":at==="incorrect"?"Sai":"Cha lm"}),ke>0&&E.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-orange-500/20 text-orange-500 font-bold",children:[ke," ln sai"]})]}),E.jsx("p",{className:`font-medium ${U.text} mb-2 text-base`,children:jt.courseData.learningMode==="listen"?q.english||"Audio Question":q.vietnamese_full||(q.segments?q.segments.map(Le=>Le.text).join(""):"")}),E.jsxs("div",{className:`${S?"bg-slate-800":"bg-slate-100"} p-3 rounded-lg mb-2`,children:[E.jsx("p",{className:"text-xs font-bold text-indigo-400 mb-1",children:"p n ng:"}),E.jsx("p",{className:"text-green-500 italic text-sm font-medium",children:jt.courseData.learningMode==="listen"?q.english:q.acceptableAnswers[0]})]}),_e&&ke>0&&E.jsx("div",{className:`${S?"bg-red-900/20":"bg-red-50"} p-3 rounded-lg border ${S?"border-red-800":"border-red-200"}`,children:Array.isArray(_e)&&_e.length>0?E.jsxs("div",{className:"space-y-3",children:[E.jsxs("p",{className:"text-xs font-bold text-red-400 mb-2",children:["Chi tit cc ln sai (",_e.length," ln):"]}),_e.map((Le,zt)=>E.jsxs("div",{className:`${S?"bg-red-900/30":"bg-red-100"} p-2 rounded border ${S?"border-red-800":"border-red-300"}`,children:[E.jsxs("p",{className:"text-xs font-bold text-orange-400 mb-1",children:["Ln ",zt+1,":"]}),E.jsxs("p",{className:`${S?"text-red-300":"text-red-700"} italic text-sm mb-1`,children:['"',Le.userAnswer||"Khng tr li",'"']}),Le.feedback&&E.jsxs("p",{className:`${S?"text-orange-300":"text-orange-700"} text-xs`,children:[" ",Le.feedback]})]},zt))]}):_e.userAnswer?E.jsxs(E.Fragment,{children:[E.jsx("p",{className:"text-xs font-bold text-red-400 mb-1",children:"Cu tr li ca bn:"}),E.jsx("p",{className:`${S?"text-red-300":"text-red-700"} italic text-sm mb-2 font-medium`,children:_e.userAnswer}),_e.feedback&&E.jsxs(E.Fragment,{children:[E.jsx("p",{className:"text-xs font-bold text-orange-400 mb-1",children:"Li sai:"}),E.jsx("p",{className:`${S?"text-orange-300":"text-orange-700"} text-xs`,children:_e.feedback})]})]}):null}),at==="skipped"&&E.jsx("div",{className:`${S?"bg-gray-800/50":"bg-gray-100"} p-3 rounded-lg border ${S?"border-gray-700":"border-gray-300"}`,children:E.jsx("p",{className:`text-xs italic ${U.secondaryText}`,children:"Cu ny cha c lm (b qua)"})})]})]})},oe)})}):E.jsx("p",{className:`${U.secondaryText} text-center py-10`,children:"Chi tit bi hc khng kh dng cho mc ny."})}),E.jsxs("div",{className:`p-4 border-t ${U.cardBorder} ${U.cardBg} flex justify-between items-center text-sm`,children:[E.jsxs("div",{className:"flex gap-4",children:[E.jsxs("span",{className:U.text,children:["im: ",E.jsx("strong",{className:jt.score>=50?"text-green-500":"text-red-500",children:Math.round(jt.score)})]}),E.jsxs("span",{className:"text-green-500 font-bold",children:[" ",jt.completedCorrectly||0]}),E.jsxs("span",{className:"text-red-500 font-bold",children:[" ",jt.failedSentences||0]})]}),E.jsxs("span",{className:U.secondaryText,children:["Tng: ",jt.totalSentences," cu"]})]})]})})]});if(l==="generating")return E.jsxs("div",{className:`min-h-screen ${U.bg} flex flex-col items-center justify-center p-4`,children:[E.jsx(fo,{}),E.jsxs("div",{className:"text-center space-y-8",children:[E.jsxs("div",{className:"relative w-20 h-20 mx-auto",children:[E.jsx("div",{className:`absolute inset-0 border-4 ${S?"border-slate-700":"border-slate-200"} rounded-full`}),E.jsx("div",{className:"absolute inset-0 border-4 border-indigo-500 rounded-full border-t-transparent animate-spin"}),E.jsx(Pd,{className:"absolute inset-0 m-auto text-indigo-500 w-8 h-8 animate-pulse"})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("h2",{className:`text-xl font-bold ${U.text}`,children:"AI ang vit bi lun..."}),E.jsxs("p",{className:`${U.secondaryText}`,children:["Ch : ",E.jsxs("span",{className:"text-indigo-500",children:['"',d,'"']})]})]})]})]});if(l==="error")return E.jsxs("div",{className:`min-h-screen ${U.bg} flex flex-col items-center justify-center p-4`,children:[E.jsx(fo,{}),E.jsxs("div",{className:"text-center space-y-6",children:[E.jsx("div",{className:"w-20 h-20 mx-auto bg-red-500/10 rounded-full flex items-center justify-center",children:E.jsx(Gd,{className:"w-10 h-10 text-red-500"})}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("h2",{className:`text-xl font-bold ${U.text}`,children:"Khng th to bi hc"}),E.jsx("p",{className:`${U.secondaryText}`,children:"C li xy ra khi to ni dung. Vui lng th li."})]}),E.jsx("button",{onClick:()=>u("home"),className:`px-6 py-3 ${S?"bg-indigo-600 hover:bg-indigo-500":"bg-indigo-600 hover:bg-indigo-700"} text-white font-bold rounded-xl transition-all shadow-lg active:scale-95`,children:"Quay li trang ch"})]})]});if(l==="summary"){const q=Hs(Ut);let oe="Cn c gng",me="text-red-500";q>=90?(oe="Xut sc",me="text-green-500"):q>=80?(oe="Gii",me="text-blue-500"):q>=65?(oe="Kh",me="text-yellow-500"):q>=50&&(oe="Trung bnh",me="text-orange-500");const ke=2*Math.PI*50,Ot=ke-q/100*ke,at=en.filter(Boolean).length,Le=(ee?.sentences?.length||0)-at;return E.jsxs("div",{className:`min-h-screen ${U.bg} flex items-center justify-center p-4`,children:[E.jsx(fo,{}),Li&&E.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-indigo-600 text-white px-4 py-3 rounded-xl shadow-lg flex items-center gap-2 animate-in slide-in-from-top-2",children:[E.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),E.jsx("span",{className:"text-sm font-bold",children:"ang lu lch s..."})]}),E.jsxs("div",{className:`max-w-3xl w-full ${U.cardBg} rounded-3xl shadow-2xl p-8 md:p-12 border ${U.cardBorder}`,children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsxs("div",{className:"relative w-40 h-40 mx-auto mb-6",children:[E.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 120 120",children:[E.jsx("circle",{cx:"60",cy:"60",r:"50",fill:"none",stroke:S?"#374151":"#e5e7eb",strokeWidth:"10"}),E.jsx("circle",{className:"score-circle",cx:"60",cy:"60",r:"50",fill:"none",stroke:q>=80?"#10B981":q>=50?"#F59E0B":"#EF4444",strokeWidth:"10",strokeDasharray:ke,strokeDashoffset:Ot,strokeLinecap:"round"})]}),E.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[E.jsx("span",{className:`text-4xl font-bold ${U.text}`,children:q}),E.jsx("span",{className:`text-xs uppercase font-bold ${U.secondaryText}`,children:"im"})]})]}),E.jsx("h1",{className:`text-3xl font-bold ${me} mb-2`,children:oe}),E.jsxs("p",{className:`${U.secondaryText}`,children:["Ch : ",E.jsx("span",{className:"font-bold text-indigo-500",children:ee?.title})]})]}),E.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[E.jsxs("div",{className:`${S?"bg-slate-900":"bg-slate-50"} p-4 rounded-2xl text-center border ${U.cardBorder}`,children:[E.jsx(xS,{className:"w-6 h-6 text-red-500 mx-auto mb-2"}),E.jsx("div",{className:`text-2xl font-bold ${U.text}`,children:Ut.mistakes}),E.jsx("div",{className:`text-xs ${U.secondaryText}`,children:"Li sai (-2)"})]}),E.jsxs("div",{className:`${S?"bg-slate-900":"bg-slate-50"} p-4 rounded-2xl text-center border ${U.cardBorder}`,children:[E.jsx(Hd,{className:"w-6 h-6 text-orange-500 mx-auto mb-2"}),E.jsx("div",{className:`text-2xl font-bold ${U.text}`,children:Le}),E.jsx("div",{className:`text-xs ${U.secondaryText}`,children:"B qua (-10)"})]}),E.jsxs("div",{className:`${S?"bg-slate-900":"bg-slate-50"} p-4 rounded-2xl text-center border ${U.cardBorder}`,children:[E.jsx(Bd,{className:"w-6 h-6 text-yellow-500 mx-auto mb-2"}),E.jsx("div",{className:`text-2xl font-bold ${U.text}`,children:Ut.hints}),E.jsx("div",{className:`text-xs ${U.secondaryText}`,children:"Gi  (0)"})]}),E.jsxs("div",{className:`${S?"bg-slate-900":"bg-slate-50"} p-4 rounded-2xl text-center border ${U.cardBorder}`,children:[E.jsx(mS,{className:"w-6 h-6 text-blue-500 mx-auto mb-2"}),E.jsx("div",{className:`text-2xl font-bold ${U.text}`,children:Ut.fullAnswers}),E.jsx("div",{className:`text-xs ${U.secondaryText}`,children:"p n (-15)"})]})]}),E.jsxs("div",{className:`${S?"bg-slate-900":"bg-slate-50"} p-6 rounded-2xl text-left mb-8 border ${U.cardBorder} max-h-60 overflow-y-auto custom-scrollbar`,children:[E.jsx("h4",{className:`text-xs font-bold ${U.secondaryText} uppercase mb-2`,children:"on vn hon chnh"}),E.jsx("p",{className:`${U.text} text-base leading-relaxed`,children:ee?.sentences.map(zt=>ee.learningMode==="listen"?zt.english:zt.acceptableAnswers[0]).join(" ")})]}),E.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3",children:[E.jsxs("button",{onClick:_n,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-xl flex items-center justify-center gap-2 shadow-lg transition-transform active:scale-95",children:[E.jsx(h_,{className:"w-5 h-5"})," Bi hc mi"]}),E.jsxs("button",{onClick:()=>u("history"),className:`${S?"bg-slate-600 hover:bg-slate-700":"bg-slate-500 hover:bg-slate-600"} text-white font-bold py-3 px-8 rounded-xl flex items-center justify-center gap-2 shadow-lg transition-transform active:scale-95`,children:[E.jsx(o_,{className:"w-5 h-5"})," Xem lch s"]})]})]})]})}return E.jsxs("div",{className:`min-h-screen ${U.bg} ${U.text} ${l==="learning"?"p-2 md:p-3":"p-4 md:p-6"} flex flex-col font-medium transition-colors duration-300 font-sans`,children:[E.jsx(fo,{}),Dt&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 animate-in fade-in",children:E.jsxs("div",{className:`${U.cardBg} p-6 rounded-2xl shadow-2xl max-w-sm w-full border ${U.cardBorder}`,children:[E.jsx("h3",{className:`text-lg font-bold ${U.text} mb-2`,children:"Kt thc sm?"}),E.jsx("p",{className:`${U.secondaryText} mb-6 text-sm`,children:"Bn c chc mun dng? Cc cu cha hon thnh s b tnh l b qua v tr im."}),E.jsxs("div",{className:"flex gap-3 justify-end",children:[E.jsx("button",{onClick:Rt,className:`px-4 py-2 rounded-xl text-sm font-bold ${U.secondaryText} hover:${U.bg}`,children:"Hy"}),E.jsx("button",{onClick:Bn,className:"px-4 py-2 rounded-xl text-sm font-bold bg-red-500 hover:bg-red-600 text-white",children:"Kt thc ngay"})]})]})}),l==="home"&&E.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center max-w-2xl mx-auto w-full animate-in fade-in slide-in-from-bottom-8",children:[E.jsxs("div",{className:"absolute top-4 left-4 flex items-center gap-3",children:[E.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-600 flex items-center justify-center text-white font-bold text-lg shadow-lg cursor-pointer hover:scale-105 transition-transform",onClick:()=>u("history"),children:s?.displayName?.charAt(0)||E.jsx(rA,{className:"w-5 h-5"})}),E.jsxs("div",{className:"hidden md:block",children:[E.jsx("p",{className:`text-xs font-bold ${U.secondaryText}`,children:"Xin cho,"}),E.jsx("p",{className:`font-bold ${U.text}`,children:s?.displayName||"Hc vin"})]})]}),E.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[E.jsx("button",{onClick:()=>u("history"),className:`p-2.5 rounded-full ${S?U.cardBg+" "+U.secondaryText+" hover:"+U.text:"bg-gradient-to-br from-indigo-50 to-purple-50 hover:from-indigo-100 hover:to-purple-100 text-indigo-600"} border ${S?U.cardBorder:"border-indigo-200"}`,title:"Lch s",children:E.jsx(o_,{className:"w-5 h-5"})}),E.jsx("button",{onClick:yn,className:`p-2.5 rounded-full ${S?U.cardBg+" text-yellow-400 border "+U.cardBorder:"bg-gradient-to-br from-orange-50 to-amber-50 hover:from-orange-100 hover:to-amber-100 text-orange-600 border border-orange-200"}`,children:S?E.jsx(Lu,{className:"w-5 h-5"}):E.jsx(Uu,{className:"w-5 h-5"})}),E.jsx("button",{onClick:qo,className:`p-2.5 rounded-full ${S?U.cardBg+" text-red-500 hover:bg-red-500/10":"bg-gradient-to-br from-rose-50 to-red-50 hover:from-rose-100 hover:to-red-100 text-rose-600"} border ${S?U.cardBorder:"border-rose-200"}`,title:"ng xut",children:E.jsx(zS,{className:"w-5 h-5"})})]}),E.jsxs("div",{className:"space-y-4 text-center mb-8 mt-12",children:[E.jsx("div",{className:`inline-flex items-center justify-center p-4 ${U.cardBg} rounded-full shadow-xl mb-2`,children:E.jsx(ju,{className:"w-12 h-12 text-indigo-500"})}),E.jsx("h1",{className:`text-4xl md:text-5xl font-extrabold ${S?"text-white":"text-slate-900"} tracking-tight`,children:"AI English Tutor"}),E.jsx("p",{className:`text-base md:text-lg ${U.secondaryText}`,children:"Luyn dch thc t. Chm im & sa li thng minh."})]}),E.jsxs("div",{className:`${U.cardBg} p-5 rounded-3xl shadow-2xl border ${U.cardBorder} w-full transition-all`,children:[E.jsx("div",{className:"flex justify-center gap-2 mb-4",children:[{id:"write",label:"Dch Vn",icon:E.jsx(qd,{className:"w-4 h-4"})},{id:"listen",label:"Nghe Chnh T",icon:E.jsx(ku,{className:"w-4 h-4"})}].map(q=>E.jsxs("button",{onClick:()=>w(q.id),className:`flex items-center gap-2 px-5 py-3 text-sm font-bold rounded-xl border-2 transition-all ${A===q.id?S?"bg-indigo-600 text-white border-indigo-600 shadow-lg shadow-indigo-500/30":"bg-gradient-to-r from-indigo-500 to-purple-600 text-white border-transparent shadow-lg":S?`${U.bg} ${U.secondaryText} border-slate-700 hover:border-indigo-500`:"bg-gradient-to-br from-slate-50 to-gray-50 text-slate-700 border-slate-300 hover:border-indigo-400 hover:from-indigo-50 hover:to-purple-50 hover:text-indigo-600"}`,children:[q.icon," ",q.label]},q.id))}),E.jsx("div",{className:"flex justify-center gap-2 mb-5",children:[{id:"short",label:"Ngn"},{id:"medium",label:"Va"},{id:"long",label:"Di"}].map(q=>E.jsx("button",{onClick:()=>_(q.id),className:`px-4 py-2 text-xs font-bold rounded-xl border-2 transition-all ${y===q.id?S?"bg-indigo-600 text-white border-indigo-600":"bg-gradient-to-r from-indigo-500 to-purple-600 text-white border-transparent":S?`${U.bg} ${U.secondaryText} border-slate-700 hover:border-indigo-500`:"bg-gradient-to-br from-slate-50 to-gray-50 text-slate-700 border-slate-300 hover:border-indigo-400 hover:from-indigo-50 hover:to-purple-50 hover:text-indigo-600"}`,children:q.label},q.id))}),E.jsxs("form",{onSubmit:ds,className:"relative flex items-center",children:[E.jsx("div",{className:"pl-4 text-indigo-400",children:E.jsx(Pd,{className:"w-6 h-6"})}),E.jsx("input",{ref:Xn,type:"text",value:d,onChange:q=>g(q.target.value),placeholder:"Nhp ch  (VD: Cuc sng  Sao Ha)...",className:`w-full p-4 text-base bg-transparent outline-none ${U.inputText} placeholder-slate-400 font-medium`}),E.jsx("button",{type:"submit",disabled:!d.trim(),className:"bg-indigo-600 hover:bg-indigo-700 text-white p-3 rounded-xl m-1 transition-all shadow-md active:scale-95",children:E.jsx(Vu,{className:"w-6 h-6"})})]})]}),E.jsxs("div",{className:`flex flex-wrap justify-center gap-2 text-sm ${U.secondaryText} mt-6`,children:[W.map(q=>E.jsx("button",{onClick:()=>g(q),className:`${S?U.cardBg+" border-2 border-slate-700 hover:border-indigo-500":"bg-gradient-to-br from-indigo-50 to-purple-50 border-2 border-indigo-200 hover:border-indigo-400 hover:from-indigo-100 hover:to-purple-100"} px-4 py-2 rounded-full ${S?"hover:text-indigo-400":"hover:text-indigo-700"} transition-all shadow-sm hover:shadow-md ${S?"text-slate-300":"text-slate-700"} font-medium`,children:q},q)),E.jsx("button",{onClick:()=>ie(am()),className:`p-2 rounded-full transition-all ${S?"hover:bg-indigo-500/10 text-indigo-400":"bg-gradient-to-br from-indigo-50 to-purple-50 hover:from-indigo-100 hover:to-purple-100 text-indigo-600 border border-indigo-200"}`,children:E.jsx(KS,{className:"w-4 h-4"})})]})]}),l==="learning"&&ee&&E.jsxs(E.Fragment,{children:[E.jsxs("header",{className:"w-full mb-4 flex items-center justify-between px-1 lg:px-4",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("button",{onClick:()=>u("home"),className:`p-2 rounded-full transition-all ${S?"hover:bg-slate-800 text-slate-400":"bg-gradient-to-br from-indigo-50 to-purple-50 hover:from-indigo-100 hover:to-purple-100 text-indigo-600 border border-indigo-200"}`,children:E.jsx(Vu,{className:"w-6 h-6 rotate-180"})}),E.jsxs("div",{children:[E.jsx("h1",{className:`text-xl font-bold ${U.text} flex items-center gap-3`,children:ee.title}),E.jsx("span",{className:"text-xs font-bold bg-indigo-500/10 text-indigo-500 px-3 py-1 rounded-full uppercase border border-indigo-500/20",children:ee.type})]})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsxs("button",{onClick:zn,className:`hidden md:flex items-center gap-1 px-3 py-1.5 rounded-lg ${S?"bg-slate-500/10 hover:bg-slate-500/20 text-slate-400":"bg-rose-50 hover:bg-rose-100 text-rose-600 border border-rose-200"} text-xs font-bold transition-colors`,children:[E.jsx(Hd,{className:"w-4 h-4"})," Kt thc"]}),E.jsx("button",{onClick:yn,className:`p-2 rounded-full ${S?U.cardBg+" text-yellow-400 shadow-sm border "+U.cardBorder:"bg-gradient-to-br from-orange-50 to-amber-50 hover:from-orange-100 hover:to-amber-100 text-orange-600 shadow-sm border border-orange-200"}`,children:S?E.jsx(Lu,{className:"w-5 h-5"}):E.jsx(Uu,{className:"w-5 h-5"})}),E.jsxs("div",{className:`hidden md:flex ${U.cardBg} px-4 py-2 rounded-xl shadow-sm border ${U.cardBorder} text-sm font-bold`,children:[E.jsx("span",{className:`${U.secondaryText} mr-2`,children:"TIN "})," ",E.jsxs("span",{className:"text-indigo-500",children:[he+1," ",E.jsx("span",{className:U.secondaryText,children:"/"})," ",ee.sentences.length]})]})]})]}),E.jsxs("div",{className:"w-full grid grid-cols-1 lg:grid-cols-12 gap-4 flex-1 min-h-0 px-1 lg:px-4",children:[ee.learningMode==="listen"?E.jsx("div",{className:`lg:col-span-8 ${U.cardBg} p-8 rounded-3xl ${S?"shadow-xl":"shadow-2xl shadow-slate-300/50"} border-2 ${U.cardBorder} overflow-y-auto h-[30vh] lg:h-auto flex flex-col items-center justify-center`,children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:`w-40 h-40 mx-auto mb-8 rounded-full flex items-center justify-center transition-all ${Yn?"bg-gradient-to-br from-indigo-500 to-purple-600 shadow-2xl shadow-indigo-500/50 scale-105":S?"bg-gradient-to-br from-indigo-600 to-purple-700":"bg-gradient-to-br from-indigo-500 to-purple-600"}`,children:Yn?E.jsx(u_,{className:"w-20 h-20 text-white animate-pulse"}):E.jsx(ku,{className:"w-20 h-20 text-white"})}),E.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[E.jsxs("button",{onClick:ms,className:`flex items-center gap-2 px-6 py-4 rounded-xl font-bold text-white shadow-lg transition-all active:scale-95 ${Yn?"bg-red-500 hover:bg-red-600":"bg-indigo-600 hover:bg-indigo-700"}`,children:[Yn?E.jsx(u_,{className:"w-6 h-6"}):E.jsx($S,{className:"w-6 h-6"}),Yn?"Tm dng":"Nghe"]}),E.jsxs("button",{onClick:ei,className:"flex items-center gap-2 px-6 py-4 rounded-xl font-bold bg-purple-600 hover:bg-purple-700 text-white shadow-lg transition-all active:scale-95",children:[E.jsx(h_,{className:"w-6 h-6"}),"Nghe li"]})]}),E.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[E.jsx("span",{className:`text-sm font-bold ${U.secondaryText}`,children:"Tc :"}),[.5,.75,1,1.25,1.5].map(q=>E.jsxs("button",{onClick:()=>wn(q),className:`px-3 py-2 text-sm font-bold rounded-lg transition-all ${Ur===q?"bg-indigo-600 text-white shadow-md":S?`${U.bg} ${U.secondaryText} hover:bg-slate-700`:"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[q,"x"]},q))]}),E.jsxs("p",{className:`text-base ${U.text} mb-2`,children:["Cu ",E.jsx("span",{className:"font-bold text-indigo-500",children:he+1})," / ",ee.sentences.length]}),ee.sentences[he].hint&&E.jsx("div",{className:`mt-6 p-4 rounded-xl ${S?"bg-amber-900/20 border border-amber-900/30":"bg-amber-50 border border-amber-200"}`,children:E.jsxs("p",{className:`text-sm ${S?"text-amber-400":"text-amber-700"} flex items-center gap-2`,children:[E.jsx(l_,{className:"w-4 h-4"}),E.jsx("span",{className:"font-bold",children:"Gi :"})," ",ee.sentences[he].hint]})})]})}):E.jsx("div",{className:`lg:col-span-8 ${U.cardBg} p-6 pt-16 rounded-3xl ${S?"shadow-xl":"shadow-2xl shadow-slate-300/50"} border-2 ${U.cardBorder} overflow-y-auto h-[30vh] lg:h-auto custom-scrollbar`,children:E.jsx("div",{className:`text-base md:text-lg leading-[3] ${U.text} font-sans relative`,style:{zIndex:1},children:ee.sentences.map((q,oe)=>{const me=en[oe],_e=oe===he;if(me)return E.jsxs("span",{className:"text-green-500 dark:text-green-400 transition-all duration-500 mr-1",children:[q.acceptableAnswers[0]," "]},q.id);let ke="transition-all duration-300 inline mr-1 rounded px-1 ";return _e?ke+=`${U.highlightBg} ${U.highlightText} shadow-[inset_0_0_0_2px_rgba(99,102,241,0.5)] py-1 `:ke+=S?"text-slate-500 ":"text-gray-800 ",E.jsx("span",{className:ke,children:q.segments.map((Ot,at)=>{const Le=q.segments[at+1],zt=Le&&!/^[.,!?;:)]/.test(Le.text);return E.jsxs(W1.Fragment,{children:[E.jsx("span",{children:Ot.text}),zt&&" "]},at)})},q.id)})})}),E.jsxs("div",{className:"lg:col-span-4 flex flex-col h-full gap-4 min-h-[500px]",children:[E.jsxs("div",{className:`flex-1 ${U.cardBg} rounded-3xl ${S?"shadow-xl":"shadow-2xl shadow-slate-300/50"} border-2 ${U.cardBorder} flex flex-col overflow-hidden relative`,children:[E.jsxs("div",{className:`flex-1 p-6 overflow-y-auto ${U.bg} space-y-6 custom-scrollbar`,children:[E.jsxs("div",{className:"flex gap-4 animate-in slide-in-from-left-4",children:[E.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:E.jsx(Pd,{className:"w-6 h-6 text-indigo-600"})}),E.jsxs("div",{className:`${U.cardBg} p-5 rounded-3xl rounded-tl-none shadow-sm border ${U.cardBorder} w-full`,children:[E.jsx("p",{className:`text-xs font-bold ${U.secondaryText} uppercase mb-2`,children:ee.learningMode==="listen"?"Nghe v g li":"Dch cu ny"}),ee.learningMode==="listen"?E.jsx("div",{className:`text-lg p-4 rounded-xl border-2 italic font-bold ${S?"bg-purple-900/60 text-purple-100 border-purple-700":"bg-purple-100 text-purple-950 border-purple-300"}`,children:" Nghe audio v g chnh xc nhng g bn nghe c"}):E.jsxs("div",{className:`text-lg p-4 rounded-xl border-2 italic font-bold ${S?"bg-indigo-900/60 text-indigo-100 border-indigo-700":"bg-indigo-100 text-indigo-950 border-indigo-300"}`,children:['"',ee.sentences[he].segments.map((q,oe)=>{const me=ee.sentences[he].segments[oe+1],_e=me&&!/^[.,!?;:)]/.test(me.text)?" ":"";return q.text+_e}),'"']})]})]}),te!=="idle"&&te!=="checking"&&E.jsxs("div",{className:"flex gap-4 flex-row-reverse animate-in slide-in-from-right-4",children:[E.jsx("div",{className:`w-10 h-10 ${S?"bg-slate-700":"bg-gradient-to-br from-indigo-100 to-purple-100"} rounded-2xl flex items-center justify-center flex-shrink-0`,children:E.jsx("div",{className:`w-6 h-6 rounded-full ${S?"bg-slate-500":"bg-gradient-to-br from-indigo-400 to-purple-500"}`})}),E.jsx("div",{className:`p-5 rounded-3xl rounded-tr-none shadow-lg max-w-[85%] text-lg relative overflow-visible z-10 font-medium border-2 ${S?te==="correct"?"bg-slate-800 text-white border-green-500":"bg-slate-800 text-white border-red-500":te==="correct"?"bg-white text-slate-900 border-green-500":"bg-white text-slate-900 border-red-500"}`,children:Ct()})]}),te==="correct"&&E.jsxs("div",{className:"flex gap-4 animate-in slide-in-from-left-4",children:[E.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:E.jsx(zd,{className:"w-6 h-6 text-green-600"})}),E.jsxs("div",{className:`${U.successBg} p-5 rounded-3xl rounded-tl-none border ${S?"border-green-800":"border-green-200"} w-full`,children:[E.jsx("p",{className:`font-bold ${U.successText} text-lg mb-2`,children:"Tuyt vi!"}),St&&E.jsx("p",{className:`text-sm ${U.successText} mb-3 italic`,children:String(St)}),Mi&&E.jsxs("div",{className:`mt-3 ${U.cardBg} p-3 rounded-xl border ${U.cardBorder}`,children:[E.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[E.jsx(CS,{className:"w-4 h-4 text-indigo-400"}),E.jsx("span",{className:"text-xs font-bold text-indigo-400 uppercase",children:"p n mu"})]}),E.jsx("p",{className:`${U.text} text-sm italic`,children:Mi})]}),E.jsxs("button",{onClick:qr,className:"mt-4 w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg active:scale-95 transition-all",children:["Cu tip theo ",E.jsx(Vu,{className:"w-5 h-5"})]})]})]}),te==="checking"&&E.jsxs("div",{className:"flex gap-4 animate-in slide-in-from-left-4",children:[E.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-2xl flex items-center justify-center flex-shrink-0 animate-pulse",children:E.jsx(f_,{className:"w-6 h-6 text-indigo-600"})}),E.jsx("div",{className:`${U.cardBg} p-4 rounded-3xl rounded-tl-none border ${U.cardBorder} text-sm italic ${U.secondaryText}`,children:"AI ang kim tra ng ngha cu tr li ca bn..."})]}),te==="incorrect"&&E.jsxs("div",{className:"flex gap-4 animate-in slide-in-from-left-4",children:[E.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:E.jsx(iA,{className:"w-6 h-6 text-red-600"})}),E.jsxs("div",{className:`${U.errorBg} p-5 rounded-3xl rounded-tl-none border ${S?"border-red-800":"border-red-200"} w-full`,children:[E.jsx("p",{className:`font-bold ${U.errorText} mb-3 text-lg`,children:"Cha chnh xc lm."}),E.jsxs("div",{className:`mb-3 ${U.cardBg} p-4 rounded-xl border ${S?"border-red-500/30":"border-red-200"}`,children:[E.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[E.jsx(f_,{className:"w-4 h-4 text-indigo-400"}),E.jsx("span",{className:"text-xs font-bold text-indigo-400 uppercase",children:"AI Phn tch li sai"})]}),E.jsx("p",{className:`${U.text} text-sm italic leading-relaxed`,children:String(St||"Cu tr li cha st ngha. Hy kim tra t vng v ng php.")})]})]})]}),E.jsx("div",{ref:Un})]}),E.jsx("div",{className:`p-4 md:p-6 ${U.cardBg} border-t ${U.cardBorder} z-20 transition-colors duration-300`,children:E.jsxs("form",{onSubmit:ji,children:[E.jsx("textarea",{ref:vt,value:F,onChange:q=>{const oe=q.target.value;if(ae(oe),te==="incorrect"&&de("idle"),ee?.learningMode==="listen"&&ee.sentences[he]){const{revealed:me,wrong:_e}=Fv(oe,ee.sentences[he].english);Pr(me),qs(_e),dt!=="none"&&oe.length>0&&hn("none")}},disabled:te==="correct"||te==="checking",onKeyDown:q=>{q.key==="Enter"&&!q.shiftKey&&(q.preventDefault(),te!=="correct"&&te!=="checking"&&ji(q))},placeholder:te==="correct"?"ang ch...":"Nhp cu dch...",className:`w-full p-4 rounded-2xl ${U.inputBg} ${U.inputBorder} border-2 focus:border-indigo-500 outline-none resize-none text-base shadow-inner ${U.inputText}`,rows:"2"}),te!=="correct"&&te!=="checking"&&E.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[ee?.learningMode==="listen"&&E.jsxs("button",{type:"button",onClick:Pt,className:"px-4 py-2.5 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-xl shadow-lg active:scale-95 transition-all font-bold flex items-center gap-2",children:[E.jsx(Hd,{className:"w-4 h-4"})," B qua"]}),E.jsxs("button",{type:"submit",disabled:!F.trim(),className:"px-6 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl shadow-lg active:scale-95 disabled:opacity-50 transition-all font-bold flex items-center gap-2",children:[E.jsx(ZS,{className:"w-4 h-4"})," Gi"]})]})]})})]}),te!=="correct"&&E.jsx("div",{className:`${U.cardBg} rounded-3xl shadow-lg border ${U.cardBorder} overflow-hidden flex-shrink-0 transition-all duration-300`,children:os?E.jsxs("div",{className:`p-5 ${S?"bg-amber-900/20":"bg-amber-50"} animate-in fade-in relative border-2 ${S?"border-amber-900/30":"border-amber-200"}`,children:[E.jsx("button",{onClick:()=>gi(!1),className:`absolute top-3 right-3 p-1.5 rounded-full transition-colors ${S?"bg-white/10 hover:bg-white/20 text-amber-400":"bg-amber-200/50 hover:bg-amber-300/70 text-amber-700"}`,title:"Thu gn",children:E.jsx(SS,{className:"w-4 h-4"})}),E.jsxs("div",{className:"space-y-4",children:[ee.learningMode==="listen"?E.jsxs("div",{children:[E.jsxs("p",{className:`text-xs font-bold ${S?"text-amber-400":"text-amber-600"} uppercase mb-2 flex items-center gap-2`,children:[E.jsx(ju,{className:"w-4 h-4"})," Gi "]}),E.jsx("p",{className:`${U.text} text-sm mb-3 font-medium ${U.cardBg} p-3 rounded-xl border-2 ${S?"border-amber-900/30":"border-amber-300"}`,children:ee.sentences[he].hint||"Nghe k v ch  chnh t!"})]}):E.jsxs("div",{children:[E.jsxs("p",{className:`text-xs font-bold ${S?"text-amber-400":"text-amber-600"} uppercase mb-2 flex items-center gap-2`,children:[E.jsx(ju,{className:"w-4 h-4"})," Gi  Ng php"]}),E.jsx("p",{className:`${U.text} text-sm mb-3 font-medium ${U.cardBg} p-3 rounded-xl border-2 ${S?"border-amber-900/30":"border-amber-300"}`,children:ee.sentences[he].grammar_hint})]}),ee.sentences[he].structure&&E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[E.jsxs("div",{children:[E.jsxs("p",{className:"text-xs font-bold ${isDarkMode ? 'text-amber-400' : 'text-amber-600'} uppercase mb-2 flex items-center gap-2",children:[E.jsx(l_,{className:"w-4 h-4"})," Cu trc"]}),E.jsx("div",{className:`${U.text} text-sm ${U.cardBg} p-2 rounded-lg border-2 ${S?"border-amber-900/30":"border-amber-300"} font-mono text-xs`,children:ee.sentences[he].structure})]}),E.jsxs("div",{children:[E.jsxs("p",{className:"text-xs font-bold ${isDarkMode ? 'text-amber-400' : 'text-amber-600'} uppercase mb-2 flex items-center gap-2",children:[E.jsx(pS,{className:"w-4 h-4"})," V d"]}),E.jsxs("div",{className:`${U.text} text-sm ${U.cardBg} p-2 rounded-lg border-2 ${S?"border-amber-900/30":"border-amber-300"} italic`,children:[E.jsx("p",{className:"mb-1 text-indigo-400",children:ee.sentences[he].example_en}),E.jsx("p",{className:"text-xs opacity-80",children:ee.sentences[he].example_vi})]})]})]}),ee.sentences[he].vocabulary&&E.jsxs("div",{children:[E.jsx("p",{className:`text-xs font-bold ${S?"text-amber-400":"text-amber-600"} uppercase mb-2`,children:"T vng cn dng"}),E.jsx("div",{className:"flex flex-wrap gap-2",children:ee.sentences[he].vocabulary.map((q,oe)=>E.jsxs("span",{className:`text-xs ${U.cardBg} px-2 py-1 rounded-lg ${S?"text-amber-400":"text-amber-700"} border-2 ${S?"border-amber-900":"border-amber-300"} font-medium`,children:[q.word,": ",q.meaning]},oe))})]}),kn?E.jsxs("p",{className:`${U.text} font-serif italic text-base border-t ${U.cardBorder} pt-2 mt-2`,children:['"',ee.learningMode==="listen"?ee.sentences[he].english:ee.sentences[he].acceptableAnswers[0],'"']}):E.jsx("button",{onClick:Ca,className:`text-xs font-bold ${S?"text-slate-400 hover:text-white":"text-amber-700 hover:text-amber-900"} hover:underline`,children:"Xem p n y "})]})]}):ee?.learningMode==="listen"?E.jsxs("button",{onClick:()=>hn(dt==="none"?"one":dt==="one"?"all":"none"),className:`w-full flex items-center justify-center gap-2 py-4 ${dt!=="none"?S?"bg-amber-500/30 text-amber-300":"bg-amber-200 text-amber-800":S?"text-amber-500 hover:bg-amber-500/10":"bg-gradient-to-r from-amber-50 to-yellow-50 hover:from-amber-100 hover:to-yellow-100 text-amber-700 border-2 border-amber-200"} font-bold text-sm transition-colors`,children:[E.jsx(Bd,{className:"w-5 h-5"})," ",dt==="none"?"Gi ":dt==="one"?"Gi : 1 t":"Gi : C cu"]}):E.jsxs("button",{onClick:Ra,className:`w-full flex items-center justify-center gap-2 py-4 ${S?"text-amber-500 hover:bg-amber-500/10":"bg-gradient-to-r from-amber-50 to-yellow-50 hover:from-amber-100 hover:to-yellow-100 text-amber-700 border-2 border-amber-200"} font-bold text-sm transition-colors`,children:[E.jsx(Bd,{className:"w-5 h-5"})," XEM GI "]})})]})]})]})]})}aS.createRoot(document.getElementById("root")).render(E.jsx(ve.StrictMode,{children:E.jsx(HN,{})}));
