(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Pb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var xd={exports:{}},Cl={};var P_;function jb(){if(P_)return Cl;P_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Cl.Fragment=e,Cl.jsx=i,Cl.jsxs=i,Cl}var j_;function zb(){return j_||(j_=1,xd.exports=jb()),xd.exports}var A=zb(),Cd={exports:{}},we={};var z_;function Bb(){if(z_)return we;z_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function $(N){return N===null||typeof N!="object"?null:(N=M&&N[M]||N["@@iterator"],typeof N=="function"?N:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,ee={};function he(N,K,ne){this.props=N,this.context=K,this.refs=ee,this.updater=ne||J}he.prototype.isReactComponent={},he.prototype.setState=function(N,K){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,K,"setState")},he.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function ve(){}ve.prototype=he.prototype;function ye(N,K,ne){this.props=N,this.context=K,this.refs=ee,this.updater=ne||J}var Fe=ye.prototype=new ve;Fe.constructor=ye,te(Fe,he.prototype),Fe.isPureReactComponent=!0;var tt=Array.isArray;function Me(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(N,K,ne){var re=ne.ref;return{$$typeof:s,type:N,key:K,ref:re!==void 0?re:null,props:ne}}function V(N,K){return R(N.type,K,N.props)}function D(N){return typeof N=="object"&&N!==null&&N.$$typeof===s}function L(N){var K={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ne){return K[ne]})}var I=/\/+/g;function Ee(N,K){return typeof N=="object"&&N!==null&&N.key!=null?L(""+N.key):K.toString(36)}function bt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(Me,Me):(N.status="pending",N.then(function(K){N.status==="pending"&&(N.status="fulfilled",N.value=K)},function(K){N.status==="pending"&&(N.status="rejected",N.reason=K)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function q(N,K,ne,re,pe){var Se=typeof N;(Se==="undefined"||Se==="boolean")&&(N=null);var De=!1;if(N===null)De=!0;else switch(Se){case"bigint":case"string":case"number":De=!0;break;case"object":switch(N.$$typeof){case s:case e:De=!0;break;case T:return De=N._init,q(De(N._payload),K,ne,re,pe)}}if(De)return pe=pe(N),De=re===""?"."+Ee(N,0):re,tt(pe)?(ne="",De!=null&&(ne=De.replace(I,"$&/")+"/"),q(pe,K,ne,"",function(vi){return vi})):pe!=null&&(D(pe)&&(pe=V(pe,ne+(pe.key==null||N&&N.key===pe.key?"":(""+pe.key).replace(I,"$&/")+"/")+De)),K.push(pe)),1;De=0;var _t=re===""?".":re+":";if(tt(N))for(var Xe=0;Xe<N.length;Xe++)re=N[Xe],Se=_t+Ee(re,Xe),De+=q(re,K,ne,Se,pe);else if(Xe=$(N),typeof Xe=="function")for(N=Xe.call(N),Xe=0;!(re=N.next()).done;)re=re.value,Se=_t+Ee(re,Xe++),De+=q(re,K,ne,Se,pe);else if(Se==="object"){if(typeof N.then=="function")return q(bt(N),K,ne,re,pe);throw K=String(N),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return De}function se(N,K,ne){if(N==null)return N;var re=[],pe=0;return q(N,re,"","",function(Se){return K.call(ne,Se,pe++)}),re}function ce(N){if(N._status===-1){var K=N._result;K=K(),K.then(function(ne){(N._status===0||N._status===-1)&&(N._status=1,N._result=ne)},function(ne){(N._status===0||N._status===-1)&&(N._status=2,N._result=ne)}),N._status===-1&&(N._status=0,N._result=K)}if(N._status===1)return N._result.default;throw N._result}var Ve=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},ge={map:se,forEach:function(N,K,ne){se(N,function(){K.apply(this,arguments)},ne)},count:function(N){var K=0;return se(N,function(){K++}),K},toArray:function(N){return se(N,function(K){return K})||[]},only:function(N){if(!D(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return we.Activity=S,we.Children=ge,we.Component=he,we.Fragment=i,we.Profiler=l,we.PureComponent=ye,we.StrictMode=r,we.Suspense=y,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,we.__COMPILER_RUNTIME={__proto__:null,c:function(N){return C.H.useMemoCache(N)}},we.cache=function(N){return function(){return N.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(N,K,ne){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var re=te({},N.props),pe=N.key;if(K!=null)for(Se in K.key!==void 0&&(pe=""+K.key),K)!w.call(K,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&K.ref===void 0||(re[Se]=K[Se]);var Se=arguments.length-2;if(Se===1)re.children=ne;else if(1<Se){for(var De=Array(Se),_t=0;_t<Se;_t++)De[_t]=arguments[_t+2];re.children=De}return R(N.type,pe,re)},we.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},we.createElement=function(N,K,ne){var re,pe={},Se=null;if(K!=null)for(re in K.key!==void 0&&(Se=""+K.key),K)w.call(K,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(pe[re]=K[re]);var De=arguments.length-2;if(De===1)pe.children=ne;else if(1<De){for(var _t=Array(De),Xe=0;Xe<De;Xe++)_t[Xe]=arguments[Xe+2];pe.children=_t}if(N&&N.defaultProps)for(re in De=N.defaultProps,De)pe[re]===void 0&&(pe[re]=De[re]);return R(N,Se,pe)},we.createRef=function(){return{current:null}},we.forwardRef=function(N){return{$$typeof:p,render:N}},we.isValidElement=D,we.lazy=function(N){return{$$typeof:T,_payload:{_status:-1,_result:N},_init:ce}},we.memo=function(N,K){return{$$typeof:_,type:N,compare:K===void 0?null:K}},we.startTransition=function(N){var K=C.T,ne={};C.T=ne;try{var re=N(),pe=C.S;pe!==null&&pe(ne,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Me,Ve)}catch(Se){Ve(Se)}finally{K!==null&&ne.types!==null&&(K.types=ne.types),C.T=K}},we.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},we.use=function(N){return C.H.use(N)},we.useActionState=function(N,K,ne){return C.H.useActionState(N,K,ne)},we.useCallback=function(N,K){return C.H.useCallback(N,K)},we.useContext=function(N){return C.H.useContext(N)},we.useDebugValue=function(){},we.useDeferredValue=function(N,K){return C.H.useDeferredValue(N,K)},we.useEffect=function(N,K){return C.H.useEffect(N,K)},we.useEffectEvent=function(N){return C.H.useEffectEvent(N)},we.useId=function(){return C.H.useId()},we.useImperativeHandle=function(N,K,ne){return C.H.useImperativeHandle(N,K,ne)},we.useInsertionEffect=function(N,K){return C.H.useInsertionEffect(N,K)},we.useLayoutEffect=function(N,K){return C.H.useLayoutEffect(N,K)},we.useMemo=function(N,K){return C.H.useMemo(N,K)},we.useOptimistic=function(N,K){return C.H.useOptimistic(N,K)},we.useReducer=function(N,K,ne){return C.H.useReducer(N,K,ne)},we.useRef=function(N){return C.H.useRef(N)},we.useState=function(N){return C.H.useState(N)},we.useSyncExternalStore=function(N,K,ne){return C.H.useSyncExternalStore(N,K,ne)},we.useTransition=function(){return C.H.useTransition()},we.version="19.2.0",we}var B_;function Tm(){return B_||(B_=1,Cd.exports=Bb()),Cd.exports}var xe=Tm();const qb=Pb(xe);var Nd={exports:{}},Nl={},Dd={exports:{}},Od={};var q_;function Hb(){return q_||(q_=1,(function(s){function e(q,se){var ce=q.length;q.push(se);e:for(;0<ce;){var Ve=ce-1>>>1,ge=q[Ve];if(0<l(ge,se))q[Ve]=se,q[ce]=ge,ce=Ve;else break e}}function i(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var se=q[0],ce=q.pop();if(ce!==se){q[0]=ce;e:for(var Ve=0,ge=q.length,N=ge>>>1;Ve<N;){var K=2*(Ve+1)-1,ne=q[K],re=K+1,pe=q[re];if(0>l(ne,ce))re<ge&&0>l(pe,ne)?(q[Ve]=pe,q[re]=ce,Ve=re):(q[Ve]=ne,q[K]=ce,Ve=K);else if(re<ge&&0>l(pe,ce))q[Ve]=pe,q[re]=ce,Ve=re;else break e}}return se}function l(q,se){var ce=q.sortIndex-se.sortIndex;return ce!==0?ce:q.id-se.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],_=[],T=1,S=null,M=3,$=!1,J=!1,te=!1,ee=!1,he=typeof setTimeout=="function"?setTimeout:null,ve=typeof clearTimeout=="function"?clearTimeout:null,ye=typeof setImmediate<"u"?setImmediate:null;function Fe(q){for(var se=i(_);se!==null;){if(se.callback===null)r(_);else if(se.startTime<=q)r(_),se.sortIndex=se.expirationTime,e(y,se);else break;se=i(_)}}function tt(q){if(te=!1,Fe(q),!J)if(i(y)!==null)J=!0,Me||(Me=!0,L());else{var se=i(_);se!==null&&bt(tt,se.startTime-q)}}var Me=!1,C=-1,w=5,R=-1;function V(){return ee?!0:!(s.unstable_now()-R<w)}function D(){if(ee=!1,Me){var q=s.unstable_now();R=q;var se=!0;try{e:{J=!1,te&&(te=!1,ve(C),C=-1),$=!0;var ce=M;try{t:{for(Fe(q),S=i(y);S!==null&&!(S.expirationTime>q&&V());){var Ve=S.callback;if(typeof Ve=="function"){S.callback=null,M=S.priorityLevel;var ge=Ve(S.expirationTime<=q);if(q=s.unstable_now(),typeof ge=="function"){S.callback=ge,Fe(q),se=!0;break t}S===i(y)&&r(y),Fe(q)}else r(y);S=i(y)}if(S!==null)se=!0;else{var N=i(_);N!==null&&bt(tt,N.startTime-q),se=!1}}break e}finally{S=null,M=ce,$=!1}se=void 0}}finally{se?L():Me=!1}}}var L;if(typeof ye=="function")L=function(){ye(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ee=I.port2;I.port1.onmessage=D,L=function(){Ee.postMessage(null)}}else L=function(){he(D,0)};function bt(q,se){C=he(function(){q(s.unstable_now())},se)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(q){switch(M){case 1:case 2:case 3:var se=3;break;default:se=M}var ce=M;M=se;try{return q()}finally{M=ce}},s.unstable_requestPaint=function(){ee=!0},s.unstable_runWithPriority=function(q,se){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ce=M;M=q;try{return se()}finally{M=ce}},s.unstable_scheduleCallback=function(q,se,ce){var Ve=s.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ve+ce:Ve):ce=Ve,q){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=ce+ge,q={id:T++,callback:se,priorityLevel:q,startTime:ce,expirationTime:ge,sortIndex:-1},ce>Ve?(q.sortIndex=ce,e(_,q),i(y)===null&&q===i(_)&&(te?(ve(C),C=-1):te=!0,bt(tt,ce-Ve))):(q.sortIndex=ge,e(y,q),J||$||(J=!0,Me||(Me=!0,L()))),q},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(q){var se=M;return function(){var ce=M;M=se;try{return q.apply(this,arguments)}finally{M=ce}}}})(Od)),Od}var H_;function Fb(){return H_||(H_=1,Dd.exports=Hb()),Dd.exports}var Md={exports:{}},un={};var F_;function Gb(){if(F_)return un;F_=1;var s=Tm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:_,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,un.createPortal=function(y,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,T)},un.flushSync=function(y){var _=d.T,T=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=_,r.p=T,r.d.f()}},un.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},un.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},un.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var T=_.as,S=p(T,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,$=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:$}):T==="script"&&r.d.X(y,{crossOrigin:S,integrity:M,fetchPriority:$,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},un.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=p(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},un.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,S=p(T,_.crossOrigin);r.d.L(y,T,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},un.preloadModule=function(y,_){if(typeof y=="string")if(_){var T=p(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},un.requestFormReset=function(y){r.d.r(y)},un.unstable_batchedUpdates=function(y,_){return y(_)},un.useFormState=function(y,_,T){return d.H.useFormState(y,_,T)},un.useFormStatus=function(){return d.H.useHostTransitionStatus()},un.version="19.2.0",un}var G_;function $b(){if(G_)return Md.exports;G_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Md.exports=Gb(),Md.exports}var $_;function Qb(){if($_)return Nl;$_=1;var s=Fb(),e=Tm(),i=$b();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),t;if(f===o)return y(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),$=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),he=Symbol.for("react.profiler"),ve=Symbol.for("react.consumer"),ye=Symbol.for("react.context"),Fe=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Ee(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case te:return"Fragment";case he:return"Profiler";case ee:return"StrictMode";case tt:return"Suspense";case Me:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case ye:return t.displayName||"Context";case ve:return(t._context.displayName||"Context")+".Consumer";case Fe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:Ee(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return Ee(t(n))}catch{}}return null}var bt=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Ve=[],ge=-1;function N(t){return{current:t}}function K(t){0>ge||(t.current=Ve[ge],Ve[ge]=null,ge--)}function ne(t,n){ge++,Ve[ge]=t.current,t.current=n}var re=N(null),pe=N(null),Se=N(null),De=N(null);function _t(t,n){switch(ne(Se,n),ne(pe,t),ne(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?o_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=o_(n),t=l_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(re),ne(re,t)}function Xe(){K(re),K(pe),K(Se)}function vi(t){t.memoizedState!==null&&ne(De,t);var n=re.current,a=l_(n,t.type);n!==a&&(ne(pe,t),ne(re,a))}function Ei(t){pe.current===t&&(K(re),K(pe)),De.current===t&&(K(De),wl._currentValue=ce)}var jn,Ti;function zn(t){if(jn===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);jn=n&&n[1]||"",Ti=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jn+t+Ti}var bi=!1;function an(t,n){if(!t||bi)return"";bi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var z=H}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(H){z=H}t.call(Y.prototype)}}else{try{throw Error()}catch(H){z=H}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var x=g.split(`
`),j=E.split(`
`);for(h=o=0;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===x.length||h===j.length)for(o=x.length-1,h=j.length-1;1<=o&&0<=h&&x[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(x[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||x[o]!==j[h]){var G=`
`+x[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{bi=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?zn(a):""}function Wi(t,n){switch(t.tag){case 26:case 27:case 5:return zn(t.type);case 16:return zn("Lazy");case 13:return t.child!==n&&n!==null?zn("Suspense Fallback"):zn("Suspense");case 19:return zn("SuspenseList");case 0:case 15:return an(t.type,!1);case 11:return an(t.type.render,!1);case 1:return an(t.type,!0);case 31:return zn("Activity");default:return""}}function Ai(t){try{var n="",a=null;do n+=Wi(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var vt=Object.prototype.hasOwnProperty,nt=s.unstable_scheduleCallback,mn=s.unstable_cancelCallback,wr=s.unstable_shouldYield,Rr=s.unstable_requestPaint,Xt=s.unstable_now,es=s.unstable_getCurrentPriorityLevel,Ir=s.unstable_ImmediatePriority,xr=s.unstable_UserBlockingPriority,Si=s.unstable_NormalPriority,Do=s.unstable_LowPriority,ma=s.unstable_IdlePriority,pa=s.log,Cr=s.unstable_setDisableYieldValue,In=null,xt=null;function pn(t){if(typeof pa=="function"&&Cr(t),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(In,t)}catch{}}var pt=Math.clz32?Math.clz32:ya,ga=Math.log,Cs=Math.LN2;function ya(t){return t>>>=0,t===0?32:31-(ga(t)/Cs|0)|0}var Bn=256,ts=262144,gt=4194304;function qn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function F(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=qn(o):(g&=E,g!==0?h=qn(g):a||(a=E&~t,a!==0&&(h=qn(a))))):(E=o&~f,E!==0?h=qn(E):g!==0?h=qn(g):a||(a=o&~t,a!==0&&(h=qn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function xn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function W(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function me(){var t=gt;return gt<<=1,(gt&62914560)===0&&(gt=4194304),t}function Ie(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Ct(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function At(t,n,a,o,h,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,x=t.expirationTimes,j=t.hiddenUpdates;for(a=g&~a;0<a;){var G=31-pt(a),Y=1<<G;E[G]=0,x[G]=-1;var z=j[G];if(z!==null)for(j[G]=null,G=0;G<z.length;G++){var H=z[G];H!==null&&(H.lane&=-536870913)}a&=~Y}o!==0&&ft(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function ft(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-pt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function zt(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-pt(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Ft(t,n){var a=n&-n;return a=(a&42)!==0?1:on(a),(a&(t.suspendedLanes|n))!==0?0:a}function on(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ln(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ns(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:D_(t.type))}function Cn(t,n){var a=se.p;try{return se.p=t,n()}finally{se.p=a}}var si=Math.random().toString(36).slice(2),Nt="__reactFiber$"+si,Gt="__reactProps$"+si,wi="__reactContainer$"+si,_a="__reactEvents$"+si,Mh="__reactListeners$"+si,hu="__reactHandles$"+si,fu="__reactResources$"+si,Ri="__reactMarker$"+si;function va(t){delete t[Nt],delete t[Gt],delete t[_a],delete t[Mh],delete t[hu]}function Ii(t){var n=t[Nt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[wi]||a[Nt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=p_(t);t!==null;){if(a=t[Nt])return a;t=p_(t)}return n}t=a,a=t.parentNode}return null}function Hn(t){if(t=t[Nt]||t[wi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Nn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function xi(t){var n=t[fu];return n||(n=t[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Dt(t){t[Ri]=!0}var Oo=new Set,Mo={};function Ci(t,n){Ni(t,n),Ni(t+"Capture",n)}function Ni(t,n){for(Mo[t]=n,t=0;t<n.length;t++)Oo.add(n[t])}var Vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ko={},Lo={};function du(t){return vt.call(Lo,t)?!0:vt.call(ko,t)?!1:Vo.test(t)?Lo[t]=!0:(ko[t]=!0,!1)}function Ea(t,n,a){if(du(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Dn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ot(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function $t(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ds(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Uo(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Je(t){if(!t._valueTracker){var n=Ds(t)?"checked":"value";t._valueTracker=Uo(t,n,""+t[n])}}function Nr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=Ds(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function Di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Dr=/[\n"\\]/g;function vn(t){return t.replace(Dr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ta(t,n,a,o,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+$t(n)):t.value!==""+$t(n)&&(t.value=""+$t(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Po(t,g,$t(n)):a!=null?Po(t,g,$t(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+$t(E):t.removeAttribute("name")}function mu(t,n,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Je(t);return}a=a!=null?""+$t(a):"",n=n!=null?""+$t(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Je(t)}function Po(t,n,a){n==="number"&&Di(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Os(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+$t(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function pu(t,n,a){if(n!=null&&(n=""+$t(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+$t(a):""}function Ms(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(bt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=$t(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Je(t)}function En(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jo(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||gu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function zo(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&jo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&jo(t,f,n[f])}function ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(t){return Vs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ri(){}var Bo=null;function Fn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ks=null,Oi=null;function Or(t){var n=Hn(t);if(n&&(t=n.stateNode)){var a=t[Gt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ta(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Gt]||null;if(!h)throw Error(r(90));Ta(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&Nr(o)}break e;case"textarea":pu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Os(t,!!a.multiple,n,!1)}}}var Sa=!1;function Ls(t,n,a){if(Sa)return t(n,a);Sa=!0;try{var o=t(n);return o}finally{if(Sa=!1,(ks!==null||Oi!==null)&&(cc(),ks&&(n=ks,t=Oi,Oi=ks=null,Or(n),t)))for(n=0;n<t.length;n++)Or(t[n])}}function ai(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Gt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mr=!1;if(Gn)try{var it={};Object.defineProperty(it,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",it,it),window.removeEventListener("test",it,it)}catch{Mr=!1}var Mi=null,qo=null,Vr=null;function Ho(){if(Vr)return Vr;var t,n=qo,a=n.length,o,h="value"in Mi?Mi.value:Mi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var g=a-t;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return Vr=h.slice(t,1<o?1-o:void 0)}function kr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ns(){return!0}function oi(){return!1}function Jt(t){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ns:oi,this.isPropagationStopped=oi,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ns)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ns)},persist:function(){},isPersistent:ns}),n}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=Jt(is),Us=S({},is,{view:0,detail:0}),Fo=Jt(Us),Ps,wa,ki,Ra=S({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:js,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ki&&(ki&&t.type==="mousemove"?(Ps=t.screenX-ki.screenX,wa=t.screenY-ki.screenY):wa=Ps=0,ki=t),Ps)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),Go=Jt(Ra),Lr=S({},Ra,{dataTransfer:0}),_u=Jt(Lr),vu=S({},Us,{relatedTarget:0}),Ur=Jt(vu),$o=S({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),Eu=Jt($o),Ia=S({},is,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tu=Jt(Ia),bu=S({},is,{data:0}),Li=Jt(bu),Au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ru(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=wu[t])?!!n[t]:!1}function js(){return Ru}var gn=S({},Us,{key:function(t){if(t.key){var n=Au[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=kr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Su[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:js,charCode:function(t){return t.type==="keypress"?kr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Iu=Jt(gn),xu=S({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ss=Jt(xu),u=S({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:js}),m=Jt(u),v=S({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Jt(v),U=S({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Jt(U),ie=S({},is,{newState:0,oldState:0}),Ce=Jt(ie),St=[9,13,27,32],Qe=Gn&&"CompositionEvent"in window,dt=null;Gn&&"documentMode"in document&&(dt=document.documentMode);var $n=Gn&&"TextEvent"in window&&!dt,Ui=Gn&&(!Qe||dt&&8<dt&&11>=dt),li=" ",ui=!1;function Pr(t,n){switch(t){case"keyup":return St.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ca=!1;function l1(t,n){switch(t){case"compositionend":return xa(n);case"keypress":return n.which!==32?null:(ui=!0,li);case"textInput":return t=n.data,t===li&&ui?null:t;default:return null}}function u1(t,n){if(Ca)return t==="compositionend"||!Qe&&Pr(t,n)?(t=Ho(),Vr=qo=Mi=null,Ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ui&&n.locale!=="ko"?null:n.data;default:return null}}var c1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _p(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!c1[t.type]:n==="textarea"}function vp(t,n,a,o){ks?Oi?Oi.push(o):Oi=[o]:ks=o,n=yc(n,"onChange"),0<n.length&&(a=new Vi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Qo=null,Ko=null;function h1(t){t_(t,0)}function Cu(t){var n=Nn(t);if(Nr(n))return t}function Ep(t,n){if(t==="change")return n}var Tp=!1;if(Gn){var Vh;if(Gn){var kh="oninput"in document;if(!kh){var bp=document.createElement("div");bp.setAttribute("oninput","return;"),kh=typeof bp.oninput=="function"}Vh=kh}else Vh=!1;Tp=Vh&&(!document.documentMode||9<document.documentMode)}function Ap(){Qo&&(Qo.detachEvent("onpropertychange",Sp),Ko=Qo=null)}function Sp(t){if(t.propertyName==="value"&&Cu(Ko)){var n=[];vp(n,Ko,t,Fn(t)),Ls(h1,n)}}function f1(t,n,a){t==="focusin"?(Ap(),Qo=n,Ko=a,Qo.attachEvent("onpropertychange",Sp)):t==="focusout"&&Ap()}function d1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cu(Ko)}function m1(t,n){if(t==="click")return Cu(n)}function p1(t,n){if(t==="input"||t==="change")return Cu(n)}function g1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var On=typeof Object.is=="function"?Object.is:g1;function Yo(t,n){if(On(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!vt.call(n,h)||!On(t[h],n[h]))return!1}return!0}function wp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rp(t,n){var a=wp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=wp(a)}}function Ip(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ip(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function xp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Di(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Di(t.document)}return n}function Lh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var y1=Gn&&"documentMode"in document&&11>=document.documentMode,Na=null,Uh=null,Xo=null,Ph=!1;function Cp(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ph||Na==null||Na!==Di(o)||(o=Na,"selectionStart"in o&&Lh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Xo&&Yo(Xo,o)||(Xo=o,o=yc(Uh,"onSelect"),0<o.length&&(n=new Vi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=Na)))}function jr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Da={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionrun:jr("Transition","TransitionRun"),transitionstart:jr("Transition","TransitionStart"),transitioncancel:jr("Transition","TransitionCancel"),transitionend:jr("Transition","TransitionEnd")},jh={},Np={};Gn&&(Np=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function zr(t){if(jh[t])return jh[t];if(!Da[t])return t;var n=Da[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Np)return jh[t]=n[a];return t}var Dp=zr("animationend"),Op=zr("animationiteration"),Mp=zr("animationstart"),_1=zr("transitionrun"),v1=zr("transitionstart"),E1=zr("transitioncancel"),Vp=zr("transitionend"),kp=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function ci(t,n){kp.set(t,n),Ci(n,[t])}var Nu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Qn=[],Oa=0,Bh=0;function Du(){for(var t=Oa,n=Bh=Oa=0;n<t;){var a=Qn[n];Qn[n++]=null;var o=Qn[n];Qn[n++]=null;var h=Qn[n];Qn[n++]=null;var f=Qn[n];if(Qn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Lp(a,h,f)}}function Ou(t,n,a,o){Qn[Oa++]=t,Qn[Oa++]=n,Qn[Oa++]=a,Qn[Oa++]=o,Bh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function qh(t,n,a,o){return Ou(t,n,a,o),Mu(t)}function Br(t,n){return Ou(t,null,null,n),Mu(t)}function Lp(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-pt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Mu(t){if(50<_l)throw _l=0,Zf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ma={};function T1(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,n,a,o){return new T1(t,n,a,o)}function Hh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rs(t,n){var a=t.alternate;return a===null?(a=Mn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Up(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Vu(t,n,a,o,h,f){var g=0;if(o=t,typeof t=="function")Hh(t)&&(g=1);else if(typeof t=="string")g=Rb(t,a,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Mn(31,a,n,h),t.elementType=R,t.lanes=f,t;case te:return qr(a.children,h,f,n);case ee:g=8,h|=24;break;case he:return t=Mn(12,a,n,h|2),t.elementType=he,t.lanes=f,t;case tt:return t=Mn(13,a,n,h),t.elementType=tt,t.lanes=f,t;case Me:return t=Mn(19,a,n,h),t.elementType=Me,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ye:g=10;break e;case ve:g=9;break e;case Fe:g=11;break e;case C:g=14;break e;case w:g=16,o=null;break e}g=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=Mn(g,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function qr(t,n,a,o){return t=Mn(7,t,o,n),t.lanes=a,t}function Fh(t,n,a){return t=Mn(6,t,null,n),t.lanes=a,t}function Pp(t){var n=Mn(18,null,null,0);return n.stateNode=t,n}function Gh(t,n,a){return n=Mn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var jp=new WeakMap;function Kn(t,n){if(typeof t=="object"&&t!==null){var a=jp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Ai(n)},jp.set(t,n),n)}return{value:t,source:n,stack:Ai(n)}}var Va=[],ka=0,ku=null,Jo=0,Yn=[],Xn=0,zs=null,Pi=1,ji="";function as(t,n){Va[ka++]=Jo,Va[ka++]=ku,ku=t,Jo=n}function zp(t,n,a){Yn[Xn++]=Pi,Yn[Xn++]=ji,Yn[Xn++]=zs,zs=t;var o=Pi;t=ji;var h=32-pt(o)-1;o&=~(1<<h),a+=1;var f=32-pt(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Pi=1<<32-pt(n)+h|a<<h|o,ji=f+t}else Pi=1<<f|a<<h|o,ji=t}function $h(t){t.return!==null&&(as(t,1),zp(t,1,0))}function Qh(t){for(;t===ku;)ku=Va[--ka],Va[ka]=null,Jo=Va[--ka],Va[ka]=null;for(;t===zs;)zs=Yn[--Xn],Yn[Xn]=null,ji=Yn[--Xn],Yn[Xn]=null,Pi=Yn[--Xn],Yn[Xn]=null}function Bp(t,n){Yn[Xn++]=Pi,Yn[Xn++]=ji,Yn[Xn++]=zs,Pi=n.id,ji=n.overflow,zs=t}var Zt=null,ut=null,qe=!1,Bs=null,Jn=!1,Kh=Error(r(519));function qs(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zo(Kn(n,t)),Kh}function qp(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Nt]=t,n[Gt]=o,a){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(a=0;a<El.length;a++)Le(El[a],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":Le("invalid",n),mu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Le("invalid",n);break;case"textarea":Le("invalid",n),Ms(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||r_(n.textContent,a)?(o.popover!=null&&(Le("beforetoggle",n),Le("toggle",n)),o.onScroll!=null&&Le("scroll",n),o.onScrollEnd!=null&&Le("scrollend",n),o.onClick!=null&&(n.onclick=ri),n=!0):n=!1,n||qs(t,!0)}function Hp(t){for(Zt=t.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:Zt=Zt.return}}function La(t){if(t!==Zt)return!1;if(!qe)return Hp(t),qe=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||dd(t.type,t.memoizedProps)),a=!a),a&&ut&&qs(t),Hp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ut=m_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ut=m_(t)}else n===27?(n=ut,nr(t.type)?(t=_d,_d=null,ut=t):ut=n):ut=Zt?Wn(t.stateNode.nextSibling):null;return!0}function Hr(){ut=Zt=null,qe=!1}function Yh(){var t=Bs;return t!==null&&(Sn===null?Sn=t:Sn.push.apply(Sn,t),Bs=null),t}function Zo(t){Bs===null?Bs=[t]:Bs.push(t)}var Xh=N(null),Fr=null,os=null;function Hs(t,n,a){ne(Xh,n._currentValue),n._currentValue=a}function ls(t){t._currentValue=Xh.current,K(Xh)}function Jh(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function Zh(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var x=0;x<n.length;x++)if(E.context===n[x]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Jh(f.return,a,t),o||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),Jh(g,a,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ua(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;On(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===De.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(wl):t=[wl])}h=h.return}t!==null&&Zh(n,t,a,o),n.flags|=262144}function Lu(t){for(t=t.firstContext;t!==null;){if(!On(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gr(t){Fr=t,os=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return Fp(Fr,t)}function Uu(t,n){return Fr===null&&Gr(t),Fp(t,n)}function Fp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},os===null){if(t===null)throw Error(r(308));os=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else os=os.next=n;return a}var b1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},A1=s.unstable_scheduleCallback,S1=s.unstable_NormalPriority,Mt={$$typeof:ye,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wh(){return{controller:new b1,data:new Map,refCount:0}}function Wo(t){t.refCount--,t.refCount===0&&A1(S1,function(){t.controller.abort()})}var el=null,ef=0,Pa=0,ja=null;function w1(t,n){if(el===null){var a=el=[];ef=0,Pa=sd(),ja={status:"pending",value:void 0,then:function(o){a.push(o)}}}return ef++,n.then(Gp,Gp),n}function Gp(){if(--ef===0&&el!==null){ja!==null&&(ja.status="fulfilled");var t=el;el=null,Pa=0,ja=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function R1(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var $p=q.S;q.S=function(t,n){Cy=Xt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&w1(t,n),$p!==null&&$p(t,n)};var $r=N(null);function tf(){var t=$r.current;return t!==null?t:ot.pooledCache}function Pu(t,n){n===null?ne($r,$r.current):ne($r,n.pool)}function Qp(){var t=tf();return t===null?null:{parent:Mt._currentValue,pool:t}}var za=Error(r(460)),nf=Error(r(474)),ju=Error(r(542)),zu={then:function(){}};function Kp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Yp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(ri,ri),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Jp(t),t;default:if(typeof n.status=="string")n.then(ri,ri);else{if(t=ot,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Jp(t),t}throw Kr=n,za}}function Qr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Kr=a,za):a}}var Kr=null;function Xp(){if(Kr===null)throw Error(r(459));var t=Kr;return Kr=null,t}function Jp(t){if(t===za||t===ju)throw Error(r(483))}var Ba=null,tl=0;function Bu(t){var n=tl;return tl+=1,Ba===null&&(Ba=[]),Yp(Ba,t,n)}function nl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function qu(t,n){throw n.$$typeof===M?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Zp(t){function n(k,O){if(t){var P=k.deletions;P===null?(k.deletions=[O],k.flags|=16):P.push(O)}}function a(k,O){if(!t)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=rs(k,O),k.index=0,k.sibling=null,k}function f(k,O,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<O?(k.flags|=67108866,O):P):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function g(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,P,Q){return O===null||O.tag!==6?(O=Fh(P,k.mode,Q),O.return=k,O):(O=h(O,P),O.return=k,O)}function x(k,O,P,Q){var fe=P.type;return fe===te?G(k,O,P.props.children,Q,P.key):O!==null&&(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&Qr(fe)===O.type)?(O=h(O,P.props),nl(O,P),O.return=k,O):(O=Vu(P.type,P.key,P.props,null,k.mode,Q),nl(O,P),O.return=k,O)}function j(k,O,P,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Gh(P,k.mode,Q),O.return=k,O):(O=h(O,P.children||[]),O.return=k,O)}function G(k,O,P,Q,fe){return O===null||O.tag!==7?(O=qr(P,k.mode,Q,fe),O.return=k,O):(O=h(O,P),O.return=k,O)}function Y(k,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Fh(""+O,k.mode,P),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case $:return P=Vu(O.type,O.key,O.props,null,k.mode,P),nl(P,O),P.return=k,P;case J:return O=Gh(O,k.mode,P),O.return=k,O;case w:return O=Qr(O),Y(k,O,P)}if(bt(O)||L(O))return O=qr(O,k.mode,P,null),O.return=k,O;if(typeof O.then=="function")return Y(k,Bu(O),P);if(O.$$typeof===ye)return Y(k,Uu(k,O),P);qu(k,O)}return null}function z(k,O,P,Q){var fe=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return fe!==null?null:E(k,O,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case $:return P.key===fe?x(k,O,P,Q):null;case J:return P.key===fe?j(k,O,P,Q):null;case w:return P=Qr(P),z(k,O,P,Q)}if(bt(P)||L(P))return fe!==null?null:G(k,O,P,Q,null);if(typeof P.then=="function")return z(k,O,Bu(P),Q);if(P.$$typeof===ye)return z(k,O,Uu(k,P),Q);qu(k,P)}return null}function H(k,O,P,Q,fe){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,E(O,k,""+Q,fe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case $:return k=k.get(Q.key===null?P:Q.key)||null,x(O,k,Q,fe);case J:return k=k.get(Q.key===null?P:Q.key)||null,j(O,k,Q,fe);case w:return Q=Qr(Q),H(k,O,P,Q,fe)}if(bt(Q)||L(Q))return k=k.get(P)||null,G(O,k,Q,fe,null);if(typeof Q.then=="function")return H(k,O,P,Bu(Q),fe);if(Q.$$typeof===ye)return H(k,O,P,Uu(O,Q),fe);qu(O,Q)}return null}function le(k,O,P,Q){for(var fe=null,Ge=null,ue=O,Oe=O=0,Pe=null;ue!==null&&Oe<P.length;Oe++){ue.index>Oe?(Pe=ue,ue=null):Pe=ue.sibling;var $e=z(k,ue,P[Oe],Q);if($e===null){ue===null&&(ue=Pe);break}t&&ue&&$e.alternate===null&&n(k,ue),O=f($e,O,Oe),Ge===null?fe=$e:Ge.sibling=$e,Ge=$e,ue=Pe}if(Oe===P.length)return a(k,ue),qe&&as(k,Oe),fe;if(ue===null){for(;Oe<P.length;Oe++)ue=Y(k,P[Oe],Q),ue!==null&&(O=f(ue,O,Oe),Ge===null?fe=ue:Ge.sibling=ue,Ge=ue);return qe&&as(k,Oe),fe}for(ue=o(ue);Oe<P.length;Oe++)Pe=H(ue,k,Oe,P[Oe],Q),Pe!==null&&(t&&Pe.alternate!==null&&ue.delete(Pe.key===null?Oe:Pe.key),O=f(Pe,O,Oe),Ge===null?fe=Pe:Ge.sibling=Pe,Ge=Pe);return t&&ue.forEach(function(or){return n(k,or)}),qe&&as(k,Oe),fe}function _e(k,O,P,Q){if(P==null)throw Error(r(151));for(var fe=null,Ge=null,ue=O,Oe=O=0,Pe=null,$e=P.next();ue!==null&&!$e.done;Oe++,$e=P.next()){ue.index>Oe?(Pe=ue,ue=null):Pe=ue.sibling;var or=z(k,ue,$e.value,Q);if(or===null){ue===null&&(ue=Pe);break}t&&ue&&or.alternate===null&&n(k,ue),O=f(or,O,Oe),Ge===null?fe=or:Ge.sibling=or,Ge=or,ue=Pe}if($e.done)return a(k,ue),qe&&as(k,Oe),fe;if(ue===null){for(;!$e.done;Oe++,$e=P.next())$e=Y(k,$e.value,Q),$e!==null&&(O=f($e,O,Oe),Ge===null?fe=$e:Ge.sibling=$e,Ge=$e);return qe&&as(k,Oe),fe}for(ue=o(ue);!$e.done;Oe++,$e=P.next())$e=H(ue,k,Oe,$e.value,Q),$e!==null&&(t&&$e.alternate!==null&&ue.delete($e.key===null?Oe:$e.key),O=f($e,O,Oe),Ge===null?fe=$e:Ge.sibling=$e,Ge=$e);return t&&ue.forEach(function(Ub){return n(k,Ub)}),qe&&as(k,Oe),fe}function at(k,O,P,Q){if(typeof P=="object"&&P!==null&&P.type===te&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case $:e:{for(var fe=P.key;O!==null;){if(O.key===fe){if(fe=P.type,fe===te){if(O.tag===7){a(k,O.sibling),Q=h(O,P.props.children),Q.return=k,k=Q;break e}}else if(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&Qr(fe)===O.type){a(k,O.sibling),Q=h(O,P.props),nl(Q,P),Q.return=k,k=Q;break e}a(k,O);break}else n(k,O);O=O.sibling}P.type===te?(Q=qr(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=Vu(P.type,P.key,P.props,null,k.mode,Q),nl(Q,P),Q.return=k,k=Q)}return g(k);case J:e:{for(fe=P.key;O!==null;){if(O.key===fe)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){a(k,O.sibling),Q=h(O,P.children||[]),Q.return=k,k=Q;break e}else{a(k,O);break}else n(k,O);O=O.sibling}Q=Gh(P,k.mode,Q),Q.return=k,k=Q}return g(k);case w:return P=Qr(P),at(k,O,P,Q)}if(bt(P))return le(k,O,P,Q);if(L(P)){if(fe=L(P),typeof fe!="function")throw Error(r(150));return P=fe.call(P),_e(k,O,P,Q)}if(typeof P.then=="function")return at(k,O,Bu(P),Q);if(P.$$typeof===ye)return at(k,O,Uu(k,P),Q);qu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(a(k,O.sibling),Q=h(O,P),Q.return=k,k=Q):(a(k,O),Q=Fh(P,k.mode,Q),Q.return=k,k=Q),g(k)):a(k,O)}return function(k,O,P,Q){try{tl=0;var fe=at(k,O,P,Q);return Ba=null,fe}catch(ue){if(ue===za||ue===ju)throw ue;var Ge=Mn(29,ue,null,k.mode);return Ge.lanes=Q,Ge.return=k,Ge}finally{}}}var Yr=Zp(!0),Wp=Zp(!1),Fs=!1;function sf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function $s(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ke&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Mu(t),Lp(t,null,a),n}return Ou(t,o,n,a),Mu(t)}function il(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,zt(t,a)}}function af(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var of=!1;function sl(){if(of){var t=ja;if(t!==null)throw t}}function rl(t,n,a,o){of=!1;var h=t.updateQueue;Fs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var x=E,j=x.next;x.next=null,g===null?f=j:g.next=j,g=x;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=j:E.next=j,G.lastBaseUpdate=x))}if(f!==null){var Y=h.baseState;g=0,G=j=x=null,E=f;do{var z=E.lane&-536870913,H=z!==E.lane;if(H?(Ue&z)===z:(o&z)===z){z!==0&&z===Pa&&(of=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var le=t,_e=E;z=n;var at=a;switch(_e.tag){case 1:if(le=_e.payload,typeof le=="function"){Y=le.call(at,Y,z);break e}Y=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=_e.payload,z=typeof le=="function"?le.call(at,Y,z):le,z==null)break e;Y=S({},Y,z);break e;case 2:Fs=!0}}z=E.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(j=G=H,x=Y):G=G.next=H,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(x=Y),h.baseState=x,h.firstBaseUpdate=j,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Js|=g,t.lanes=g,t.memoizedState=Y}}function eg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function tg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)eg(a[t],n)}var qa=N(null),Hu=N(0);function ng(t,n){t=ys,ne(Hu,t),ne(qa,n),ys=t|n.baseLanes}function lf(){ne(Hu,ys),ne(qa,qa.current)}function uf(){ys=Hu.current,K(qa),K(Hu)}var Vn=N(null),Zn=null;function Qs(t){var n=t.alternate;ne(wt,wt.current&1),ne(Vn,t),Zn===null&&(n===null||qa.current!==null||n.memoizedState!==null)&&(Zn=t)}function cf(t){ne(wt,wt.current),ne(Vn,t),Zn===null&&(Zn=t)}function ig(t){t.tag===22?(ne(wt,wt.current),ne(Vn,t),Zn===null&&(Zn=t)):Ks()}function Ks(){ne(wt,wt.current),ne(Vn,Vn.current)}function kn(t){K(Vn),Zn===t&&(Zn=null),K(wt)}var wt=N(0);function Fu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||gd(a)||yd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var us=0,Ne=null,st=null,Vt=null,Gu=!1,Ha=!1,Xr=!1,$u=0,al=0,Fa=null,I1=0;function Et(){throw Error(r(321))}function hf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!On(t[a],n[a]))return!1;return!0}function ff(t,n,a,o,h,f){return us=f,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?zg:If,Xr=!1,f=a(o,h),Xr=!1,Ha&&(f=rg(n,a,o,h)),sg(t),f}function sg(t){q.H=ul;var n=st!==null&&st.next!==null;if(us=0,Vt=st=Ne=null,Gu=!1,al=0,Fa=null,n)throw Error(r(300));t===null||kt||(t=t.dependencies,t!==null&&Lu(t)&&(kt=!0))}function rg(t,n,a,o){Ne=t;var h=0;do{if(Ha&&(Fa=null),al=0,Ha=!1,25<=h)throw Error(r(301));if(h+=1,Vt=st=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Bg,f=n(a,o)}while(Ha);return f}function x1(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?ol(n):n,t=t.useState()[0],(st!==null?st.memoizedState:null)!==t&&(Ne.flags|=1024),n}function df(){var t=$u!==0;return $u=0,t}function mf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function pf(t){if(Gu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Gu=!1}us=0,Vt=st=Ne=null,Ha=!1,al=$u=0,Fa=null}function yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Ne.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function Rt(){if(st===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var n=Vt===null?Ne.memoizedState:Vt.next;if(n!==null)Vt=n,st=t;else{if(t===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Vt===null?Ne.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function Qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(t){var n=al;return al+=1,Fa===null&&(Fa=[]),t=Yp(Fa,t,n),n=Ne,(Vt===null?n.memoizedState:Vt.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?zg:If),t}function Ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ol(t);if(t.$$typeof===ye)return Wt(t)}throw Error(r(438,String(t)))}function gf(t){var n=null,a=Ne.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Ne.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Qu(),Ne.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=V;return n.index++,a}function cs(t,n){return typeof n=="function"?n(t):n}function Yu(t){var n=Rt();return yf(n,st,t)}function yf(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,x=null,j=n,G=!1;do{var Y=j.lane&-536870913;if(Y!==j.lane?(Ue&Y)===Y:(us&Y)===Y){var z=j.revertLane;if(z===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Y===Pa&&(G=!0);else if((us&z)===z){j=j.next,z===Pa&&(G=!0);continue}else Y={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(E=x=Y,g=f):x=x.next=Y,Ne.lanes|=z,Js|=z;Y=j.action,Xr&&a(f,Y),f=j.hasEagerState?j.eagerState:a(f,Y)}else z={lane:Y,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(E=x=z,g=f):x=x.next=z,Ne.lanes|=Y,Js|=Y;j=j.next}while(j!==null&&j!==n);if(x===null?g=f:x.next=E,!On(f,t.memoizedState)&&(kt=!0,G&&(a=ja,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=x,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function _f(t){var n=Rt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);On(f,n.memoizedState)||(kt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function ag(t,n,a){var o=Ne,h=Rt(),f=qe;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!On((st||h).memoizedState,a);if(g&&(h.memoizedState=a,kt=!0),h=h.queue,Tf(ug.bind(null,o,h,t),[t]),h.getSnapshot!==n||g||Vt!==null&&Vt.memoizedState.tag&1){if(o.flags|=2048,Ga(9,{destroy:void 0},lg.bind(null,o,h,a,n),null),ot===null)throw Error(r(349));f||(us&127)!==0||og(o,n,a)}return a}function og(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ne.updateQueue,n===null?(n=Qu(),Ne.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function lg(t,n,a,o){n.value=a,n.getSnapshot=o,cg(n)&&hg(t)}function ug(t,n,a){return a(function(){cg(n)&&hg(t)})}function cg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!On(t,a)}catch{return!0}}function hg(t){var n=Br(t,2);n!==null&&wn(n,t,2)}function vf(t){var n=yn();if(typeof t=="function"){var a=t;if(t=a(),Xr){pn(!0);try{a()}finally{pn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:t},n}function fg(t,n,a,o){return t.baseState=a,yf(t,st,typeof o=="function"?o:cs)}function C1(t,n,a,o,h){if(Zu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};q.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,dg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function dg(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=q.T,g={};q.T=g;try{var E=a(h,o),x=q.S;x!==null&&x(g,E),mg(t,n,E)}catch(j){Ef(t,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),q.T=f}}else try{f=a(h,o),mg(t,n,f)}catch(j){Ef(t,n,j)}}function mg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){pg(t,n,o)},function(o){return Ef(t,n,o)}):pg(t,n,a)}function pg(t,n,a){n.status="fulfilled",n.value=a,gg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,dg(t,a)))}function Ef(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,gg(n),n=n.next;while(n!==o)}t.action=null}function gg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function yg(t,n){return n}function _g(t,n){if(qe){var a=ot.formState;if(a!==null){e:{var o=Ne;if(qe){if(ut){t:{for(var h=ut,f=Jn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Wn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ut=Wn(h.nextSibling),o=h.data==="F!";break e}}qs(o)}o=!1}o&&(n=a[0])}}return a=yn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yg,lastRenderedState:n},a.queue=o,a=Ug.bind(null,Ne,o),o.dispatch=a,o=vf(!1),f=Rf.bind(null,Ne,!1,o.queue),o=yn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=C1.bind(null,Ne,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function vg(t){var n=Rt();return Eg(n,st,t)}function Eg(t,n,a){if(n=yf(t,n,yg)[0],t=Yu(cs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=ol(n)}catch(g){throw g===za?ju:g}else o=n;n=Rt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Ne.flags|=2048,Ga(9,{destroy:void 0},N1.bind(null,h,a),null)),[o,f,t]}function N1(t,n){t.action=n}function Tg(t){var n=Rt(),a=st;if(a!==null)return Eg(n,a,t);Rt(),n=n.memoizedState,a=Rt();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function Ga(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=Qu(),Ne.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function bg(){return Rt().memoizedState}function Xu(t,n,a,o){var h=yn();Ne.flags|=t,h.memoizedState=Ga(1|n,{destroy:void 0},a,o===void 0?null:o)}function Ju(t,n,a,o){var h=Rt();o=o===void 0?null:o;var f=h.memoizedState.inst;st!==null&&o!==null&&hf(o,st.memoizedState.deps)?h.memoizedState=Ga(n,f,a,o):(Ne.flags|=t,h.memoizedState=Ga(1|n,f,a,o))}function Ag(t,n){Xu(8390656,8,t,n)}function Tf(t,n){Ju(2048,8,t,n)}function D1(t){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=Qu(),Ne.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Sg(t){var n=Rt().memoizedState;return D1({ref:n,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function wg(t,n){return Ju(4,2,t,n)}function Rg(t,n){return Ju(4,4,t,n)}function Ig(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function xg(t,n,a){a=a!=null?a.concat([t]):null,Ju(4,4,Ig.bind(null,n,t),a)}function bf(){}function Cg(t,n){var a=Rt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&hf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Ng(t,n){var a=Rt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&hf(n,o[1]))return o[0];if(o=t(),Xr){pn(!0);try{t()}finally{pn(!1)}}return a.memoizedState=[o,n],o}function Af(t,n,a){return a===void 0||(us&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Dy(),Ne.lanes|=t,Js|=t,a)}function Dg(t,n,a,o){return On(a,n)?a:qa.current!==null?(t=Af(t,a,o),On(t,n)||(kt=!0),t):(us&42)===0||(us&1073741824)!==0&&(Ue&261930)===0?(kt=!0,t.memoizedState=a):(t=Dy(),Ne.lanes|=t,Js|=t,n)}function Og(t,n,a,o,h){var f=se.p;se.p=f!==0&&8>f?f:8;var g=q.T,E={};q.T=E,Rf(t,!1,n,a);try{var x=h(),j=q.S;if(j!==null&&j(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var G=R1(x,o);ll(t,n,G,Pn(t))}else ll(t,n,o,Pn(t))}catch(Y){ll(t,n,{then:function(){},status:"rejected",reason:Y},Pn())}finally{se.p=f,g!==null&&E.types!==null&&(g.types=E.types),q.T=g}}function O1(){}function Sf(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=Mg(t).queue;Og(t,h,n,ce,a===null?O1:function(){return Vg(t),a(o)})}function Mg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:ce},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Vg(t){var n=Mg(t);n.next===null&&(n=t.alternate.memoizedState),ll(t,n.next.queue,{},Pn())}function wf(){return Wt(wl)}function kg(){return Rt().memoizedState}function Lg(){return Rt().memoizedState}function M1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Pn();t=Gs(a);var o=$s(n,t,a);o!==null&&(wn(o,n,a),il(o,n,a)),n={cache:Wh()},t.payload=n;return}n=n.return}}function V1(t,n,a){var o=Pn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Zu(t)?Pg(n,a):(a=qh(t,n,a,o),a!==null&&(wn(a,t,o),jg(a,n,o)))}function Ug(t,n,a){var o=Pn();ll(t,n,a,o)}function ll(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zu(t))Pg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,On(E,g))return Ou(t,n,h,0),ot===null&&Du(),!1}catch{}finally{}if(a=qh(t,n,h,o),a!==null)return wn(a,t,o),jg(a,n,o),!0}return!1}function Rf(t,n,a,o){if(o={lane:2,revertLane:sd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Zu(t)){if(n)throw Error(r(479))}else n=qh(t,a,o,2),n!==null&&wn(n,t,2)}function Zu(t){var n=t.alternate;return t===Ne||n!==null&&n===Ne}function Pg(t,n){Ha=Gu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function jg(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,zt(t,a)}}var ul={readContext:Wt,use:Ku,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};ul.useEffectEvent=Et;var zg={readContext:Wt,use:Ku,useCallback:function(t,n){return yn().memoizedState=[t,n===void 0?null:n],t},useContext:Wt,useEffect:Ag,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Xu(4194308,4,Ig.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Xu(4194308,4,t,n)},useInsertionEffect:function(t,n){Xu(4,2,t,n)},useMemo:function(t,n){var a=yn();n=n===void 0?null:n;var o=t();if(Xr){pn(!0);try{t()}finally{pn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=yn();if(a!==void 0){var h=a(n);if(Xr){pn(!0);try{a(n)}finally{pn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=V1.bind(null,Ne,t),[o.memoizedState,t]},useRef:function(t){var n=yn();return t={current:t},n.memoizedState=t},useState:function(t){t=vf(t);var n=t.queue,a=Ug.bind(null,Ne,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:bf,useDeferredValue:function(t,n){var a=yn();return Af(a,t,n)},useTransition:function(){var t=vf(!1);return t=Og.bind(null,Ne,t.queue,!0,!1),yn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Ne,h=yn();if(qe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ot===null)throw Error(r(349));(Ue&127)!==0||og(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Ag(ug.bind(null,o,f,t),[t]),o.flags|=2048,Ga(9,{destroy:void 0},lg.bind(null,o,f,a,n),null),a},useId:function(){var t=yn(),n=ot.identifierPrefix;if(qe){var a=ji,o=Pi;a=(o&~(1<<32-pt(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=$u++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=I1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:wf,useFormState:_g,useActionState:_g,useOptimistic:function(t){var n=yn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Rf.bind(null,Ne,!0,a),a.dispatch=n,[t,n]},useMemoCache:gf,useCacheRefresh:function(){return yn().memoizedState=M1.bind(null,Ne)},useEffectEvent:function(t){var n=yn(),a={impl:t};return n.memoizedState=a,function(){if((Ke&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},If={readContext:Wt,use:Ku,useCallback:Cg,useContext:Wt,useEffect:Tf,useImperativeHandle:xg,useInsertionEffect:wg,useLayoutEffect:Rg,useMemo:Ng,useReducer:Yu,useRef:bg,useState:function(){return Yu(cs)},useDebugValue:bf,useDeferredValue:function(t,n){var a=Rt();return Dg(a,st.memoizedState,t,n)},useTransition:function(){var t=Yu(cs)[0],n=Rt().memoizedState;return[typeof t=="boolean"?t:ol(t),n]},useSyncExternalStore:ag,useId:kg,useHostTransitionStatus:wf,useFormState:vg,useActionState:vg,useOptimistic:function(t,n){var a=Rt();return fg(a,st,t,n)},useMemoCache:gf,useCacheRefresh:Lg};If.useEffectEvent=Sg;var Bg={readContext:Wt,use:Ku,useCallback:Cg,useContext:Wt,useEffect:Tf,useImperativeHandle:xg,useInsertionEffect:wg,useLayoutEffect:Rg,useMemo:Ng,useReducer:_f,useRef:bg,useState:function(){return _f(cs)},useDebugValue:bf,useDeferredValue:function(t,n){var a=Rt();return st===null?Af(a,t,n):Dg(a,st.memoizedState,t,n)},useTransition:function(){var t=_f(cs)[0],n=Rt().memoizedState;return[typeof t=="boolean"?t:ol(t),n]},useSyncExternalStore:ag,useId:kg,useHostTransitionStatus:wf,useFormState:Tg,useActionState:Tg,useOptimistic:function(t,n){var a=Rt();return st!==null?fg(a,st,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:gf,useCacheRefresh:Lg};Bg.useEffectEvent=Sg;function xf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Cf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=Pn(),h=Gs(o);h.payload=n,a!=null&&(h.callback=a),n=$s(t,h,o),n!==null&&(wn(n,t,o),il(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=Pn(),h=Gs(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=$s(t,h,o),n!==null&&(wn(n,t,o),il(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Pn(),o=Gs(a);o.tag=2,n!=null&&(o.callback=n),n=$s(t,o,a),n!==null&&(wn(n,t,a),il(n,t,a))}};function qg(t,n,a,o,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Yo(a,o)||!Yo(h,f):!0}function Hg(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Cf.enqueueReplaceState(n,n.state,null)}function Jr(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Fg(t){Nu(t)}function Gg(t){console.error(t)}function $g(t){Nu(t)}function Wu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Qg(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nf(t,n,a){return a=Gs(a),a.tag=3,a.payload={element:null},a.callback=function(){Wu(t,n)},a}function Kg(t){return t=Gs(t),t.tag=3,t}function Yg(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Qg(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Qg(n,a,o),typeof h!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function k1(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Ua(n,a,h,!0),a=Vn.current,a!==null){switch(a.tag){case 31:case 13:return Zn===null?hc():a.alternate===null&&Tt===0&&(Tt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===zu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),td(t,o,h)),!1;case 22:return a.flags|=65536,o===zu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),td(t,o,h)),!1}throw Error(r(435,a.tag))}return td(t,o,h),hc(),!1}if(qe)return n=Vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Kh&&(t=Error(r(422),{cause:o}),Zo(Kn(t,a)))):(o!==Kh&&(n=Error(r(423),{cause:o}),Zo(Kn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Kn(o,a),h=Nf(t.stateNode,o,h),af(t,h),Tt!==4&&(Tt=2)),!1;var f=Error(r(520),{cause:o});if(f=Kn(f,a),yl===null?yl=[f]:yl.push(f),Tt!==4&&(Tt=2),n===null)return!0;o=Kn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Nf(a.stateNode,o,t),af(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Zs===null||!Zs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Kg(h),Yg(h,t,a,o),af(a,h),!1}a=a.return}while(a!==null);return!1}var Df=Error(r(461)),kt=!1;function en(t,n,a,o){n.child=t===null?Wp(n,null,a,o):Yr(n,t.child,a,o)}function Xg(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Gr(n),o=ff(t,n,a,g,f,h),E=df(),t!==null&&!kt?(mf(t,n,h),hs(t,n,h)):(qe&&E&&$h(n),n.flags|=1,en(t,n,o,h),n.child)}function Jg(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!Hh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Zg(t,n,f,o,h)):(t=Vu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!jf(t,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Yo,a(g,o)&&t.ref===n.ref)return hs(t,n,h)}return n.flags|=1,t=rs(f,o),t.ref=n.ref,t.return=n,n.child=t}function Zg(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(Yo(f,o)&&t.ref===n.ref)if(kt=!1,n.pendingProps=o=f,jf(t,h))(t.flags&131072)!==0&&(kt=!0);else return n.lanes=t.lanes,hs(t,n,h)}return Of(t,n,a,o,h)}function Wg(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ey(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Pu(n,f!==null?f.cachePool:null),f!==null?ng(n,f):lf(),ig(n);else return o=n.lanes=536870912,ey(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Pu(n,f.cachePool),ng(n,f),Ks(),n.memoizedState=null):(t!==null&&Pu(n,null),lf(),Ks());return en(t,n,h,a),n.child}function cl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ey(t,n,a,o,h){var f=tf();return f=f===null?null:{parent:Mt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Pu(n,null),lf(),ig(n),t!==null&&Ua(t,n,o,!0),n.childLanes=h,null}function ec(t,n){return n=nc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ty(t,n,a){return Yr(n,t.child,null,a),t=ec(n,n.pendingProps),t.flags|=2,kn(n),n.memoizedState=null,t}function L1(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(qe){if(o.mode==="hidden")return t=ec(n,o),n.lanes=536870912,cl(null,t);if(cf(n),(t=ut)?(t=d_(t,Jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:zs!==null?{id:Pi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=Pp(t),a.return=n,n.child=a,Zt=n,ut=null)):t=null,t===null)throw qs(n);return n.lanes=536870912,null}return ec(n,o)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(cf(n),h)if(n.flags&256)n.flags&=-257,n=ty(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(kt||Ua(t,n,a,!1),h=(a&t.childLanes)!==0,kt||h){if(o=ot,o!==null&&(g=Ft(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Br(t,g),wn(o,t,g),Df;hc(),n=ty(t,n,a)}else t=f.treeContext,ut=Wn(g.nextSibling),Zt=n,qe=!0,Bs=null,Jn=!1,t!==null&&Bp(n,t),n=ec(n,o),n.flags|=4096;return n}return t=rs(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function tc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Of(t,n,a,o,h){return Gr(n),a=ff(t,n,a,o,void 0,h),o=df(),t!==null&&!kt?(mf(t,n,h),hs(t,n,h)):(qe&&o&&$h(n),n.flags|=1,en(t,n,a,h),n.child)}function ny(t,n,a,o,h,f){return Gr(n),n.updateQueue=null,a=rg(n,o,a,h),sg(t),o=df(),t!==null&&!kt?(mf(t,n,f),hs(t,n,f)):(qe&&o&&$h(n),n.flags|=1,en(t,n,a,f),n.child)}function iy(t,n,a,o,h){if(Gr(n),n.stateNode===null){var f=Ma,g=a.contextType;typeof g=="object"&&g!==null&&(f=Wt(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Cf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},sf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?Wt(g):Ma,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(xf(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Cf.enqueueReplaceState(f,f.state,null),rl(n,o,f,h),sl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,x=Jr(a,E);f.props=x;var j=f.context,G=a.contextType;g=Ma,typeof G=="object"&&G!==null&&(g=Wt(G));var Y=a.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==g)&&Hg(n,f,o,g),Fs=!1;var z=n.memoizedState;f.state=z,rl(n,o,f,h),sl(),j=n.memoizedState,E||z!==j||Fs?(typeof Y=="function"&&(xf(n,a,Y,o),j=n.memoizedState),(x=Fs||qg(n,a,x,o,z,j,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=g,o=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,rf(t,n),g=n.memoizedProps,G=Jr(a,g),f.props=G,Y=n.pendingProps,z=f.context,j=a.contextType,x=Ma,typeof j=="object"&&j!==null&&(x=Wt(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||z!==x)&&Hg(n,f,o,x),Fs=!1,z=n.memoizedState,f.state=z,rl(n,o,f,h),sl();var H=n.memoizedState;g!==Y||z!==H||Fs||t!==null&&t.dependencies!==null&&Lu(t.dependencies)?(typeof E=="function"&&(xf(n,a,E,o),H=n.memoizedState),(G=Fs||qg(n,a,G,o,z,H,x)||t!==null&&t.dependencies!==null&&Lu(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=x,o=G):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,tc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Yr(n,t.child,null,h),n.child=Yr(n,null,a,h)):en(t,n,a,h),n.memoizedState=f.state,t=n.child):t=hs(t,n,h),t}function sy(t,n,a,o){return Hr(),n.flags|=256,en(t,n,a,o),n.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vf(t){return{baseLanes:t,cachePool:Qp()}}function kf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Un),t}function ry(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(qe){if(h?Qs(n):Ks(),(t=ut)?(t=d_(t,Jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:zs!==null?{id:Pi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=Pp(t),a.return=n,n.child=a,Zt=n,ut=null)):t=null,t===null)throw qs(n);return yd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ks(),h=n.mode,E=nc({mode:"hidden",children:E},h),o=qr(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Vf(a),o.childLanes=kf(t,g,a),n.memoizedState=Mf,cl(null,o)):(Qs(n),Lf(n,E))}var x=t.memoizedState;if(x!==null&&(E=x.dehydrated,E!==null)){if(f)n.flags&256?(Qs(n),n.flags&=-257,n=Uf(t,n,a)):n.memoizedState!==null?(Ks(),n.child=t.child,n.flags|=128,n=null):(Ks(),E=o.fallback,h=n.mode,o=nc({mode:"visible",children:o.children},h),E=qr(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Yr(n,t.child,null,a),o=n.child,o.memoizedState=Vf(a),o.childLanes=kf(t,g,a),n.memoizedState=Mf,n=cl(null,o));else if(Qs(n),yd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var j=g.dgst;g=j,o=Error(r(419)),o.stack="",o.digest=g,Zo({value:o,source:null,stack:null}),n=Uf(t,n,a)}else if(kt||Ua(t,n,a,!1),g=(a&t.childLanes)!==0,kt||g){if(g=ot,g!==null&&(o=Ft(g,a),o!==0&&o!==x.retryLane))throw x.retryLane=o,Br(t,o),wn(g,t,o),Df;gd(E)||hc(),n=Uf(t,n,a)}else gd(E)?(n.flags|=192,n.child=t.child,n=null):(t=x.treeContext,ut=Wn(E.nextSibling),Zt=n,qe=!0,Bs=null,Jn=!1,t!==null&&Bp(n,t),n=Lf(n,o.children),n.flags|=4096);return n}return h?(Ks(),E=o.fallback,h=n.mode,x=t.child,j=x.sibling,o=rs(x,{mode:"hidden",children:o.children}),o.subtreeFlags=x.subtreeFlags&65011712,j!==null?E=rs(j,E):(E=qr(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,cl(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Vf(a):(h=E.cachePool,h!==null?(x=Mt._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=Qp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=kf(t,g,a),n.memoizedState=Mf,cl(t.child,o)):(Qs(n),a=t.child,t=a.sibling,a=rs(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Lf(t,n){return n=nc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function nc(t,n){return t=Mn(22,t,null,n),t.lanes=0,t}function Uf(t,n,a){return Yr(n,t.child,null,a),t=Lf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ay(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Jh(t.return,n,a)}function Pf(t,n,a,o,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function oy(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=wt.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,ne(wt,g),en(t,n,o,a),o=qe?Jo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ay(t,a,n);else if(t.tag===19)ay(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Fu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Pf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Fu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Pf(n,!0,a,null,f,o);break;case"together":Pf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function hs(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Js|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Ua(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=rs(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=rs(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function jf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Lu(t)))}function U1(t,n,a){switch(n.tag){case 3:_t(n,n.stateNode.containerInfo),Hs(n,Mt,t.memoizedState.cache),Hr();break;case 27:case 5:vi(n);break;case 4:_t(n,n.stateNode.containerInfo);break;case 10:Hs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,cf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Qs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?ry(t,n,a):(Qs(n),t=hs(t,n,a),t!==null?t.sibling:null);Qs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Ua(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return oy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(wt,wt.current),o)break;return null;case 22:return n.lanes=0,Wg(t,n,a,n.pendingProps);case 24:Hs(n,Mt,t.memoizedState.cache)}return hs(t,n,a)}function ly(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)kt=!0;else{if(!jf(t,a)&&(n.flags&128)===0)return kt=!1,U1(t,n,a);kt=(t.flags&131072)!==0}else kt=!1,qe&&(n.flags&1048576)!==0&&zp(n,Jo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Qr(n.elementType),n.type=t,typeof t=="function")Hh(t)?(o=Jr(t,o),n.tag=1,n=iy(null,n,t,o,a)):(n.tag=0,n=Of(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Fe){n.tag=11,n=Xg(null,n,t,o,a);break e}else if(h===C){n.tag=14,n=Jg(null,n,t,o,a);break e}}throw n=Ee(t)||t,Error(r(306,n,""))}}return n;case 0:return Of(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Jr(o,n.pendingProps),iy(t,n,o,h,a);case 3:e:{if(_t(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,rf(t,n),rl(n,o,null,a);var g=n.memoizedState;if(o=g.cache,Hs(n,Mt,o),o!==f.cache&&Zh(n,[Mt],a,!0),sl(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=sy(t,n,o,a);break e}else if(o!==h){h=Kn(Error(r(424)),n),Zo(h),n=sy(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=Wn(t.firstChild),Zt=n,qe=!0,Bs=null,Jn=!0,a=Wp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Hr(),o===h){n=hs(t,n,a);break e}en(t,n,o,a)}n=n.child}return n;case 26:return tc(t,n),t===null?(a=v_(n.type,null,n.pendingProps,null))?n.memoizedState=a:qe||(a=n.type,t=n.pendingProps,o=_c(Se.current).createElement(a),o[Nt]=n,o[Gt]=t,tn(o,a,t),Dt(o),n.stateNode=o):n.memoizedState=v_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return vi(n),t===null&&qe&&(o=n.stateNode=g_(n.type,n.pendingProps,Se.current),Zt=n,Jn=!0,h=ut,nr(n.type)?(_d=h,ut=Wn(o.firstChild)):ut=h),en(t,n,n.pendingProps.children,a),tc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&qe&&((h=o=ut)&&(o=db(o,n.type,n.pendingProps,Jn),o!==null?(n.stateNode=o,Zt=n,ut=Wn(o.firstChild),Jn=!1,h=!0):h=!1),h||qs(n)),vi(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,dd(h,f)?o=null:g!==null&&dd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=ff(t,n,x1,null,null,a),wl._currentValue=h),tc(t,n),en(t,n,o,a),n.child;case 6:return t===null&&qe&&((t=a=ut)&&(a=mb(a,n.pendingProps,Jn),a!==null?(n.stateNode=a,Zt=n,ut=null,t=!0):t=!1),t||qs(n)),null;case 13:return ry(t,n,a);case 4:return _t(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Yr(n,null,o,a):en(t,n,o,a),n.child;case 11:return Xg(t,n,n.type,n.pendingProps,a);case 7:return en(t,n,n.pendingProps,a),n.child;case 8:return en(t,n,n.pendingProps.children,a),n.child;case 12:return en(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Hs(n,n.type,o.value),en(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Gr(n),h=Wt(h),o=o(h),n.flags|=1,en(t,n,o,a),n.child;case 14:return Jg(t,n,n.type,n.pendingProps,a);case 15:return Zg(t,n,n.type,n.pendingProps,a);case 19:return oy(t,n,a);case 31:return L1(t,n,a);case 22:return Wg(t,n,a,n.pendingProps);case 24:return Gr(n),o=Wt(Mt),t===null?(h=tf(),h===null&&(h=ot,f=Wh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},sf(n),Hs(n,Mt,h)):((t.lanes&a)!==0&&(rf(t,n),rl(n,null,null,a),sl()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Hs(n,Mt,o)):(o=f.cache,Hs(n,Mt,o),o!==h.cache&&Zh(n,[Mt],a,!0))),en(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function fs(t){t.flags|=4}function zf(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(ky())t.flags|=8192;else throw Kr=zu,nf}else t.flags&=-16777217}function uy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!S_(n))if(ky())t.flags|=8192;else throw Kr=zu,nf}function ic(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?me():536870912,t.lanes|=n,Ya|=n)}function hl(t,n){if(!qe)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ct(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function P1(t,n,a){var o=n.pendingProps;switch(Qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(n),null;case 1:return ct(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ls(Mt),Xe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(La(n)?fs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Yh())),ct(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(fs(n),f!==null?(ct(n),uy(n,f)):(ct(n),zf(n,h,null,o,a))):f?f!==t.memoizedState?(fs(n),ct(n),uy(n,f)):(ct(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&fs(n),ct(n),zf(n,h,t,o,a)),null;case 27:if(Ei(n),a=Se.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&fs(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ct(n),null}t=re.current,La(n)?qp(n):(t=g_(h,o,a),n.stateNode=t,fs(n))}return ct(n),null;case 5:if(Ei(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&fs(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ct(n),null}if(f=re.current,La(n))qp(n);else{var g=_c(Se.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Nt]=n,f[Gt]=o;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(tn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&fs(n)}}return ct(n),zf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&fs(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=Se.current,La(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Zt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Nt]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||r_(t.nodeValue,a)),t||qs(n,!0)}else t=_c(t).createTextNode(o),t[Nt]=n,n.stateNode=t}return ct(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=La(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Nt]=n}else Hr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ct(n),t=!1}else a=Yh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(kn(n),n):(kn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ct(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=La(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Nt]=n}else Hr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ct(n),h=!1}else h=Yh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(kn(n),n):(kn(n),null)}return kn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),ic(n,n.updateQueue),ct(n),null);case 4:return Xe(),t===null&&ld(n.stateNode.containerInfo),ct(n),null;case 10:return ls(n.type),ct(n),null;case 19:if(K(wt),o=n.memoizedState,o===null)return ct(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)hl(o,!1);else{if(Tt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Fu(t),f!==null){for(n.flags|=128,hl(o,!1),t=f.updateQueue,n.updateQueue=t,ic(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Up(a,t),a=a.sibling;return ne(wt,wt.current&1|2),qe&&as(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Xt()>lc&&(n.flags|=128,h=!0,hl(o,!1),n.lanes=4194304)}else{if(!h)if(t=Fu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ic(n,t),hl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!qe)return ct(n),null}else 2*Xt()-o.renderingStartTime>lc&&a!==536870912&&(n.flags|=128,h=!0,hl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xt(),t.sibling=null,a=wt.current,ne(wt,h?a&1|2:a&1),qe&&as(n,o.treeForkCount),t):(ct(n),null);case 22:case 23:return kn(n),uf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ct(n),n.subtreeFlags&6&&(n.flags|=8192)):ct(n),a=n.updateQueue,a!==null&&ic(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&K($r),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ls(Mt),ct(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function j1(t,n){switch(Qh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ls(Mt),Xe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ei(n),null;case 31:if(n.memoizedState!==null){if(kn(n),n.alternate===null)throw Error(r(340));Hr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(kn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Hr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(wt),null;case 4:return Xe(),null;case 10:return ls(n.type),null;case 22:case 23:return kn(n),uf(),t!==null&&K($r),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ls(Mt),null;case 25:return null;default:return null}}function cy(t,n){switch(Qh(n),n.tag){case 3:ls(Mt),Xe();break;case 26:case 27:case 5:Ei(n);break;case 4:Xe();break;case 31:n.memoizedState!==null&&kn(n);break;case 13:kn(n);break;case 19:K(wt);break;case 10:ls(n.type);break;case 22:case 23:kn(n),uf(),t!==null&&K($r);break;case 24:ls(Mt)}}function fl(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){We(n,n.return,E)}}function Ys(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var x=a,j=E;try{j()}catch(G){We(h,x,G)}}}o=o.next}while(o!==f)}}catch(G){We(n,n.return,G)}}function hy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{tg(n,a)}catch(o){We(t,t.return,o)}}}function fy(t,n,a){a.props=Jr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){We(t,n,o)}}function dl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){We(t,n,h)}}function zi(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){We(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,n,h)}else a.current=null}function dy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function Bf(t,n,a){try{var o=t.stateNode;ob(o,t.type,a,n),o[Gt]=n}catch(h){We(t,t.return,h)}}function my(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&nr(t.type)||t.tag===4}function qf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||my(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&nr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hf(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ri));else if(o!==4&&(o===27&&nr(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Hf(t,n,a),t=t.sibling;t!==null;)Hf(t,n,a),t=t.sibling}function sc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&nr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(sc(t,n,a),t=t.sibling;t!==null;)sc(t,n,a),t=t.sibling}function py(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);tn(n,o,a),n[Nt]=t,n[Gt]=a}catch(f){We(t,t.return,f)}}var ds=!1,Lt=!1,Ff=!1,gy=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function z1(t,n){if(t=t.containerInfo,hd=wc,t=xp(t),Lh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var g=0,E=-1,x=-1,j=0,G=0,Y=t,z=null;t:for(;;){for(var H;Y!==a||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||o!==0&&Y.nodeType!==3||(x=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(H=Y.firstChild)!==null;)z=Y,Y=H;for(;;){if(Y===t)break t;if(z===a&&++j===h&&(E=g),z===f&&++G===o&&(x=g),(H=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=H}a=E===-1||x===-1?null:{start:E,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(fd={focusedElem:t,selectionRange:a},wc=!1,Qt=n;Qt!==null;)if(n=Qt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Qt=t;else for(;Qt!==null;){switch(n=Qt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var le=Jr(a.type,h);t=o.getSnapshotBeforeUpdate(le,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(_e){We(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)pd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":pd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Qt=t;break}Qt=n.return}}function yy(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ps(t,a),o&4&&fl(5,a);break;case 1:if(ps(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){We(a,a.return,g)}else{var h=Jr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){We(a,a.return,g)}}o&64&&hy(a),o&512&&dl(a,a.return);break;case 3:if(ps(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{tg(t,n)}catch(g){We(a,a.return,g)}}break;case 27:n===null&&o&4&&py(a);case 26:case 5:ps(t,a),n===null&&o&4&&dy(a),o&512&&dl(a,a.return);break;case 12:ps(t,a);break;case 31:ps(t,a),o&4&&Ey(t,a);break;case 13:ps(t,a),o&4&&Ty(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Y1.bind(null,a),pb(t,a))));break;case 22:if(o=a.memoizedState!==null||ds,!o){n=n!==null&&n.memoizedState!==null||Lt,h=ds;var f=Lt;ds=o,(Lt=n)&&!f?gs(t,a,(a.subtreeFlags&8772)!==0):ps(t,a),ds=h,Lt=f}break;case 30:break;default:ps(t,a)}}function _y(t){var n=t.alternate;n!==null&&(t.alternate=null,_y(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&va(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var mt=null,Tn=!1;function ms(t,n,a){for(a=a.child;a!==null;)vy(t,n,a),a=a.sibling}function vy(t,n,a){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(In,a)}catch{}switch(a.tag){case 26:Lt||zi(a,n),ms(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Lt||zi(a,n);var o=mt,h=Tn;nr(a.type)&&(mt=a.stateNode,Tn=!1),ms(t,n,a),bl(a.stateNode),mt=o,Tn=h;break;case 5:Lt||zi(a,n);case 6:if(o=mt,h=Tn,mt=null,ms(t,n,a),mt=o,Tn=h,mt!==null)if(Tn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(a.stateNode)}catch(f){We(a,n,f)}else try{mt.removeChild(a.stateNode)}catch(f){We(a,n,f)}break;case 18:mt!==null&&(Tn?(t=mt,h_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),io(t)):h_(mt,a.stateNode));break;case 4:o=mt,h=Tn,mt=a.stateNode.containerInfo,Tn=!0,ms(t,n,a),mt=o,Tn=h;break;case 0:case 11:case 14:case 15:Ys(2,a,n),Lt||Ys(4,a,n),ms(t,n,a);break;case 1:Lt||(zi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&fy(a,n,o)),ms(t,n,a);break;case 21:ms(t,n,a);break;case 22:Lt=(o=Lt)||a.memoizedState!==null,ms(t,n,a),Lt=o;break;default:ms(t,n,a)}}function Ey(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{io(t)}catch(a){We(n,n.return,a)}}}function Ty(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{io(t)}catch(a){We(n,n.return,a)}}function B1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new gy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new gy),n;default:throw Error(r(435,t.tag))}}function rc(t,n){var a=B1(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=X1.bind(null,t,o);o.then(h,h)}})}function bn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(nr(E.type)){mt=E.stateNode,Tn=!1;break e}break;case 5:mt=E.stateNode,Tn=!1;break e;case 3:case 4:mt=E.stateNode.containerInfo,Tn=!0;break e}E=E.return}if(mt===null)throw Error(r(160));vy(f,g,h),mt=null,Tn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)by(n,t),n=n.sibling}var hi=null;function by(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(n,t),An(t),o&4&&(Ys(3,t,t.return),fl(3,t),Ys(5,t,t.return));break;case 1:bn(n,t),An(t),o&512&&(Lt||a===null||zi(a,a.return)),o&64&&ds&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=hi;if(bn(n,t),An(t),o&512&&(Lt||a===null||zi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ri]||f[Nt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),tn(f,o,a),f[Nt]=t,Dt(f),o=f;break e;case"link":var g=b_("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(o),tn(f,o,a),h.head.appendChild(f);break;case"meta":if(g=b_("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break t}}f=h.createElement(o),tn(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Nt]=t,Dt(f),o=f}t.stateNode=o}else A_(h,t.type,t.stateNode);else t.stateNode=T_(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?A_(h,t.type,t.stateNode):T_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Bf(t,t.memoizedProps,a.memoizedProps)}break;case 27:bn(n,t),An(t),o&512&&(Lt||a===null||zi(a,a.return)),a!==null&&o&4&&Bf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(bn(n,t),An(t),o&512&&(Lt||a===null||zi(a,a.return)),t.flags&32){h=t.stateNode;try{En(h,"")}catch(le){We(t,t.return,le)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Bf(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Ff=!0);break;case 6:if(bn(n,t),An(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(le){We(t,t.return,le)}}break;case 3:if(Tc=null,h=hi,hi=vc(n.containerInfo),bn(n,t),hi=h,An(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{io(n.containerInfo)}catch(le){We(t,t.return,le)}Ff&&(Ff=!1,Ay(t));break;case 4:o=hi,hi=vc(t.stateNode.containerInfo),bn(n,t),An(t),hi=o;break;case 12:bn(n,t),An(t);break;case 31:bn(n,t),An(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,rc(t,o)));break;case 13:bn(n,t),An(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(oc=Xt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,rc(t,o)));break;case 22:h=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,j=ds,G=Lt;if(ds=j||h,Lt=G||x,bn(n,t),Lt=G,ds=j,An(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||x||ds||Lt||Zr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){x=a=n;try{if(f=x.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=x.stateNode;var Y=x.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(le){We(x,x.return,le)}}}else if(n.tag===6){if(a===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(le){We(x,x.return,le)}}}else if(n.tag===18){if(a===null){x=n;try{var H=x.stateNode;h?f_(H,!0):f_(x.stateNode,!1)}catch(le){We(x,x.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,rc(t,a))));break;case 19:bn(n,t),An(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,rc(t,o)));break;case 30:break;case 21:break;default:bn(n,t),An(t)}}function An(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(my(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=qf(t);sc(t,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(En(g,""),a.flags&=-33);var E=qf(t);sc(t,E,g);break;case 3:case 4:var x=a.stateNode.containerInfo,j=qf(t);Hf(t,j,x);break;default:throw Error(r(161))}}catch(G){We(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ay(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ay(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ps(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)yy(t,n.alternate,n),n=n.sibling}function Zr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ys(4,n,n.return),Zr(n);break;case 1:zi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&fy(n,n.return,a),Zr(n);break;case 27:bl(n.stateNode);case 26:case 5:zi(n,n.return),Zr(n);break;case 22:n.memoizedState===null&&Zr(n);break;case 30:Zr(n);break;default:Zr(n)}t=t.sibling}}function gs(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:gs(h,f,a),fl(4,f);break;case 1:if(gs(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){We(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)eg(x[h],E)}catch(j){We(o,o.return,j)}}a&&g&64&&hy(f),dl(f,f.return);break;case 27:py(f);case 26:case 5:gs(h,f,a),a&&o===null&&g&4&&dy(f),dl(f,f.return);break;case 12:gs(h,f,a);break;case 31:gs(h,f,a),a&&g&4&&Ey(h,f);break;case 13:gs(h,f,a),a&&g&4&&Ty(h,f);break;case 22:f.memoizedState===null&&gs(h,f,a),dl(f,f.return);break;case 30:break;default:gs(h,f,a)}n=n.sibling}}function Gf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Wo(a))}function $f(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Wo(t))}function fi(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sy(t,n,a,o),n=n.sibling}function Sy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:fi(t,n,a,o),h&2048&&fl(9,n);break;case 1:fi(t,n,a,o);break;case 3:fi(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Wo(t)));break;case 12:if(h&2048){fi(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){We(n,n.return,x)}}else fi(t,n,a,o);break;case 31:fi(t,n,a,o);break;case 13:fi(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?fi(t,n,a,o):ml(t,n):f._visibility&2?fi(t,n,a,o):(f._visibility|=2,$a(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Gf(g,n);break;case 24:fi(t,n,a,o),h&2048&&$f(n.alternate,n);break;default:fi(t,n,a,o)}}function $a(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,x=o,j=g.flags;switch(g.tag){case 0:case 11:case 15:$a(f,g,E,x,h),fl(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?$a(f,g,E,x,h):ml(f,g):(G._visibility|=2,$a(f,g,E,x,h)),h&&j&2048&&Gf(g.alternate,g);break;case 24:$a(f,g,E,x,h),h&&j&2048&&$f(g.alternate,g);break;default:$a(f,g,E,x,h)}n=n.sibling}}function ml(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:ml(a,o),h&2048&&Gf(o.alternate,o);break;case 24:ml(a,o),h&2048&&$f(o.alternate,o);break;default:ml(a,o)}n=n.sibling}}var pl=8192;function Qa(t,n,a){if(t.subtreeFlags&pl)for(t=t.child;t!==null;)wy(t,n,a),t=t.sibling}function wy(t,n,a){switch(t.tag){case 26:Qa(t,n,a),t.flags&pl&&t.memoizedState!==null&&Ib(a,hi,t.memoizedState,t.memoizedProps);break;case 5:Qa(t,n,a);break;case 3:case 4:var o=hi;hi=vc(t.stateNode.containerInfo),Qa(t,n,a),hi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=pl,pl=16777216,Qa(t,n,a),pl=o):Qa(t,n,a));break;default:Qa(t,n,a)}}function Ry(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function gl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Qt=o,xy(o,t)}Ry(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Iy(t),t=t.sibling}function Iy(t){switch(t.tag){case 0:case 11:case 15:gl(t),t.flags&2048&&Ys(9,t,t.return);break;case 3:gl(t);break;case 12:gl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ac(t)):gl(t);break;default:gl(t)}}function ac(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Qt=o,xy(o,t)}Ry(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ys(8,n,n.return),ac(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ac(n));break;default:ac(n)}t=t.sibling}}function xy(t,n){for(;Qt!==null;){var a=Qt;switch(a.tag){case 0:case 11:case 15:Ys(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Wo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Qt=o;else e:for(a=t;Qt!==null;){o=Qt;var h=o.sibling,f=o.return;if(_y(o),o===a){Qt=null;break e}if(h!==null){h.return=f,Qt=h;break e}Qt=f}}}var q1={getCacheForType:function(t){var n=Wt(Mt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Wt(Mt).controller.signal}},H1=typeof WeakMap=="function"?WeakMap:Map,Ke=0,ot=null,ke=null,Ue=0,Ze=0,Ln=null,Xs=!1,Ka=!1,Qf=!1,ys=0,Tt=0,Js=0,Wr=0,Kf=0,Un=0,Ya=0,yl=null,Sn=null,Yf=!1,oc=0,Cy=0,lc=1/0,uc=null,Zs=null,Bt=0,Ws=null,Xa=null,_s=0,Xf=0,Jf=null,Ny=null,_l=0,Zf=null;function Pn(){return(Ke&2)!==0&&Ue!==0?Ue&-Ue:q.T!==null?sd():Ns()}function Dy(){if(Un===0)if((Ue&536870912)===0||qe){var t=ts;ts<<=1,(ts&3932160)===0&&(ts=262144),Un=t}else Un=536870912;return t=Vn.current,t!==null&&(t.flags|=32),Un}function wn(t,n,a){(t===ot&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(Ja(t,0),er(t,Ue,Un,!1)),Ct(t,a),((Ke&2)===0||t!==ot)&&(t===ot&&((Ke&2)===0&&(Wr|=a),Tt===4&&er(t,Ue,Un,!1)),Bi(t))}function Oy(t,n,a){if((Ke&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||xn(t,n),h=o?$1(t,n):ed(t,n,!0),f=o;do{if(h===0){Ka&&!o&&er(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!F1(a)){h=ed(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=yl;var x=E.current.memoizedState.isDehydrated;if(x&&(Ja(E,g).flags|=256),g=ed(E,g,!1),g!==2){if(Qf&&!x){E.errorRecoveryDisabledLanes|=f,Wr|=f,h=4;break e}f=Sn,Sn=h,f!==null&&(Sn===null?Sn=f:Sn.push.apply(Sn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ja(t,0),er(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:er(o,n,Un,!Xs);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=oc+300-Xt(),10<h)){if(er(o,n,Un,!Xs),F(o,0,!0)!==0)break e;_s=n,o.timeoutHandle=u_(My.bind(null,o,a,Sn,uc,Yf,n,Un,Wr,Ya,Xs,f,"Throttled",-0,0),h);break e}My(o,a,Sn,uc,Yf,n,Un,Wr,Ya,Xs,f,null,-0,0)}}break}while(!0);Bi(t)}function My(t,n,a,o,h,f,g,E,x,j,G,Y,z,H){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ri},wy(n,f,Y);var le=(f&62914560)===f?oc-Xt():(f&4194048)===f?Cy-Xt():0;if(le=xb(Y,le),le!==null){_s=f,t.cancelPendingCommit=le(By.bind(null,t,n,f,a,o,h,g,E,x,G,Y,null,z,H)),er(t,f,g,!j);return}}By(t,n,f,a,o,h,g,E,x)}function F1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!On(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function er(t,n,a,o){n&=~Kf,n&=~Wr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-pt(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&ft(t,a,n)}function cc(){return(Ke&6)===0?(vl(0),!1):!0}function Wf(){if(ke!==null){if(Ze===0)var t=ke.return;else t=ke,os=Fr=null,pf(t),Ba=null,tl=0,t=ke;for(;t!==null;)cy(t.alternate,t),t=t.return;ke=null}}function Ja(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,cb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),_s=0,Wf(),ot=t,ke=a=rs(t.current,null),Ue=n,Ze=0,Ln=null,Xs=!1,Ka=xn(t,n),Qf=!1,Ya=Un=Kf=Wr=Js=Tt=0,Sn=yl=null,Yf=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-pt(o),f=1<<h;n|=t[h],o&=~f}return ys=n,Du(),a}function Vy(t,n){Ne=null,q.H=ul,n===za||n===ju?(n=Xp(),Ze=3):n===nf?(n=Xp(),Ze=4):Ze=n===Df?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ln=n,ke===null&&(Tt=1,Wu(t,Kn(n,t.current)))}function ky(){var t=Vn.current;return t===null?!0:(Ue&4194048)===Ue?Zn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===Zn:!1}function Ly(){var t=q.H;return q.H=ul,t===null?ul:t}function Uy(){var t=q.A;return q.A=q1,t}function hc(){Tt=4,Xs||(Ue&4194048)!==Ue&&Vn.current!==null||(Ka=!0),(Js&134217727)===0&&(Wr&134217727)===0||ot===null||er(ot,Ue,Un,!1)}function ed(t,n,a){var o=Ke;Ke|=2;var h=Ly(),f=Uy();(ot!==t||Ue!==n)&&(uc=null,Ja(t,n)),n=!1;var g=Tt;e:do try{if(Ze!==0&&ke!==null){var E=ke,x=Ln;switch(Ze){case 8:Wf(),g=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(n=!0);var j=Ze;if(Ze=0,Ln=null,Za(t,E,x,j),a&&Ka){g=0;break e}break;default:j=Ze,Ze=0,Ln=null,Za(t,E,x,j)}}G1(),g=Tt;break}catch(G){Vy(t,G)}while(!0);return n&&t.shellSuspendCounter++,os=Fr=null,Ke=o,q.H=h,q.A=f,ke===null&&(ot=null,Ue=0,Du()),g}function G1(){for(;ke!==null;)Py(ke)}function $1(t,n){var a=Ke;Ke|=2;var o=Ly(),h=Uy();ot!==t||Ue!==n?(uc=null,lc=Xt()+500,Ja(t,n)):Ka=xn(t,n);e:do try{if(Ze!==0&&ke!==null){n=ke;var f=Ln;t:switch(Ze){case 1:Ze=0,Ln=null,Za(t,n,f,1);break;case 2:case 9:if(Kp(f)){Ze=0,Ln=null,jy(n);break}n=function(){Ze!==2&&Ze!==9||ot!==t||(Ze=7),Bi(t)},f.then(n,n);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Kp(f)?(Ze=0,Ln=null,jy(n)):(Ze=0,Ln=null,Za(t,n,f,7));break;case 5:var g=null;switch(ke.tag){case 26:g=ke.memoizedState;case 5:case 27:var E=ke;if(g?S_(g):E.stateNode.complete){Ze=0,Ln=null;var x=E.sibling;if(x!==null)ke=x;else{var j=E.return;j!==null?(ke=j,fc(j)):ke=null}break t}}Ze=0,Ln=null,Za(t,n,f,5);break;case 6:Ze=0,Ln=null,Za(t,n,f,6);break;case 8:Wf(),Tt=6;break e;default:throw Error(r(462))}}Q1();break}catch(G){Vy(t,G)}while(!0);return os=Fr=null,q.H=o,q.A=h,Ke=a,ke!==null?0:(ot=null,Ue=0,Du(),Tt)}function Q1(){for(;ke!==null&&!wr();)Py(ke)}function Py(t){var n=ly(t.alternate,t,ys);t.memoizedProps=t.pendingProps,n===null?fc(t):ke=n}function jy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=ny(a,n,n.pendingProps,n.type,void 0,Ue);break;case 11:n=ny(a,n,n.pendingProps,n.type.render,n.ref,Ue);break;case 5:pf(n);default:cy(a,n),n=ke=Up(n,ys),n=ly(a,n,ys)}t.memoizedProps=t.pendingProps,n===null?fc(t):ke=n}function Za(t,n,a,o){os=Fr=null,pf(n),Ba=null,tl=0;var h=n.return;try{if(k1(t,h,n,a,Ue)){Tt=1,Wu(t,Kn(a,t.current)),ke=null;return}}catch(f){if(h!==null)throw ke=h,f;Tt=1,Wu(t,Kn(a,t.current)),ke=null;return}n.flags&32768?(qe||o===1?t=!0:Ka||(Ue&536870912)!==0?t=!1:(Xs=t=!0,(o===2||o===9||o===3||o===6)&&(o=Vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),zy(n,t)):fc(n)}function fc(t){var n=t;do{if((n.flags&32768)!==0){zy(n,Xs);return}t=n.return;var a=P1(n.alternate,n,ys);if(a!==null){ke=a;return}if(n=n.sibling,n!==null){ke=n;return}ke=n=t}while(n!==null);Tt===0&&(Tt=5)}function zy(t,n){do{var a=j1(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);Tt=6,ke=null}function By(t,n,a,o,h,f,g,E,x){t.cancelPendingCommit=null;do dc();while(Bt!==0);if((Ke&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Bh,At(t,a,f,g,E,x),t===ot&&(ke=ot=null,Ue=0),Xa=n,Ws=t,_s=a,Xf=f,Jf=h,Ny=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,J1(Si,function(){return $y(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=se.p,se.p=2,g=Ke,Ke|=4;try{z1(t,n,a)}finally{Ke=g,se.p=h,q.T=o}}Bt=1,qy(),Hy(),Fy()}}function qy(){if(Bt===1){Bt=0;var t=Ws,n=Xa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var o=se.p;se.p=2;var h=Ke;Ke|=4;try{by(n,t);var f=fd,g=xp(t.containerInfo),E=f.focusedElem,x=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Ip(E.ownerDocument.documentElement,E)){if(x!==null&&Lh(E)){var j=x.start,G=x.end;if(G===void 0&&(G=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var H=z.getSelection(),le=E.textContent.length,_e=Math.min(x.start,le),at=x.end===void 0?_e:Math.min(x.end,le);!H.extend&&_e>at&&(g=at,at=_e,_e=g);var k=Rp(E,_e),O=Rp(E,at);if(k&&O&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var P=Y.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),_e>at?(H.addRange(P),H.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),H.addRange(P))}}}}for(Y=[],H=E;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}wc=!!hd,fd=hd=null}finally{Ke=h,se.p=o,q.T=a}}t.current=n,Bt=2}}function Hy(){if(Bt===2){Bt=0;var t=Ws,n=Xa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var o=se.p;se.p=2;var h=Ke;Ke|=4;try{yy(t,n.alternate,n)}finally{Ke=h,se.p=o,q.T=a}}Bt=3}}function Fy(){if(Bt===4||Bt===3){Bt=0,Rr();var t=Ws,n=Xa,a=_s,o=Ny;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Bt=5:(Bt=0,Xa=Ws=null,Gy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Zs=null),ln(a),n=n.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(In,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,h=se.p,se.p=2,q.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{q.T=n,se.p=h}}(_s&3)!==0&&dc(),Bi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Zf?_l++:(_l=0,Zf=t):_l=0,vl(0)}}function Gy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Wo(n)))}function dc(){return qy(),Hy(),Fy(),$y()}function $y(){if(Bt!==5)return!1;var t=Ws,n=Xf;Xf=0;var a=ln(_s),o=q.T,h=se.p;try{se.p=32>a?32:a,q.T=null,a=Jf,Jf=null;var f=Ws,g=_s;if(Bt=0,Xa=Ws=null,_s=0,(Ke&6)!==0)throw Error(r(331));var E=Ke;if(Ke|=4,Iy(f.current),Sy(f,f.current,g,a),Ke=E,vl(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(In,f)}catch{}return!0}finally{se.p=h,q.T=o,Gy(t,n)}}function Qy(t,n,a){n=Kn(a,n),n=Nf(t.stateNode,n,2),t=$s(t,n,2),t!==null&&(Ct(t,2),Bi(t))}function We(t,n,a){if(t.tag===3)Qy(t,t,a);else for(;n!==null;){if(n.tag===3){Qy(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Zs===null||!Zs.has(o))){t=Kn(a,t),a=Kg(2),o=$s(n,a,2),o!==null&&(Yg(a,o,n,t),Ct(o,2),Bi(o));break}}n=n.return}}function td(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new H1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Qf=!0,h.add(a),t=K1.bind(null,t,n,a),n.then(t,t))}function K1(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ot===t&&(Ue&a)===a&&(Tt===4||Tt===3&&(Ue&62914560)===Ue&&300>Xt()-oc?(Ke&2)===0&&Ja(t,0):Kf|=a,Ya===Ue&&(Ya=0)),Bi(t)}function Ky(t,n){n===0&&(n=me()),t=Br(t,n),t!==null&&(Ct(t,n),Bi(t))}function Y1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Ky(t,a)}function X1(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),Ky(t,a)}function J1(t,n){return nt(t,n)}var mc=null,Wa=null,nd=!1,pc=!1,id=!1,tr=0;function Bi(t){t!==Wa&&t.next===null&&(Wa===null?mc=Wa=t:Wa=Wa.next=t),pc=!0,nd||(nd=!0,W1())}function vl(t,n){if(!id&&pc){id=!0;do for(var a=!1,o=mc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-pt(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Zy(o,f))}else f=Ue,f=F(o,o===ot?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||xn(o,f)||(a=!0,Zy(o,f));o=o.next}while(a);id=!1}}function Z1(){Yy()}function Yy(){pc=nd=!1;var t=0;tr!==0&&ub()&&(t=tr);for(var n=Xt(),a=null,o=mc;o!==null;){var h=o.next,f=Xy(o,n);f===0?(o.next=null,a===null?mc=h:a.next=h,h===null&&(Wa=a)):(a=o,(t!==0||(f&3)!==0)&&(pc=!0)),o=h}Bt!==0&&Bt!==5||vl(t),tr!==0&&(tr=0)}function Xy(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-pt(f),E=1<<g,x=h[g];x===-1?((E&a)===0||(E&o)!==0)&&(h[g]=W(E,n)):x<=n&&(t.expiredLanes|=E),f&=~E}if(n=ot,a=Ue,a=F(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&mn(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||xn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&mn(o),ln(a)){case 2:case 8:a=xr;break;case 32:a=Si;break;case 268435456:a=ma;break;default:a=Si}return o=Jy.bind(null,t),a=nt(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&mn(o),t.callbackPriority=2,t.callbackNode=null,2}function Jy(t,n){if(Bt!==0&&Bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(dc()&&t.callbackNode!==a)return null;var o=Ue;return o=F(t,t===ot?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Oy(t,o,n),Xy(t,Xt()),t.callbackNode!=null&&t.callbackNode===a?Jy.bind(null,t):null)}function Zy(t,n){if(dc())return null;Oy(t,n,!0)}function W1(){hb(function(){(Ke&6)!==0?nt(Ir,Z1):Yy()})}function sd(){if(tr===0){var t=Pa;t===0&&(t=Bn,Bn<<=1,(Bn&261888)===0&&(Bn=256)),tr=t}return tr}function Wy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Aa(""+t)}function e_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function eb(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=Wy((h[Gt]||null).action),g=o.submitter;g&&(n=(n=g[Gt]||null)?Wy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Vi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(tr!==0){var x=g?e_(h,g):new FormData(h);Sf(a,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(E.preventDefault(),x=g?e_(h,g):new FormData(h),Sf(a,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var rd=0;rd<zh.length;rd++){var ad=zh[rd],tb=ad.toLowerCase(),nb=ad[0].toUpperCase()+ad.slice(1);ci(tb,"on"+nb)}ci(Dp,"onAnimationEnd"),ci(Op,"onAnimationIteration"),ci(Mp,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(_1,"onTransitionRun"),ci(v1,"onTransitionStart"),ci(E1,"onTransitionCancel"),ci(Vp,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ib=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function t_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],x=E.instance,j=E.currentTarget;if(E=E.listener,x!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(G){Nu(G)}h.currentTarget=null,f=x}else for(g=0;g<o.length;g++){if(E=o[g],x=E.instance,j=E.currentTarget,E=E.listener,x!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(G){Nu(G)}h.currentTarget=null,f=x}}}}function Le(t,n){var a=n[_a];a===void 0&&(a=n[_a]=new Set);var o=t+"__bubble";a.has(o)||(n_(n,t,2,!1),a.add(o))}function od(t,n,a){var o=0;n&&(o|=4),n_(a,t,o,n)}var gc="_reactListening"+Math.random().toString(36).slice(2);function ld(t){if(!t[gc]){t[gc]=!0,Oo.forEach(function(a){a!=="selectionchange"&&(ib.has(a)||od(a,!1,t),od(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[gc]||(n[gc]=!0,od("selectionchange",!1,n))}}function n_(t,n,a,o){switch(D_(n)){case 2:var h=Db;break;case 8:h=Ob;break;default:h=Ad}a=h.bind(null,n,a,t),h=void 0,!Mr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function ud(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var x=g.tag;if((x===3||x===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=Ii(E),g===null)return;if(x=g.tag,x===5||x===6||x===26||x===27){o=f=g;continue e}E=E.parentNode}}o=o.return}Ls(function(){var j=f,G=Fn(a),Y=[];e:{var z=kp.get(t);if(z!==void 0){var H=Vi,le=t;switch(t){case"keypress":if(kr(a)===0)break e;case"keydown":case"keyup":H=Iu;break;case"focusin":le="focus",H=Ur;break;case"focusout":le="blur",H=Ur;break;case"beforeblur":case"afterblur":H=Ur;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Dp:case Op:case Mp:H=Eu;break;case Vp:H=b;break;case"scroll":case"scrollend":H=Fo;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ss;break;case"toggle":case"beforetoggle":H=Ce}var _e=(n&4)!==0,at=!_e&&(t==="scroll"||t==="scrollend"),k=_e?z!==null?z+"Capture":null:z;_e=[];for(var O=j,P;O!==null;){var Q=O;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=ai(O,k),Q!=null&&_e.push(Tl(O,Q,P))),at)break;O=O.return}0<_e.length&&(z=new H(z,le,null,a,G),Y.push({event:z,listeners:_e}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&a!==Bo&&(le=a.relatedTarget||a.fromElement)&&(Ii(le)||le[wi]))break e;if((H||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,H?(le=a.relatedTarget||a.toElement,H=j,le=le?Ii(le):null,le!==null&&(at=c(le),_e=le.tag,le!==at||_e!==5&&_e!==27&&_e!==6)&&(le=null)):(H=null,le=j),H!==le)){if(_e=Go,Q="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(_e=ss,Q="onPointerLeave",k="onPointerEnter",O="pointer"),at=H==null?z:Nn(H),P=le==null?z:Nn(le),z=new _e(Q,O+"leave",H,a,G),z.target=at,z.relatedTarget=P,Q=null,Ii(G)===j&&(_e=new _e(k,O+"enter",le,a,G),_e.target=P,_e.relatedTarget=at,Q=_e),at=Q,H&&le)t:{for(_e=sb,k=H,O=le,P=0,Q=k;Q;Q=_e(Q))P++;Q=0;for(var fe=O;fe;fe=_e(fe))Q++;for(;0<P-Q;)k=_e(k),P--;for(;0<Q-P;)O=_e(O),Q--;for(;P--;){if(k===O||O!==null&&k===O.alternate){_e=k;break t}k=_e(k),O=_e(O)}_e=null}else _e=null;H!==null&&i_(Y,z,H,_e,!1),le!==null&&at!==null&&i_(Y,at,le,_e,!0)}}e:{if(z=j?Nn(j):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var Ge=Ep;else if(_p(z))if(Tp)Ge=p1;else{Ge=d1;var ue=f1}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&ba(j.elementType)&&(Ge=Ep):Ge=m1;if(Ge&&(Ge=Ge(t,j))){vp(Y,Ge,a,G);break e}ue&&ue(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Po(z,"number",z.value)}switch(ue=j?Nn(j):window,t){case"focusin":(_p(ue)||ue.contentEditable==="true")&&(Na=ue,Uh=j,Xo=null);break;case"focusout":Xo=Uh=Na=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,Cp(Y,a,G);break;case"selectionchange":if(y1)break;case"keydown":case"keyup":Cp(Y,a,G)}var Oe;if(Qe)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Ca?Pr(t,a)&&(Pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(Ui&&a.locale!=="ko"&&(Ca||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ca&&(Oe=Ho()):(Mi=G,qo="value"in Mi?Mi.value:Mi.textContent,Ca=!0)),ue=yc(j,Pe),0<ue.length&&(Pe=new Li(Pe,t,null,a,G),Y.push({event:Pe,listeners:ue}),Oe?Pe.data=Oe:(Oe=xa(a),Oe!==null&&(Pe.data=Oe)))),(Oe=$n?l1(t,a):u1(t,a))&&(Pe=yc(j,"onBeforeInput"),0<Pe.length&&(ue=new Li("onBeforeInput","beforeinput",null,a,G),Y.push({event:ue,listeners:Pe}),ue.data=Oe)),eb(Y,t,j,a,G)}t_(Y,n)})}function Tl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function yc(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ai(t,a),h!=null&&o.unshift(Tl(t,h,f)),h=ai(t,n),h!=null&&o.push(Tl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function sb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function i_(t,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var E=a,x=E.alternate,j=E.stateNode;if(E=E.tag,x!==null&&x===o)break;E!==5&&E!==26&&E!==27||j===null||(x=j,h?(j=ai(a,f),j!=null&&g.unshift(Tl(a,j,x))):h||(j=ai(a,f),j!=null&&g.push(Tl(a,j,x)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var rb=/\r\n?/g,ab=/\u0000|\uFFFD/g;function s_(t){return(typeof t=="string"?t:""+t).replace(rb,`
`).replace(ab,"")}function r_(t,n){return n=s_(n),s_(t)===n}function rt(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||En(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&En(t,""+o);break;case"className":Dn(t,"class",o);break;case"tabIndex":Dn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(t,a,o);break;case"style":zo(t,o,f);break;case"data":if(n!=="object"){Dn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Aa(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&rt(t,n,"name",h.name,h,null),rt(t,n,"formEncType",h.formEncType,h,null),rt(t,n,"formMethod",h.formMethod,h,null),rt(t,n,"formTarget",h.formTarget,h,null)):(rt(t,n,"encType",h.encType,h,null),rt(t,n,"method",h.method,h,null),rt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Aa(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=ri);break;case"onScroll":o!=null&&Le("scroll",t);break;case"onScrollEnd":o!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Aa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Le("beforetoggle",t),Le("toggle",t),Ea(t,"popover",o);break;case"xlinkActuate":Ot(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ot(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ot(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ot(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ot(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ot(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ea(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yu.get(a)||a,Ea(t,a,o))}}function cd(t,n,a,o,h,f){switch(a){case"style":zo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?En(t,o):(typeof o=="number"||typeof o=="bigint")&&En(t,""+o);break;case"onScroll":o!=null&&Le("scroll",t);break;case"onScrollEnd":o!=null&&Le("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Gt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Ea(t,a,o)}}}function tn(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:rt(t,n,f,g,a,null)}}h&&rt(t,n,"srcSet",a.srcSet,a,null),o&&rt(t,n,"src",a.src,a,null);return;case"input":Le("invalid",t);var E=f=g=h=null,x=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":x=G;break;case"defaultChecked":j=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:rt(t,n,o,G,a,null)}}mu(t,f,E,x,j,g,h,!1);return;case"select":Le("invalid",t),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:rt(t,n,h,E,a,null)}n=f,a=g,t.multiple=!!o,n!=null?Os(t,!!o,n,!1):a!=null&&Os(t,!!o,a,!0);return;case"textarea":Le("invalid",t),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:rt(t,n,g,E,a,null)}Ms(t,o,h,f);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(o=a[x],o!=null))switch(x){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:rt(t,n,x,o,a,null)}return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(o=0;o<El.length;o++)Le(El[o],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:rt(t,n,j,o,a,null)}return;default:if(ba(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&cd(t,n,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&rt(t,n,E,o,a,null))}function ob(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,x=null,j=null,G=null;for(H in a){var Y=a[H];if(a.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":x=Y;default:o.hasOwnProperty(H)||rt(t,n,H,null,o,Y)}}for(var z in o){var H=o[z];if(Y=a[z],o.hasOwnProperty(z)&&(H!=null||Y!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":G=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==Y&&rt(t,n,z,H,o,Y)}}Ta(t,g,E,x,j,G,f,h);return;case"select":H=g=E=z=null;for(f in a)if(x=a[f],a.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":H=x;default:o.hasOwnProperty(f)||rt(t,n,f,null,o,x)}for(h in o)if(f=o[h],x=a[h],o.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==x&&rt(t,n,h,f,o,x)}n=E,a=g,o=H,z!=null?Os(t,!!a,z,!1):!!o!=!!a&&(n!=null?Os(t,!!a,n,!0):Os(t,!!a,a?[]:"",!1));return;case"textarea":H=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:rt(t,n,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&rt(t,n,g,h,o,f)}pu(t,z,H);return;case"option":for(var le in a)if(z=a[le],a.hasOwnProperty(le)&&z!=null&&!o.hasOwnProperty(le))switch(le){case"selected":t.selected=!1;break;default:rt(t,n,le,null,o,z)}for(x in o)if(z=o[x],H=a[x],o.hasOwnProperty(x)&&z!==H&&(z!=null||H!=null))switch(x){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:rt(t,n,x,z,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)z=a[_e],a.hasOwnProperty(_e)&&z!=null&&!o.hasOwnProperty(_e)&&rt(t,n,_e,null,o,z);for(j in o)if(z=o[j],H=a[j],o.hasOwnProperty(j)&&z!==H&&(z!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:rt(t,n,j,z,o,H)}return;default:if(ba(n)){for(var at in a)z=a[at],a.hasOwnProperty(at)&&z!==void 0&&!o.hasOwnProperty(at)&&cd(t,n,at,void 0,o,z);for(G in o)z=o[G],H=a[G],!o.hasOwnProperty(G)||z===H||z===void 0&&H===void 0||cd(t,n,G,z,o,H);return}}for(var k in a)z=a[k],a.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&rt(t,n,k,null,o,z);for(Y in o)z=o[Y],H=a[Y],!o.hasOwnProperty(Y)||z===H||z==null&&H==null||rt(t,n,Y,z,o,H)}function a_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&a_(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var x=a[o],j=x.startTime;if(j>E)break;var G=x.transferSize,Y=x.initiatorType;G&&a_(Y)&&(x=x.responseEnd,g+=G*(x<E?1:(E-j)/(x-j)))}if(--o,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var hd=null,fd=null;function _c(t){return t.nodeType===9?t:t.ownerDocument}function o_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function dd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var md=null;function ub(){var t=window.event;return t&&t.type==="popstate"?t===md?!1:(md=t,!0):(md=null,!1)}var u_=typeof setTimeout=="function"?setTimeout:void 0,cb=typeof clearTimeout=="function"?clearTimeout:void 0,c_=typeof Promise=="function"?Promise:void 0,hb=typeof queueMicrotask=="function"?queueMicrotask:typeof c_<"u"?function(t){return c_.resolve(null).then(t).catch(fb)}:u_;function fb(t){setTimeout(function(){throw t})}function nr(t){return t==="head"}function h_(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),io(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")bl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,bl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Ri]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&bl(t.ownerDocument.body);a=h}while(a);io(n)}function f_(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function pd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":pd(a),va(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function db(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ri])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function mb(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Wn(t.nextSibling),t===null))return null;return t}function d_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Wn(t.nextSibling),t===null))return null;return t}function gd(t){return t.data==="$?"||t.data==="$~"}function yd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function pb(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Wn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var _d=null;function m_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Wn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function p_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function g_(t,n,a){switch(n=_c(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function bl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);va(t)}var ei=new Map,y_=new Set;function vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var vs=se.d;se.d={f:gb,r:yb,D:_b,C:vb,L:Eb,m:Tb,X:Ab,S:bb,M:Sb};function gb(){var t=vs.f(),n=cc();return t||n}function yb(t){var n=Hn(t);n!==null&&n.tag===5&&n.type==="form"?Vg(n):vs.r(t)}var eo=typeof document>"u"?null:document;function __(t,n,a){var o=eo;if(o&&typeof n=="string"&&n){var h=vn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),y_.has(h)||(y_.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),tn(n,"link",t),Dt(n),o.head.appendChild(n)))}}function _b(t){vs.D(t),__("dns-prefetch",t,null)}function vb(t,n){vs.C(t,n),__("preconnect",t,n)}function Eb(t,n,a){vs.L(t,n,a);var o=eo;if(o&&t&&n){var h='link[rel="preload"][as="'+vn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+vn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+vn(a.imageSizes)+'"]')):h+='[href="'+vn(t)+'"]';var f=h;switch(n){case"style":f=to(t);break;case"script":f=no(t)}ei.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),ei.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Al(f))||n==="script"&&o.querySelector(Sl(f))||(n=o.createElement("link"),tn(n,"link",t),Dt(n),o.head.appendChild(n)))}}function Tb(t,n){vs.m(t,n);var a=eo;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+vn(o)+'"][href="'+vn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=no(t)}if(!ei.has(f)&&(t=S({rel:"modulepreload",href:t},n),ei.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Sl(f)))return}o=a.createElement("link"),tn(o,"link",t),Dt(o),a.head.appendChild(o)}}}function bb(t,n,a){vs.S(t,n,a);var o=eo;if(o&&t){var h=xi(o).hoistableStyles,f=to(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(Al(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=ei.get(f))&&vd(t,a);var x=g=o.createElement("link");Dt(x),tn(x,"link",t),x._p=new Promise(function(j,G){x.onload=j,x.onerror=G}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ec(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function Ab(t,n){vs.X(t,n);var a=eo;if(a&&t){var o=xi(a).hoistableScripts,h=no(t),f=o.get(h);f||(f=a.querySelector(Sl(h)),f||(t=S({src:t,async:!0},n),(n=ei.get(h))&&Ed(t,n),f=a.createElement("script"),Dt(f),tn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Sb(t,n){vs.M(t,n);var a=eo;if(a&&t){var o=xi(a).hoistableScripts,h=no(t),f=o.get(h);f||(f=a.querySelector(Sl(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=ei.get(h))&&Ed(t,n),f=a.createElement("script"),Dt(f),tn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function v_(t,n,a,o){var h=(h=Se.current)?vc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=to(a.href),a=xi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=to(a.href);var f=xi(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(Al(t)))&&!f._p&&(g.instance=f,g.state.loading=5),ei.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ei.set(t,a),f||wb(h,t,a,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=no(a),a=xi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function to(t){return'href="'+vn(t)+'"'}function Al(t){return'link[rel="stylesheet"]['+t+"]"}function E_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function wb(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),tn(n,"link",a),Dt(n),t.head.appendChild(n))}function no(t){return'[src="'+vn(t)+'"]'}function Sl(t){return"script[async]"+t}function T_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+vn(a.href)+'"]');if(o)return n.instance=o,Dt(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Dt(o),tn(o,"style",h),Ec(o,a.precedence,t),n.instance=o;case"stylesheet":h=to(a.href);var f=t.querySelector(Al(h));if(f)return n.state.loading|=4,n.instance=f,Dt(f),f;o=E_(a),(h=ei.get(h))&&vd(o,h),f=(t.ownerDocument||t).createElement("link"),Dt(f);var g=f;return g._p=new Promise(function(E,x){g.onload=E,g.onerror=x}),tn(f,"link",o),n.state.loading|=4,Ec(f,a.precedence,t),n.instance=f;case"script":return f=no(a.src),(h=t.querySelector(Sl(f)))?(n.instance=h,Dt(h),h):(o=a,(h=ei.get(f))&&(o=S({},a),Ed(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Dt(h),tn(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ec(o,a.precedence,t));return n.instance}function Ec(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function vd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ed(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Tc=null;function b_(t,n,a){if(Tc===null){var o=new Map,h=Tc=new Map;h.set(a,o)}else h=Tc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Ri]||f[Nt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function A_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function Rb(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function S_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Ib(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=to(o.href),f=n.querySelector(Al(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=bc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Dt(f);return}f=n.ownerDocument||n,o=E_(o),(h=ei.get(h))&&vd(o,h),f=f.createElement("link"),Dt(f);var g=f;g._p=new Promise(function(E,x){g.onload=E,g.onerror=x}),tn(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=bc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Td=0;function xb(t,n){return t.stylesheets&&t.count===0&&Sc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Sc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Td===0&&(Td=62500*lb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Sc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Td?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ac=null;function Sc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ac=new Map,n.forEach(Cb,t),Ac=null,bc.call(t))}function Cb(t,n){if(!(n.state.loading&4)){var a=Ac.get(t);if(a)var o=a.get(null);else{a=new Map,Ac.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=bc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var wl={$$typeof:ye,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function Nb(t,n,a,o,h,f,g,E,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ie(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ie(0),this.hiddenUpdates=Ie(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function w_(t,n,a,o,h,f,g,E,x,j,G,Y){return t=new Nb(t,n,a,g,x,j,G,Y,E),n=1,f===!0&&(n|=24),f=Mn(3,null,null,n),t.current=f,f.stateNode=t,n=Wh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},sf(f),t}function R_(t){return t?(t=Ma,t):Ma}function I_(t,n,a,o,h,f){h=R_(h),o.context===null?o.context=h:o.pendingContext=h,o=Gs(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=$s(t,o,n),a!==null&&(wn(a,t,n),il(a,t,n))}function x_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function bd(t,n){x_(t,n),(t=t.alternate)&&x_(t,n)}function C_(t){if(t.tag===13||t.tag===31){var n=Br(t,67108864);n!==null&&wn(n,t,67108864),bd(t,67108864)}}function N_(t){if(t.tag===13||t.tag===31){var n=Pn();n=on(n);var a=Br(t,n);a!==null&&wn(a,t,n),bd(t,n)}}var wc=!0;function Db(t,n,a,o){var h=q.T;q.T=null;var f=se.p;try{se.p=2,Ad(t,n,a,o)}finally{se.p=f,q.T=h}}function Ob(t,n,a,o){var h=q.T;q.T=null;var f=se.p;try{se.p=8,Ad(t,n,a,o)}finally{se.p=f,q.T=h}}function Ad(t,n,a,o){if(wc){var h=Sd(o);if(h===null)ud(t,n,o,Rc,a),O_(t,o);else if(Vb(h,t,n,a,o))o.stopPropagation();else if(O_(t,o),n&4&&-1<Mb.indexOf(t)){for(;h!==null;){var f=Hn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=qn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var x=1<<31-pt(g);E.entanglements[1]|=x,g&=~x}Bi(f),(Ke&6)===0&&(lc=Xt()+500,vl(0))}}break;case 31:case 13:E=Br(f,2),E!==null&&wn(E,f,2),cc(),bd(f,2)}if(f=Sd(o),f===null&&ud(t,n,o,Rc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else ud(t,n,o,null,a)}}function Sd(t){return t=Fn(t),wd(t)}var Rc=null;function wd(t){if(Rc=null,t=Ii(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Rc=t,null}function D_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(es()){case Ir:return 2;case xr:return 8;case Si:case Do:return 32;case ma:return 268435456;default:return 32}default:return 32}}var Rd=!1,ir=null,sr=null,rr=null,Rl=new Map,Il=new Map,ar=[],Mb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O_(t,n){switch(t){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":Rl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(n.pointerId)}}function xl(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Hn(n),n!==null&&C_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Vb(t,n,a,o,h){switch(n){case"focusin":return ir=xl(ir,t,n,a,o,h),!0;case"dragenter":return sr=xl(sr,t,n,a,o,h),!0;case"mouseover":return rr=xl(rr,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Rl.set(f,xl(Rl.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Il.set(f,xl(Il.get(f)||null,t,n,a,o,h)),!0}return!1}function M_(t){var n=Ii(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Cn(t.priority,function(){N_(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,Cn(t.priority,function(){N_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ic(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Sd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Bo=o,a.target.dispatchEvent(o),Bo=null}else return n=Hn(a),n!==null&&C_(n),t.blockedOn=a,!1;n.shift()}return!0}function V_(t,n,a){Ic(t)&&a.delete(n)}function kb(){Rd=!1,ir!==null&&Ic(ir)&&(ir=null),sr!==null&&Ic(sr)&&(sr=null),rr!==null&&Ic(rr)&&(rr=null),Rl.forEach(V_),Il.forEach(V_)}function xc(t,n){t.blockedOn===n&&(t.blockedOn=null,Rd||(Rd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,kb)))}var Cc=null;function k_(t){Cc!==t&&(Cc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Cc===t&&(Cc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(wd(o||a)===null)continue;break}var f=Hn(a);f!==null&&(t.splice(n,3),n-=3,Sf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function io(t){function n(x){return xc(x,t)}ir!==null&&xc(ir,t),sr!==null&&xc(sr,t),rr!==null&&xc(rr,t),Rl.forEach(n),Il.forEach(n);for(var a=0;a<ar.length;a++){var o=ar[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ar.length&&(a=ar[0],a.blockedOn===null);)M_(a),a.blockedOn===null&&ar.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[Gt]||null;if(typeof f=="function")g||k_(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Gt]||null)E=g.formAction;else if(wd(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),k_(a)}}}function L_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Id(t){this._internalRoot=t}Nc.prototype.render=Id.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Pn();I_(a,o,t,n,null,null)},Nc.prototype.unmount=Id.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;I_(t.current,2,null,t,null,null),cc(),n[wi]=null}};function Nc(t){this._internalRoot=t}Nc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ns();t={blockedOn:null,target:t,priority:n};for(var a=0;a<ar.length&&n!==0&&n<ar[a].priority;a++);ar.splice(a,0,t),a===0&&M_(t)}};var U_=e.version;if(U_!=="19.2.0")throw Error(r(527,U_,"19.2.0"));se.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var Lb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{In=Dc.inject(Lb),xt=Dc}catch{}}return Nl.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=Fg,f=Gg,g=$g;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=w_(t,1,!1,null,null,a,o,null,h,f,g,L_),t[wi]=n.current,ld(t),new Id(n)},Nl.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=Fg,g=Gg,E=$g,x=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),n=w_(t,1,!0,n,a??null,o,h,x,f,g,E,L_),n.context=R_(null),a=n.current,o=Pn(),o=on(o),h=Gs(o),h.callback=null,$s(a,h,o),a=o,n.current.lanes=a,Ct(n,a),Bi(n),t[wi]=n.current,ld(t),new Nc(n)},Nl.version="19.2.0",Nl}var Q_;function Kb(){if(Q_)return Nd.exports;Q_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Nd.exports=Qb(),Nd.exports}var Yb=Kb();const Xb=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Jb=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),K_=s=>{const e=Jb(s);return e.charAt(0).toUpperCase()+e.slice(1)},kv=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),Zb=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Wb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const eA=xe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...p},y)=>xe.createElement("svg",{ref:y,...Wb,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:kv("lucide",l),...!c&&!Zb(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,T])=>xe.createElement(_,T)),...Array.isArray(c)?c:[c]]));const et=(s,e)=>{const i=xe.forwardRef(({className:r,...l},c)=>xe.createElement(eA,{ref:c,iconNode:e,className:kv(`lucide-${Xb(K_(s))}`,`lucide-${s}`,r),...l}));return i.displayName=K_(s),i};const tA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Oc=et("arrow-right",tA);const nA=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],iA=et("book-open",nA);const sA=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],rA=et("book",sA);const aA=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Vd=et("brain",aA);const oA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],lA=et("calendar",oA);const uA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],cA=et("chevron-right",uA);const hA=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],fA=et("chevron-up",hA);const dA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],kd=et("circle-check-big",dA);const mA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],pA=et("circle-x",mA);const gA=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]],yA=et("git-compare",gA);const _A=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],vA=et("history",_A);const EA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],TA=et("info",EA);const bA=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],AA=et("key-round",bA);const SA=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Y_=et("lightbulb",SA);const wA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],RA=et("loader-circle",wA);const IA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],xA=et("lock",IA);const CA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],NA=et("log-out",CA);const DA=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],X_=et("mail",DA);const OA=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],J_=et("moon",OA);const MA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],VA=et("refresh-cw",MA);const kA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],LA=et("rotate-ccw",kA);const UA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Z_=et("search",UA);const PA=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],jA=et("send",PA);const zA=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],W_=et("skip-forward",zA);const BA=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ld=et("sparkles",BA);const qA=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],e0=et("sun",qA);const HA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],FA=et("triangle-alert",HA);const GA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$A=et("user",GA);const QA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],KA=et("x",QA),YA=()=>{};var t0={};const Lv=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},XA=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Uv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,T=c>>2,S=(c&3)<<4|p>>4;let M=(p&15)<<2|_>>6,$=_&63;y||($=64,d||(M=64)),r.push(i[T],i[S],i[M],i[$])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Lv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):XA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||_==null||S==null)throw new JA;const M=c<<2|p>>4;if(r.push(M),_!==64){const $=p<<4&240|_>>2;if(r.push($),S!==64){const J=_<<6&192|S;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class JA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZA=function(s){const e=Lv(s);return Uv.encodeByteArray(e,!0)},Yc=function(s){return ZA(s).replace(/\./g,"")},Pv=function(s){try{return Uv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function WA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const eS=()=>WA().__FIREBASE_DEFAULTS__,tS=()=>{if(typeof process>"u"||typeof t0>"u")return;const s=t0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},nS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Pv(s[1]);return e&&JSON.parse(e)},gh=()=>{try{return YA()||eS()||tS()||nS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},jv=s=>gh()?.emulatorHosts?.[s],iS=s=>{const e=jv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},zv=()=>gh()?.config,Bv=s=>gh()?.[`_${s}`];class sS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function bo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qv(s){return(await fetch(s,{credentials:"include"})).ok}function rS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Yc(JSON.stringify(i)),Yc(JSON.stringify(d)),""].join(".")}const Pl={};function aS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Pl))Pl[e]?s.emulator.push(e):s.prod.push(e);return s}function oS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let n0=!1;function Hv(s,e){if(typeof window>"u"||typeof document>"u"||!bo(window.location.host)||Pl[s]===e||Pl[s]||n0)return;Pl[s]=e;function i(M){return`__firebase__banner__${M}`}const r="__firebase__banner",c=aS().prod.length>0;function d(){const M=document.getElementById(r);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,$){M.setAttribute("width","24"),M.setAttribute("id",$),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{n0=!0,d()},M}function T(M,$){M.setAttribute("id",$),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=oS(r),$=i("text"),J=document.getElementById($)||document.createElement("span"),te=i("learnmore"),ee=document.getElementById(te)||document.createElement("a"),he=i("preprendIcon"),ve=document.getElementById(he)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ye=M.element;p(ye),T(ee,te);const Fe=_();y(ve,he),ye.append(ve,J,ee,Fe),document.body.appendChild(ye)}c?(J.innerText="Preview backend disconnected.",ve.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ve.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",$)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function uS(){const s=gh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function fS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dS(){const s=dn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function mS(){return!uS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pS(){try{return typeof indexedDB=="object"}catch{return!1}}function gS(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const yS="FirebaseError";class xs extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=yS,Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?_S(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new xs(l,p,r)}}function _S(s,e){return s.replace(vS,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const vS=/\{\$([^}]+)}/g;function ES(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ra(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=e[l];if(i0(c)&&i0(d)){if(!ra(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function i0(s){return s!==null&&typeof s=="object"}function nu(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ol(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Ml(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function TS(s,e){const i=new bS(s,e);return i.subscribe.bind(i)}class bS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");AS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=Ud),l.error===void 0&&(l.error=Ud),l.complete===void 0&&(l.complete=Ud);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Ud(){}function Yt(s){return s&&s._delegate?s._delegate:s}class aa{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ea="[DEFAULT]";class SS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new sS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RS(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wS(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wS(s){return s===ea?void 0:s}function RS(s){return s.instantiationMode==="EAGER"}class IS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new SS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var je;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(je||(je={}));const xS={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},CS=je.INFO,NS={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},DS=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=NS[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bm{constructor(e){this.name=e,this._logLevel=CS,this._logHandler=DS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const OS=(s,e)=>e.some(i=>s instanceof i);let s0,r0;function MS(){return s0||(s0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VS(){return r0||(r0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fv=new WeakMap,Jd=new WeakMap,Gv=new WeakMap,Pd=new WeakMap,Am=new WeakMap;function kS(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(dr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Fv.set(i,s)}).catch(()=>{}),Am.set(e,s),e}function LS(s){if(Jd.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Jd.set(s,e)}let Zd={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Jd.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Gv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return dr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function US(s){Zd=s(Zd)}function PS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(jd(this),e,...i);return Gv.set(r,e.sort?e.sort():[e]),dr(r)}:VS().includes(s)?function(...e){return s.apply(jd(this),e),dr(Fv.get(this))}:function(...e){return dr(s.apply(jd(this),e))}}function jS(s){return typeof s=="function"?PS(s):(s instanceof IDBTransaction&&LS(s),OS(s,MS())?new Proxy(s,Zd):s)}function dr(s){if(s instanceof IDBRequest)return kS(s);if(Pd.has(s))return Pd.get(s);const e=jS(s);return e!==s&&(Pd.set(s,e),Am.set(e,s)),e}const jd=s=>Am.get(s);function zS(s,e,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),p=dr(d);return r&&d.addEventListener("upgradeneeded",y=>{r(dr(d.result),y.oldVersion,y.newVersion,dr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const BS=["get","getKey","getAll","getAllKeys","count"],qS=["put","add","delete","clear"],zd=new Map;function a0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(zd.get(e))return zd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=qS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||BS.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return zd.set(e,c),c}US(s=>({...s,get:(e,i,r)=>a0(e,i)||s.get(e,i,r),has:(e,i)=>!!a0(e,i)||s.has(e,i)}));class HS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(FS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function FS(s){return s.getComponent()?.type==="VERSION"}const Wd="@firebase/app",o0="0.14.6";const Ss=new bm("@firebase/app"),GS="@firebase/app-compat",$S="@firebase/analytics-compat",QS="@firebase/analytics",KS="@firebase/app-check-compat",YS="@firebase/app-check",XS="@firebase/auth",JS="@firebase/auth-compat",ZS="@firebase/database",WS="@firebase/data-connect",ew="@firebase/database-compat",tw="@firebase/functions",nw="@firebase/functions-compat",iw="@firebase/installations",sw="@firebase/installations-compat",rw="@firebase/messaging",aw="@firebase/messaging-compat",ow="@firebase/performance",lw="@firebase/performance-compat",uw="@firebase/remote-config",cw="@firebase/remote-config-compat",hw="@firebase/storage",fw="@firebase/storage-compat",dw="@firebase/firestore",mw="@firebase/ai",pw="@firebase/firestore-compat",gw="firebase",yw="12.6.0";const em="[DEFAULT]",_w={[Wd]:"fire-core",[GS]:"fire-core-compat",[QS]:"fire-analytics",[$S]:"fire-analytics-compat",[YS]:"fire-app-check",[KS]:"fire-app-check-compat",[XS]:"fire-auth",[JS]:"fire-auth-compat",[ZS]:"fire-rtdb",[WS]:"fire-data-connect",[ew]:"fire-rtdb-compat",[tw]:"fire-fn",[nw]:"fire-fn-compat",[iw]:"fire-iid",[sw]:"fire-iid-compat",[rw]:"fire-fcm",[aw]:"fire-fcm-compat",[ow]:"fire-perf",[lw]:"fire-perf-compat",[uw]:"fire-rc",[cw]:"fire-rc-compat",[hw]:"fire-gcs",[fw]:"fire-gcs-compat",[dw]:"fire-fst",[pw]:"fire-fst-compat",[mw]:"fire-vertex","fire-js":"fire-js",[gw]:"fire-js-all"};const Xc=new Map,vw=new Map,tm=new Map;function l0(s,e){try{s.container.addComponent(e)}catch(i){Ss.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function mo(s){const e=s.name;if(tm.has(e))return Ss.debug(`There were multiple attempts to register component ${e}.`),!1;tm.set(e,s);for(const i of Xc.values())l0(i,s);for(const i of vw.values())l0(i,s);return!0}function Sm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function _n(s){return s==null?!1:s.settings!==void 0}const Ew={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mr=new tu("app","Firebase",Ew);class Tw{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}const Ao=yw;function $v(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:em,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw mr.create("bad-app-name",{appName:String(l)});if(i||(i=zv()),!i)throw mr.create("no-options");const c=Xc.get(l);if(c){if(ra(i,c.options)&&ra(r,c.config))return c;throw mr.create("duplicate-app",{appName:l})}const d=new IS(l);for(const y of tm.values())d.addComponent(y);const p=new Tw(i,r,d);return Xc.set(l,p),p}function Qv(s=em){const e=Xc.get(s);if(!e&&s===em&&zv())return $v();if(!e)throw mr.create("no-app",{appName:s});return e}function pr(s,e,i){let r=_w[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ss.warn(d.join(" "));return}mo(new aa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const bw="firebase-heartbeat-database",Aw=1,Gl="firebase-heartbeat-store";let Bd=null;function Kv(){return Bd||(Bd=zS(bw,Aw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Gl)}catch(i){console.warn(i)}}}}).catch(s=>{throw mr.create("idb-open",{originalErrorMessage:s.message})})),Bd}async function Sw(s){try{const i=(await Kv()).transaction(Gl),r=await i.objectStore(Gl).get(Yv(s));return await i.done,r}catch(e){if(e instanceof xs)Ss.warn(e.message);else{const i=mr.create("idb-get",{originalErrorMessage:e?.message});Ss.warn(i.message)}}}async function u0(s,e){try{const r=(await Kv()).transaction(Gl,"readwrite");await r.objectStore(Gl).put(e,Yv(s)),await r.done}catch(i){if(i instanceof xs)Ss.warn(i.message);else{const r=mr.create("idb-set",{originalErrorMessage:i?.message});Ss.warn(r.message)}}}function Yv(s){return`${s.name}!${s.options.appId}`}const ww=1024,Rw=30;class Iw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Cw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=c0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>Rw){const l=Nw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ss.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=c0(),{heartbeatsToSend:i,unsentEntries:r}=xw(this._heartbeatsCache.heartbeats),l=Yc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Ss.warn(e),""}}}function c0(){return new Date().toISOString().substring(0,10)}function xw(s,e=ww){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),h0(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),h0(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Cw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pS()?gS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Sw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return u0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return u0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function h0(s){return Yc(JSON.stringify({version:2,heartbeats:s})).length}function Nw(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function Dw(s){mo(new aa("platform-logger",e=>new HS(e),"PRIVATE")),mo(new aa("heartbeat",e=>new Iw(e),"PRIVATE")),pr(Wd,o0,s),pr(Wd,o0,"esm2020"),pr("fire-js","")}Dw("");var Ow="firebase",Mw="12.6.0";pr(Ow,Mw,"app");function Xv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Vw=Xv,Jv=new tu("auth","Firebase",Xv());const Jc=new bm("@firebase/auth");function kw(s,...e){Jc.logLevel<=je.WARN&&Jc.warn(`Auth (${Ao}): ${s}`,...e)}function jc(s,...e){Jc.logLevel<=je.ERROR&&Jc.error(`Auth (${Ao}): ${s}`,...e)}function ii(s,...e){throw Rm(s,...e)}function pi(s,...e){return Rm(s,...e)}function wm(s,e,i){const r={...Vw(),[e]:i};return new tu("auth","Firebase",r).create(e,{appName:s.name})}function gi(s){return wm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lw(s,e,i){const r=i;if(!(e instanceof r))throw r.name!==e.constructor.name&&ii(s,"argument-error"),wm(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Rm(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return Jv.create(s,...e)}function Te(s,e,...i){if(!s)throw Rm(e,...i)}function Ts(s){const e="INTERNAL ASSERTION FAILED: "+s;throw jc(e),new Error(e)}function ws(s,e){s||Ts(e)}function nm(){return typeof self<"u"&&self.location?.href||""}function Uw(){return f0()==="http:"||f0()==="https:"}function f0(){return typeof self<"u"&&self.location?.protocol||null}function Pw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Uw()||hS()||"connection"in navigator)?navigator.onLine:!0}function jw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class iu{constructor(e,i){this.shortDelay=e,this.longDelay=i,ws(i>e,"Short delay should be less than long delay!"),this.isMobile=lS()||fS()}get(){return Pw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Im(s,e){ws(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Zv{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Bw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qw=new iu(3e4,6e4);function Ji(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Zi(s,e,i,r,l={}){return Wv(s,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const p=nu({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:y,...c};return cS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&bo(s.emulatorConfig.host)&&(_.credentials="include"),Zv.fetch()(await eE(s,s.config.apiHost,i,p),_)})}async function Wv(s,e,i){s._canInitEmulator=!1;const r={...zw,...e};try{const l=new Fw(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Mc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Mc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Mc(s,"user-disabled",d);const T=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw wm(s,T,_);ii(s,T)}}catch(l){if(l instanceof xs)throw l;ii(s,"network-request-failed",{message:String(l)})}}async function So(s,e,i,r,l={}){const c=await Zi(s,e,i,r,l);return"mfaPendingCredential"in c&&ii(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function eE(s,e,i,r){const l=`${e}${i}?${r}`,c=s,d=c.config.emulator?Im(s.config,l):`${s.config.apiScheme}://${l}`;return Bw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function Hw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Fw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(pi(this.auth,"network-request-failed")),qw.get())})}}function Mc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=pi(s,e,r);return l.customData._tokenResponse=i,l}function d0(s){return s!==void 0&&s.enterprise!==void 0}class Gw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return Hw(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $w(s,e){return Zi(s,"GET","/v2/recaptchaConfig",Ji(s,e))}async function Qw(s,e){return Zi(s,"POST","/v1/accounts:delete",e)}async function Zc(s,e){return Zi(s,"POST","/v1/accounts:lookup",e)}function jl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Kw(s,e=!1){const i=Yt(s),r=await i.getIdToken(e),l=xm(r);Te(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:jl(qd(l.auth_time)),issuedAtTime:jl(qd(l.iat)),expirationTime:jl(qd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function qd(s){return Number(s)*1e3}function xm(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return jc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Pv(i);return l?JSON.parse(l):(jc("Failed to decode base64 JWT payload"),null)}catch(l){return jc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function m0(s){const e=xm(s);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function po(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof xs&&Yw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Yw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Xw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class im{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=jl(this.lastLoginAt),this.creationTime=jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wc(s){const e=s.auth,i=await s.getIdToken(),r=await po(s,Zc(e,{idToken:i}));Te(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?tE(l.providerUserInfo):[],d=Zw(s.providerData,c),p=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,_=p?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new im(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,T)}async function Jw(s){const e=Yt(s);await Wc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Zw(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function tE(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Ww(s,e){const i=await Wv(s,{},async()=>{const r=nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await eE(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:r};return s.emulatorConfig&&bo(s.emulatorConfig.host)&&(y.credentials="include"),Zv.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function e2(s,e){return Zi(s,"POST","/v2/accounts:revokeToken",Ji(s,e))}class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):m0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const i=m0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await Ww(e,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new lo;return r&&(Te(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(Te(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Te(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return Ts("not implemented")}}function lr(s,e){Te(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class di{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new Xw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new im(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await po(this,this.stsTokenManager.getToken(this.auth,e));return Te(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Kw(this,e)}reload(){return Jw(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new di({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await Wc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(gi(this.auth));const e=await this.getIdToken();return await po(this,Qw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:$,providerData:J,stsTokenManager:te}=i;Te(S&&te,e,"internal-error");const ee=lo.fromJSON(this.name,te);Te(typeof S=="string",e,"internal-error"),lr(r,e.name),lr(l,e.name),Te(typeof M=="boolean",e,"internal-error"),Te(typeof $=="boolean",e,"internal-error"),lr(c,e.name),lr(d,e.name),lr(p,e.name),lr(y,e.name),lr(_,e.name),lr(T,e.name);const he=new di({uid:S,auth:e,email:l,emailVerified:M,displayName:r,isAnonymous:$,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:ee,createdAt:_,lastLoginAt:T});return J&&Array.isArray(J)&&(he.providerData=J.map(ve=>({...ve}))),y&&(he._redirectEventId=y),he}static async _fromIdTokenResponse(e,i,r=!1){const l=new lo;l.updateFromServerResponse(i);const c=new di({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await Wc(c),c}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];Te(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?tE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new lo;p.updateFromIdToken(r);const y=new di({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new im(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const p0=new Map;function bs(s){ws(s instanceof Function,"Expected a class definition");let e=p0.get(s);return e?(ws(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,p0.set(s,e),e)}class nE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}nE.type="NONE";const g0=nE;function zc(s,e,i){return`firebase:${s}:${e}:${i}`}class uo{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=zc(this.userKey,l.apiKey,c),this.fullPersistenceKey=zc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Zc(this.auth,{idToken:e}).catch(()=>{});return i?di._fromGetAccountInfoResponse(this.auth,i,e):null}return di._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new uo(bs(g0),e,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||bs(g0);const d=zc(r,e.config.apiKey,e.name);let p=null;for(const _ of i)try{const T=await _._get(d);if(T){let S;if(typeof T=="string"){const M=await Zc(e,{idToken:T}).catch(()=>{});if(!M)break;S=await di._fromGetAccountInfoResponse(e,M,T)}else S=di._fromJSON(e,T);_!==c&&(p=S),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new uo(c,e,r):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new uo(c,e,r))}}function y0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lE(e))return"Blackberry";if(uE(e))return"Webos";if(sE(e))return"Safari";if((e.includes("chrome/")||rE(e))&&!e.includes("edge/"))return"Chrome";if(oE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function iE(s=dn()){return/firefox\//i.test(s)}function sE(s=dn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rE(s=dn()){return/crios\//i.test(s)}function aE(s=dn()){return/iemobile/i.test(s)}function oE(s=dn()){return/android/i.test(s)}function lE(s=dn()){return/blackberry/i.test(s)}function uE(s=dn()){return/webos/i.test(s)}function Cm(s=dn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function t2(s=dn()){return Cm(s)&&!!window.navigator?.standalone}function n2(){return dS()&&document.documentMode===10}function cE(s=dn()){return Cm(s)||oE(s)||uE(s)||lE(s)||/windows phone/i.test(s)||aE(s)}function hE(s,e=[]){let i;switch(s){case"Browser":i=y0(dn());break;case"Worker":i=`${y0(dn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ao}/${r}`}class i2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,p)=>{try{const y=e(c);d(y)}catch(y){p(y)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function s2(s,e={}){return Zi(s,"GET","/v2/passwordPolicy",Ji(s,e))}const r2=6;class a2{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??r2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class o2{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _0(this),this.idTokenSubscription=new _0(this),this.beforeStateQueue=new i2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Jv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=bs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Zc(this,{idToken:e}),r=await di._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(_n(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Wc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_n(this.app))return Promise.reject(gi(this));const i=e?Yt(e):null;return i&&Te(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _n(this.app)?Promise.reject(gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await s2(this),i=new a2(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tu("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await e2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&bs(e)||this._popupRedirectResolver;Te(i,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[bs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,r,l);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&kw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function _i(s){return Yt(s)}class _0{constructor(e){this.auth=e,this.observer=null,this.addObserver=TS(i=>this.observer=i)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function l2(s){yh=s}function fE(s){return yh.loadJS(s)}function u2(){return yh.recaptchaEnterpriseScript}function c2(){return yh.gapiScript}function h2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class f2{constructor(){this.enterprise=new d2}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class d2{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const m2="recaptcha-enterprise",dE="NO_RECAPTCHA";class p2{constructor(e){this.type=m2,this.auth=_i(e)}async verify(e="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{$w(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new Gw(y);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(y=>{p(y)})})}function l(c,d,p){const y=window.grecaptcha;d0(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:e}).then(_=>{d(_)}).catch(()=>{d(dE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new f2().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!i&&d0(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=u2();y.length!==0&&(y+=p),fE(y).then(()=>{l(p,c,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function v0(s,e,i,r=!1,l=!1){const c=new p2(s);let d;if(l)d=dE;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function eh(s,e,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await v0(s,e,i,i==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await v0(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function g2(s,e){const i=Sm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ra(c,e??{}))return l;ii(l,"already-initialized")}return i.initialize({options:e})}function y2(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(bs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function _2(s,e,i){const r=_i(s);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=mE(e),{host:d,port:p}=v2(e),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(ra(_,r.config.emulator)&&ra(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,bo(d)?(qv(`${c}//${d}${y}`),Hv("Auth",!0)):E2()}function mE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function v2(s){const e=mE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:E0(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:E0(d)}}}function E0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function E2(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Nm{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Ts("not implemented")}_getIdTokenResponse(e){return Ts("not implemented")}_linkToIdToken(e,i){return Ts("not implemented")}_getReauthenticationResolver(e){return Ts("not implemented")}}async function T2(s,e){return Zi(s,"POST","/v1/accounts:signUp",e)}async function b2(s,e){return So(s,"POST","/v1/accounts:signInWithPassword",Ji(s,e))}async function pE(s,e){return Zi(s,"POST","/v1/accounts:sendOobCode",Ji(s,e))}async function A2(s,e){return pE(s,e)}async function S2(s,e){return pE(s,e)}async function w2(s,e){return So(s,"POST","/v1/accounts:signInWithEmailLink",Ji(s,e))}async function R2(s,e){return So(s,"POST","/v1/accounts:signInWithEmailLink",Ji(s,e))}class $l extends Nm{constructor(e,i,r,l=null){super("password",r),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new $l(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new $l(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eh(e,i,"signInWithPassword",b2);case"emailLink":return w2(e,{email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eh(e,r,"signUpPassword",T2);case"emailLink":return R2(e,{idToken:i,email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function co(s,e){return So(s,"POST","/v1/accounts:signInWithIdp",Ji(s,e))}const I2="http://localhost";class oa extends Nm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ii("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new oa(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return co(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,co(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,co(e,i)}buildRequest(){const e={requestUri:I2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=nu(i)}return e}}function x2(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function C2(s){const e=Ol(Ml(s)).link,i=e?Ol(Ml(e)).deep_link_id:null,r=Ol(Ml(s)).deep_link_id;return(r?Ol(Ml(r)).link:null)||r||i||e||s}class Dm{constructor(e){const i=Ol(Ml(e)),r=i.apiKey??null,l=i.oobCode??null,c=x2(i.mode??null);Te(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=C2(e);try{return new Dm(i)}catch{return null}}}class wo{constructor(){this.providerId=wo.PROVIDER_ID}static credential(e,i){return $l._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Dm.parseLink(i);return Te(r,"argument-error"),$l._fromEmailAndCode(e,r.code,r.tenantId)}}wo.PROVIDER_ID="password";wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Om{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class su extends Om{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ur extends su{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ur.credential(e.oauthAccessToken)}catch{return null}}}ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";ur.PROVIDER_ID="facebook.com";class Es extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return oa._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Es.credential(i,r)}catch{return null}}}Es.GOOGLE_SIGN_IN_METHOD="google.com";Es.PROVIDER_ID="google.com";class cr extends su{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cr.credential(e.oauthAccessToken)}catch{return null}}}cr.GITHUB_SIGN_IN_METHOD="github.com";cr.PROVIDER_ID="github.com";class hr extends su{constructor(){super("twitter.com")}static credential(e,i){return oa._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return hr.credential(i,r)}catch{return null}}}hr.TWITTER_SIGN_IN_METHOD="twitter.com";hr.PROVIDER_ID="twitter.com";async function gE(s,e){return So(s,"POST","/v1/accounts:signUp",Ji(s,e))}class Yi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const c=await di._fromIdTokenResponse(e,r,l),d=T0(r);return new Yi({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=T0(r);return new Yi({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function T0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function N2(s){if(_n(s.app))return Promise.reject(gi(s));const e=_i(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Yi({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await gE(e,{returnSecureToken:!0}),r=await Yi._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(r.user),r}class th extends xs{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,th.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new th(e,i,r,l)}}function yE(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(s,c,e,r):c})}async function D2(s,e,i=!1){const r=await po(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Yi._forOperation(s,"link",r)}async function O2(s,e,i=!1){const{auth:r}=s;if(_n(r.app))return Promise.reject(gi(r));const l="reauthenticate";try{const c=await po(s,yE(r,l,e,s),i);Te(c.idToken,r,"internal-error");const d=xm(c.idToken);Te(d,r,"internal-error");const{sub:p}=d;return Te(s.uid===p,r,"user-mismatch"),Yi._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ii(r,"user-mismatch"),c}}async function _E(s,e,i=!1){if(_n(s.app))return Promise.reject(gi(s));const r="signIn",l=await yE(s,r,e),c=await Yi._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}async function M2(s,e){return _E(_i(s),e)}async function V2(s,e){return So(s,"POST","/v1/accounts:signInWithCustomToken",Ji(s,e))}async function k2(s,e){if(_n(s.app))return Promise.reject(gi(s));const i=_i(s),r=await V2(i,{token:e,returnSecureToken:!0}),l=await Yi._fromIdTokenResponse(i,"signIn",r);return await i._updateCurrentUser(l.user),l}async function vE(s){const e=_i(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function L2(s,e,i){const r=_i(s);await eh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",S2)}async function U2(s,e,i){if(_n(s.app))return Promise.reject(gi(s));const r=_i(s),d=await eh(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gE).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&vE(s),y}),p=await Yi._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function P2(s,e,i){return _n(s.app)?Promise.reject(gi(s)):M2(Yt(s),wo.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&vE(s),r})}async function j2(s,e){const i=Yt(s),l={requestType:"VERIFY_EMAIL",idToken:await s.getIdToken()},{email:c}=await A2(i.auth,l);c!==s.email&&await s.reload()}async function z2(s,e){return Zi(s,"POST","/v1/accounts:update",e)}async function B2(s,{displayName:e,photoURL:i}){if(e===void 0&&i===void 0)return;const r=Yt(s),c={idToken:await r.getIdToken(),displayName:e,photoUrl:i,returnSecureToken:!0},d=await po(r,z2(r.auth,c));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const p=r.providerData.find(({providerId:y})=>y==="password");p&&(p.displayName=r.displayName,p.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function q2(s,e,i,r){return Yt(s).onIdTokenChanged(e,i,r)}function H2(s,e,i){return Yt(s).beforeAuthStateChanged(e,i)}function F2(s,e,i,r){return Yt(s).onAuthStateChanged(e,i,r)}function Hd(s){return Yt(s).signOut()}const nh="__sak";class EE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const G2=1e3,$2=10;class TE extends EE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);n2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,$2):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},G2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}TE.type="LOCAL";const Q2=TE;class bE extends EE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}bE.type="SESSION";const AE=bE;function K2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class _h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new _h(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await K2(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];function Mm(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class Y2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Mm("",20);l.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const M=S;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(T),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Fi(){return window}function X2(s){Fi().location.href=s}function SE(){return typeof Fi().WorkerGlobalScope<"u"&&typeof Fi().importScripts=="function"}async function J2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Z2(){return navigator?.serviceWorker?.controller||null}function W2(){return SE()?self:null}const wE="firebaseLocalStorageDb",eR=1,ih="firebaseLocalStorage",RE="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function vh(s,e){return s.transaction([ih],e?"readwrite":"readonly").objectStore(ih)}function tR(){const s=indexedDB.deleteDatabase(wE);return new ru(s).toPromise()}function sm(){const s=indexedDB.open(wE,eR);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(ih,{keyPath:RE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(ih)?e(r):(r.close(),await tR(),e(await sm()))})})}async function b0(s,e,i){const r=vh(s,!0).put({[RE]:e,value:i});return new ru(r).toPromise()}async function nR(s,e){const i=vh(s,!1).get(e),r=await new ru(i).toPromise();return r===void 0?null:r.value}function A0(s,e){const i=vh(s,!0).delete(e);return new ru(i).toPromise()}const iR=800,sR=3;class IE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>sR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(W2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await J2(),!this.activeServiceWorker)return;this.sender=new Y2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Z2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sm();return await b0(e,nh,"1"),await A0(e,nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>b0(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>nR(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>A0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=vh(l,!1).getAll();return new ru(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IE.type="LOCAL";const rR=IE;new iu(3e4,6e4);function xE(s,e){return e?bs(e):(Te(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Vm extends Nm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return co(e,this._buildIdpRequest())}_linkToIdToken(e,i){return co(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return co(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function aR(s){return _E(s.auth,new Vm(s),s.bypassAuthState)}function oR(s){const{auth:e,user:i}=s;return Te(i,e,"internal-error"),O2(i,new Vm(s),s.bypassAuthState)}async function lR(s){const{auth:e,user:i}=s;return Te(i,e,"internal-error"),D2(i,new Vm(s),s.bypassAuthState)}class CE{constructor(e,i,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aR;case"linkViaPopup":case"linkViaRedirect":return lR;case"reauthViaPopup":case"reauthViaRedirect":return oR;default:ii(this.auth,"internal-error")}}resolve(e){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uR=new iu(2e3,1e4);async function cR(s,e,i){if(_n(s.app))return Promise.reject(pi(s,"operation-not-supported-in-this-environment"));const r=_i(s);Lw(s,e,Om);const l=xE(r,i);return new ta(r,"signInViaPopup",e,l).executeNotNull()}class ta extends CE{constructor(e,i,r,l,c){super(e,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,ta.currentPopupAction&&ta.currentPopupAction.cancel(),ta.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ws(this.filter.length===1,"Popup operations only handle one event");const e=Mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ta.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uR.get())};e()}}ta.currentPopupAction=null;const hR="pendingRedirect",Bc=new Map;class fR extends CE{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Bc.get(this.auth._key());if(!e){try{const r=await dR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Bc.set(this.auth._key(),e)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dR(s,e){const i=gR(e),r=pR(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function mR(s,e){Bc.set(s._key(),e)}function pR(s){return bs(s._redirectPersistence)}function gR(s){return zc(hR,s.config.apiKey,s.name)}async function yR(s,e,i=!1){if(_n(s.app))return Promise.reject(gi(s));const r=_i(s),l=xE(r,e),d=await new fR(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const _R=600*1e3;class vR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ER(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!NE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(pi(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_R&&this.cachedEventUids.clear(),this.cachedEventUids.has(S0(e))}saveEventToCache(e){this.cachedEventUids.add(S0(e)),this.lastProcessedEventTime=Date.now()}}function S0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function NE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function ER(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NE(s);default:return!1}}async function TR(s,e={}){return Zi(s,"GET","/v1/projects",e)}const bR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AR=/^https?/;async function SR(s){if(s.config.emulator)return;const{authorizedDomains:e}=await TR(s);for(const i of e)try{if(wR(i))return}catch{}ii(s,"unauthorized-domain")}function wR(s){const e=nm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!AR.test(i))return!1;if(bR.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const RR=new iu(3e4,6e4);function w0(){const s=Fi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function IR(s){return new Promise((e,i)=>{function r(){w0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w0(),i(pi(s,"network-request-failed"))},timeout:RR.get()})}if(Fi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fi().gapi?.load)r();else{const l=h2("iframefcb");return Fi()[l]=()=>{gapi.load?r():i(pi(s,"network-request-failed"))},fE(`${c2()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw qc=null,e})}let qc=null;function xR(s){return qc=qc||IR(s),qc}const CR=new iu(5e3,15e3),NR="__/auth/iframe",DR="emulator/auth/iframe",OR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VR(s){const e=s.config;Te(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Im(e,DR):`https://${s.config.authDomain}/${NR}`,r={apiKey:e.apiKey,appName:s.name,v:Ao},l=MR.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${nu(r).slice(1)}`}async function kR(s){const e=await xR(s),i=Fi().gapi;return Te(i,s,"internal-error"),e.open({where:document.body,url:VR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OR,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=pi(s,"network-request-failed"),p=Fi().setTimeout(()=>{c(d)},CR.get());function y(){Fi().clearTimeout(p),l(r)}r.ping(y).then(y,()=>{c(d)})}))}const LR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UR=500,PR=600,jR="_blank",zR="http://localhost";class R0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BR(s,e,i,r=UR,l=PR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const y={...LR,width:r.toString(),height:l.toString(),top:c,left:d},_=dn().toLowerCase();i&&(p=rE(_)?jR:i),iE(_)&&(e=e||zR,y.scrollbars="yes");const T=Object.entries(y).reduce((M,[$,J])=>`${M}${$}=${J},`,"");if(t2(_)&&p!=="_self")return qR(e||"",p),new R0(null);const S=window.open(e||"",p,T);Te(S,s,"popup-blocked");try{S.focus()}catch{}return new R0(S)}function qR(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const HR="__/auth/handler",FR="emulator/auth/handler",GR=encodeURIComponent("fac");async function I0(s,e,i,r,l,c){Te(s.config.authDomain,s,"auth-domain-config-required"),Te(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Ao,eventId:l};if(e instanceof Om){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",ES(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(e instanceof su){const T=e.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const y=await s._getAppCheckToken(),_=y?`#${GR}=${encodeURIComponent(y)}`:"";return`${$R(s)}?${nu(p).slice(1)}${_}`}function $R({config:s}){return s.emulator?Im(s,FR):`https://${s.authDomain}/${HR}`}const Fd="webStorageSupport";class QR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AE,this._completeRedirectFn=yR,this._overrideRedirectResult=mR}async _openPopup(e,i,r,l){ws(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await I0(e,i,r,nm(),l);return BR(e,c,Mm())}async _openRedirect(e,i,r,l){await this._originValidation(e);const c=await I0(e,i,r,nm(),l);return X2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ws(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await kR(e),r=new vR(e);return i.register("authEvent",l=>(Te(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Fd,{type:Fd},l=>{const c=l?.[0]?.[Fd];c!==void 0&&i(!!c),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=SR(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return cE()||sE()||Cm()}}const KR=QR;var x0="@firebase/auth",C0="1.11.1";class YR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function XR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JR(s){mo(new aa("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hE(s)},_=new o2(r,l,c,y);return y2(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),mo(new aa("auth-internal",e=>{const i=_i(e.getProvider("auth").getImmediate());return(r=>new YR(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),pr(x0,C0,XR(s)),pr(x0,C0,"esm2020")}const ZR=300,WR=Bv("authIdTokenMaxAge")||ZR;let N0=null;const eI=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>WR)return;const l=i?.token;N0!==l&&(N0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function tI(s=Qv()){const e=Sm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=g2(s,{popupRedirectResolver:KR,persistence:[rR,Q2,AE]}),r=Bv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=eI(c.toString());H2(i,d,()=>d(i.currentUser)),q2(i,p=>d(p))}}const l=jv("auth");return l&&_2(i,`http://${l}`),i}function nI(){return document.getElementsByTagName("head")?.[0]??document}l2({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=pi("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",nI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JR("Browser");var D0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gr,DE;(function(){var s;function e(C,w){function R(){}R.prototype=w.prototype,C.F=w.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(V,D,L){for(var I=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)I[Ee-2]=arguments[Ee];return w.prototype[D].apply(V,I)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,w,R){R||(R=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(D=0;D<16;++D)V[D]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=C.g[0],R=C.g[1],D=C.g[2];let L=C.g[3],I;I=w+(L^R&(D^L))+V[0]+3614090360&4294967295,w=R+(I<<7&4294967295|I>>>25),I=L+(D^w&(R^D))+V[1]+3905402710&4294967295,L=w+(I<<12&4294967295|I>>>20),I=D+(R^L&(w^R))+V[2]+606105819&4294967295,D=L+(I<<17&4294967295|I>>>15),I=R+(w^D&(L^w))+V[3]+3250441966&4294967295,R=D+(I<<22&4294967295|I>>>10),I=w+(L^R&(D^L))+V[4]+4118548399&4294967295,w=R+(I<<7&4294967295|I>>>25),I=L+(D^w&(R^D))+V[5]+1200080426&4294967295,L=w+(I<<12&4294967295|I>>>20),I=D+(R^L&(w^R))+V[6]+2821735955&4294967295,D=L+(I<<17&4294967295|I>>>15),I=R+(w^D&(L^w))+V[7]+4249261313&4294967295,R=D+(I<<22&4294967295|I>>>10),I=w+(L^R&(D^L))+V[8]+1770035416&4294967295,w=R+(I<<7&4294967295|I>>>25),I=L+(D^w&(R^D))+V[9]+2336552879&4294967295,L=w+(I<<12&4294967295|I>>>20),I=D+(R^L&(w^R))+V[10]+4294925233&4294967295,D=L+(I<<17&4294967295|I>>>15),I=R+(w^D&(L^w))+V[11]+2304563134&4294967295,R=D+(I<<22&4294967295|I>>>10),I=w+(L^R&(D^L))+V[12]+1804603682&4294967295,w=R+(I<<7&4294967295|I>>>25),I=L+(D^w&(R^D))+V[13]+4254626195&4294967295,L=w+(I<<12&4294967295|I>>>20),I=D+(R^L&(w^R))+V[14]+2792965006&4294967295,D=L+(I<<17&4294967295|I>>>15),I=R+(w^D&(L^w))+V[15]+1236535329&4294967295,R=D+(I<<22&4294967295|I>>>10),I=w+(D^L&(R^D))+V[1]+4129170786&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^D&(w^R))+V[6]+3225465664&4294967295,L=w+(I<<9&4294967295|I>>>23),I=D+(w^R&(L^w))+V[11]+643717713&4294967295,D=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(D^L))+V[0]+3921069994&4294967295,R=D+(I<<20&4294967295|I>>>12),I=w+(D^L&(R^D))+V[5]+3593408605&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^D&(w^R))+V[10]+38016083&4294967295,L=w+(I<<9&4294967295|I>>>23),I=D+(w^R&(L^w))+V[15]+3634488961&4294967295,D=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(D^L))+V[4]+3889429448&4294967295,R=D+(I<<20&4294967295|I>>>12),I=w+(D^L&(R^D))+V[9]+568446438&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^D&(w^R))+V[14]+3275163606&4294967295,L=w+(I<<9&4294967295|I>>>23),I=D+(w^R&(L^w))+V[3]+4107603335&4294967295,D=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(D^L))+V[8]+1163531501&4294967295,R=D+(I<<20&4294967295|I>>>12),I=w+(D^L&(R^D))+V[13]+2850285829&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^D&(w^R))+V[2]+4243563512&4294967295,L=w+(I<<9&4294967295|I>>>23),I=D+(w^R&(L^w))+V[7]+1735328473&4294967295,D=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(D^L))+V[12]+2368359562&4294967295,R=D+(I<<20&4294967295|I>>>12),I=w+(R^D^L)+V[5]+4294588738&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^D)+V[8]+2272392833&4294967295,L=w+(I<<11&4294967295|I>>>21),I=D+(L^w^R)+V[11]+1839030562&4294967295,D=L+(I<<16&4294967295|I>>>16),I=R+(D^L^w)+V[14]+4259657740&4294967295,R=D+(I<<23&4294967295|I>>>9),I=w+(R^D^L)+V[1]+2763975236&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^D)+V[4]+1272893353&4294967295,L=w+(I<<11&4294967295|I>>>21),I=D+(L^w^R)+V[7]+4139469664&4294967295,D=L+(I<<16&4294967295|I>>>16),I=R+(D^L^w)+V[10]+3200236656&4294967295,R=D+(I<<23&4294967295|I>>>9),I=w+(R^D^L)+V[13]+681279174&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^D)+V[0]+3936430074&4294967295,L=w+(I<<11&4294967295|I>>>21),I=D+(L^w^R)+V[3]+3572445317&4294967295,D=L+(I<<16&4294967295|I>>>16),I=R+(D^L^w)+V[6]+76029189&4294967295,R=D+(I<<23&4294967295|I>>>9),I=w+(R^D^L)+V[9]+3654602809&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^D)+V[12]+3873151461&4294967295,L=w+(I<<11&4294967295|I>>>21),I=D+(L^w^R)+V[15]+530742520&4294967295,D=L+(I<<16&4294967295|I>>>16),I=R+(D^L^w)+V[2]+3299628645&4294967295,R=D+(I<<23&4294967295|I>>>9),I=w+(D^(R|~L))+V[0]+4096336452&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~D))+V[7]+1126891415&4294967295,L=w+(I<<10&4294967295|I>>>22),I=D+(w^(L|~R))+V[14]+2878612391&4294967295,D=L+(I<<15&4294967295|I>>>17),I=R+(L^(D|~w))+V[5]+4237533241&4294967295,R=D+(I<<21&4294967295|I>>>11),I=w+(D^(R|~L))+V[12]+1700485571&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~D))+V[3]+2399980690&4294967295,L=w+(I<<10&4294967295|I>>>22),I=D+(w^(L|~R))+V[10]+4293915773&4294967295,D=L+(I<<15&4294967295|I>>>17),I=R+(L^(D|~w))+V[1]+2240044497&4294967295,R=D+(I<<21&4294967295|I>>>11),I=w+(D^(R|~L))+V[8]+1873313359&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~D))+V[15]+4264355552&4294967295,L=w+(I<<10&4294967295|I>>>22),I=D+(w^(L|~R))+V[6]+2734768916&4294967295,D=L+(I<<15&4294967295|I>>>17),I=R+(L^(D|~w))+V[13]+1309151649&4294967295,R=D+(I<<21&4294967295|I>>>11),I=w+(D^(R|~L))+V[4]+4149444226&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~D))+V[11]+3174756917&4294967295,L=w+(I<<10&4294967295|I>>>22),I=D+(w^(L|~R))+V[2]+718787259&4294967295,D=L+(I<<15&4294967295|I>>>17),I=R+(L^(D|~w))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+L&4294967295}r.prototype.v=function(C,w){w===void 0&&(w=C.length);const R=w-this.blockSize,V=this.C;let D=this.h,L=0;for(;L<w;){if(D==0)for(;L<=R;)l(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<w;)if(V[D++]=C.charCodeAt(L++),D==this.blockSize){l(this,V),D=0;break}}else for(;L<w;)if(V[D++]=C[L++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=w},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)C[w++]=this.g[R]>>>V&255;return C};function c(C,w){var R=p;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=w(C)}function d(C,w){this.h=w;const R=[];let V=!0;for(let D=C.length-1;D>=0;D--){const L=C[D]|0;V&&L==w||(R[D]=L,V=!1)}this.g=R}var p={};function y(C){return-128<=C&&C<128?c(C,function(w){return new d([w|0],w<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return ee(_(-C));const w=[];let R=1;for(let V=0;C>=R;V++)w[V]=C/R|0,R*=4294967296;return new d(w,0)}function T(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return ee(T(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(w,8));let V=S;for(let L=0;L<C.length;L+=8){var D=Math.min(8,C.length-L);const I=parseInt(C.substring(L,L+D),w);D<8?(D=_(Math.pow(w,D)),V=V.j(D).add(_(I))):(V=V.j(R),V=V.add(_(I)))}return V}var S=y(0),M=y(1),$=y(16777216);s=d.prototype,s.m=function(){if(te(this))return-ee(this).m();let C=0,w=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);C+=(V>=0?V:4294967296+V)*w,w*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(J(this))return"0";if(te(this))return"-"+ee(this).toString(C);const w=_(Math.pow(C,6));var R=this;let V="";for(;;){const D=Fe(R,w).g;R=he(R,D.j(w));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=D,J(R))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function J(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function te(C){return C.h==-1}s.l=function(C){return C=he(this,C),te(C)?-1:J(C)?0:1};function ee(C){const w=C.g.length,R=[];for(let V=0;V<w;V++)R[V]=~C.g[V];return new d(R,~C.h).add(M)}s.abs=function(){return te(this)?ee(this):this},s.add=function(C){const w=Math.max(this.g.length,C.g.length),R=[];let V=0;for(let D=0;D<=w;D++){let L=V+(this.i(D)&65535)+(C.i(D)&65535),I=(L>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);V=I>>>16,L&=65535,I&=65535,R[D]=I<<16|L}return new d(R,R[R.length-1]&-2147483648?-1:0)};function he(C,w){return C.add(ee(w))}s.j=function(C){if(J(this)||J(C))return S;if(te(this))return te(C)?ee(this).j(ee(C)):ee(ee(this).j(C));if(te(C))return ee(this.j(ee(C)));if(this.l($)<0&&C.l($)<0)return _(this.m()*C.m());const w=this.g.length+C.g.length,R=[];for(var V=0;V<2*w;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<C.g.length;D++){const L=this.i(V)>>>16,I=this.i(V)&65535,Ee=C.i(D)>>>16,bt=C.i(D)&65535;R[2*V+2*D]+=I*bt,ve(R,2*V+2*D),R[2*V+2*D+1]+=L*bt,ve(R,2*V+2*D+1),R[2*V+2*D+1]+=I*Ee,ve(R,2*V+2*D+1),R[2*V+2*D+2]+=L*Ee,ve(R,2*V+2*D+2)}for(C=0;C<w;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=w;C<2*w;C++)R[C]=0;return new d(R,0)};function ve(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function ye(C,w){this.g=C,this.h=w}function Fe(C,w){if(J(w))throw Error("division by zero");if(J(C))return new ye(S,S);if(te(C))return w=Fe(ee(C),w),new ye(ee(w.g),ee(w.h));if(te(w))return w=Fe(C,ee(w)),new ye(ee(w.g),w.h);if(C.g.length>30){if(te(C)||te(w))throw Error("slowDivide_ only works with positive integers.");for(var R=M,V=w;V.l(C)<=0;)R=tt(R),V=tt(V);var D=Me(R,1),L=Me(V,1);for(V=Me(V,2),R=Me(R,2);!J(V);){var I=L.add(V);I.l(C)<=0&&(D=D.add(R),L=I),V=Me(V,1),R=Me(R,1)}return w=he(C,D.j(w)),new ye(D,w)}for(D=S;C.l(w)>=0;){for(R=Math.max(1,Math.floor(C.m()/w.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=_(R),I=L.j(w);te(I)||I.l(C)>0;)R-=V,L=_(R),I=L.j(w);J(L)&&(L=M),D=D.add(L),C=he(C,I)}return new ye(D,C)}s.B=function(C){return Fe(this,C).h},s.and=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)&C.i(V);return new d(R,this.h&C.h)},s.or=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)|C.i(V);return new d(R,this.h|C.h)},s.xor=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)^C.i(V);return new d(R,this.h^C.h)};function tt(C){const w=C.g.length+1,R=[];for(let V=0;V<w;V++)R[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(R,C.h)}function Me(C,w){const R=w>>5;w%=32;const V=C.g.length-R,D=[];for(let L=0;L<V;L++)D[L]=w>0?C.i(L+R)>>>w|C.i(L+R+1)<<32-w:C.i(L+R);return new d(D,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,DE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,gr=d}).apply(typeof D0<"u"?D0:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var OE,Vl,ME,Hc,rm,VE,kE,LE;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)e:{var v=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in v))break e;v=v[U]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,U,B){for(var ie=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ie[Ce-2]=arguments[Ce];return m.prototype[U].apply(b,ie)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function $(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function J(u,m){for(let b=1;b<arguments.length;b++){const U=arguments[b];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let ie=0;ie<B;ie++)u[v+ie]=U[ie]}else u.push(U)}}class te{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(u){d.setTimeout(()=>{throw u},0)}function he(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ve{constructor(){this.h=this.g=null}add(m,v){const b=ye.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ye=new te(()=>new Fe,u=>u.reset());class Fe{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,Me=!1,C=new ve,w=()=>{const u=Promise.resolve(void 0);tt=()=>{u.then(R)}};function R(){for(var u;u=he();){try{u.h.call(u.g)}catch(v){ee(v)}var m=ye;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Me=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function Ee(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(Ee,D),Ee.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ee.Z.h.call(this)},Ee.prototype.h=function(){Ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var bt="closure_listenable_"+(Math.random()*1e6|0),q=0;function se(u,m,v,b,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=U,this.key=++q,this.da=this.fa=!1}function ce(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ve(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function ge(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function N(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,m){let v,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(v in b)u[v]=b[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,m,v,b,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ie=Se(u,m,b,U);return ie>-1?(m=u[ie],v||(m.fa=!1)):(m=new se(m,this.src,B,!!b,U),m.fa=v,u.push(m)),m};function pe(u,m){const v=m.type;if(v in u.g){var b=u.g[v],U=Array.prototype.indexOf.call(b,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(b,U,1),B&&(ce(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Se(u,m,v,b){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return U}return-1}var De="closure_lm_"+(Math.random()*1e6|0),_t={};function Xe(u,m,v,b,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)Xe(u,m[B],v,b,U);return null}return v=Ai(v),u&&u[bt]?u.J(m,v,p(b)?!!b.capture:!1,U):vi(u,m,v,!1,b,U)}function vi(u,m,v,b,U,B){if(!m)throw Error("Invalid event type");const ie=p(U)?!!U.capture:!!U;let Ce=an(u);if(Ce||(u[De]=Ce=new re(u)),v=Ce.add(m,v,b,ie,B),v.proxy)return v;if(b=Ei(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)L||(U=ie),U===void 0&&(U=!1),u.addEventListener(m.toString(),b,U);else if(u.attachEvent)u.attachEvent(zn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ei(){function u(v){return m.call(u.src,u.listener,v)}const m=bi;return u}function jn(u,m,v,b,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)jn(u,m[B],v,b,U);else b=p(b)?!!b.capture:!!b,v=Ai(v),u&&u[bt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Se(m,v,b,U),v>-1&&(ce(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=an(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Se(m,v,b,U)),(v=u>-1?m[u]:null)&&Ti(v))}function Ti(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[bt])pe(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(zn(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=an(m))?(pe(v,u),v.h==0&&(v.src=null,m[De]=null)):ce(u)}}}function zn(u){return u in _t?_t[u]:_t[u]="on"+u}function bi(u,m){if(u.da)u=!0;else{m=new Ee(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Ti(u),u=v.call(b,m)}return u}function an(u){return u=u[De],u instanceof re?u:null}var Wi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ai(u){return typeof u=="function"?u:(u[Wi]||(u[Wi]=function(m){return u.handleEvent(m)}),u[Wi])}function vt(){V.call(this),this.i=new re(this),this.M=this,this.G=null}S(vt,V),vt.prototype[bt]=!0,vt.prototype.removeEventListener=function(u,m,v,b){jn(this,u,m,v,b)};function nt(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(b,u),ne(m,U)}U=!0;let B,ie;if(v)for(ie=v.length-1;ie>=0;ie--)B=m.g=v[ie],U=mn(B,b,!0,m)&&U;if(B=m.g=u,U=mn(B,b,!0,m)&&U,U=mn(B,b,!1,m)&&U,v)for(ie=0;ie<v.length;ie++)B=m.g=v[ie],U=mn(B,b,!1,m)&&U}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)ce(v[b]);delete u.g[m],u.h--}}this.G=null},vt.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},vt.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function mn(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const ie=m[B];if(ie&&!ie.da&&ie.capture==v){const Ce=ie.listener,St=ie.ha||ie.src;ie.fa&&pe(u.i,ie),U=Ce.call(St,b)!==!1&&U}}return U&&!b.defaultPrevented}function wr(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Rr(u){u.g=wr(()=>{u.g=null,u.i&&(u.i=!1,Rr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Xt extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Rr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(u){V.call(this),this.h=u,this.g={}}S(es,V);var Ir=[];function xr(u){Ve(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ti(m)},u),u.g={}}es.prototype.N=function(){es.Z.N.call(this),xr(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Si=d.JSON.stringify,Do=d.JSON.parse,ma=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function pa(){}function Cr(){}var In={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xt(){D.call(this,"d")}S(xt,D);function pn(){D.call(this,"c")}S(pn,D);var pt={},ga=null;function Cs(){return ga=ga||new vt}pt.Ia="serverreachability";function ya(u){D.call(this,pt.Ia,u)}S(ya,D);function Bn(u){const m=Cs();nt(m,new ya(m))}pt.STAT_EVENT="statevent";function ts(u,m){D.call(this,pt.STAT_EVENT,u),this.stat=m}S(ts,D);function gt(u){const m=Cs();nt(m,new ts(m,u))}pt.Ja="timingevent";function qn(u,m){D.call(this,pt.Ja,u),this.size=m}S(qn,D);function F(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function xn(){this.g=!0}xn.prototype.ua=function(){this.g=!1};function W(u,m,v,b,U,B){u.info(function(){if(u.g)if(B){var ie="",Ce=B.split("&");for(let Qe=0;Qe<Ce.length;Qe++){var St=Ce[Qe].split("=");if(St.length>1){const dt=St[0];St=St[1];const $n=dt.split("_");ie=$n.length>=2&&$n[1]=="type"?ie+(dt+"="+St+"&"):ie+(dt+"=redacted&")}}}else ie=null;else ie=B;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+v+`
`+ie})}function me(u,m,v,b,U,B,ie){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+ie})}function Ie(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+At(u,v)+(b?" "+b:"")})}function Ct(u,m){u.info(function(){return"TIMEOUT: "+m})}xn.prototype.info=function(){};function At(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ie=1;ie<b.length;ie++)b[ie]=""}}}}return Si(B)}catch{return m}}var ft={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ft;function on(){}S(on,pa),on.prototype.g=function(){return new XMLHttpRequest},Ft=new on;function ln(u){return encodeURIComponent(String(u))}function Ns(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Cn(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new si}function si(){this.i=null,this.g="",this.h=!1}var Nt={},Gt={};function wi(u,m,v){u.M=1,u.A=Nr(Ot(m)),u.u=v,u.R=!0,_a(u,null)}function _a(u,m){u.F=Date.now(),Ri(u),u.B=Ot(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ba(v.i,"t",b),u.C=0,v=u.j.L,u.h=new si,u.g=wu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Xt(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Ir[0]=U.toString()),U=Ir);for(let B=0;B<U.length;B++){const ie=Xe(v,U[B],b||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.J?N(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Bn(),W(u.i,u.v,u.B,u.l,u.S,u.u)}Cn.prototype.ba=function(u){u=u.target;const m=this.O;m&&oi(u)==3?m.j():this.Y(u)},Cn.prototype.Y=function(u){try{if(u==this.g)e:{const Ce=oi(this.g),St=this.g.ya(),Qe=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Jt(this.g)))){this.K||Ce!=4||St==7||(St==8||Qe<=0?Bn(3):Bn(2)),Ii(this);var m=this.g.ca();this.X=m;var v=Mh(this);if(this.o=m==200,me(this.i,this.v,this.B,this.l,this.S,Ce,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(b)){var B=b;break t}}B=null}if(u=B)Ie(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xi(this,u);else{this.o=!1,this.m=3,gt(12),Nn(this),Hn(this);break e}}if(this.R){u=!0;let dt;for(;!this.K&&this.C<v.length;)if(dt=fu(this,v),dt==Gt){Ce==4&&(this.m=4,gt(14),u=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==Nt){this.m=4,gt(15),Ie(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Ie(this.i,this.l,dt,null),xi(this,dt);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,gt(16),u=!1),this.o=this.o&&u,!u)Ie(this.i,this.l,v,"[Invalid Chunked Response]"),Nn(this),Hn(this);else if(v.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),$o(ie),ie.P=!0,gt(11))}}else Ie(this.i,this.l,v,null),xi(this,v);Ce==4&&Nn(this),this.o&&!this.K&&(Ce==4?Tu(this.j,this):(this.o=!1,Ri(this)))}else is(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,gt(12)):(this.m=0,gt(13)),Nn(this),Hn(this)}}}catch{}finally{}};function Mh(u){if(!hu(u))return u.g.la();const m=Jt(u.g);if(m==="")return"";let v="";const b=m.length,U=oi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Nn(u),Hn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function hu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function fu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Gt:(v=Number(m.substring(v,b)),isNaN(v)?Nt:(b+=1,b+v>m.length?Gt:(m=m.slice(b,b+v),u.C=b+v,m)))}Cn.prototype.cancel=function(){this.K=!0,Nn(this)};function Ri(u){u.T=Date.now()+u.H,va(u,u.H)}function va(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=F(_(u.aa,u),m)}function Ii(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Cn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ct(this.i,this.B),this.M!=2&&(Bn(),gt(17)),Nn(this),this.m=2,Hn(this)):va(this,this.T-u)};function Hn(u){u.j.I==0||u.K||Tu(u.j,u)}function Nn(u){Ii(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,xr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function xi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ni(v.h,u))){if(!u.L&&Ni(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ia(v),Ps(v);else break e;Ur(v),gt(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=F(_(v.Va,v),6e3));Ci(v.h)<=1&&v.ta&&(v.ta=void 0)}else Li(v,11)}else if((u.L||v.g==u)&&Ia(v),!I(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Qe=U[m];const dt=Qe[0];if(!(dt<=v.K))if(v.K=dt,Qe=Qe[1],v.I==2)if(Qe[0]=="c"){v.M=Qe[1],v.ba=Qe[2];const $n=Qe[3];$n!=null&&(v.ka=$n,v.j.info("VER="+v.ka));const Ui=Qe[4];Ui!=null&&(v.za=Ui,v.j.info("SVER="+v.za));const li=Qe[5];li!=null&&typeof li=="number"&&li>0&&(b=1.5*li,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const ui=u.g;if(ui){const Pr=ui.g?ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pr){var B=b.h;B.g||Pr.indexOf("spdy")==-1&&Pr.indexOf("quic")==-1&&Pr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Vo(B,B.h),B.h=null))}if(b.G){const xa=ui.g?ui.g.getResponseHeader("X-HTTP-Session-Id"):null;xa&&(b.wa=xa,Je(b.J,b.G,xa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var ie=u;if(b.na=Su(b,b.L?b.ba:null,b.W),ie.L){ko(b.h,ie);var Ce=ie,St=b.O;St&&(Ce.H=St),Ce.D&&(Ii(Ce),Ri(Ce)),b.g=ie}else vu(b);v.i.length>0&&ki(v)}else Qe[0]!="stop"&&Qe[0]!="close"||Li(v,7);else v.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Li(v,7):Fo(v):Qe[0]!="noop"&&v.l&&v.l.qa(Qe),v.A=0)}}Bn(4)}catch{}}var Dt=class{constructor(u,m){this.g=u,this.map=m}};function Oo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Mo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ci(u){return u.h?1:u.g?u.g.size:0}function Ni(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Vo(u,m){u.g?u.g.add(m):u.h=m}function ko(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Oo.prototype.cancel=function(){if(this.i=Lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Lo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return $(u.i)}var du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ea(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let U,B=null;b>=0?(U=u[v].substring(0,b),B=u[v].substring(b+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Dn?(this.l=u.l,$t(this,u.j),this.o=u.o,this.g=u.g,Ds(this,u.u),this.h=u.h,Uo(this,yu(u.i)),this.m=u.m):u&&(m=String(u).match(du))?(this.l=!1,$t(this,m[1]||"",!0),this.o=Di(m[2]||""),this.g=Di(m[3]||"",!0),Ds(this,m[4]),this.h=Di(m[5]||"",!0),Uo(this,m[6]||"",!0),this.m=Di(m[7]||"")):(this.l=!1,this.i=new Ms(null,this.l))}Dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Dr(m,Ta,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Dr(m,Ta,!0),"@"),u.push(ln(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Dr(v,v.charAt(0)=="/"?Po:mu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Dr(v,pu)),u.join("")},Dn.prototype.resolve=function(u){const m=Ot(this);let v=!!u.j;v?$t(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)Ds(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=m.h.lastIndexOf("/");U!=-1&&(b=m.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let ie=0;ie<U.length;){const Ce=U[ie++];Ce=="."?b&&ie==U.length&&B.push(""):Ce==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&ie==U.length&&B.push("")):(B.push(Ce),b=!0)}b=B.join("/")}else b=U}return v?m.h=b:v=u.i.toString()!=="",v?Uo(m,yu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ot(u){return new Dn(u)}function $t(u,m,v){u.j=v?Di(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ds(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Uo(u,m,v){m instanceof Ms?(u.i=m,Aa(u.i,u.l)):(v||(m=Dr(m,Os)),u.i=new Ms(m,u.l))}function Je(u,m,v){u.i.set(m,v)}function Nr(u){return Je(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Di(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Dr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,vn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function vn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ta=/[#\/\?@]/g,mu=/[#\?:]/g,Po=/[#\?]/g,Os=/[#\?@]/g,pu=/#/g;function Ms(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function En(u){u.g||(u.g=new Map,u.h=0,u.i&&Ea(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ms.prototype,s.add=function(u,m){En(this),this.i=null,u=Vs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function gu(u,m){En(u),m=Vs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function jo(u,m){return En(u),m=Vs(u,m),u.g.has(m)}s.forEach=function(u,m){En(this),this.g.forEach(function(v,b){v.forEach(function(U){u.call(m,U,b,this)},this)},this)};function zo(u,m){En(u);let v=[];if(typeof m=="string")jo(u,m)&&(v=v.concat(u.g.get(Vs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return En(this),this.i=null,u=Vs(this,u),jo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=zo(this,u),u.length>0?String(u[0]):m):m};function ba(u,m,v){gu(u,m),v.length>0&&(u.i=null,u.g.set(Vs(u,m),$(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const U=ln(v);v=zo(this,v);for(let B=0;B<v.length;B++){let ie=U;v[B]!==""&&(ie+="="+ln(v[B])),u.push(ie)}}return this.i=u.join("&")};function yu(u){const m=new Ms;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Vs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Aa(u,m){m&&!u.j&&(En(u),u.i=null,u.g.forEach(function(v,b){const U=b.toLowerCase();b!=U&&(gu(this,b),ba(this,U,v))},u)),u.j=m}function ri(u,m){const v=new xn;if(d.Image){const b=new Image;b.onload=T(Fn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=T(Fn,v,"TestLoadImage: error",!1,m,b),b.onabort=T(Fn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=T(Fn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Bo(u,m){const v=new xn,b=new AbortController,U=setTimeout(()=>{b.abort(),Fn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(U),B.ok?Fn(v,"TestPingServer: ok",!0,m):Fn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Fn(v,"TestPingServer: error",!1,m)})}function Fn(u,m,v,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(v)}catch{}}function ks(){this.g=new ma}function Oi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Oi,pa),Oi.prototype.g=function(){return new Or(this.i,this.h)};function Or(u,m){vt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Or,vt),s=Or.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ai(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ls(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ls(this):ai(this),this.readyState==3&&Sa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ls(this))},s.Na=function(u){this.g&&(this.response=u,Ls(this))},s.ga=function(){this.g&&Ls(this)};function Ls(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ai(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ai(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Gn(u){let m="";return Ve(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Mr(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Gn(v),typeof u=="string"?v!=null&&ln(v):Je(u,m,v))}function it(u){vt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(it,vt);var Mi=/^https?$/i,qo=["POST","PUT"];s=it.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ft.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Vr(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)v.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(qo,m,void 0)>=0)||b||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ie]of v)this.g.setRequestHeader(B,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Vr(this,B)}};function Vr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ho(u),ns(u)}function Ho(u){u.A||(u.A=!0,nt(u,"complete"),nt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,nt(this,"complete"),nt(this,"abort"),ns(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ns(this,!0)),it.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?kr(this):this.Xa())},s.Xa=function(){kr(this)};function kr(u){if(u.h&&typeof c<"u"){if(u.v&&oi(u)==4)setTimeout(u.Ca.bind(u),0);else if(nt(u,"readystatechange"),oi(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let ie=String(u.D).match(du)[1]||null;!ie&&d.self&&d.self.location&&(ie=d.self.location.protocol.slice(0,-1)),b=!Mi.test(ie?ie.toLowerCase():"")}v=b}if(v)nt(u,"complete"),nt(u,"success");else{u.o=6;try{var U=oi(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Ho(u)}}finally{ns(u)}}}}function ns(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||nt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function oi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return oi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Do(m)}};function Jt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function is(u){const m={};u=(u.g&&oi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(I(u[b]))continue;var v=Ns(u[b]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}ge(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Us(u){this.za=0,this.i=[],this.j=new xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vi("baseRetryDelayMs",5e3,u),this.Za=Vi("retryDelaySeedMs",1e4,u),this.Ta=Vi("forwardChannelMaxRetries",2,u),this.va=Vi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Oo(u&&u.concurrentRequestLimit),this.Ba=new ks,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Us.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,b){gt(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Su(this,null,this.W),ki(this)};function Fo(u){if(wa(u),u.I==3){var m=u.V++,v=Ot(u.J);if(Je(v,"SID",u.M),Je(v,"RID",m),Je(v,"TYPE","terminate"),Lr(u,v),m=new Cn(u,u.j,m),m.M=2,m.A=Nr(Ot(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=wu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ri(m)}Au(u)}function Ps(u){u.g&&($o(u),u.g.cancel(),u.g=null)}function wa(u){Ps(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ia(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ki(u){if(!Mo(u.h)&&!u.m){u.m=!0;var m=u.Ea;tt||w(),Me||(tt(),Me=!0),C.add(m,u),u.D=0}}function Ra(u,m){return Ci(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=F(_(u.Ea,u,m),bu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Cn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=N(B),ne(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=_u(this,U,m),v=Ot(this.J),Je(v,"RID",u),Je(v,"CVER",22),this.G&&Je(v,"X-HTTP-Session-Id",this.G),Lr(this,v),B&&(this.R?m="headers="+ln(Gn(B))+"&"+m:this.u&&Mr(v,this.u,B)),Vo(this.h,U),this.Ra&&Je(v,"TYPE","init"),this.S?(Je(v,"$req",m),Je(v,"SID","null"),U.U=!0,wi(U,v,null)):wi(U,v,m),this.I=2}}else this.I==3&&(u?Go(this,u):this.i.length==0||Mo(this.h)||Go(this))};function Go(u,m){var v;m?v=m.l:v=u.V++;const b=Ot(u.J);Je(b,"SID",u.M),Je(b,"RID",v),Je(b,"AID",u.K),Lr(u,b),u.u&&u.o&&Mr(b,u.u,u.o),v=new Cn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=_u(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Vo(u.h,v),wi(v,b,m)}function Lr(u,m){u.H&&Ve(u.H,function(v,b){Je(m,b,v)}),u.l&&Ve({},function(v,b){Je(m,b,v)})}function _u(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ce=-1;for(;;){const St=["count="+v];Ce==-1?v>0?(Ce=U[0].g,St.push("ofs="+Ce)):Ce=0:St.push("ofs="+Ce);let Qe=!0;for(let dt=0;dt<v;dt++){var B=U[dt].g;const $n=U[dt].map;if(B-=Ce,B<0)Ce=Math.max(0,U[dt].g-100),Qe=!1;else try{B="req"+B+"_"||"";try{var ie=$n instanceof Map?$n:Object.entries($n);for(const[Ui,li]of ie){let ui=li;p(li)&&(ui=Si(li)),St.push(B+Ui+"="+encodeURIComponent(ui))}}catch(Ui){throw St.push(B+"type="+encodeURIComponent("_badmap")),Ui}}catch{b&&b($n)}}if(Qe){ie=St.join("&");break e}}ie=void 0}return u=u.i.splice(0,v),m.G=u,ie}function vu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;tt||w(),Me||(tt(),Me=!0),C.add(m,u),u.A=0}}function Ur(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=F(_(u.Da,u),bu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=F(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,gt(10),Ps(this),Eu(this))};function $o(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Eu(u){u.g=new Cn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ot(u.na);Je(m,"RID","rpc"),Je(m,"SID",u.M),Je(m,"AID",u.K),Je(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Je(m,"TO",u.ia),Je(m,"TYPE","xmlhttp"),Lr(u,m),u.u&&u.o&&Mr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Nr(Ot(m)),v.u=null,v.R=!0,_a(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ps(this),Ur(this),gt(19))};function Ia(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Tu(u,m){var v=null;if(u.g==m){Ia(u),$o(u),u.g=null;var b=2}else if(Ni(u.h,m))v=m.G,ko(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;b=Cs(),nt(b,new qn(b,v)),ki(u)}else vu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(b==1&&Ra(u,m)||b==2&&Ur(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Li(u,5);break;case 4:Li(u,10);break;case 3:Li(u,6);break;default:Li(u,2)}}}function bu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Li(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const U=!b;b=new Dn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||$t(b,"https"),Nr(b),U?ri(b.toString(),v):Bo(b.toString(),v)}else gt(2);u.I=0,u.l&&u.l.pa(m),Au(u),wa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Au(u){if(u.I=0,u.ja=[],u.l){const m=Lo(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,$(u.i),u.i.length=0),u.l.oa()}}function Su(u,m,v){var b=v instanceof Dn?Ot(v):new Dn(v);if(b.g!="")m&&(b.g=m+"."+b.g),Ds(b,b.u);else{var U=d.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new Dn(null);b&&$t(B,b),m&&(B.g=m),U&&Ds(B,U),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&Je(b,v,m),Je(b,"VER",u.ka),Lr(u,b),b}function wu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new it(new Oi({ab:v})):new it(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ru(){}s=Ru.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function js(){}js.prototype.g=function(u,m){return new gn(u,m)};function gn(u,m){vt.call(this),this.g=new Us(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!I(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ss(this)}S(gn,vt),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Fo(this.g)},gn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Si(u),u=v);m.i.push(new Dt(m.Ya++,u)),m.I==3&&ki(m)},gn.prototype.N=function(){this.g.l=null,delete this.j,Fo(this.g),delete this.g,gn.Z.N.call(this)};function Iu(u){xt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Iu,xt);function xu(){pn.call(this),this.status=1}S(xu,pn);function ss(u){this.g=u}S(ss,Ru),ss.prototype.ra=function(){nt(this.g,"a")},ss.prototype.qa=function(u){nt(this.g,new Iu(u))},ss.prototype.pa=function(u){nt(this.g,new xu)},ss.prototype.oa=function(){nt(this.g,"b")},js.prototype.createWebChannel=js.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,LE=function(){return new js},kE=function(){return Cs()},VE=pt,rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ft.NO_ERROR=0,ft.TIMEOUT=8,ft.HTTP_ERROR=6,Hc=ft,zt.COMPLETE="complete",ME=zt,Cr.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Vl=Cr,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,OE=it}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const O0="@firebase/firestore",M0="4.9.2";class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");let Ro="12.3.0";const la=new bm("@firebase/firestore");function so(){return la.logLevel}function oe(s,...e){if(la.logLevel<=je.DEBUG){const i=e.map(km);la.debug(`Firestore (${Ro}): ${s}`,...i)}}function Rs(s,...e){if(la.logLevel<=je.ERROR){const i=e.map(km);la.error(`Firestore (${Ro}): ${s}`,...i)}}function go(s,...e){if(la.logLevel<=je.WARN){const i=e.map(km);la.warn(`Firestore (${Ro}): ${s}`,...i)}}function km(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function be(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,UE(s,r,i)}function UE(s,e,i){let r=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Rs(r),new Error(r)}function Ye(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||UE(e,l,r)}function Re(s,e){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends xs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ia{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class PE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(hn.UNAUTHENTICATED)))}shutdown(){}}class sI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class rI{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ye(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let c=new ia;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ia,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ia)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string",31837,{l:r}),new PE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class aI{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class oI{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new aI(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lI{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ye(this.o===void 0,3512);const r=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new V0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ye(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new V0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function uI(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Lm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=uI(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=e.charAt(l[c]%62))}return r}}function ze(s,e){return s<e?-1:s>e?1:0}function am(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return Gd(l)===Gd(c)?ze(l,c):Gd(l)?1:-1}return ze(s.length,e.length)}const cI=55296,hI=57343;function Gd(s){const e=s.charCodeAt(0);return e>=cI&&e<=hI}function yo(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}const k0="__name__";class Hi{constructor(e,i,r){i===void 0?i=0:i>e.length&&be(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&be(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Hi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Hi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const c=Hi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return ze(e.length,i.length)}static compareSegments(e,i){const r=Hi.isNumericId(e),l=Hi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Hi.extractNumericId(e).compare(Hi.extractNumericId(i)):am(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gr.fromString(e.substring(4,e.length-2))}}class lt extends Hi{construct(e,i,r){return new lt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new lt(i)}static emptyPath(){return new lt([])}}const fI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Hi{construct(e,i,r){return new sn(e,i,r)}static isValidIdentifier(e){return fI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k0}static keyField(){return new sn([k0])}static fromServerFormat(e){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ae(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ae(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ae(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new ae(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(i)}static emptyPath(){return new sn([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(lt.fromString(e))}static fromName(e){return new de(lt.fromString(e).popFirst(5))}static empty(){return new de(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return lt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new lt(e.slice()))}}function jE(s,e,i){if(!i)throw new ae(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function dI(s,e,i,r){if(e===!0&&r===!0)throw new ae(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function L0(s){if(!de.isDocumentKey(s))throw new ae(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function U0(s){if(de.isDocumentKey(s))throw new ae(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function zE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Eh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":be(12329,{type:typeof s})}function zl(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ae(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Eh(s);throw new ae(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function jt(s,e){const i={typeString:s};return e&&(i.value=e),i}function au(s,e){if(!zE(s))throw new ae(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ae(X.INVALID_ARGUMENT,i);return!0}const P0=-62135596800,j0=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*j0);return new ht(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<P0)throw new ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j0}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(au(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-P0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:jt("string",ht._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new ht(0,0))}static max(){return new Ae(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ql=-1;function mI(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Ae.fromTimestamp(r===1e9?new ht(i+1,0):new ht(i,r));return new _r(l,de.empty(),e)}function pI(s){return new _r(s.readTime,s.key,Ql)}class _r{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new _r(Ae.min(),de.empty(),Ql)}static max(){return new _r(Ae.max(),de.empty(),Ql)}}function gI(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=de.comparator(s.documentKey,e.documentKey),i!==0?i:ze(s.largestBatchId,e.largestBatchId))}const yI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _I{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Io(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==yI)throw s;oe("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,r)=>{i(e)}))}static reject(e){return new Z(((i,r)=>{r(e)}))}static waitFor(e){return new Z(((i,r)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>r(y)))})),d=!0,c===l&&i()}))}static or(e){let i=Z.resolve(!1);for(const r of e)i=i.next((l=>l?Z.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(e,i){return new Z(((r,l)=>{const c=e.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((T=>{d[_]=T,++p,p===c&&r(d)}),(T=>l(T)))}}))}static doWhile(e,i){return new Z(((r,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):r()};c()}))}}function vI(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function xo(s){return s.name==="IndexedDbTransactionError"}class Th{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Th.ce=-1;const Um=-1;function bh(s){return s==null}function sh(s){return s===0&&1/s==-1/0}function EI(s){return typeof s=="number"&&Number.isInteger(s)&&!sh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const BE="";function TI(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=z0(e)),e=bI(s.get(i),e);return z0(e)}function bI(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case BE:i+="";break;default:i+=c}}return i}function z0(s){return s+BE+""}function B0(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function ca(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function qE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class yt{constructor(e,i){this.comparator=e,this.root=i||nn.EMPTY}insert(e,i){return new yt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kc(this.root,e,this.comparator,!0)}}class kc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,i,r,l,c){this.key=e,this.value=i,this.color=r??nn.RED,this.left=l??nn.EMPTY,this.right=c??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,c){return new nn(e??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return nn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,i,r,l,c){return this}insert(e,i,r){return new nn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ht{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new q0(this.data.getIterator())}getIteratorFrom(e){return new q0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ht(this.comparator);return i.data=e,i}}class q0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class mi{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new mi([])}unionWith(e){let i=new Ht(sn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new mi(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class HE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new HE("Invalid base64 string: "+c):c}})(e);return new rn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new rn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const AI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vr(s){if(Ye(!!s,39018),typeof s=="string"){let e=0;const i=AI.exec(s);if(Ye(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(s.seconds),nanos:It(s.nanos)}}function It(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Er(s){return typeof s=="string"?rn.fromBase64String(s):rn.fromUint8Array(s)}const FE="server_timestamp",GE="__type__",$E="__previous_value__",QE="__local_write_time__";function Pm(s){return(s?.mapValue?.fields||{})[GE]?.stringValue===FE}function Ah(s){const e=s.mapValue.fields[$E];return Pm(e)?Ah(e):e}function Kl(s){const e=vr(s.mapValue.fields[QE].timestampValue);return new ht(e.seconds,e.nanos)}class SI{constructor(e,i,r,l,c,d,p,y,_,T){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=T}}const rh="(default)";class Yl{constructor(e,i){this.projectId=e,this.database=i||rh}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database===rh}isEqual(e){return e instanceof Yl&&e.projectId===this.projectId&&e.database===this.database}}const KE="__type__",wI="__max__",Lc={mapValue:{}},YE="__vector__",ah="value";function Tr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Pm(s)?4:II(s)?9007199254740991:RI(s)?10:11:be(28295,{value:s})}function Xi(s,e){if(s===e)return!0;const i=Tr(s);if(i!==Tr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Kl(s).isEqual(Kl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=vr(l.timestampValue),p=vr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return Er(l.bytesValue).isEqual(Er(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return It(l.geoPointValue.latitude)===It(c.geoPointValue.latitude)&&It(l.geoPointValue.longitude)===It(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return It(l.integerValue)===It(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=It(l.doubleValue),p=It(c.doubleValue);return d===p?sh(d)===sh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return yo(s.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(B0(d)!==B0(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Xi(d[y],p[y])))return!1;return!0})(s,e);default:return be(52216,{left:s})}}function Xl(s,e){return(s.values||[]).find((i=>Xi(i,e)))!==void 0}function _o(s,e){if(s===e)return 0;const i=Tr(s),r=Tr(e);if(i!==r)return ze(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return ze(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=It(c.integerValue||c.doubleValue),y=It(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,e);case 3:return H0(s.timestampValue,e.timestampValue);case 4:return H0(Kl(s),Kl(e));case 5:return am(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=Er(c),y=Er(d);return p.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const T=ze(p[_],y[_]);if(T!==0)return T}return ze(p.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=ze(It(c.latitude),It(d.latitude));return p!==0?p:ze(It(c.longitude),It(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return F0(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[ah]?.arrayValue,T=y[ah]?.arrayValue,S=ze(_?.values?.length||0,T?.values?.length||0);return S!==0?S:F0(_,T)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Lc.mapValue&&d===Lc.mapValue)return 0;if(c===Lc.mapValue)return 1;if(d===Lc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},T=Object.keys(_);y.sort(),T.sort();for(let S=0;S<y.length&&S<T.length;++S){const M=am(y[S],T[S]);if(M!==0)return M;const $=_o(p[y[S]],_[T[S]]);if($!==0)return $}return ze(y.length,T.length)})(s.mapValue,e.mapValue);default:throw be(23264,{he:i})}}function H0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return ze(s,e);const i=vr(s),r=vr(e),l=ze(i.seconds,r.seconds);return l!==0?l:ze(i.nanos,r.nanos)}function F0(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=_o(i[l],r[l]);if(c)return c}return ze(i.length,r.length)}function vo(s){return om(s)}function om(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=vr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Er(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return de.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=om(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${om(i.fields[d])}`;return l+"}"})(s.mapValue):be(61005,{value:s})}function Fc(s){switch(Tr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ah(s);return e?16+Fc(e):16;case 5:return 2*s.stringValue.length;case 6:return Er(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Fc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return ca(r.fields,((c,d)=>{l+=c.length+Fc(d)})),l})(s.mapValue);default:throw be(13486,{value:s})}}function G0(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function lm(s){return!!s&&"integerValue"in s}function jm(s){return!!s&&"arrayValue"in s}function $0(s){return!!s&&"nullValue"in s}function Q0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Gc(s){return!!s&&"mapValue"in s}function RI(s){return(s?.mapValue?.fields||{})[KE]?.stringValue===YE}function Bl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return ca(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Bl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Bl(s.arrayValue.values[i]);return e}return{...s}}function II(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===wI}class ti{constructor(e){this.value=e}static empty(){return new ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Gc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(i)}setAll(e){let i=sn.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Bl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(e){const i=this.field(e.popLast());Gc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];Gc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){ca(i,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new ti(Bl(this.value))}}function XE(s){const e=[];return ca(s.fields,((i,r)=>{const l=new sn([i]);if(Gc(r)){const c=XE(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new mi(e)}class fn{constructor(e,i,r,l,c,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new fn(e,0,Ae.min(),Ae.min(),Ae.min(),ti.empty(),0)}static newFoundDocument(e,i,r,l){return new fn(e,1,i,Ae.min(),r,l,0)}static newNoDocument(e,i){return new fn(e,2,i,Ae.min(),Ae.min(),ti.empty(),0)}static newUnknownDocument(e,i){return new fn(e,3,i,Ae.min(),Ae.min(),ti.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class oh{constructor(e,i){this.position=e,this.inclusive=i}}function K0(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?r=de.comparator(de.fromName(d.referenceValue),i.key):r=_o(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Y0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Xi(s.position[i],e.position[i]))return!1;return!0}class Jl{constructor(e,i="asc"){this.field=e,this.dir=i}}function xI(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class JE{}class Pt extends JE{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new NI(e,i,r):i==="array-contains"?new MI(e,r):i==="in"?new VI(e,r):i==="not-in"?new kI(e,r):i==="array-contains-any"?new LI(e,r):new Pt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new DI(e,r):new OI(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(_o(i,this.value)):i!==null&&Tr(this.value)===Tr(i)&&this.matchesComparison(_o(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yi extends JE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new yi(e,i)}matches(e){return ZE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ZE(s){return s.op==="and"}function WE(s){return CI(s)&&ZE(s)}function CI(s){for(const e of s.filters)if(e instanceof yi)return!1;return!0}function um(s){if(s instanceof Pt)return s.field.canonicalString()+s.op.toString()+vo(s.value);if(WE(s))return s.filters.map((e=>um(e))).join(",");{const e=s.filters.map((i=>um(i))).join(",");return`${s.op}(${e})`}}function eT(s,e){return s instanceof Pt?(function(r,l){return l instanceof Pt&&r.op===l.op&&r.field.isEqual(l.field)&&Xi(r.value,l.value)})(s,e):s instanceof yi?(function(r,l){return l instanceof yi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&eT(d,l.filters[p])),!0):!1})(s,e):void be(19439)}function tT(s){return s instanceof Pt?(function(i){return`${i.field.canonicalString()} ${i.op} ${vo(i.value)}`})(s):s instanceof yi?(function(i){return i.op.toString()+" {"+i.getFilters().map(tT).join(" ,")+"}"})(s):"Filter"}class NI extends Pt{constructor(e,i,r){super(e,i,r),this.key=de.fromName(r.referenceValue)}matches(e){const i=de.comparator(e.key,this.key);return this.matchesComparison(i)}}class DI extends Pt{constructor(e,i){super(e,"in",i),this.keys=nT("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class OI extends Pt{constructor(e,i){super(e,"not-in",i),this.keys=nT("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function nT(s,e){return(e.arrayValue?.values||[]).map((i=>de.fromName(i.referenceValue)))}class MI extends Pt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return jm(i)&&Xl(i.arrayValue,this.value)}}class VI extends Pt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Xl(this.value.arrayValue,i)}}class kI extends Pt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Xl(this.value.arrayValue,i)}}class LI extends Pt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!jm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Xl(this.value.arrayValue,r)))}}class UI{constructor(e,i=null,r=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function X0(s,e=null,i=[],r=[],l=null,c=null,d=null){return new UI(s,e,i,r,l,c,d)}function zm(s){const e=Re(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>um(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),bh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>vo(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>vo(r))).join(",")),e.Te=i}return e.Te}function Bm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!xI(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!eT(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Y0(s.startAt,e.startAt)&&Y0(s.endAt,e.endAt)}function cm(s){return de.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Co{constructor(e,i=null,r=[],l=[],c=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function PI(s,e,i,r,l,c,d,p){return new Co(s,e,i,r,l,c,d,p)}function qm(s){return new Co(s)}function J0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function iT(s){return s.collectionGroup!==null}function ql(s){const e=Re(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ht(sn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Jl(c,r))})),i.has(sn.keyField().canonicalString())||e.Ie.push(new Jl(sn.keyField(),r))}return e.Ie}function Gi(s){const e=Re(s);return e.Ee||(e.Ee=jI(e,ql(s))),e.Ee}function jI(s,e){if(s.limitType==="F")return X0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Jl(l.field,c)}));const i=s.endAt?new oh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new oh(s.startAt.position,s.startAt.inclusive):null;return X0(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function hm(s,e){const i=s.filters.concat([e]);return new Co(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function lh(s,e,i){return new Co(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Sh(s,e){return Bm(Gi(s),Gi(e))&&s.limitType===e.limitType}function sT(s){return`${zm(Gi(s))}|lt:${s.limitType}`}function ro(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>tT(l))).join(", ")}]`),bh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>vo(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>vo(l))).join(",")),`Target(${r})`})(Gi(s))}; limitType=${s.limitType})`}function wh(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):de.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of ql(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,y){const _=K0(d,p,y);return d.inclusive?_<=0:_<0})(r.startAt,ql(r),l)||r.endAt&&!(function(d,p,y){const _=K0(d,p,y);return d.inclusive?_>=0:_>0})(r.endAt,ql(r),l))})(s,e)}function zI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function rT(s){return(e,i)=>{let r=!1;for(const l of ql(s)){const c=BI(l,e,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function BI(s,e,i){const r=s.field.isKeyField()?de.comparator(e.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?_o(y,_):be(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return be(19790,{direction:s.dir})}}class ha{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ca(this.inner,((i,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return qE(this.inner)}size(){return this.innerSize}}const qI=new yt(de.comparator);function Is(){return qI}const aT=new yt(de.comparator);function kl(...s){let e=aT;for(const i of s)e=e.insert(i.key,i);return e}function oT(s){let e=aT;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function na(){return Hl()}function lT(){return Hl()}function Hl(){return new ha((s=>s.toString()),((s,e)=>s.isEqual(e)))}const HI=new yt(de.comparator),FI=new Ht(de.comparator);function Be(...s){let e=FI;for(const i of s)e=e.add(i);return e}const GI=new Ht(ze);function $I(){return GI}function Hm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(e)?"-0":e}}function uT(s){return{integerValue:""+s}}function QI(s,e){return EI(e)?uT(e):Hm(s,e)}class Rh{constructor(){this._=void 0}}function KI(s,e,i){return s instanceof Zl?(function(l,c){const d={fields:{[GE]:{stringValue:FE},[QE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Pm(c)&&(c=Ah(c)),c&&(d.fields[$E]=c),{mapValue:d}})(i,e):s instanceof Wl?hT(s,e):s instanceof eu?fT(s,e):(function(l,c){const d=cT(l,c),p=Z0(d)+Z0(l.Ae);return lm(d)&&lm(l.Ae)?uT(p):Hm(l.serializer,p)})(s,e)}function YI(s,e,i){return s instanceof Wl?hT(s,e):s instanceof eu?fT(s,e):i}function cT(s,e){return s instanceof uh?(function(r){return lm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class Zl extends Rh{}class Wl extends Rh{constructor(e){super(),this.elements=e}}function hT(s,e){const i=dT(e);for(const r of s.elements)i.some((l=>Xi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class eu extends Rh{constructor(e){super(),this.elements=e}}function fT(s,e){let i=dT(e);for(const r of s.elements)i=i.filter((l=>!Xi(l,r)));return{arrayValue:{values:i}}}class uh extends Rh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Z0(s){return It(s.integerValue||s.doubleValue)}function dT(s){return jm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class XI{constructor(e,i){this.field=e,this.transform=i}}function JI(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof Wl&&l instanceof Wl||r instanceof eu&&l instanceof eu?yo(r.elements,l.elements,Xi):r instanceof uh&&l instanceof uh?Xi(r.Ae,l.Ae):r instanceof Zl&&l instanceof Zl})(s.transform,e.transform)}class ZI{constructor(e,i){this.version=e,this.transformResults=i}}class As{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new As}static exists(e){return new As(void 0,e)}static updateTime(e){return new As(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ih{}function mT(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new gT(s.key,As.none()):new ou(s.key,s.data,As.none());{const i=s.data,r=ti.empty();let l=new Ht(sn.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new fa(s.key,r,new mi(l.toArray()),As.none())}}function WI(s,e,i){s instanceof ou?(function(l,c,d){const p=l.value.clone(),y=ev(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof fa?(function(l,c,d){if(!$c(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=ev(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(pT(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Fl(s,e,i,r){return s instanceof ou?(function(c,d,p,y){if(!$c(c.precondition,d))return p;const _=c.value.clone(),T=tv(c.fieldTransforms,y,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof fa?(function(c,d,p,y){if(!$c(c.precondition,d))return p;const _=tv(c.fieldTransforms,y,d),T=d.data;return T.setAll(pT(c)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,i,r):(function(c,d,p){return $c(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function ex(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=cT(r.transform,l||null);c!=null&&(i===null&&(i=ti.empty()),i.set(r.field,c))}return i||null}function W0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&yo(r,l,((c,d)=>JI(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class ou extends Ih{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class fa extends Ih{constructor(e,i,r,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function pT(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function ev(s,e,i){const r=new Map;Ye(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=e.data.field(c.field);r.set(c.field,YI(d,p,i[l]))}return r}function tv(s,e,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,KI(c,d,e))}return r}class gT extends Ih{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tx extends Ih{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nx{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&WI(c,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Fl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Fl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=lT();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=mT(d,p);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Ae.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Be())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,((i,r)=>W0(i,r)))&&yo(this.baseMutations,e.baseMutations,((i,r)=>W0(i,r)))}}class Fm{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){Ye(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return HI})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Fm(e,i,r,l)}}class ix{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class sx{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ut,He;function rx(s){switch(s){case X.OK:return be(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return be(15467,{code:s})}}function yT(s){if(s===void 0)return Rs("GRPC error has no .code"),X.UNKNOWN;switch(s){case Ut.OK:return X.OK;case Ut.CANCELLED:return X.CANCELLED;case Ut.UNKNOWN:return X.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return X.INTERNAL;case Ut.UNAVAILABLE:return X.UNAVAILABLE;case Ut.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Ut.NOT_FOUND:return X.NOT_FOUND;case Ut.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Ut.ABORTED:return X.ABORTED;case Ut.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Ut.DATA_LOSS:return X.DATA_LOSS;default:return be(39323,{code:s})}}(He=Ut||(Ut={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function ax(){return new TextEncoder}const ox=new gr([4294967295,4294967295],0);function nv(s){const e=ax().encode(s),i=new DE;return i.update(e),new Uint8Array(i.digest())}function iv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new gr([i,r],0),new gr([l,c],0)]}class Gm{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Ll(`Invalid padding: ${i}`);if(r<0)throw new Ll(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=gr.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(gr.fromNumber(r)));return l.compare(ox)===1&&(l=new gr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=nv(e),[r,l]=iv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Gm(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=nv(e),[r,l]=iv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xh{constructor(e,i,r,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new xh(Ae.min(),l,new yt(ze),Is(),Be())}}class lu{constructor(e,i,r,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new lu(r,i,Be(),Be(),Be())}}class Qc{constructor(e,i,r,l){this.be=e,this.removedTargetIds=i,this.key=r,this.De=l}}class _T{constructor(e,i){this.targetId=e,this.Ce=i}}class vT{constructor(e,i,r=rn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class sv{constructor(){this.ve=0,this.Fe=rv(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),i=Be(),r=Be();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:be(38017,{changeType:c})}})),new lu(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=rv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lx{constructor(e){this.Ge=e,this.ze=new Map,this.je=Is(),this.Je=Uc(),this.He=Uc(),this.Ye=new yt(ze)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(cm(c))if(r===0){const d=new de(c.path);this.et(i,d,fn.newNoDocument(d,Ae.min()))}else Ye(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),y=p?this.ct(p,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Er(r).toUint8Array()}catch(y){if(y instanceof HE)return go("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Gm(d,l,c)}catch(y){return go(y instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&cm(p.target)){const y=new de(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,fn.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Be();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new xh(e,i,this.Ye,this.je,r);return this.je=Is(),this.Je=Uc(),this.He=Uc(),this.Ye=new yt(ze),l}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new sv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ht(ze),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ht(ze),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||oe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Uc(){return new yt(de.comparator)}function rv(){return new yt(de.comparator)}const ux={asc:"ASCENDING",desc:"DESCENDING"},cx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hx={and:"AND",or:"OR"};class fx{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function fm(s,e){return s.useProto3Json||bh(e)?e:{value:e}}function ch(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ET(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function dx(s,e){return ch(s,e.toTimestamp())}function $i(s){return Ye(!!s,49232),Ae.fromTimestamp((function(i){const r=vr(i);return new ht(r.seconds,r.nanos)})(s))}function $m(s,e){return dm(s,e).canonicalString()}function dm(s,e){const i=(function(l){return new lt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function TT(s){const e=lt.fromString(s);return Ye(RT(e),10190,{key:e.toString()}),e}function mm(s,e){return $m(s.databaseId,e.path)}function $d(s,e){const i=TT(e);if(i.get(1)!==s.databaseId.projectId)throw new ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new de(AT(i))}function bT(s,e){return $m(s.databaseId,e)}function mx(s){const e=TT(s);return e.length===4?lt.emptyPath():AT(e)}function pm(s){return new lt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function AT(s){return Ye(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function av(s,e,i){return{name:mm(s,e),fields:i.value.mapValue.fields}}function px(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:be(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,T){return _.useProto3Json?(Ye(T===void 0||typeof T=="string",58123),rn.fromBase64String(T||"")):(Ye(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),rn.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const T=_.code===void 0?X.UNKNOWN:yT(_.code);return new ae(T,_.message||"")})(d);i=new vT(r,l,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=$d(s,r.document.name),c=$i(r.document.updateTime),d=r.document.createTime?$i(r.document.createTime):Ae.min(),p=new ti({mapValue:{fields:r.document.fields}}),y=fn.newFoundDocument(l,c,d,p),_=r.targetIds||[],T=r.removedTargetIds||[];i=new Qc(_,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=$d(s,r.document),c=r.readTime?$i(r.readTime):Ae.min(),d=fn.newNoDocument(l,c),p=r.removedTargetIds||[];i=new Qc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=$d(s,r.document),c=r.removedTargetIds||[];i=new Qc([],c,l,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new sx(l,c),p=r.targetId;i=new _T(p,d)}}return i}function gx(s,e){let i;if(e instanceof ou)i={update:av(s,e.key,e.value)};else if(e instanceof gT)i={delete:mm(s,e.key)};else if(e instanceof fa)i={update:av(s,e.key,e.data),updateMask:wx(e.fieldMask)};else{if(!(e instanceof tx))return be(16599,{Vt:e.type});i={verify:mm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof Zl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Wl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof eu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof uh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw be(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:dx(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:be(27497)})(s,e.precondition)),i}function yx(s,e){return s&&s.length>0?(Ye(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?$i(l.updateTime):$i(c);return d.isEqual(Ae.min())&&(d=$i(c)),new ZI(d,l.transformResults||[])})(i,e)))):[]}function _x(s,e){return{documents:[bT(s,e.path)]}}function vx(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=bT(s,l);const c=(function(_){if(_.length!==0)return wT(yi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((T=>(function(M){return{field:ao(M.field),direction:bx(M.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=fm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function Ex(s){let e=mx(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Ye(r===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=(function(S){const M=ST(S);return M instanceof yi&&WE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(J){return new Jl(oo(J.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let M;return M=typeof S=="object"?S.value:S,bh(M)?null:M})(i.limit));let y=null;i.startAt&&(y=(function(S){const M=!!S.before,$=S.values||[];return new oh($,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const M=!S.before,$=S.values||[];return new oh($,M)})(i.endAt)),PI(e,l,d,c,p,"F",y,_)}function Tx(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function ST(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=oo(i.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=oo(i.unaryFilter.field);return Pt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=oo(i.unaryFilter.field);return Pt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=oo(i.unaryFilter.field);return Pt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Pt.create(oo(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return yi.create(i.compositeFilter.filters.map((r=>ST(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(i.compositeFilter.op))})(s):be(30097,{filter:s})}function bx(s){return ux[s]}function Ax(s){return cx[s]}function Sx(s){return hx[s]}function ao(s){return{fieldPath:s.canonicalString()}}function oo(s){return sn.fromServerFormat(s.fieldPath)}function wT(s){return s instanceof Pt?(function(i){if(i.op==="=="){if(Q0(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NAN"}};if($0(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Q0(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NOT_NAN"}};if($0(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(i.field),op:Ax(i.op),value:i.value}}})(s):s instanceof yi?(function(i){const r=i.getFilters().map((l=>wT(l)));return r.length===1?r[0]:{compositeFilter:{op:Sx(i.op),filters:r}}})(s):be(54877,{filter:s})}function wx(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function RT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class fr{constructor(e,i,r,l,c=Ae.min(),d=Ae.min(),p=rn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Rx{constructor(e){this.yt=e}}function Ix(s){const e=Ex({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?lh(e,e.limit,"L"):e}class xx{constructor(){this.Cn=new Cx}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(_r.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(_r.min())}updateCollectionGroup(e,i,r){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class Cx{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new Ht(lt.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Ht(lt.comparator)).toArray()}}const ov={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},IT=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(IT,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);class Eo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Eo(0)}static cr(){return new Eo(-1)}}const lv="LruGarbageCollector",Nx=1048576;function uv([s,e],[i,r]){const l=ze(s,i);return l===0?ze(e,r):l}class Dx{constructor(e){this.Ir=e,this.buffer=new Ht(uv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();uv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Ox{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(lv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){xo(i)?oe(lv,"Ignoring IndexedDB error during garbage collection: ",i):await Io(i)}await this.Vr(3e5)}))}}class Mx{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(Th.ce);const r=new Dx(i);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(ov)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ov):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,l,c,d,p,y,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(r=S,p=Date.now(),this.removeTargets(e,r,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(_=Date.now(),so()<=je.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${S} documents in `+(_-y)+`ms
Total Duration: ${_-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function Vx(s,e){return new Mx(s,e)}class kx{constructor(){this.changes=new ha((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Lx{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class Ux{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&Fl(r.mutation,l,mi.empty(),ht.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Be()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Be()){const l=na();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((c=>{let d=kl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=na();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Be())))}populateOverlays(e,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,l){let c=Is();const d=Hl(),p=(function(){return Hl()})();return i.forEach(((y,_)=>{const T=r.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof fa)?c=c.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),Fl(T.mutation,_,T.mutation.getFieldMask(),ht.now())):d.set(_.key,mi.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,T)=>d.set(_,T))),i.forEach(((_,T)=>p.set(_,new Lx(T,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=Hl();let l=new yt(((d,p)=>d-p)),c=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let T=r.get(y)||mi.empty();T=p.applyToLocalView(_,T),r.set(y,T);const S=(l.get(p.batchId)||Be()).add(y);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,T=y.value,S=lT();T.forEach((M=>{if(!c.has(M)){const $=mT(i.get(M),r.get(M));$!==null&&S.set(M,$),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return(function(d){return de.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):iT(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-c.size):Z.resolve(na());let p=Ql,y=c;return d.next((_=>Z.forEach(_,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(e,T).next((M=>{y=y.insert(T,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,Be()))).next((T=>({batchId:p,changes:oT(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new de(i)).next((r=>{let l=kl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const c=i.collectionGroup;let d=kl();return this.indexManager.getCollectionParents(e,c).next((p=>Z.forEach(p,(y=>{const _=(function(S,M){return new Co(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,r,l).next((T=>{T.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,l)))).next((d=>{c.forEach(((y,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,fn.newInvalidDocument(T)))}));let p=kl();return d.forEach(((y,_)=>{const T=c.get(y);T!==void 0&&Fl(T.mutation,_,mi.empty(),ht.now()),wh(i,_)&&(p=p.insert(y,_))})),p}))}}class Px{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:$i(l.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:Ix(l.bundledQuery),readTime:$i(l.readTime)}})(i)),Z.resolve()}}class jx{constructor(){this.overlays=new yt(de.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const r=na();return Z.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,c)=>{this.St(e,i,c)})),Z.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,i,r){const l=na(),c=i.length+1,d=new de(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>r&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let c=new yt(((_,T)=>_-T));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let T=c.get(_.largestBatchId);T===null&&(T=na(),c=c.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const p=na(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,T)=>p.set(_,T))),!(p.size()>=l)););return Z.resolve(p)}St(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new ix(i,r));let c=this.qr.get(i);c===void 0&&(c=Be(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class zx{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class Qm{constructor(){this.Qr=new Ht(Kt.$r),this.Ur=new Ht(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Kt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Kt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new de(new lt([])),r=new Kt(i,e),l=new Kt(i,e+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new de(new lt([])),r=new Kt(i,e),l=new Kt(i,e+1);let c=Be();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Kt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Kt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return de.comparator(e.key,i.key)||ze(e.Yr,i.Yr)}static Kr(e,i){return ze(e.Yr,i.Yr)||de.comparator(e.key,i.key)}}class Bx{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ht(Kt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new nx(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Kt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Um:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Kt(i,0),l=new Kt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Ht(ze);return i.forEach((l=>{const c=new Kt(l,0),d=new Kt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let c=r;de.isDocumentKey(c)||(c=c.child(""));const d=new Kt(new de(c),0);let p=new Ht(ze);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){Ye(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new Kt(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Kt(i,0),l=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class qx{constructor(e){this.ri=e,this.docs=(function(){return new yt(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(i))}getEntries(e,i){let r=Is();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():fn.newInvalidDocument(l))})),Z.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let c=Is();const d=i.path,p=new de(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:T}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||gI(pI(T),r)<=0||(l.has(T.key)||wh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,r,l){be(9500)}ii(e,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new Hx(this)}getSize(e){return Z.resolve(this.size)}}class Hx extends kx{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class Fx{constructor(e){this.persistence=e,this.si=new ha((i=>zm(i)),Bm),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Qm,this.targetCount=0,this.ai=Eo.ur()}forEachTarget(e,i){return this.si.forEach(((r,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Eo(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class xT{constructor(e,i){this.ui={},this.overlays={},this.ci=new Th(0),this.li=!1,this.li=!0,this.hi=new zx,this.referenceDelegate=e(this),this.Pi=new Fx(this),this.indexManager=new xx,this.remoteDocumentCache=(function(l){return new qx(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Rx(i),this.Ii=new Px(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new jx,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new Bx(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){oe("MemoryPersistence","Starting transaction:",e);const l=new Gx(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class Gx extends _I{constructor(e){super(),this.currentSequenceNumber=e}}class Km{constructor(e){this.persistence=e,this.Ri=new Qm,this.Vi=null}static mi(e){return new Km(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const l=de.fromPath(r);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Ae.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class hh{constructor(e,i){this.persistence=e,this.pi=new ha((r=>TI(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=Vx(this,i)}static mi(e,i){return new hh(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((r,l)=>this.br(e,r,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((p=>{p||(r++,c.removeEntry(d,Ae.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Fc(e.data.value)),i}br(e,i,r){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ym{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=l}static As(e,i){let r=Be(),l=Be();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Ym(e,i.fromCache,r,l)}}class $x{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Qx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return mS()?8:vI(dn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new $x;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,r,l){return r.documentReadCount<this.fs?(so()<=je.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",ro(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(so()<=je.DEBUG&&oe("QueryEngine","Query:",ro(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(so()<=je.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",ro(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gi(i))):Z.resolve())}ys(e,i){if(J0(i))return Z.resolve(null);let r=Gi(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=lh(i,null,"F"),r=Gi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Be(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(e,lh(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,r,l){return J0(i)||l.isEqual(Ae.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?Z.resolve(null):(so()<=je.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ro(i)),this.vs(e,d,i,mI(l,Ql)).next((p=>p)))}))}Ds(e,i){let r=new Ht(rT(e));return i.forEach(((l,c)=>{wh(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,r){return so()<=je.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",ro(i)),this.ps.getDocumentsMatchingQuery(e,i,_r.min(),r)}vs(e,i,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Xm="LocalStore",Kx=3e8;class Yx{constructor(e,i,r,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new yt(ze),this.xs=new ha((c=>zm(c)),Bm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ux(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Xx(s,e,i,r){return new Yx(s,e,i,r)}async function CT(s,e){const i=Re(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let y=Be();for(const _ of l){d.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}for(const _ of c){p.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}return i.localDocuments.getDocuments(r,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function Jx(s,e){const i=Re(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,T){const S=_.batch,M=S.keys();let $=Z.resolve();return M.forEach((J=>{$=$.next((()=>T.getEntry(y,J))).next((te=>{const ee=_.docVersions.get(J);Ye(ee!==null,48541),te.version.compareTo(ee)<0&&(S.applyToRemoteDocument(te,_),te.isValidDocument()&&(te.setReadTime(_.commitVersion),T.addEntry(te)))}))})),$.next((()=>p.mutationQueue.removeMutationBatch(y,S)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let y=Be();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function NT(s){const e=Re(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function Zx(s,e){const i=Re(s),r=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];e.targetChanges.forEach(((T,S)=>{const M=l.get(S);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,S))));let $=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?$=$.withResumeToken(rn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):T.resumeToken.approximateByteSize()>0&&($=$.withResumeToken(T.resumeToken,r)),l=l.insert(S,$),(function(te,ee,he){return te.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=Kx?!0:he.addedDocuments.size+he.modifiedDocuments.size+he.removedDocuments.size>0})(M,$,T)&&p.push(i.Pi.updateTargetData(c,$))}));let y=Is(),_=Be();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(Wx(c,d,e.documentUpdates).next((T=>{y=T.ks,_=T.qs}))),!r.isEqual(Ae.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(T)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function Wx(s,e,i){let r=Be(),l=Be();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=Is();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(Ae.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):oe(Xm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function eC(s,e){const i=Re(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Um),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function tC(s,e){const i=Re(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,e).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new fr(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function gm(s,e,i){const r=Re(s),l=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!xo(d))throw d;oe(Xm,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function cv(s,e,i){const r=Re(s);let l=Ae.min(),c=Be();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,T){const S=Re(y),M=S.xs.get(T);return M!==void 0?Z.resolve(S.Ms.get(M)):S.Pi.getTargetData(_,T)})(r,d,Gi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?l:Ae.min(),i?c:Be()))).next((p=>(nC(r,zI(e),p),{documents:p,Qs:c})))))}function nC(s,e,i){let r=s.Os.get(e)||Ae.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class hv{constructor(){this.activeTargetIds=$I()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iC{constructor(){this.Mo=new hv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new hv,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class sC{Oo(e){}shutdown(){}}const fv="ConnectivityMonitor";class dv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(fv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(fv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Pc=null;function ym(){return Pc===null?Pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pc++,"0x"+Pc.toString(16)}const Qd="RestConnection",rC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===rh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,i,r,l,c){const d=ym(),p=this.zo(e,i.toUriEncodedString());oe(Qd,`Sending RPC '${e}' ${d}:`,p,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),T=bo(_);return this.Jo(e,p,y,r,T).then((S=>(oe(Qd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw go(Qd,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",r),S}))}Ho(e,i,r,l,c,d){return this.Go(e,i,r,l,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ro})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const r=rC[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class oC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const cn="WebChannelConnection";class lC extends aC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,l,c){const d=ym();return new Promise(((p,y)=>{const _=new OE;_.setWithCredentials(!0),_.listenOnce(ME.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Hc.NO_ERROR:const S=_.getResponseJson();oe(cn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case Hc.TIMEOUT:oe(cn,`RPC '${e}' ${d} timed out`),y(new ae(X.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const M=_.getStatus();if(oe(cn,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let $=_.getResponseJson();Array.isArray($)&&($=$[0]);const J=$?.error;if(J&&J.status&&J.message){const te=(function(he){const ve=he.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ve)>=0?ve:X.UNKNOWN})(J.status);y(new ae(te,J.message))}else y(new ae(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ae(X.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{oe(cn,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);oe(cn,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",T,r,15)}))}T_(e,i,r){const l=ym(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=LE(),p=kE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const T=c.join("");oe(cn,`Creating RPC '${e}' stream ${l}: ${T}`,y);const S=d.createWebChannel(T,y);this.I_(S);let M=!1,$=!1;const J=new oC({Yo:ee=>{$?oe(cn,`Not sending because RPC '${e}' stream ${l} is closed:`,ee):(M||(oe(cn,`Opening RPC '${e}' stream ${l} transport.`),S.open(),M=!0),oe(cn,`RPC '${e}' stream ${l} sending:`,ee),S.send(ee))},Zo:()=>S.close()}),te=(ee,he,ve)=>{ee.listen(he,(ye=>{try{ve(ye)}catch(Fe){setTimeout((()=>{throw Fe}),0)}}))};return te(S,Vl.EventType.OPEN,(()=>{$||(oe(cn,`RPC '${e}' stream ${l} transport opened.`),J.o_())})),te(S,Vl.EventType.CLOSE,(()=>{$||($=!0,oe(cn,`RPC '${e}' stream ${l} transport closed`),J.a_(),this.E_(S))})),te(S,Vl.EventType.ERROR,(ee=>{$||($=!0,go(cn,`RPC '${e}' stream ${l} transport errored. Name:`,ee.name,"Message:",ee.message),J.a_(new ae(X.UNAVAILABLE,"The operation could not be completed")))})),te(S,Vl.EventType.MESSAGE,(ee=>{if(!$){const he=ee.data[0];Ye(!!he,16349);const ve=he,ye=ve?.error||ve[0]?.error;if(ye){oe(cn,`RPC '${e}' stream ${l} received error:`,ye);const Fe=ye.status;let tt=(function(w){const R=Ut[w];if(R!==void 0)return yT(R)})(Fe),Me=ye.message;tt===void 0&&(tt=X.INTERNAL,Me="Unknown error status: "+Fe+" with message "+ye.message),$=!0,J.a_(new ae(tt,Me)),S.close()}else oe(cn,`RPC '${e}' stream ${l} received:`,he),J.u_(he)}})),te(p,VE.STAT_EVENT,(ee=>{ee.stat===rm.PROXY?oe(cn,`RPC '${e}' stream ${l} detected buffering proxy`):ee.stat===rm.NOPROXY&&oe(cn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Kd(){return typeof document<"u"?document:null}function Ch(s){return new fx(s,!0)}class DT{constructor(e,i,r=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&oe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const mv="PersistentStream";class OT{constructor(e,i,r,l,c,d,p,y){this.Mi=e,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new DT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Rs(i.toString()),Rs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new ae(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(mv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(oe(mv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uC extends OT{constructor(e,i,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=px(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Ae.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ae.min():d.readTime?$i(d.readTime):Ae.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=pm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=cm(y)?{documents:_x(c,y)}:{query:vx(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=ET(c,d.resumeToken);const _=fm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Ae.min())>0){p.readTime=ch(c,d.snapshotVersion.toTimestamp());const _=fm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const r=Tx(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=pm(this.serializer),i.removeTarget=e,this.q_(i)}}class cC extends OT{constructor(e,i,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=yx(e.writeResults,e.commitTime),r=$i(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=pm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>gx(this.serializer,r)))};this.q_(i)}}class hC{}class fC extends hC{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ae(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,dm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae(X.UNKNOWN,c.toString())}))}Ho(e,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,dm(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ae(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class dC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Rs(i),this.aa=!1):oe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ua="RemoteStore";class mC{constructor(e,i,r,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{da(this)&&(oe(ua,"Restarting streams for network reachability change."),await(async function(y){const _=Re(y);_.Ea.add(4),await uu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Nh(_)})(this))}))})),this.Ra=new dC(r,l)}}async function Nh(s){if(da(s))for(const e of s.da)await e(!0)}async function uu(s){for(const e of s.da)await e(!1)}function MT(s,e){const i=Re(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),ep(i)?Wm(i):No(i).O_()&&Zm(i,e))}function Jm(s,e){const i=Re(s),r=No(i);i.Ia.delete(e),r.O_()&&VT(i,e),i.Ia.size===0&&(r.O_()?r.L_():da(i)&&i.Ra.set("Unknown"))}function Zm(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}No(s).Y_(e)}function VT(s,e){s.Va.Ue(e),No(s).Z_(e)}function Wm(s){s.Va=new lx({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),No(s).start(),s.Ra.ua()}function ep(s){return da(s)&&!No(s).x_()&&s.Ia.size>0}function da(s){return Re(s).Ea.size===0}function kT(s){s.Va=void 0}async function pC(s){s.Ra.set("Online")}async function gC(s){s.Ia.forEach(((e,i)=>{Zm(s,e)}))}async function yC(s,e){kT(s),ep(s)?(s.Ra.ha(e),Wm(s)):s.Ra.set("Unknown")}async function _C(s,e,i){if(s.Ra.set("Online"),e instanceof vT&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(r){oe(ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await fh(s,r)}else if(e instanceof Qc?s.Va.Ze(e):e instanceof _T?s.Va.st(e):s.Va.tt(e),!i.isEqual(Ae.min()))try{const r=await NT(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const T=c.Ia.get(_);T&&c.Ia.set(_,T.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const T=c.Ia.get(y);if(!T)return;c.Ia.set(y,T.withResumeToken(rn.EMPTY_BYTE_STRING,T.snapshotVersion)),VT(c,y);const S=new fr(T.target,y,_,T.sequenceNumber);Zm(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){oe(ua,"Failed to raise snapshot:",r),await fh(s,r)}}async function fh(s,e,i){if(!xo(e))throw e;s.Ea.add(1),await uu(s),s.Ra.set("Offline"),i||(i=()=>NT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{oe(ua,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Nh(s)}))}function LT(s,e){return e().catch((i=>fh(s,i,e)))}async function Dh(s){const e=Re(s),i=br(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Um;for(;vC(e);)try{const l=await eC(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,EC(e,l)}catch(l){await fh(e,l)}UT(e)&&PT(e)}function vC(s){return da(s)&&s.Ta.length<10}function EC(s,e){s.Ta.push(e);const i=br(s);i.O_()&&i.X_&&i.ea(e.mutations)}function UT(s){return da(s)&&!br(s).x_()&&s.Ta.length>0}function PT(s){br(s).start()}async function TC(s){br(s).ra()}async function bC(s){const e=br(s);for(const i of s.Ta)e.ea(i.mutations)}async function AC(s,e,i){const r=s.Ta.shift(),l=Fm.from(r,e,i);await LT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Dh(s)}async function SC(s,e){e&&br(s).X_&&await(async function(r,l){if((function(d){return rx(d)&&d!==X.ABORTED})(l.code)){const c=r.Ta.shift();br(r).B_(),await LT(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Dh(r)}})(s,e),UT(s)&&PT(s)}async function pv(s,e){const i=Re(s);i.asyncQueue.verifyOperationInProgress(),oe(ua,"RemoteStore received new credentials");const r=da(i);i.Ea.add(3),await uu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Nh(i)}async function wC(s,e){const i=Re(s);e?(i.Ea.delete(2),await Nh(i)):e||(i.Ea.add(2),await uu(i),i.Ra.set("Unknown"))}function No(s){return s.ma||(s.ma=(function(i,r,l){const c=Re(i);return c.sa(),new uC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:pC.bind(null,s),t_:gC.bind(null,s),r_:yC.bind(null,s),H_:_C.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),ep(s)?Wm(s):s.Ra.set("Unknown")):(await s.ma.stop(),kT(s))}))),s.ma}function br(s){return s.fa||(s.fa=(function(i,r,l){const c=Re(i);return c.sa(),new cC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:TC.bind(null,s),r_:SC.bind(null,s),ta:bC.bind(null,s),na:AC.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Dh(s)):(await s.fa.stop(),s.Ta.length>0&&(oe(ua,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class tp{constructor(e,i,r,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,c){const d=Date.now()+r,p=new tp(e,i,d,l,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function np(s,e){if(Rs("AsyncQueue",`${e}: ${s}`),xo(s))return new ae(X.UNAVAILABLE,`${e}: ${s}`);throw s}class ho{static emptySet(e){return new ho(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||de.comparator(i.key,r.key):(i,r)=>de.comparator(i.key,r.key),this.keyedMap=kl(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new ho;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class gv{constructor(){this.ga=new yt(de.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class To{constructor(e,i,r,l,c,d,p,y,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new To(e,i,ho.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class RC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class IC{constructor(){this.queries=yv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Re(i),c=l.queries;l.queries=yv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(r)}))})(this,new ae(X.ABORTED,"Firestore shutting down"))}}function yv(){return new ha((s=>sT(s)),Sh)}async function xC(s,e){const i=Re(s);let r=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(r=2):(c=new RC,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=np(d,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&ip(i)}async function CC(s,e){const i=Re(s),r=e.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function NC(s,e){const i=Re(s);let r=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&ip(i)}function DC(s,e,i){const r=Re(s),l=r.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(e)}function ip(s){s.Ca.forEach((e=>{e.next()}))}var _m,_v;(_v=_m||(_m={})).Ma="default",_v.Cache="cache";class OC{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new To(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=To.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_m.Cache}}class jT{constructor(e){this.key=e}}class zT{constructor(e){this.key=e}}class MC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=rT(e),this.tu=new ho(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new gv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,S)=>{const M=l.get(T),$=wh(this.query,S)?S:null,J=!!M&&this.mutatedKeys.has(M.key),te=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let ee=!1;M&&$?M.data.isEqual($.data)?J!==te&&(r.track({type:3,doc:$}),ee=!0):this.su(M,$)||(r.track({type:2,doc:$}),ee=!0,(y&&this.eu($,y)>0||_&&this.eu($,_)<0)&&(p=!0)):!M&&$?(r.track({type:0,doc:$}),ee=!0):M&&!$&&(r.track({type:1,doc:M}),ee=!0,(y||_)&&(p=!0)),ee&&($?(d=d.add($),c=te?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,S)=>(function($,J){const te=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:ee})}};return te($)-te(J)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new To(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new zT(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new jT(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Be();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return To.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sp="SyncEngine";class VC{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class kC{constructor(e){this.key=e,this.hu=!1}}class LC{constructor(e,i,r,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ha((p=>sT(p)),Sh),this.Iu=new Map,this.Eu=new Set,this.du=new yt(de.comparator),this.Au=new Map,this.Ru=new Qm,this.Vu={},this.mu=new Map,this.fu=Eo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function UC(s,e,i=!0){const r=$T(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await BT(r,e,i,!0),l}async function PC(s,e){const i=$T(s);await BT(i,e,!0,!1)}async function BT(s,e,i,r){const l=await tC(s.localStore,Gi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await jC(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&MT(s.remoteStore,l),p}async function jC(s,e,i,r,l){s.pu=(S,M,$)=>(async function(te,ee,he,ve){let ye=ee.view.ru(he);ye.Cs&&(ye=await cv(te.localStore,ee.query,!1).then((({documents:C})=>ee.view.ru(C,ye))));const Fe=ve&&ve.targetChanges.get(ee.targetId),tt=ve&&ve.targetMismatches.get(ee.targetId)!=null,Me=ee.view.applyChanges(ye,te.isPrimaryClient,Fe,tt);return Ev(te,ee.targetId,Me.au),Me.snapshot})(s,S,M,$);const c=await cv(s.localStore,e,!0),d=new MC(e,c.Qs),p=d.ru(c.documents),y=lu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,y);Ev(s,i,_.au);const T=new VC(e,i,d);return s.Tu.set(e,T),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function zC(s,e,i){const r=Re(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Sh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await gm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&Jm(r.remoteStore,l.targetId),vm(r,l.targetId)})).catch(Io)):(vm(r,l.targetId),await gm(r.localStore,l.targetId,!0))}async function BC(s,e){const i=Re(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Jm(i.remoteStore,r.targetId))}async function qC(s,e,i){const r=YC(s);try{const l=await(function(d,p){const y=Re(d),_=ht.now(),T=p.reduce((($,J)=>$.add(J.key)),Be());let S,M;return y.persistence.runTransaction("Locally write mutations","readwrite",($=>{let J=Is(),te=Be();return y.Ns.getEntries($,T).next((ee=>{J=ee,J.forEach(((he,ve)=>{ve.isValidDocument()||(te=te.add(he))}))})).next((()=>y.localDocuments.getOverlayedDocuments($,J))).next((ee=>{S=ee;const he=[];for(const ve of p){const ye=ex(ve,S.get(ve.key).overlayedDocument);ye!=null&&he.push(new fa(ve.key,ye,XE(ye.value.mapValue),As.exists(!0)))}return y.mutationQueue.addMutationBatch($,_,he,p)})).next((ee=>{M=ee;const he=ee.applyToLocalDocumentSet(S,te);return y.documentOverlayCache.saveOverlays($,ee.batchId,he)}))})).then((()=>({batchId:M.batchId,changes:oT(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new yt(ze)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,i),await cu(r,l.changes),await Dh(r.remoteStore)}catch(l){const c=np(l,"Failed to persist write");i.reject(c)}}async function qT(s,e){const i=Re(s);try{const r=await Zx(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ye(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ye(d.hu,14607):l.removedDocuments.size>0&&(Ye(d.hu,42227),d.hu=!1))})),await cu(i,r,e)}catch(r){await Io(r)}}function vv(s,e,i){const r=Re(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Re(d);y.onlineState=p;let _=!1;y.queries.forEach(((T,S)=>{for(const M of S.Sa)M.va(p)&&(_=!0)})),_&&ip(y)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function HC(s,e,i){const r=Re(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new yt(de.comparator);d=d.insert(c,fn.newNoDocument(c,Ae.min()));const p=Be().add(c),y=new xh(Ae.min(),new Map,new yt(ze),d,p);await qT(r,y),r.du=r.du.remove(c),r.Au.delete(e),rp(r)}else await gm(r.localStore,e,!1).then((()=>vm(r,e,i))).catch(Io)}async function FC(s,e){const i=Re(s),r=e.batch.batchId;try{const l=await Jx(i.localStore,e);FT(i,r,null),HT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await cu(i,l)}catch(l){await Io(l)}}async function GC(s,e,i){const r=Re(s);try{const l=await(function(d,p){const y=Re(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return y.mutationQueue.lookupMutationBatch(_,p).next((S=>(Ye(S!==null,37113),T=S.keys(),y.mutationQueue.removeMutationBatch(_,S)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,T,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>y.localDocuments.getDocuments(_,T)))}))})(r.localStore,e);FT(r,e,i),HT(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await cu(r,l)}catch(l){await Io(l)}}function HT(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function FT(s,e,i){const r=Re(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function vm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||GT(s,r)}))}function GT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Jm(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),rp(s))}function Ev(s,e,i){for(const r of i)r instanceof jT?(s.Ru.addReference(r.key,e),$C(s,r)):r instanceof zT?(oe(sp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||GT(s,r.key)):be(19791,{wu:r})}function $C(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(oe(sp,"New document in limbo: "+i),s.Eu.add(r),rp(s))}function rp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new de(lt.fromString(e)),r=s.fu.next();s.Au.set(r,new kC(i)),s.du=s.du.insert(i,r),MT(s.remoteStore,new fr(Gi(qm(i.path)),r,"TargetPurposeLimboResolution",Th.ce))}}async function cu(s,e,i){const r=Re(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,y)=>{d.push(r.pu(y,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const T=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(_){l.push(_);const T=Ym.As(y.targetId,_);c.push(T)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(y,_){const T=Re(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(_,(M=>Z.forEach(M.Es,($=>T.persistence.referenceDelegate.addReference(S,M.targetId,$))).next((()=>Z.forEach(M.ds,($=>T.persistence.referenceDelegate.removeReference(S,M.targetId,$)))))))))}catch(S){if(!xo(S))throw S;oe(Xm,"Failed to update sequence numbers: "+S)}for(const S of _){const M=S.targetId;if(!S.fromCache){const $=T.Ms.get(M),J=$.snapshotVersion,te=$.withLastLimboFreeSnapshotVersion(J);T.Ms=T.Ms.insert(M,te)}}})(r.localStore,c))}async function QC(s,e){const i=Re(s);if(!i.currentUser.isEqual(e)){oe(sp,"User change. New user:",e.toKey());const r=await CT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ae(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cu(i,r.Ls)}}function KC(s,e){const i=Re(s),r=i.Au.get(e);if(r&&r.hu)return Be().add(r.key);{let l=Be();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function $T(s){const e=Re(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=qT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HC.bind(null,e),e.Pu.H_=NC.bind(null,e.eventManager),e.Pu.yu=DC.bind(null,e.eventManager),e}function YC(s){const e=Re(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GC.bind(null,e),e}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ch(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Xx(this.persistence,new Qx,e.initialUser,this.serializer)}Cu(e){return new xT(Km.mi,this.serializer)}Du(e){return new iC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class XC extends dh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ye(this.persistence.referenceDelegate instanceof hh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Ox(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new xT((r=>hh.mi(r,i)),this.serializer)}}class Em{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=QC.bind(null,this.syncEngine),await wC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new IC})()}createDatastore(e){const i=Ch(e.databaseInfo.databaseId),r=(function(c){return new lC(c)})(e.databaseInfo);return(function(c,d,p,y){return new fC(c,d,p,y)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,c,d,p){return new mC(r,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>vv(this.syncEngine,i,0)),(function(){return dv.v()?new dv:new sC})())}createSyncEngine(e,i){return(function(l,c,d,p,y,_,T){const S=new LC(l,c,d,p,y,_);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Re(i);oe(ua,"RemoteStore shutting down."),r.Ea.add(5),await uu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Em.provider={build:()=>new Em};class JC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Rs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Ar="FirestoreClient";class ZC{constructor(e,i,r,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=hn.UNAUTHENTICATED,this.clientId=Lm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{oe(Ar,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(oe(Ar,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=np(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Yd(s,e){s.asyncQueue.verifyOperationInProgress(),oe(Ar,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await CT(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Tv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await WC(s);oe(Ar,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>pv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>pv(e.remoteStore,l))),s._onlineComponents=e}async function WC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){oe(Ar,"Using user provided OfflineComponentProvider");try{await Yd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;go("Error using user provided cache. Falling back to memory cache: "+i),await Yd(s,new dh)}}else oe(Ar,"Using default OfflineComponentProvider"),await Yd(s,new XC(void 0));return s._offlineComponents}async function QT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(oe(Ar,"Using user provided OnlineComponentProvider"),await Tv(s,s._uninitializedComponentsProvider._online)):(oe(Ar,"Using default OnlineComponentProvider"),await Tv(s,new Em))),s._onlineComponents}function eN(s){return QT(s).then((e=>e.syncEngine))}async function bv(s){const e=await QT(s),i=e.eventManager;return i.onListen=UC.bind(null,e.syncEngine),i.onUnlisten=zC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=PC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=BC.bind(null,e.syncEngine),i}function KT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Av=new Map;const YT="firestore.googleapis.com",Sv=!0;class wv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YT,this.ssl=Sv}else this.host=e.host,this.ssl=e.ssl??Sv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=IT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Nx)throw new ae(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oh{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new iI;switch(r.type){case"firstParty":return new oI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Av.get(i);r&&(oe("ComponentProvider","Removing Datastore"),Av.delete(i),r.terminate())})(this),Promise.resolve()}}function tN(s,e,i,r={}){s=zl(s,Oh);const l=bo(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;l&&(qv(`https://${p}`),Hv("Firestore",!0)),c.host!==YT&&c.host!==p&&go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:r};if(!ra(y,d)&&(s._setSettings(y),r.mockUserToken)){let _,T;if(typeof r.mockUserToken=="string")_=r.mockUserToken,T=hn.MOCK_USER;else{_=rS(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new ae(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new hn(S)}s._authCredentials=new sI(new PE(_,T))}}class Sr{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Sr(this.firestore,e,this._query)}}class qt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}toJSON(){return{type:qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(au(i,qt._jsonSchema))return new qt(e,r||null,new de(lt.fromString(i.referencePath)))}}qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:jt("string",qt._jsonSchemaVersion),referencePath:jt("string")};class yr extends Sr{constructor(e,i,r){super(e,i,qm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new de(e))}withConverter(e){return new yr(this.firestore,e,this._path)}}function Rv(s,e,...i){if(s=Yt(s),jE("collection","path",e),s instanceof Oh){const r=lt.fromString(e,...i);return U0(r),new yr(s,null,r)}{if(!(s instanceof qt||s instanceof yr))throw new ae(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(lt.fromString(e,...i));return U0(r),new yr(s.firestore,null,r)}}function nN(s,e,...i){if(s=Yt(s),arguments.length===1&&(e=Lm.newId()),jE("doc","path",e),s instanceof Oh){const r=lt.fromString(e,...i);return L0(r),new qt(s,null,new de(r))}{if(!(s instanceof qt||s instanceof yr))throw new ae(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(lt.fromString(e,...i));return L0(r),new qt(s.firestore,s instanceof yr?s.converter:null,new de(r))}}const Iv="AsyncQueue";class xv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new DT(this,"async_queue_retry"),this._c=()=>{const r=Kd();r&&oe(Iv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Kd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Kd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ia;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xo(e))throw e;oe(Iv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Rs("INTERNAL UNHANDLED ERROR: ",Cv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=tp.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&be(47125,{Pc:Cv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Cv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Nv(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class mh extends Oh{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new xv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xv(e),this._firestoreClient=void 0,await e}}}function iN(s,e){const i=typeof s=="object"?s:Qv(),r=typeof s=="string"?s:rh,l=Sm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=iS("firestore");c&&tN(l,...c)}return l}function XT(s){if(s._terminated)throw new ae(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||sN(s),s._firestoreClient}function sN(s){const e=s._freezeSettings(),i=(function(l,c,d,p){return new SI(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,KT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new ZC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ni(rn.fromBase64String(e))}catch(i){throw new ae(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ni(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(au(e,ni._jsonSchema))return ni.fromBase64String(e.bytes)}}ni._jsonSchemaVersion="firestore/bytes/1.0",ni._jsonSchema={type:jt("string",ni._jsonSchemaVersion),bytes:jt("string")};class ap{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ae(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class op{constructor(e){this._methodName=e}}class Qi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ae(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ae(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(e){if(au(e,Qi._jsonSchema))return new Qi(e.latitude,e.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:jt("string",Qi._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};class Ki{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(au(e,Ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ki(e.vectorValues);throw new ae(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ki._jsonSchemaVersion="firestore/vectorValue/1.0",Ki._jsonSchema={type:jt("string",Ki._jsonSchemaVersion),vectorValues:jt("object")};const rN=/^__.*__$/;class aN{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new fa(e,this.data,this.fieldMask,i,this.fieldTransforms):new ou(e,this.data,i,this.fieldTransforms)}}function JT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:s})}}class lp{constructor(e,i,r,l,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new lp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ph(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(JT(this.Ac)&&rN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class oN{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Ch(e)}Cc(e,i,r,l=!1){return new lp({Ac:e,methodName:i,Dc:r,path:sn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ZT(s){const e=s._freezeSettings(),i=Ch(s._databaseId);return new oN(s._databaseId,!!e.ignoreUndefinedProperties,i)}function lN(s,e,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,l);t1("Data must be an object, but it was:",d,r);const p=WT(r,d);let y,_;if(c.merge)y=new mi(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const M=cN(e,S,i);if(!d.contains(M))throw new ae(X.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);fN(T,M)||T.push(M)}y=new mi(T),_=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,_=d.fieldTransforms;return new aN(new ti(p),y,_)}class up extends op{_toFieldTransform(e){return new XI(e.path,new Zl)}isEqual(e){return e instanceof up}}function uN(s,e,i,r=!1){return cp(i,s.Cc(r?4:3,e))}function cp(s,e){if(e1(s=Yt(s)))return t1("Unsupported field value:",e,s),WT(s,e);if(s instanceof op)return(function(r,l){if(!JT(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let y=cp(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=Yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QI(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ht.fromDate(r);return{timestampValue:ch(l.serializer,c)}}if(r instanceof ht){const c=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ch(l.serializer,c)}}if(r instanceof Qi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ni)return{bytesValue:ET(l.serializer,r._byteString)};if(r instanceof qt){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:$m(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Ki)return(function(d,p){return{mapValue:{fields:{[KE]:{stringValue:YE},[ah]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Hm(p.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Eh(r)}`)})(s,e)}function WT(s,e){const i={};return qE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ca(s,((r,l)=>{const c=cp(l,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function e1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ht||s instanceof Qi||s instanceof ni||s instanceof qt||s instanceof op||s instanceof Ki)}function t1(s,e,i){if(!e1(i)||!zE(i)){const r=Eh(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function cN(s,e,i){if((e=Yt(e))instanceof ap)return e._internalPath;if(typeof e=="string")return n1(s,e);throw ph("Field path arguments must be of type string or ",s,!1,void 0,i)}const hN=new RegExp("[~\\*/\\[\\]]");function n1(s,e,i){if(e.search(hN)>=0)throw ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new ap(...e.split("."))._internalPath}catch{throw ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function ph(s,e,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new ae(X.INVALID_ARGUMENT,p+s+y)}function fN(s,e){return s.some((i=>i.isEqual(e)))}class i1{constructor(e,i,r,l,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(hp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class dN extends i1{data(){return super.data()}}function hp(s,e){return typeof e=="string"?n1(s,e):e instanceof ap?e._internalPath:e._delegate._internalPath}function mN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ae(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fp{}class dp extends fp{}function pN(s,e,...i){let r=[];e instanceof fp&&r.push(e),r=r.concat(i),(function(c){const d=c.filter((y=>y instanceof pp)).length,p=c.filter((y=>y instanceof mp)).length;if(d>1||d>0&&p>0)throw new ae(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class mp extends dp{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new mp(e,i,r)}_apply(e){const i=this._parse(e);return s1(e._query,i),new Sr(e.firestore,e.converter,hm(e._query,i))}_parse(e){const i=ZT(e.firestore);return(function(c,d,p,y,_,T,S){let M;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ae(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Ov(S,T);const J=[];for(const te of S)J.push(Dv(y,c,te));M={arrayValue:{values:J}}}else M=Dv(y,c,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Ov(S,T),M=uN(p,d,S,T==="in"||T==="not-in");return Pt.create(_,T,M)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class pp extends fp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new pp(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:yi.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)s1(d,y),d=hm(d,y)})(e._query,i),new Sr(e.firestore,e.converter,hm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gp extends dp{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new gp(e,i)}_apply(e){const i=(function(l,c,d){if(l.startAt!==null)throw new ae(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new ae(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jl(c,d)})(e._query,this._field,this._direction);return new Sr(e.firestore,e.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new Co(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function gN(s,e="asc"){const i=e,r=hp("orderBy",s);return gp._create(r,i)}class yp extends dp{constructor(e,i,r){super(),this.type=e,this._limit=i,this._limitType=r}static _create(e,i,r){return new yp(e,i,r)}_apply(e){return new Sr(e.firestore,e.converter,lh(e._query,this._limit,this._limitType))}}function yN(s){return yp._create("limit",s,"F")}function Dv(s,e,i){if(typeof(i=Yt(i))=="string"){if(i==="")throw new ae(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iT(e)&&i.indexOf("/")!==-1)throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(lt.fromString(i));if(!de.isDocumentKey(r))throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return G0(s,new de(r))}if(i instanceof qt)return G0(s,i._key);throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Eh(i)}.`)}function Ov(s,e){if(!Array.isArray(s)||s.length===0)throw new ae(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function s1(s,e){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ae(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class _N{convertValue(e,i="none"){switch(Tr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return ca(e,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[ah].arrayValue?.values?.map((r=>It(r.doubleValue)));return new Ki(i)}convertGeoPoint(e){return new Qi(It(e.latitude),It(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Ah(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Kl(e));default:return null}}convertTimestamp(e){const i=vr(e);return new ht(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=lt.fromString(e);Ye(RT(r),9688,{name:e});const l=new Yl(r.get(1),r.get(3)),c=new de(r.popFirst(5));return l.isEqual(i)||Rs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function vN(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class Ul{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sa extends i1{constructor(e,i,r,l,c,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(hp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=sa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}sa._jsonSchemaVersion="firestore/documentSnapshot/1.0",sa._jsonSchema={type:jt("string",sa._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class Kc extends sa{data(e={}){return super.data(e)}}class fo{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ul(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Kc(this._firestore,this._userDataWriter,r.key,r,new Ul(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ae(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ul(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ul(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:EN(p.type),doc:y,oldIndex:_,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function EN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:s})}}fo._jsonSchemaVersion="firestore/querySnapshot/1.0",fo._jsonSchema={type:jt("string",fo._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class r1 extends _N{constructor(e){super(),this.firestore=e}convertBytes(e){return new ni(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,i)}}function TN(s,e){const i=zl(s.firestore,mh),r=nN(s),l=vN(s.converter,e);return AN(i,[lN(ZT(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,As.exists(!1))]).then((()=>r))}function bN(s,...e){s=Yt(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Nv(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Nv(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof qt)d=zl(s.firestore,mh),p=qm(s._key.path),c={next:y=>{e[r]&&e[r](SN(d,s,y))},error:e[r+1],complete:e[r+2]};else{const y=zl(s,Sr);d=zl(y.firestore,mh),p=y._query;const _=new r1(d);c={next:T=>{e[r]&&e[r](new fo(d,_,y,T))},error:e[r+1],complete:e[r+2]},mN(s._query)}return(function(_,T,S,M){const $=new JC(M),J=new OC(T,$,S);return _.asyncQueue.enqueueAndForget((async()=>xC(await bv(_),J))),()=>{$.Nu(),_.asyncQueue.enqueueAndForget((async()=>CC(await bv(_),J)))}})(XT(d),p,l,c)}function AN(s,e){return(function(r,l){const c=new ia;return r.asyncQueue.enqueueAndForget((async()=>qC(await eN(r),l,c))),c.promise})(XT(s),e)}function SN(s,e,i){const r=i.docs.get(e._key),l=new r1(s);return new sa(s,l,e._key,r,new Ul(i.hasPendingWrites,i.fromCache),e.converter)}function wN(){return new up("serverTimestamp")}(function(e,i=!0){(function(l){Ro=l})(Ao),mo(new aa("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new mh(new rI(r.getProvider("auth-internal")),new lI(d,r.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ae(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(_.options.projectId,T)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),pr(O0,M0,e),pr(O0,M0,"esm2020")})();const RN={apiKey:"AIzaSyBeQemubnB8jBWLiPZob5HiDC4yubuxupI",authDomain:"learn-d8e71.firebaseapp.com",projectId:"learn-d8e71",storageBucket:"learn-d8e71.firebasestorage.app",messagingSenderId:"1098133970936",appId:"1:1098133970936:web:fed75c94fc73c36585000d",measurementId:"G-VH6H0XJKLP"},IN=typeof __firebase_config<"u"?JSON.parse(__firebase_config):RN,a1=$v(IN),qi=tI(a1),Mv=iN(a1),Vv=typeof __app_id<"u"?__app_id:"default-app-id",Dl=()=>A.jsx("style",{children:`
    @import url('https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&display=swap');
    body, textarea, input, button { font-family: 'Be Vietnam Pro', sans-serif !important; }
    .diff-anim { animation: fadeIn 0.5s ease-out; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
    .custom-scrollbar::-webkit-scrollbar { width: 6px; }
    .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
    .custom-scrollbar::-webkit-scrollbar-thumb { background-color: rgba(156, 163, 175, 0.5); border-radius: 20px; }
    .score-circle { transition: stroke-dashoffset 1s ease-in-out; transform: rotate(-90deg); transform-origin: 50% 50%; }
  `}),xN=["Startup cng ngh","Tr tu nhn to","Khoa hc v tr","Cng ngh Blockchain","Du lch bi","m thc ng ph","Li sng ti gin","Sc khe tinh thn","Email cng vic","K nng m phn","Ti chnh c nhn","Lnh o nhm","Review phim","Lch s th gii","Nhip nh ng ph","Bin i kh hu"],CN=(s,e)=>{const i=J=>J.replace(/[']/g,"'"),r=J=>i(J).replace(/([.,!?;:()])/g," $1 ").trim().split(/\s+/),l=J=>J.toLowerCase().replace(/[.,/#!$%^&*;:{}=\-_`~()?"']/g,""),c=r(s),d=r(e),p=c.length,y=d.length,_=Array(p+1).fill().map(()=>Array(y+1).fill(0));for(let J=1;J<=p;J++)for(let te=1;te<=y;te++){const ee=l(c[J-1]),he=l(d[te-1]);c[J-1].toLowerCase()===d[te-1].toLowerCase()||ee!==""&&ee===he?_[J][te]=_[J-1][te-1]+1:_[J][te]=Math.max(_[J-1][te],_[J][te-1])}let T=p,S=y;const M=[];for(;T>0&&S>0;){const J=l(c[T-1]),te=l(d[S-1]);c[T-1].toLowerCase()===d[S-1].toLowerCase()||J!==""&&J===te?(M.unshift({type:"same",value:c[T-1]}),T--,S--):_[T-1][S]>_[T][S-1]?(M.unshift({type:"remove",value:c[T-1]}),T--):(M.unshift({type:"add",value:d[S-1]}),S--)}for(;T>0;)M.unshift({type:"remove",value:c[T-1]}),T--;for(;S>0;)M.unshift({type:"add",value:d[S-1]}),S--;const $=[];for(let J=0;J<M.length;J++)M[J].type==="remove"&&M[J+1]?.type==="add"?($.push({type:"replace",oldVal:M[J].value,newVal:M[J+1].value}),J++):$.push(M[J]);return $},o1="AIzaSyA4omchntAp2OgZksXeP7DKK5mx4NeVI5k",NN=async(s,e)=>{let i="";switch(e){case"short":i="Generate a SHORT story/essay (approx 5-8 sentences). Keep it concise.";break;case"medium":i="Generate a MEDIUM length story/essay (approx 12-15 sentences).";break;case"long":i="Generate a LONG, DETAILED story/essay (more than 20 sentences). Elaborate on details.";break;default:i="Generate a MEDIUM length story/essay (approx 10-15 sentences)."}const r=`
    You are an expert English tutor for Vietnamese students.
    Task: Create a translation lesson based on the topic: "${s}".
    CRITICAL REQUIREMENT: ${i}. Split content into logical sentences.
    Output Format: STRICT JSON ONLY. No markdown.
    JSON Structure: {
      "title": "Short catchy title in Vietnamese",
      "type": "Story/Article/Email/Essay",
      "sentences": [
        {
          "id": 1,
          "vietnamese_full": "Full Vietnamese sentence",
          "segments": [{"text": "VN word", "trans": "EN meaning"}],
          "acceptableAnswers": ["Full English sentence 1", "Full English sentence 2"],
          "grammar_hint": "Explain grammar/usage in Vietnamese",
          "structure": "Formula (S+V+O)",
          "example_en": "English example",
          "example_vi": "Vietnamese example",
          "vocabulary": [{"word": "Word", "meaning": "Meaning"}]
        }
      ]
    }
  `;try{const l=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${o1}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:r}]}],generationConfig:{responseMimeType:"application/json"}})});if(!l.ok)throw new Error("API Call Failed");const c=await l.json();return JSON.parse(c.candidates[0].content.parts[0].text)}catch(l){return console.error("AI Generation Error:",l),null}},DN=async(s,e)=>{const i=`
        You are a translation judge. Original Vietnamese: "${e}". User's English: "${s}".
        Task: Does the user's translation convey the CORRECT meaning? Ignore punctuation. Accept synonyms.
        Return JSON ONLY: { "isCorrect": boolean, "feedback": "Short explanation in Vietnamese if wrong, or 'Din t tt' if correct" }
    `;try{const l=await(await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${o1}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:i}]}],generationConfig:{responseMimeType:"application/json"}})})).json();return JSON.parse(l.candidates[0].content.parts[0].text)}catch{return{isCorrect:!1,feedback:"Li kt ni kim tra."}}},Xd=()=>[...xN].sort(()=>.5-Math.random()).slice(0,4);function ON(){const[s,e]=xe.useState(null),[i,r]=xe.useState(!0),[l,c]=xe.useState("login"),[d,p]=xe.useState(""),[y,_]=xe.useState("medium"),[T,S]=xe.useState(!0),[M,$]=xe.useState(()=>Xd()),[J,te]=xe.useState([]),[ee,he]=xe.useState("login"),[ve,ye]=xe.useState(""),[Fe,tt]=xe.useState(""),[Me,C]=xe.useState(""),[w,R]=xe.useState(""),[V,D]=xe.useState(!1),[L,I]=xe.useState(!1),[Ee,bt]=xe.useState(null),[q,se]=xe.useState(0),[ce,Ve]=xe.useState(""),[ge,N]=xe.useState("idle"),[K,ne]=xe.useState(null),[re,pe]=xe.useState(""),[Se,De]=xe.useState(null),[_t,Xe]=xe.useState(!1),[vi,Ei]=xe.useState(!1),[jn,Ti]=xe.useState([]),[zn,bi]=xe.useState(!1),[an,Wi]=xe.useState(null),[Ai,vt]=xe.useState({mistakes:0,hints:0,fullAnswers:0}),nt=xe.useRef({mistakes:0,hints:0,fullAnswers:0}),mn=xe.useRef({hintUsed:!1,fullUsed:!1}),wr=xe.useRef(null),Rr=xe.useRef(null),Xt=xe.useRef(null);xe.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token&&await k2(qi,__initial_auth_token),r(!1)})();const me=F2(qi,Ie=>{e(Ie),Ie&&Ie.email&&Ie.emailVerified||Ie&&Ie.isAnonymous?c("home"):Ie&&Ie.email&&!Ie.emailVerified||c("login")});return()=>me()},[]),xe.useEffect(()=>{if(s&&l==="history"){const W=pN(Rv(Mv,"artifacts",Vv,"users",s.uid,"history"),gN("timestamp","desc"),yN(20)),me=bN(W,Ie=>{const Ct=Ie.docs.map(At=>({id:At.id,...At.data()}));te(Ct)});return()=>me()}},[s,l]),xe.useEffect(()=>{l==="learning"&&(Rr.current?.scrollIntoView({behavior:"smooth"}),wr.current&&ge!=="correct"&&ge!=="checking"&&wr.current.focus())},[ge,_t,vi,q,l]);const es=async W=>{W.preventDefault(),R("");try{const me=await P2(qi,ve,Fe);if(me.user&&!me.user.emailVerified){await Hd(qi),R("Email cha c xc thc. Vui lng kim tra hp th.");return}}catch(me){me.code==="auth/invalid-credential"||me.code==="auth/user-not-found"||me.code==="auth/wrong-password"?R("Email hoc mt khu khng chnh xc."):R("ng nhp tht bi. Vui lng th li.")}},Ir=async W=>{if(W.preventDefault(),R(""),I(!1),!Me){R("Vui lng nhp tn hin th");return}try{const me=await U2(qi,ve,Fe);await B2(me.user,{displayName:Me}),await j2(me.user),I(!0),await Hd(qi),he("login")}catch(me){console.error(me),me.code==="auth/email-already-in-use"?R("Email ny  c s dng. Vui lng ng nhp."):me.code==="auth/weak-password"?R("Mt khu qu yu."):R("ng k tht bi. Vui lng th li.")}},xr=async W=>{if(W.preventDefault(),R(""),D(!1),!ve){R("Vui lng nhp email.");return}try{await L2(qi,ve),D(!0),R("")}catch{R("Li gi email. Vui lng th li sau.")}},Si=async()=>{R("");try{const W=new Es;await cR(qi,W)}catch(W){R("ng nhp Google tht bi."),console.error(W)}},Do=async()=>{R("");try{await N2(qi),c("home")}catch{R("Li ng nhp khch.")}},ma=async()=>{await Hd(qi),c("login"),ye(""),tt(""),C(""),he("login"),I(!1)},pa=async W=>{if(W.preventDefault(),!d.trim())return;c("generating"),nt.current={mistakes:0,hints:0,fullAnswers:0},mn.current={hintUsed:!1,fullUsed:!1};const me=await NN(d,y);me?.sentences?.length>0?(bt(me),se(0),Ti(new Array(me.sentences.length).fill(!1)),Ve(""),N("idle"),ne(null),pe(""),De(null),Xe(!1),Ei(!1),bi(!1),c("learning")):c("error")},Cr=(W=null)=>{const me=Ee?.sentences?.length||0,Ie=jn.filter(Boolean).length,Ct=me-Ie,At=100,ft=W||nt.current,zt=ft.mistakes*2+ft.hints*0+ft.fullAnswers*15+Ct*10;return Math.max(0,At-zt)},In=async()=>{if(!s||!Ee)return;const W=Cr();try{await TN(Rv(Mv,"artifacts",Vv,"users",s.uid,"history"),{topic:Ee.title,score:W,totalSentences:Ee.sentences.length,timestamp:wN(),mistakes:nt.current.mistakes,hints:nt.current.hints,level:y,courseData:Ee})}catch(me){console.error("Error saving history:",me)}},xt=async W=>{if(W.preventDefault(),!ce.trim())return;const me=Ee.sentences[q];let Ie=null,Ct=1/0,At=null;if(me.acceptableAnswers.forEach(ft=>{const zt=CN(ce,ft),Ft=zt.reduce((on,ln)=>{if(ln.type==="same")return on;const Ns=Cn=>Cn.replace(/[.,/#!$%^&*;:{}=\-_`~()?"']/g,"");return ln.type==="replace"&&Ns(ln.oldVal)===""&&Ns(ln.newVal)===""||ln.type!=="replace"&&Ns(ln.value)===""?on:on+1},0);Ft<Ct&&(Ct=Ft,Ie=ft,At=zt)}),Ct===0){N("correct");const ft=[...jn];ft[q]=!0,Ti(ft),ne(At),De(Ie),pe("Chnh xc tuyt i!")}else{N("checking");const ft=me.segments.map(Ft=>Ft.text).join(""),zt=await DN(ce,ft);if(zt.isCorrect){N("correct");const Ft=[...jn];Ft[q]=!0,Ti(Ft),ne(At),De(Ie),pe("Cch din t khc nhng hon ton chnh xc!")}else N("incorrect"),ne(At),De(null),pe(typeof zt.feedback=="string"?zt.feedback:"Sai ng ngha."),nt.current.mistakes+=1}},pn=async()=>{vt({...nt.current}),c("summary"),await In()},pt=()=>{q<Ee.sentences.length-1?(se(W=>W+1),Ve(""),N("idle"),ne(null),pe(""),De(null),Xe(!1),Ei(!1),mn.current={hintUsed:!1,fullUsed:!1}):pn()},ga=()=>bi(!0),Cs=()=>{bi(!1),pn()},ya=()=>bi(!1),Bn=()=>{Xe(!0),mn.current.hintUsed||(nt.current.hints+=1,mn.current.hintUsed=!0)},ts=()=>{Ei(!0),mn.current.fullUsed||(nt.current.fullAnswers+=1,mn.current.fullUsed=!0)},gt=()=>S(!T),qn=()=>{c("home"),p(""),N("idle"),ne(null),pe(""),De(null),$(Xd())},F={bg:T?"bg-slate-900":"bg-slate-50",text:T?"text-slate-200":"text-slate-800",cardBg:T?"bg-slate-800":"bg-white",cardBorder:T?"border-slate-700":"border-slate-200",secondaryText:T?"text-slate-400":"text-slate-500",inputBg:T?"bg-slate-900":"bg-slate-50",inputBorder:T?"border-slate-700":"border-slate-200",inputText:T?"text-slate-200":"text-slate-800",highlightBg:T?"bg-indigo-900/30":"bg-indigo-50",highlightText:T?"text-indigo-300":"text-indigo-900",successBg:T?"bg-green-900/30":"bg-green-50",successText:T?"text-green-300":"text-green-700",errorBg:T?"bg-red-900/30":"bg-red-50",errorText:T?"text-red-300":"text-red-700"},xn=()=>K?A.jsx("span",{className:"leading-relaxed break-words",children:K.map((W,me)=>{if(W.type==="same")return A.jsx("span",{className:"text-green-500 dark:text-green-400 mr-1.5",children:W.value},me);if(W.type==="replace"){const Ie=ge==="correct"?"text-yellow-500 dark:text-yellow-400 mr-1.5 underline decoration-dotted":"text-red-400 dark:text-red-400 line-through decoration-red-500/50 decoration-2 cursor-help mr-1.5";return A.jsxs("span",{className:`relative group inline-block ${Ie}`,children:[W.oldVal,ge!=="correct"&&A.jsxs("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-1.5 bg-slate-900 border border-slate-700 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50 shadow-xl pointer-events-none transform -translate-y-1 group-hover:translate-y-0 duration-200",children:["Sa thnh: ",A.jsx("span",{className:"font-bold text-green-400",children:W.newVal}),A.jsx("span",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-slate-900"})]})]},me)}else{if(W.type==="remove")return ge==="correct"?null:A.jsx("span",{className:"text-red-400 dark:text-red-400 line-through mr-1.5 decoration-2 opacity-80",children:W.value},me);if(W.type==="add")return ge==="correct"?null:A.jsx("span",{className:"inline-block w-5 h-5 border-b-2 border-dashed border-amber-500 mr-1.5 relative group align-middle",children:A.jsxs("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-1.5 bg-amber-900 border border-amber-700 text-amber-100 text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50 shadow-xl",children:["Thiu: ",W.value]})},me)}return null})}):ce;if(i)return A.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 text-white",children:A.jsx(RA,{className:"w-8 h-8 animate-spin"})});if(l==="login")return A.jsxs("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center p-4 text-white font-sans",children:[A.jsx(Dl,{}),A.jsxs("div",{className:"max-w-md w-full bg-slate-800 p-8 rounded-3xl shadow-2xl border border-slate-700",children:[A.jsxs("div",{className:"text-center mb-8",children:[A.jsx("div",{className:"w-20 h-20 bg-indigo-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-indigo-500/30",children:A.jsx(Ld,{className:"w-10 h-10 text-white"})}),A.jsx("h1",{className:"text-3xl font-bold mb-2",children:"AI English Tutor"}),A.jsx("p",{className:"text-slate-400",children:"ng nhp  lu qu trnh hc tp"})]}),L&&A.jsxs("div",{className:"mb-6 p-4 bg-green-500/20 border border-green-500/50 rounded-xl text-green-400 text-sm flex items-center gap-2 animate-in fade-in slide-in-from-top-2",children:[A.jsx(kd,{className:"w-5 h-5 flex-shrink-0"}),A.jsx("span",{children:"Link xc thc  gi! Vui lng kim tra email."})]}),ee!=="forgot"&&A.jsxs("div",{className:"flex bg-slate-700 rounded-lg p-1 mb-6",children:[A.jsx("button",{onClick:()=>{he("login"),R("")},className:`flex-1 py-2 rounded-md text-sm font-bold transition-all ${ee==="login"?"bg-slate-600 text-white shadow":"text-slate-400 hover:text-white"}`,children:"ng nhp"}),A.jsx("button",{onClick:()=>{he("register"),R("")},className:`flex-1 py-2 rounded-md text-sm font-bold transition-all ${ee==="register"?"bg-slate-600 text-white shadow":"text-slate-400 hover:text-white"}`,children:"ng k"})]}),ee==="forgot"?A.jsxs("form",{onSubmit:xr,className:"space-y-4 animate-in fade-in",children:[A.jsxs("div",{className:"text-left",children:[A.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1",children:"Email ng k"}),A.jsxs("div",{className:"relative",children:[A.jsx(X_,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500"}),A.jsx("input",{type:"email",value:ve,onChange:W=>ye(W.target.value),placeholder:"name@example.com",className:"w-full p-4 pl-12 rounded-xl bg-slate-900 border border-slate-700 text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none mt-1",required:!0})]})]}),V?A.jsxs("div",{className:"p-3 bg-green-500/20 border border-green-500/50 rounded-xl text-green-400 text-sm flex items-center gap-2",children:[A.jsx(kd,{className:"w-4 h-4"}),"  gi link khi phc!"]}):w&&A.jsx("p",{className:"text-red-500 text-sm bg-red-500/10 p-2 rounded border border-red-500/20",children:w}),A.jsxs("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-4 rounded-xl transition-all shadow-lg active:scale-95 flex items-center justify-center gap-2",children:[A.jsx(AA,{className:"w-5 h-5"})," Gi link khi phc"]}),A.jsx("button",{type:"button",onClick:()=>{he("login"),R(""),D(!1)},className:"w-full text-slate-400 hover:text-white text-sm underline mt-2",children:"Quay li ng nhp"})]}):A.jsxs("form",{onSubmit:ee==="login"?es:Ir,className:"space-y-4 animate-in fade-in",children:[ee==="register"&&A.jsxs("div",{className:"text-left",children:[A.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1",children:"Tn hin th"}),A.jsx("input",{type:"text",value:Me,onChange:W=>C(W.target.value),placeholder:"VD: Minh T",className:"w-full p-4 rounded-xl bg-slate-900 border border-slate-700 text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none mt-1",required:!0})]}),A.jsxs("div",{className:"text-left",children:[A.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1",children:"Email"}),A.jsxs("div",{className:"relative",children:[A.jsx(X_,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500"}),A.jsx("input",{type:"email",value:ve,onChange:W=>ye(W.target.value),placeholder:"name@example.com",className:"w-full p-4 pl-12 rounded-xl bg-slate-900 border border-slate-700 text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none mt-1",required:!0})]})]}),A.jsxs("div",{className:"text-left",children:[A.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1",children:"Mt khu"}),A.jsxs("div",{className:"relative",children:[A.jsx(xA,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500"}),A.jsx("input",{type:"password",value:Fe,onChange:W=>tt(W.target.value),placeholder:"",className:"w-full p-4 pl-12 rounded-xl bg-slate-900 border border-slate-700 text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none mt-1",required:!0})]})]}),w&&A.jsx("p",{className:"text-red-500 text-sm bg-red-500/10 p-2 rounded border border-red-500/20",children:w}),ee==="login"&&A.jsx("div",{className:"text-right",children:A.jsx("button",{type:"button",onClick:()=>{he("forgot"),R("")},className:"text-xs text-indigo-400 hover:text-indigo-300 font-bold",children:"Qun mt khu?"})}),A.jsx("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-4 rounded-xl transition-all shadow-lg active:scale-95",children:ee==="login"?"ng nhp":"ng k ti khon"})]}),ee!=="forgot"&&A.jsxs("div",{className:"mt-6 flex flex-col gap-3 animate-in fade-in",children:[A.jsxs("button",{onClick:Si,className:"w-full bg-white hover:bg-gray-100 text-slate-900 font-bold py-3 rounded-xl transition-all flex items-center justify-center gap-2",children:[A.jsx("span",{className:"text-lg font-bold text-blue-600",children:"G"})," Tip tc vi Google"]}),A.jsx("button",{onClick:Do,className:"text-slate-500 text-sm hover:text-white underline",children:"Dng th khng cn ti khon"})]})]})]});if(l==="history")return A.jsxs("div",{className:`min-h-screen ${F.bg} p-4 transition-colors duration-300 font-sans`,children:[A.jsx(Dl,{}),A.jsxs("header",{className:"max-w-4xl mx-auto flex items-center justify-between mb-8 pt-4",children:[A.jsxs("button",{onClick:()=>c("home"),className:`flex items-center gap-2 ${F.secondaryText} hover:${F.text}`,children:[A.jsx(Oc,{className:"w-5 h-5 rotate-180"})," Quay li"]}),A.jsx("h1",{className:`text-xl font-bold ${F.text}`,children:"Lch s hc tp"}),A.jsx("div",{className:"w-5"})]}),A.jsx("div",{className:"max-w-4xl mx-auto space-y-4 pb-10",children:J.length===0?A.jsx("div",{className:`text-center py-20 ${F.secondaryText}`,children:"Bn cha c bi hc no."}):J.map(W=>A.jsxs("div",{onClick:()=>Wi(W),className:`${F.cardBg} p-5 rounded-2xl border ${F.cardBorder} flex items-center justify-between hover:scale-[1.01] transition-transform cursor-pointer group`,children:[A.jsxs("div",{className:"flex-1",children:[A.jsx("h3",{className:`font-bold ${F.text} text-lg mb-1 group-hover:text-indigo-500 transition-colors`,children:W.topic}),A.jsxs("div",{className:`flex items-center gap-4 text-xs ${F.secondaryText}`,children:[A.jsxs("span",{className:"flex items-center gap-1",children:[A.jsx(lA,{className:"w-3 h-3"})," ",W.timestamp&&typeof W.timestamp.toDate=="function"?W.timestamp.toDate().toLocaleDateString("vi-VN"):"Va xong"]}),A.jsx("span",{className:"flex items-center gap-1 bg-indigo-500/10 text-indigo-500 px-2 py-0.5 rounded uppercase font-bold",children:W.level||"medium"})]})]}),A.jsxs("div",{className:"flex items-center gap-6",children:[A.jsxs("div",{className:"text-right hidden sm:block",children:[A.jsx("div",{className:`text-sm ${F.secondaryText}`,children:"im s"}),A.jsx("div",{className:`font-bold text-lg ${W.score>=80?"text-green-500":W.score>=50?"text-yellow-500":"text-red-500"}`,children:Math.round(W.score)})]}),A.jsx(cA,{className:`w-5 h-5 ${F.secondaryText}`})]})]},W.id))}),an&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4 animate-in fade-in backdrop-blur-sm",onClick:()=>Wi(null),children:A.jsxs("div",{className:`${F.cardBg} w-full max-w-3xl max-h-[85vh] rounded-3xl shadow-2xl overflow-hidden flex flex-col`,onClick:W=>W.stopPropagation(),children:[A.jsxs("div",{className:`p-6 border-b ${F.cardBorder} flex justify-between items-center bg-indigo-600`,children:[A.jsx("h2",{className:"text-xl font-bold text-white truncate pr-4",children:an.topic}),A.jsx("button",{onClick:()=>Wi(null),className:"text-white/80 hover:text-white",children:A.jsx(KA,{className:"w-6 h-6"})})]}),A.jsx("div",{className:`flex-1 overflow-y-auto p-6 ${F.bg}`,children:an.courseData&&an.courseData.sentences?A.jsx("div",{className:"space-y-6",children:an.courseData.sentences.map((W,me)=>A.jsx("div",{className:`${F.cardBg} p-4 rounded-xl border ${F.cardBorder}`,children:A.jsxs("div",{className:"flex gap-3 mb-2",children:[A.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-indigo-500/10 text-indigo-500 rounded-full flex items-center justify-center text-xs font-bold",children:me+1}),A.jsxs("div",{children:[A.jsx("p",{className:`font-medium ${F.text} mb-1`,children:W.vietnamese_full||(W.segments?W.segments.map(Ie=>Ie.text).join(""):"")}),A.jsx("p",{className:"text-green-500 italic",children:W.acceptableAnswers[0]})]})]})},me))}):A.jsx("p",{className:`${F.secondaryText} text-center py-10`,children:"Chi tit bi hc khng kh dng cho mc ny."})}),A.jsxs("div",{className:`p-4 border-t ${F.cardBorder} ${F.cardBg} flex justify-between items-center text-sm ${F.secondaryText}`,children:[A.jsxs("span",{children:["im: ",A.jsx("strong",{className:an.score>=50?"text-green-500":"text-red-500",children:Math.round(an.score)})]}),A.jsxs("span",{children:["Hon thnh: ",an.totalSentences," cu"]})]})]})})]});if(l==="generating")return A.jsxs("div",{className:`min-h-screen ${F.bg} flex flex-col items-center justify-center p-4`,children:[A.jsx(Dl,{}),A.jsxs("div",{className:"text-center space-y-8",children:[A.jsxs("div",{className:"relative w-20 h-20 mx-auto",children:[A.jsx("div",{className:`absolute inset-0 border-4 ${T?"border-slate-700":"border-slate-200"} rounded-full`}),A.jsx("div",{className:"absolute inset-0 border-4 border-indigo-500 rounded-full border-t-transparent animate-spin"}),A.jsx(Vd,{className:"absolute inset-0 m-auto text-indigo-500 w-8 h-8 animate-pulse"})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("h2",{className:`text-xl font-bold ${F.text}`,children:"AI ang vit bi lun..."}),A.jsxs("p",{className:`${F.secondaryText}`,children:["Ch : ",A.jsxs("span",{className:"text-indigo-500",children:['"',d,'"']})]})]})]})]});if(l==="summary"){const W=Cr(Ai);let me="Cn c gng",Ie="text-red-500";W>=90?(me="Xut sc",Ie="text-green-500"):W>=80?(me="Gii",Ie="text-blue-500"):W>=65?(me="Kh",Ie="text-yellow-500"):W>=50&&(me="Trung bnh",Ie="text-orange-500");const At=2*Math.PI*50,ft=At-W/100*At,zt=jn.filter(Boolean).length,Ft=(Ee?.sentences?.length||0)-zt;return A.jsxs("div",{className:`min-h-screen ${F.bg} flex items-center justify-center p-4`,children:[A.jsx(Dl,{}),A.jsxs("div",{className:`max-w-3xl w-full ${F.cardBg} rounded-3xl shadow-2xl p-8 md:p-12 border ${F.cardBorder}`,children:[A.jsxs("div",{className:"text-center mb-8",children:[A.jsxs("div",{className:"relative w-40 h-40 mx-auto mb-6",children:[A.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 120 120",children:[A.jsx("circle",{cx:"60",cy:"60",r:"50",fill:"none",stroke:T?"#374151":"#e5e7eb",strokeWidth:"10"}),A.jsx("circle",{className:"score-circle",cx:"60",cy:"60",r:"50",fill:"none",stroke:W>=80?"#10B981":W>=50?"#F59E0B":"#EF4444",strokeWidth:"10",strokeDasharray:At,strokeDashoffset:ft,strokeLinecap:"round"})]}),A.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[A.jsx("span",{className:`text-4xl font-bold ${F.text}`,children:W}),A.jsx("span",{className:`text-xs uppercase font-bold ${F.secondaryText}`,children:"im"})]})]}),A.jsx("h1",{className:`text-3xl font-bold ${Ie} mb-2`,children:me}),A.jsxs("p",{className:`${F.secondaryText}`,children:["Ch : ",A.jsx("span",{className:"font-bold text-indigo-500",children:Ee?.title})]})]}),A.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[A.jsxs("div",{className:`${T?"bg-slate-900":"bg-slate-50"} p-4 rounded-2xl text-center border ${F.cardBorder}`,children:[A.jsx(pA,{className:"w-6 h-6 text-red-500 mx-auto mb-2"}),A.jsx("div",{className:`text-2xl font-bold ${F.text}`,children:Ai.mistakes}),A.jsx("div",{className:`text-xs ${F.secondaryText}`,children:"Li sai (-2)"})]}),A.jsxs("div",{className:`${T?"bg-slate-900":"bg-slate-50"} p-4 rounded-2xl text-center border ${F.cardBorder}`,children:[A.jsx(W_,{className:"w-6 h-6 text-orange-500 mx-auto mb-2"}),A.jsx("div",{className:`text-2xl font-bold ${F.text}`,children:Ft}),A.jsx("div",{className:`text-xs ${F.secondaryText}`,children:"B qua (-10)"})]}),A.jsxs("div",{className:`${T?"bg-slate-900":"bg-slate-50"} p-4 rounded-2xl text-center border ${F.cardBorder}`,children:[A.jsx(Y_,{className:"w-6 h-6 text-yellow-500 mx-auto mb-2"}),A.jsx("div",{className:`text-2xl font-bold ${F.text}`,children:Ai.hints}),A.jsx("div",{className:`text-xs ${F.secondaryText}`,children:"Gi  (0)"})]}),A.jsxs("div",{className:`${T?"bg-slate-900":"bg-slate-50"} p-4 rounded-2xl text-center border ${F.cardBorder}`,children:[A.jsx(iA,{className:"w-6 h-6 text-blue-500 mx-auto mb-2"}),A.jsx("div",{className:`text-2xl font-bold ${F.text}`,children:Ai.fullAnswers}),A.jsx("div",{className:`text-xs ${F.secondaryText}`,children:"p n (-15)"})]})]}),A.jsxs("div",{className:`${T?"bg-slate-900":"bg-slate-50"} p-6 rounded-2xl text-left mb-8 border ${F.cardBorder} max-h-60 overflow-y-auto custom-scrollbar`,children:[A.jsx("h4",{className:`text-xs font-bold ${F.secondaryText} uppercase mb-2`,children:"on vn hon chnh"}),A.jsx("p",{className:`${F.text} text-base leading-relaxed`,children:Ee?.sentences.map(on=>on.acceptableAnswers[0]).join(" ")})]}),A.jsx("div",{className:"flex justify-center",children:A.jsxs("button",{onClick:qn,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-xl flex items-center justify-center gap-2 shadow-lg transition-transform active:scale-95",children:[A.jsx(LA,{className:"w-5 h-5"})," Bi hc mi"]})})]})]})}return A.jsxs("div",{className:`min-h-screen ${F.bg} ${F.text} p-4 md:p-6 flex flex-col font-medium transition-colors duration-300 font-sans`,children:[A.jsx(Dl,{}),zn&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 animate-in fade-in",children:A.jsxs("div",{className:`${F.cardBg} p-6 rounded-2xl shadow-2xl max-w-sm w-full border ${F.cardBorder}`,children:[A.jsx("h3",{className:`text-lg font-bold ${F.text} mb-2`,children:"Kt thc sm?"}),A.jsx("p",{className:`${F.secondaryText} mb-6 text-sm`,children:"Bn c chc mun dng? Cc cu cha hon thnh s b tnh l b qua v tr im."}),A.jsxs("div",{className:"flex gap-3 justify-end",children:[A.jsx("button",{onClick:ya,className:`px-4 py-2 rounded-xl text-sm font-bold ${F.secondaryText} hover:${F.bg}`,children:"Hy"}),A.jsx("button",{onClick:Cs,className:"px-4 py-2 rounded-xl text-sm font-bold bg-red-500 hover:bg-red-600 text-white",children:"Kt thc ngay"})]})]})}),l==="home"&&A.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center max-w-2xl mx-auto w-full animate-in fade-in slide-in-from-bottom-8",children:[A.jsxs("div",{className:"absolute top-4 left-4 flex items-center gap-3",children:[A.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-600 flex items-center justify-center text-white font-bold text-lg shadow-lg cursor-pointer hover:scale-105 transition-transform",onClick:()=>c("history"),children:s?.displayName?.charAt(0)||A.jsx($A,{className:"w-5 h-5"})}),A.jsxs("div",{className:"hidden md:block",children:[A.jsx("p",{className:`text-xs font-bold ${F.secondaryText}`,children:"Xin cho,"}),A.jsx("p",{className:`font-bold ${F.text}`,children:s?.displayName||"Hc vin"})]})]}),A.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[A.jsx("button",{onClick:()=>c("history"),className:`p-2.5 rounded-full ${F.cardBg} ${F.secondaryText} hover:${F.text} border ${F.cardBorder}`,title:"Lch s",children:A.jsx(vA,{className:"w-5 h-5"})}),A.jsx("button",{onClick:gt,className:`p-2.5 rounded-full ${F.cardBg} ${T?"text-yellow-400":"text-orange-500"} border ${F.cardBorder}`,children:T?A.jsx(J_,{className:"w-5 h-5"}):A.jsx(e0,{className:"w-5 h-5"})}),A.jsx("button",{onClick:ma,className:`p-2.5 rounded-full ${F.cardBg} text-red-500 hover:bg-red-500/10 border ${F.cardBorder}`,title:"ng xut",children:A.jsx(NA,{className:"w-5 h-5"})})]}),A.jsxs("div",{className:"space-y-4 text-center mb-8 mt-12",children:[A.jsx("div",{className:`inline-flex items-center justify-center p-4 ${F.cardBg} rounded-full shadow-xl mb-2`,children:A.jsx(Ld,{className:"w-12 h-12 text-indigo-500"})}),A.jsx("h1",{className:`text-4xl md:text-5xl font-extrabold ${T?"text-white":"text-slate-900"} tracking-tight`,children:"AI English Tutor"}),A.jsx("p",{className:`text-base md:text-lg ${F.secondaryText}`,children:"Luyn dch thc t. Chm im & sa li thng minh."})]}),A.jsxs("div",{className:`${F.cardBg} p-5 rounded-3xl shadow-2xl border ${F.cardBorder} w-full transition-all`,children:[A.jsx("div",{className:"flex justify-center gap-2 mb-5",children:[{id:"short",label:"Ngn"},{id:"medium",label:"Va"},{id:"long",label:"Di"}].map(W=>A.jsx("button",{onClick:()=>_(W.id),className:`px-4 py-2 text-xs font-bold rounded-xl border transition-all ${y===W.id?"bg-indigo-600 text-white border-indigo-600":`${F.bg} ${F.secondaryText} border-transparent hover:border-indigo-500`}`,children:W.label},W.id))}),A.jsxs("form",{onSubmit:pa,className:"relative flex items-center",children:[A.jsx("div",{className:"pl-4 text-indigo-400",children:A.jsx(Vd,{className:"w-6 h-6"})}),A.jsx("input",{ref:Xt,type:"text",value:d,onChange:W=>p(W.target.value),placeholder:"Nhp ch  (VD: Cuc sng  Sao Ha)...",className:`w-full p-4 text-base bg-transparent outline-none ${F.inputText} placeholder-slate-400 font-medium`}),A.jsx("button",{type:"submit",disabled:!d.trim(),className:"bg-indigo-600 hover:bg-indigo-700 text-white p-3 rounded-xl m-1 transition-all shadow-md active:scale-95",children:A.jsx(Oc,{className:"w-6 h-6"})})]})]}),A.jsxs("div",{className:`flex flex-wrap justify-center gap-2 text-sm ${F.secondaryText} mt-6`,children:[M.map(W=>A.jsx("button",{onClick:()=>p(W),className:`${F.cardBg} border ${F.cardBorder} px-4 py-2 rounded-full hover:border-indigo-500 hover:text-indigo-500 transition-all shadow-sm`,children:W},W)),A.jsx("button",{onClick:()=>$(Xd()),className:"p-2 rounded-full hover:bg-indigo-500/10 text-indigo-500",children:A.jsx(VA,{className:"w-4 h-4"})})]})]}),l==="learning"&&Ee&&A.jsxs(A.Fragment,{children:[A.jsxs("header",{className:"max-w-6xl mx-auto w-full mb-6 flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("button",{onClick:()=>c("home"),className:`p-2 hover:${F.cardBg} rounded-full transition-all ${F.secondaryText}`,children:A.jsx(Oc,{className:"w-6 h-6 rotate-180"})}),A.jsxs("div",{children:[A.jsx("h1",{className:`text-xl font-bold ${F.text} flex items-center gap-3`,children:Ee.title}),A.jsx("span",{className:"text-xs font-bold bg-indigo-500/10 text-indigo-500 px-3 py-1 rounded-full uppercase border border-indigo-500/20",children:Ee.type})]})]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsxs("button",{onClick:ga,className:"hidden md:flex items-center gap-1 px-3 py-1.5 rounded-lg bg-red-500/10 hover:bg-red-500/20 text-red-500 text-xs font-bold transition-colors",children:[A.jsx(W_,{className:"w-4 h-4"})," Kt thc"]}),A.jsx("button",{onClick:gt,className:`p-2 rounded-full ${F.cardBg} ${T?"text-yellow-400":"text-orange-500"} shadow-sm border ${F.cardBorder}`,children:T?A.jsx(J_,{className:"w-5 h-5"}):A.jsx(e0,{className:"w-5 h-5"})}),A.jsxs("div",{className:`hidden md:flex ${F.cardBg} px-4 py-2 rounded-xl shadow-sm border ${F.cardBorder} text-sm font-bold`,children:[A.jsx("span",{className:`${F.secondaryText} mr-2`,children:"TIN "})," ",A.jsxs("span",{className:"text-indigo-500",children:[q+1," ",A.jsx("span",{className:F.secondaryText,children:"/"})," ",Ee.sentences.length]})]})]})]}),A.jsxs("div",{className:"max-w-6xl mx-auto w-full grid grid-cols-1 lg:grid-cols-12 gap-6 flex-1 min-h-0",children:[A.jsx("div",{className:`lg:col-span-7 ${F.cardBg} p-6 rounded-3xl shadow-xl border ${F.cardBorder} overflow-y-auto relative h-[30vh] lg:h-auto custom-scrollbar`,children:A.jsx("div",{className:`text-base md:text-lg leading-[2.0] ${F.text} font-sans`,children:Ee.sentences.map((W,me)=>{const Ie=jn[me],Ct=me===q;if(Ie)return A.jsxs("span",{className:"text-green-500 dark:text-green-400 transition-all duration-500 mr-1",children:[W.acceptableAnswers[0]," "]},W.id);let At="transition-all duration-300 inline mr-1 rounded px-1 ";return Ct?At+=`${F.highlightBg} ${F.highlightText} shadow-[inset_0_0_0_2px_rgba(99,102,241,0.5)] py-1 `:At+=T?"text-slate-600 ":"text-slate-300 ",A.jsx("span",{className:At,children:W.segments.map((ft,zt)=>{const Ft=W.segments[zt+1],on=Ft&&!/^[.,!?;:)]/.test(Ft.text);return A.jsxs(qb.Fragment,{children:[A.jsxs("span",{className:"group relative cursor-help inline-block hover:text-indigo-500 transition-colors",children:[ft.text,A.jsx("span",{className:`invisible group-hover:visible absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-1 ${T?"bg-slate-200 text-slate-900":"bg-slate-900 text-white"} text-sm rounded-lg shadow-lg whitespace-nowrap z-20 opacity-0 group-hover:opacity-100 transition-all pointer-events-none`,children:ft.trans})]}),on&&" "]},zt)})},W.id)})})}),A.jsxs("div",{className:"lg:col-span-5 flex flex-col h-full gap-4 min-h-[500px]",children:[A.jsxs("div",{className:`flex-1 ${F.cardBg} rounded-3xl shadow-xl border ${F.cardBorder} flex flex-col overflow-hidden relative`,children:[A.jsxs("div",{className:`flex-1 p-6 overflow-y-auto ${F.bg} space-y-6 custom-scrollbar`,children:[A.jsxs("div",{className:"flex gap-4 animate-in slide-in-from-left-4",children:[A.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:A.jsx(Vd,{className:"w-6 h-6 text-indigo-600"})}),A.jsxs("div",{className:`${F.cardBg} p-5 rounded-3xl rounded-tl-none shadow-sm border ${F.cardBorder} w-full`,children:[A.jsx("p",{className:`text-xs font-bold ${F.secondaryText} uppercase mb-2`,children:"Dch cu ny"}),A.jsxs("div",{className:`text-lg ${F.highlightText} ${F.highlightBg} p-3 rounded-xl border ${F.cardBorder} italic font-medium`,children:['"',Ee.sentences[q].segments.map((W,me)=>{const Ie=Ee.sentences[q].segments[me+1],Ct=Ie&&!/^[.,!?;:)]/.test(Ie.text)?" ":"";return W.text+Ct}),'"']})]})]}),ge!=="idle"&&ge!=="checking"&&A.jsxs("div",{className:"flex gap-4 flex-row-reverse animate-in slide-in-from-right-4",children:[A.jsx("div",{className:`w-10 h-10 ${T?"bg-slate-700":"bg-slate-200"} rounded-2xl flex items-center justify-center flex-shrink-0`,children:A.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-400"})}),A.jsxs("div",{className:"p-4 rounded-3xl rounded-tr-none shadow-md text-white max-w-[85%] text-lg bg-slate-700 relative overflow-visible z-10",children:[A.jsx("div",{className:`absolute inset-0 opacity-20 rounded-3xl rounded-tr-none ${ge==="correct"?"bg-green-500":"bg-red-500"}`}),A.jsx("div",{className:"relative z-10 font-medium",children:xn()})]})]}),ge==="correct"&&A.jsxs("div",{className:"flex gap-4 animate-in slide-in-from-left-4",children:[A.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:A.jsx(kd,{className:"w-6 h-6 text-green-600"})}),A.jsxs("div",{className:`${F.successBg} p-5 rounded-3xl rounded-tl-none border ${T?"border-green-800":"border-green-200"} w-full`,children:[A.jsx("p",{className:`font-bold ${F.successText} text-lg mb-2`,children:"Tuyt vi!"}),re&&A.jsx("p",{className:`text-sm ${F.successText} mb-3 italic`,children:String(re)}),Se&&A.jsxs("div",{className:`mt-3 ${F.cardBg} p-3 rounded-xl border ${F.cardBorder}`,children:[A.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[A.jsx(yA,{className:"w-4 h-4 text-indigo-400"}),A.jsx("span",{className:"text-xs font-bold text-indigo-400 uppercase",children:"p n mu"})]}),A.jsx("p",{className:`${F.text} text-sm italic`,children:Se})]}),A.jsxs("button",{onClick:pt,className:"mt-4 w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg active:scale-95 transition-all",children:["Cu tip theo ",A.jsx(Oc,{className:"w-5 h-5"})]})]})]}),ge==="checking"&&A.jsxs("div",{className:"flex gap-4 animate-in slide-in-from-left-4",children:[A.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-2xl flex items-center justify-center flex-shrink-0 animate-pulse",children:A.jsx(Z_,{className:"w-6 h-6 text-indigo-600"})}),A.jsx("div",{className:`${F.cardBg} p-4 rounded-3xl rounded-tl-none border ${F.cardBorder} text-sm italic ${F.secondaryText}`,children:"AI ang kim tra ng ngha cu tr li ca bn..."})]}),ge==="incorrect"&&A.jsxs("div",{className:"flex gap-4 animate-in slide-in-from-left-4",children:[A.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:A.jsx(FA,{className:"w-6 h-6 text-red-600"})}),A.jsxs("div",{className:`${F.errorBg} p-5 rounded-3xl rounded-tl-none border ${T?"border-red-800":"border-red-200"} w-full`,children:[A.jsx("p",{className:`font-bold ${F.errorText} mb-3 text-lg`,children:"Cha chnh xc lm."}),A.jsxs("div",{className:`mb-3 ${F.cardBg} p-4 rounded-xl border ${T?"border-red-500/30":"border-red-200"}`,children:[A.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[A.jsx(Z_,{className:"w-4 h-4 text-indigo-400"}),A.jsx("span",{className:"text-xs font-bold text-indigo-400 uppercase",children:"AI Phn tch li sai"})]}),A.jsx("p",{className:`${F.text} text-sm italic leading-relaxed`,children:String(re||"Cu tr li cha st ngha. Hy kim tra t vng v ng php.")})]})]})]}),A.jsx("div",{ref:Rr})]}),A.jsx("div",{className:`p-4 md:p-6 ${F.cardBg} border-t ${F.cardBorder} z-20 transition-colors duration-300`,children:A.jsxs("form",{onSubmit:xt,className:"relative group",children:[A.jsx("textarea",{ref:wr,value:ce,onChange:W=>Ve(W.target.value),disabled:ge==="correct"||ge==="checking",onKeyDown:W=>{W.key==="Enter"&&!W.shiftKey&&(W.preventDefault(),ge!=="correct"&&ge!=="checking"&&xt(W))},placeholder:ge==="correct"?"ang ch...":"Nhp cu dch...",className:`w-full p-4 pr-14 rounded-2xl ${F.inputBg} ${F.inputBorder} border-2 focus:border-indigo-500 outline-none resize-none text-base shadow-inner ${F.inputText}`,rows:"2"}),ge!=="correct"&&ge!=="checking"&&A.jsx("button",{type:"submit",disabled:!ce.trim(),className:"absolute right-3 top-1/2 -translate-y-1/2 p-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl shadow-lg active:scale-95 disabled:opacity-50 transition-all",children:A.jsx(jA,{className:"w-5 h-5"})})]})})]}),ge!=="correct"&&A.jsx("div",{className:`${F.cardBg} rounded-3xl shadow-lg border ${F.cardBorder} overflow-hidden flex-shrink-0 transition-all duration-300`,children:_t?A.jsxs("div",{className:`p-5 ${T?"bg-amber-900/20":"bg-amber-50/50"} animate-in fade-in relative`,children:[A.jsx("button",{onClick:()=>Xe(!1),className:"absolute top-3 right-3 p-1.5 rounded-full bg-black/10 hover:bg-black/20 dark:bg-white/10 dark:hover:bg-white/20 text-amber-600 dark:text-amber-400 transition-colors",title:"Thu gn",children:A.jsx(fA,{className:"w-4 h-4"})}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsxs("p",{className:"text-xs font-bold text-amber-500 uppercase mb-2 flex items-center gap-2",children:[A.jsx(Ld,{className:"w-4 h-4"})," Gi  Ng php"]}),A.jsx("p",{className:`${F.text} text-sm mb-3 font-medium ${F.cardBg} p-3 rounded-xl border ${T?"border-amber-900/30":"border-amber-100"}`,children:Ee.sentences[q].grammar_hint})]}),Ee.sentences[q].structure&&A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[A.jsxs("div",{children:[A.jsxs("p",{className:"text-xs font-bold text-amber-500 uppercase mb-2 flex items-center gap-2",children:[A.jsx(TA,{className:"w-4 h-4"})," Cu trc"]}),A.jsx("div",{className:`${F.text} text-sm ${F.cardBg} p-2 rounded-lg border ${T?"border-amber-900/30":"border-amber-100"} font-mono text-xs`,children:Ee.sentences[q].structure})]}),A.jsxs("div",{children:[A.jsxs("p",{className:"text-xs font-bold text-amber-500 uppercase mb-2 flex items-center gap-2",children:[A.jsx(rA,{className:"w-4 h-4"})," V d"]}),A.jsxs("div",{className:`${F.text} text-sm ${F.cardBg} p-2 rounded-lg border ${T?"border-amber-900/30":"border-amber-100"} italic`,children:[A.jsx("p",{className:"mb-1 text-indigo-400",children:Ee.sentences[q].example_en}),A.jsx("p",{className:"text-xs opacity-80",children:Ee.sentences[q].example_vi})]})]})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs font-bold text-amber-500 uppercase mb-2",children:"T vng cn dng"}),A.jsx("div",{className:"flex flex-wrap gap-2",children:Ee.sentences[q].vocabulary.map((W,me)=>A.jsxs("span",{className:`text-xs ${F.cardBg} px-2 py-1 rounded-lg text-amber-600 dark:text-amber-400 border ${T?"border-amber-900":"border-amber-200"}`,children:[W.word,": ",W.meaning]},me))})]}),vi?A.jsxs("p",{className:`${F.text} font-serif italic text-base border-t ${F.cardBorder} pt-2 mt-2`,children:['"',Ee.sentences[q].acceptableAnswers[0],'"']}):A.jsx("button",{onClick:ts,className:`text-xs font-bold ${F.secondaryText} hover:underline`,children:"Xem p n y "})]})]}):A.jsxs("button",{onClick:Bn,className:"w-full flex items-center justify-center gap-2 py-4 text-amber-500 hover:bg-amber-500/10 font-bold text-sm",children:[A.jsx(Y_,{className:"w-5 h-5"})," XEM GI "]})})]})]})]})]})}Yb.createRoot(document.getElementById("root")).render(A.jsx(xe.StrictMode,{children:A.jsx(ON,{})}));
