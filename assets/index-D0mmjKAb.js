(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function K1(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Md={exports:{}},kl={};var X0;function Y1(){if(X0)return kl;X0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:u}}return kl.Fragment=e,kl.jsx=i,kl.jsxs=i,kl}var J0;function X1(){return J0||(J0=1,Md.exports=Y1()),Md.exports}var b=X1(),Vd={exports:{}},Re={};var Z0;function J1(){if(Z0)return Re;Z0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),S=Symbol.iterator;function K(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ie=Object.assign,ne={};function ye(M,F,ae){this.props=M,this.context=F,this.refs=ne,this.updater=ae||W}ye.prototype.isReactComponent={},ye.prototype.setState=function(M,F){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,F,"setState")},ye.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ve(){}ve.prototype=ye.prototype;function Te(M,F,ae){this.props=M,this.context=F,this.refs=ne,this.updater=ae||W}var ke=Te.prototype=new ve;ke.constructor=Te,ie(ke,ye.prototype),ke.isPureReactComponent=!0;var Je=Array.isArray;function Ve(){}var N={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(M,F,ae){var te=ae.ref;return{$$typeof:s,type:M,key:F,ref:te!==void 0?te:null,props:ae}}function V(M,F){return I(M.type,F,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function j(M){var F={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ae){return F[ae]})}var x=/\/+/g;function ht(M,F){return typeof M=="object"&&M!==null&&M.key!=null?j(""+M.key):F.toString(36)}function bt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ve,Ve):(M.status="pending",M.then(function(F){M.status==="pending"&&(M.status="fulfilled",M.value=F)},function(F){M.status==="pending"&&(M.status="rejected",M.reason=F)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function $(M,F,ae,te,me){var xe=typeof M;(xe==="undefined"||xe==="boolean")&&(M=null);var Ie=!1;if(M===null)Ie=!0;else switch(xe){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(M.$$typeof){case s:case e:Ie=!0;break;case A:return Ie=M._init,$(Ie(M._payload),F,ae,te,me)}}if(Ie)return me=me(M),Ie=te===""?"."+ht(M,0):te,Je(me)?(ae="",Ie!=null&&(ae=Ie.replace(x,"$&/")+"/"),$(me,F,ae,"",function(Ni){return Ni})):me!=null&&(D(me)&&(me=V(me,ae+(me.key==null||M&&M.key===me.key?"":(""+me.key).replace(x,"$&/")+"/")+Ie)),F.push(me)),1;Ie=0;var Et=te===""?".":te+":";if(Je(M))for(var Pe=0;Pe<M.length;Pe++)te=M[Pe],xe=Et+ht(te,Pe),Ie+=$(te,F,ae,xe,me);else if(Pe=K(M),typeof Pe=="function")for(M=Pe.call(M),Pe=0;!(te=M.next()).done;)te=te.value,xe=Et+ht(te,Pe++),Ie+=$(te,F,ae,xe,me);else if(xe==="object"){if(typeof M.then=="function")return $(bt(M),F,ae,te,me);throw F=String(M),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function re(M,F,ae){if(M==null)return M;var te=[],me=0;return $(M,te,"","",function(xe){return F.call(ae,xe,me++)}),te}function ee(M){if(M._status===-1){var F=M._result;F=F(),F.then(function(ae){(M._status===0||M._status===-1)&&(M._status=1,M._result=ae)},function(ae){(M._status===0||M._status===-1)&&(M._status=2,M._result=ae)}),M._status===-1&&(M._status=0,M._result=F)}if(M._status===1)return M._result.default;throw M._result}var Fe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},de={map:re,forEach:function(M,F,ae){re(M,function(){F.apply(this,arguments)},ae)},count:function(M){var F=0;return re(M,function(){F++}),F},toArray:function(M){return re(M,function(F){return F})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Re.Activity=w,Re.Children=de,Re.Component=ye,Re.Fragment=i,Re.Profiler=l,Re.PureComponent=Te,Re.StrictMode=r,Re.Suspense=y,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Re.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},Re.cache=function(M){return function(){return M.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(M,F,ae){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var te=ie({},M.props),me=M.key;if(F!=null)for(xe in F.key!==void 0&&(me=""+F.key),F)!R.call(F,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&F.ref===void 0||(te[xe]=F[xe]);var xe=arguments.length-2;if(xe===1)te.children=ae;else if(1<xe){for(var Ie=Array(xe),Et=0;Et<xe;Et++)Ie[Et]=arguments[Et+2];te.children=Ie}return I(M.type,me,te)},Re.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Re.createElement=function(M,F,ae){var te,me={},xe=null;if(F!=null)for(te in F.key!==void 0&&(xe=""+F.key),F)R.call(F,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(me[te]=F[te]);var Ie=arguments.length-2;if(Ie===1)me.children=ae;else if(1<Ie){for(var Et=Array(Ie),Pe=0;Pe<Ie;Pe++)Et[Pe]=arguments[Pe+2];me.children=Et}if(M&&M.defaultProps)for(te in Ie=M.defaultProps,Ie)me[te]===void 0&&(me[te]=Ie[te]);return I(M,xe,me)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(M){return{$$typeof:g,render:M}},Re.isValidElement=D,Re.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:ee}},Re.memo=function(M,F){return{$$typeof:_,type:M,compare:F===void 0?null:F}},Re.startTransition=function(M){var F=N.T,ae={};N.T=ae;try{var te=M(),me=N.S;me!==null&&me(ae,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(Ve,Fe)}catch(xe){Fe(xe)}finally{F!==null&&ae.types!==null&&(F.types=ae.types),N.T=F}},Re.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Re.use=function(M){return N.H.use(M)},Re.useActionState=function(M,F,ae){return N.H.useActionState(M,F,ae)},Re.useCallback=function(M,F){return N.H.useCallback(M,F)},Re.useContext=function(M){return N.H.useContext(M)},Re.useDebugValue=function(){},Re.useDeferredValue=function(M,F){return N.H.useDeferredValue(M,F)},Re.useEffect=function(M,F){return N.H.useEffect(M,F)},Re.useEffectEvent=function(M){return N.H.useEffectEvent(M)},Re.useId=function(){return N.H.useId()},Re.useImperativeHandle=function(M,F,ae){return N.H.useImperativeHandle(M,F,ae)},Re.useInsertionEffect=function(M,F){return N.H.useInsertionEffect(M,F)},Re.useLayoutEffect=function(M,F){return N.H.useLayoutEffect(M,F)},Re.useMemo=function(M,F){return N.H.useMemo(M,F)},Re.useOptimistic=function(M,F){return N.H.useOptimistic(M,F)},Re.useReducer=function(M,F,ae){return N.H.useReducer(M,F,ae)},Re.useRef=function(M){return N.H.useRef(M)},Re.useState=function(M){return N.H.useState(M)},Re.useSyncExternalStore=function(M,F,ae){return N.H.useSyncExternalStore(M,F,ae)},Re.useTransition=function(){return N.H.useTransition()},Re.version="19.2.0",Re}var W0;function Dm(){return W0||(W0=1,Vd.exports=J1()),Vd.exports}var Ee=Dm();const Z1=K1(Ee);var kd={exports:{}},jl={},jd={exports:{}},Ld={};var e_;function W1(){return e_||(e_=1,(function(s){function e($,re){var ee=$.length;$.push(re);e:for(;0<ee;){var Fe=ee-1>>>1,de=$[Fe];if(0<l(de,re))$[Fe]=re,$[ee]=de,ee=Fe;else break e}}function i($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var re=$[0],ee=$.pop();if(ee!==re){$[0]=ee;e:for(var Fe=0,de=$.length,M=de>>>1;Fe<M;){var F=2*(Fe+1)-1,ae=$[F],te=F+1,me=$[te];if(0>l(ae,ee))te<de&&0>l(me,ae)?($[Fe]=me,$[te]=ee,Fe=te):($[Fe]=ae,$[F]=ee,Fe=F);else if(te<de&&0>l(me,ee))$[Fe]=me,$[te]=ee,Fe=te;else break e}}return re}function l($,re){var ee=$.sortIndex-re.sortIndex;return ee!==0?ee:$.id-re.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],_=[],A=1,w=null,S=3,K=!1,W=!1,ie=!1,ne=!1,ye=typeof setTimeout=="function"?setTimeout:null,ve=typeof clearTimeout=="function"?clearTimeout:null,Te=typeof setImmediate<"u"?setImmediate:null;function ke($){for(var re=i(_);re!==null;){if(re.callback===null)r(_);else if(re.startTime<=$)r(_),re.sortIndex=re.expirationTime,e(y,re);else break;re=i(_)}}function Je($){if(ie=!1,ke($),!W)if(i(y)!==null)W=!0,Ve||(Ve=!0,j());else{var re=i(_);re!==null&&bt(Je,re.startTime-$)}}var Ve=!1,N=-1,R=5,I=-1;function V(){return ne?!0:!(s.unstable_now()-I<R)}function D(){if(ne=!1,Ve){var $=s.unstable_now();I=$;var re=!0;try{e:{W=!1,ie&&(ie=!1,ve(N),N=-1),K=!0;var ee=S;try{t:{for(ke($),w=i(y);w!==null&&!(w.expirationTime>$&&V());){var Fe=w.callback;if(typeof Fe=="function"){w.callback=null,S=w.priorityLevel;var de=Fe(w.expirationTime<=$);if($=s.unstable_now(),typeof de=="function"){w.callback=de,ke($),re=!0;break t}w===i(y)&&r(y),ke($)}else r(y);w=i(y)}if(w!==null)re=!0;else{var M=i(_);M!==null&&bt(Je,M.startTime-$),re=!1}}break e}finally{w=null,S=ee,K=!1}re=void 0}}finally{re?j():Ve=!1}}}var j;if(typeof Te=="function")j=function(){Te(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ht=x.port2;x.port1.onmessage=D,j=function(){ht.postMessage(null)}}else j=function(){ye(D,0)};function bt($,re){N=ye(function(){$(s.unstable_now())},re)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function($){$.callback=null},s.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function($){switch(S){case 1:case 2:case 3:var re=3;break;default:re=S}var ee=S;S=re;try{return $()}finally{S=ee}},s.unstable_requestPaint=function(){ne=!0},s.unstable_runWithPriority=function($,re){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ee=S;S=$;try{return re()}finally{S=ee}},s.unstable_scheduleCallback=function($,re,ee){var Fe=s.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Fe+ee:Fe):ee=Fe,$){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=ee+de,$={id:A++,callback:re,priorityLevel:$,startTime:ee,expirationTime:de,sortIndex:-1},ee>Fe?($.sortIndex=ee,e(_,$),i(y)===null&&$===i(_)&&(ie?(ve(N),N=-1):ie=!0,bt(Je,ee-Fe))):($.sortIndex=de,e(y,$),W||K||(W=!0,Ve||(Ve=!0,j()))),$},s.unstable_shouldYield=V,s.unstable_wrapCallback=function($){var re=S;return function(){var ee=S;S=re;try{return $.apply(this,arguments)}finally{S=ee}}}})(Ld)),Ld}var t_;function eS(){return t_||(t_=1,jd.exports=W1()),jd.exports}var Ud={exports:{}},fn={};var n_;function tS(){if(n_)return fn;n_=1;var s=Dm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,_,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:y,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fn.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(y,_,null,A)},fn.flushSync=function(y){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=_,r.p=A,r.d.f()}},fn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},fn.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},fn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,w=g(A,_.crossOrigin),S=typeof _.integrity=="string"?_.integrity:void 0,K=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:K}):A==="script"&&r.d.X(y,{crossOrigin:w,integrity:S,fetchPriority:K,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},fn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},fn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,w=g(A,_.crossOrigin);r.d.L(y,A,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},fn.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=g(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},fn.requestFormReset=function(y){r.d.r(y)},fn.unstable_batchedUpdates=function(y,_){return y(_)},fn.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},fn.useFormStatus=function(){return d.H.useHostTransitionStatus()},fn.version="19.2.0",fn}var i_;function nS(){if(i_)return Ud.exports;i_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ud.exports=tS(),Ud.exports}var s_;function iS(){if(s_)return jl;s_=1;var s=eS(),e=Dm(),i=nS();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),t;if(f===o)return y(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===a){p=!0,a=h,o=f;break}if(E===o){p=!0,o=h,a=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===a){p=!0,a=f,o=h;break}if(E===o){p=!0,o=f,a=h;break}E=E.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,S=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),ye=Symbol.for("react.profiler"),ve=Symbol.for("react.consumer"),Te=Symbol.for("react.context"),ke=Symbol.for("react.forward_ref"),Je=Symbol.for("react.suspense"),Ve=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function ht(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ie:return"Fragment";case ye:return"Profiler";case ne:return"StrictMode";case Je:return"Suspense";case Ve:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case Te:return t.displayName||"Context";case ve:return(t._context.displayName||"Context")+".Consumer";case ke:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:ht(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return ht(t(n))}catch{}}return null}var bt=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Fe=[],de=-1;function M(t){return{current:t}}function F(t){0>de||(t.current=Fe[de],Fe[de]=null,de--)}function ae(t,n){de++,Fe[de]=t.current,t.current=n}var te=M(null),me=M(null),xe=M(null),Ie=M(null);function Et(t,n){switch(ae(xe,n),ae(me,t),ae(te,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?v0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=v0(n),t=b0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}F(te),ae(te,t)}function Pe(){F(te),F(me),F(xe)}function Ni(t){t.memoizedState!==null&&ae(Ie,t);var n=te.current,a=b0(n,t.type);n!==a&&(ae(me,t),ae(te,a))}function En(t){me.current===t&&(F(te),F(me)),Ie.current===t&&(F(Ie),Dl._currentValue=ee)}var rs,hi;function Nn(t){if(rs===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);rs=n&&n[1]||"",hi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rs+t+hi}var as=!1;function Wt(t,n){if(!t||as)return"";as=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(G){var q=G}Reflect.construct(t,[],X)}else{try{X.call()}catch(G){q=G}t.call(X.prototype)}}else{try{throw Error()}catch(G){q=G}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var C=p.split(`
`),P=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===P.length)for(o=C.length-1,h=P.length-1;1<=o&&0<=h&&C[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==P[h]){var Q=`
`+C[o].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=o&&0<=h);break}}}finally{as=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Nn(a):""}function Di(t,n){switch(t.tag){case 26:case 27:case 5:return Nn(t.type);case 16:return Nn("Lazy");case 13:return t.child!==n&&n!==null?Nn("Suspense Fallback"):Nn("Suspense");case 19:return Nn("SuspenseList");case 0:case 15:return Wt(t.type,!1);case 11:return Wt(t.type.render,!1);case 1:return Wt(t.type,!0);case 31:return Nn("Activity");default:return""}}function os(t){try{var n="",a=null;do n+=Di(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var yt=Object.prototype.hasOwnProperty,It=s.unstable_scheduleCallback,Dn=s.unstable_cancelCallback,Vt=s.unstable_shouldYield,zs=s.unstable_requestPaint,kt=s.unstable_now,ls=s.unstable_getCurrentPriorityLevel,Oi=s.unstable_ImmediatePriority,cs=s.unstable_UserBlockingPriority,Mi=s.unstable_NormalPriority,Sa=s.unstable_LowPriority,Gn=s.unstable_IdlePriority,fi=s.log,jr=s.unstable_setDisableYieldValue,On=null,dt=null;function yn(t){if(typeof fi=="function"&&jr(t),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(On,t)}catch{}}var Ke=Math.clz32?Math.clz32:Lr,di=Math.log,Vi=Math.LN2;function Lr(t){return t>>>=0,t===0?32:31-(di(t)/Vi|0)|0}var Fn=256,us=262144,At=4194304;function $n(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Qn(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=$n(o):(p&=E,p!==0?h=$n(p):a||(a=E&~t,a!==0&&(h=$n(a))))):(E=o&~f,E!==0?h=$n(E):p!==0?h=$n(p):a||(a=o&~t,a!==0&&(h=$n(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Mn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function qo(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Aa(){var t=At;return At<<=1,(At&62914560)===0&&(At=4194304),t}function Vn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function hs(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function wa(t,n,a,o,h,f){var p=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,P=t.hiddenUpdates;for(a=p&~a;0<a;){var Q=31-Ke(a),X=1<<Q;E[Q]=0,C[Q]=-1;var q=P[Q];if(q!==null)for(P[Q]=null,Q=0;Q<q.length;Q++){var G=q[Q];G!==null&&(G.lane&=-536870913)}a&=~X}o!==0&&ki(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function ki(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Ke(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Bs(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-Ke(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Ur(t,n){var a=n&-n;return a=(a&42)!==0?1:fs(a),(a&(t.suspendedLanes|n))!==0?0:a}function fs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function mi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function xa(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:H0(t.type))}function kn(t,n){var a=re.p;try{return re.p=t,n()}finally{re.p=a}}var jn=Math.random().toString(36).slice(2),wt="__reactFiber$"+jn,jt="__reactProps$"+jn,Kn="__reactContainer$"+jn,gi="__reactEvents$"+jn,Ra="__reactListeners$"+jn,Ca="__reactHandles$"+jn,Ia="__reactResources$"+jn,Yn="__reactMarker$"+jn;function z(t){delete t[wt],delete t[jt],delete t[gi],delete t[Ra],delete t[Ca]}function Xn(t){var n=t[wt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Kn]||a[wt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=R0(t);t!==null;){if(a=t[wt])return a;t=R0(t)}return n}t=a,a=t.parentNode}return null}function B(t){if(t=t[wt]||t[Kn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function oe(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function _e(t){var n=t[Ia];return n||(n=t[Ia]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function he(t){t[Yn]=!0}var je=new Set,Tt={};function Ye(t,n){Ne(t,n),Ne(t+"Capture",n)}function Ne(t,n){for(Tt[t]=n,t=0;t<n.length;t++)je.add(n[t])}var Ft=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ds={},en={};function un(t){return yt.call(en,t)?!0:yt.call(ds,t)?!1:Ft.test(t)?en[t]=!0:(ds[t]=!0,!1)}function hn(t,n,a){if(un(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Lt(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function xt(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Yt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ho(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function it(t){if(!t._valueTracker){var n=qs(t)?"checked":"value";t._valueTracker=Ho(t,n,""+t[n])}}function Pr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=qs(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function ji(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var zr=/[\n"\\]/g;function Tn(t){return t.replace(zr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Na(t,n,a,o,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Yt(n)):t.value!==""+Yt(n)&&(t.value=""+Yt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Go(t,p,Yt(n)):a!=null?Go(t,p,Yt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Yt(E):t.removeAttribute("name")}function pc(t,n,a,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){it(t);return}a=a!=null?""+Yt(a):"",n=n!=null?""+Yt(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),it(t)}function Go(t,n,a){n==="number"&&ji(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Hs(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Yt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function yc(t,n,a){if(n!=null&&(n=""+Yt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Yt(a):""}function Gs(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(bt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Yt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),it(t)}function Sn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var _c=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fo(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||_c.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function $o(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Fo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Fo(t,f,n[f])}function Da(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oa(t){return Fs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function pi(){}var Qo=null;function Jn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $s=null,Li=null;function Br(t){var n=B(t);if(n&&(t=n.stateNode)){var a=t[jt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Na(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[jt]||null;if(!h)throw Error(r(90));Na(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&Pr(o)}break e;case"textarea":yc(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Hs(t,!!a.multiple,n,!1)}}}var Ma=!1;function Qs(t,n,a){if(Ma)return t(n,a);Ma=!0;try{var o=t(n);return o}finally{if(Ma=!1,($s!==null||Li!==null)&&(fu(),$s&&(n=$s,t=Li,Li=$s=null,Br(n),t)))for(n=0;n<t.length;n++)Br(t[n])}}function yi(t,n){var a=t.stateNode;if(a===null)return null;var o=a[jt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qr=!1;if(Zn)try{var at={};Object.defineProperty(at,"passive",{get:function(){qr=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{qr=!1}var Ui=null,Ko=null,Hr=null;function Yo(){if(Hr)return Hr;var t,n=Ko,a=n.length,o,h="value"in Ui?Ui.value:Ui.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var p=a-t;for(o=1;o<=p&&n[a-o]===h[f-o];o++);return Hr=h.slice(t,1<o?1-o:void 0)}function Gr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ms(){return!0}function _i(){return!1}function tn(t){function n(a,o,h,f,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ms:_i,this.isPropagationStopped=_i,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ms)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ms)},persist:function(){},isPersistent:ms}),n}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pi=tn(gs),Ks=w({},gs,{view:0,detail:0}),Xo=tn(Ks),Ys,Va,zi,ka=w({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zi&&(zi&&t.type==="mousemove"?(Ys=t.screenX-zi.screenX,Va=t.screenY-zi.screenY):Va=Ys=0,zi=t),Ys)},movementY:function(t){return"movementY"in t?t.movementY:Va}}),Jo=tn(ka),Fr=w({},ka,{dataTransfer:0}),bc=tn(Fr),Ec=w({},Ks,{relatedTarget:0}),$r=tn(Ec),Zo=w({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),Tc=tn(Zo),ja=w({},gs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sc=tn(ja),Ac=w({},gs,{data:0}),Bi=tn(Ac),wc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cc(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Rc[t])?!!n[t]:!1}function Xs(){return Cc}var _n=w({},Ks,{key:function(t){if(t.key){var n=wc[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Gr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xs,charCode:function(t){return t.type==="keypress"?Gr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ic=tn(_n),Nc=w({},ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ps=tn(Nc),c=w({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xs}),m=tn(c),v=w({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=tn(v),L=w({},ka,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=tn(L),se=w({},gs,{newState:0,oldState:0}),De=tn(se),Nt=[9,13,27,32],et=Zn&&"CompositionEvent"in window,_t=null;Zn&&"documentMode"in document&&(_t=document.documentMode);var Wn=Zn&&"TextEvent"in window&&!_t,qi=Zn&&(!et||_t&&8<_t&&11>=_t),vi=" ",bi=!1;function Qr(t,n){switch(t){case"keyup":return Nt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function La(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ua=!1;function _T(t,n){switch(t){case"compositionend":return La(n);case"keypress":return n.which!==32?null:(bi=!0,vi);case"textInput":return t=n.data,t===vi&&bi?null:t;default:return null}}function vT(t,n){if(Ua)return t==="compositionend"||!et&&Qr(t,n)?(t=Yo(),Hr=Ko=Ui=null,Ua=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return qi&&n.locale!=="ko"?null:n.data;default:return null}}var bT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ng(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!bT[t.type]:n==="textarea"}function Dg(t,n,a,o){$s?Li?Li.push(o):Li=[o]:$s=o,n=vu(n,"onChange"),0<n.length&&(a=new Pi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Wo=null,el=null;function ET(t){d0(t,0)}function Dc(t){var n=oe(t);if(Pr(n))return t}function Og(t,n){if(t==="change")return n}var Mg=!1;if(Zn){var Ph;if(Zn){var zh="oninput"in document;if(!zh){var Vg=document.createElement("div");Vg.setAttribute("oninput","return;"),zh=typeof Vg.oninput=="function"}Ph=zh}else Ph=!1;Mg=Ph&&(!document.documentMode||9<document.documentMode)}function kg(){Wo&&(Wo.detachEvent("onpropertychange",jg),el=Wo=null)}function jg(t){if(t.propertyName==="value"&&Dc(el)){var n=[];Dg(n,el,t,Jn(t)),Qs(ET,n)}}function TT(t,n,a){t==="focusin"?(kg(),Wo=n,el=a,Wo.attachEvent("onpropertychange",jg)):t==="focusout"&&kg()}function ST(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dc(el)}function AT(t,n){if(t==="click")return Dc(n)}function wT(t,n){if(t==="input"||t==="change")return Dc(n)}function xT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ln=typeof Object.is=="function"?Object.is:xT;function tl(t,n){if(Ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!yt.call(n,h)||!Ln(t[h],n[h]))return!1}return!0}function Lg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ug(t,n){var a=Lg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Lg(a)}}function Pg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Pg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function zg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ji(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ji(t.document)}return n}function Bh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var RT=Zn&&"documentMode"in document&&11>=document.documentMode,Pa=null,qh=null,nl=null,Hh=!1;function Bg(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hh||Pa==null||Pa!==ji(o)||(o=Pa,"selectionStart"in o&&Bh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),nl&&tl(nl,o)||(nl=o,o=vu(qh,"onSelect"),0<o.length&&(n=new Pi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=Pa)))}function Kr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var za={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionrun:Kr("Transition","TransitionRun"),transitionstart:Kr("Transition","TransitionStart"),transitioncancel:Kr("Transition","TransitionCancel"),transitionend:Kr("Transition","TransitionEnd")},Gh={},qg={};Zn&&(qg=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function Yr(t){if(Gh[t])return Gh[t];if(!za[t])return t;var n=za[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in qg)return Gh[t]=n[a];return t}var Hg=Yr("animationend"),Gg=Yr("animationiteration"),Fg=Yr("animationstart"),CT=Yr("transitionrun"),IT=Yr("transitionstart"),NT=Yr("transitioncancel"),$g=Yr("transitionend"),Qg=new Map,Fh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fh.push("scrollEnd");function Ei(t,n){Qg.set(t,n),Ye(n,[t])}var Oc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ei=[],Ba=0,$h=0;function Mc(){for(var t=Ba,n=$h=Ba=0;n<t;){var a=ei[n];ei[n++]=null;var o=ei[n];ei[n++]=null;var h=ei[n];ei[n++]=null;var f=ei[n];if(ei[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Kg(a,h,f)}}function Vc(t,n,a,o){ei[Ba++]=t,ei[Ba++]=n,ei[Ba++]=a,ei[Ba++]=o,$h|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Qh(t,n,a,o){return Vc(t,n,a,o),kc(t)}function Xr(t,n){return Vc(t,null,null,n),kc(t)}function Kg(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Ke(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function kc(t){if(50<Al)throw Al=0,id=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var qa={};function DT(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,n,a,o){return new DT(t,n,a,o)}function Kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ys(t,n){var a=t.alternate;return a===null?(a=Un(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Yg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function jc(t,n,a,o,h,f){var p=0;if(o=t,typeof t=="function")Kh(t)&&(p=1);else if(typeof t=="string")p=j1(t,a,te.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Un(31,a,n,h),t.elementType=I,t.lanes=f,t;case ie:return Jr(a.children,h,f,n);case ne:p=8,h|=24;break;case ye:return t=Un(12,a,n,h|2),t.elementType=ye,t.lanes=f,t;case Je:return t=Un(13,a,n,h),t.elementType=Je,t.lanes=f,t;case Ve:return t=Un(19,a,n,h),t.elementType=Ve,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Te:p=10;break e;case ve:p=9;break e;case ke:p=11;break e;case N:p=14;break e;case R:p=16,o=null;break e}p=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=Un(p,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Jr(t,n,a,o){return t=Un(7,t,o,n),t.lanes=a,t}function Yh(t,n,a){return t=Un(6,t,null,n),t.lanes=a,t}function Xg(t){var n=Un(18,null,null,0);return n.stateNode=t,n}function Xh(t,n,a){return n=Un(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Jg=new WeakMap;function ti(t,n){if(typeof t=="object"&&t!==null){var a=Jg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:os(n)},Jg.set(t,n),n)}return{value:t,source:n,stack:os(n)}}var Ha=[],Ga=0,Lc=null,il=0,ni=[],ii=0,Js=null,Hi=1,Gi="";function _s(t,n){Ha[Ga++]=il,Ha[Ga++]=Lc,Lc=t,il=n}function Zg(t,n,a){ni[ii++]=Hi,ni[ii++]=Gi,ni[ii++]=Js,Js=t;var o=Hi;t=Gi;var h=32-Ke(o)-1;o&=~(1<<h),a+=1;var f=32-Ke(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Hi=1<<32-Ke(n)+h|a<<h|o,Gi=f+t}else Hi=1<<f|a<<h|o,Gi=t}function Jh(t){t.return!==null&&(_s(t,1),Zg(t,1,0))}function Zh(t){for(;t===Lc;)Lc=Ha[--Ga],Ha[Ga]=null,il=Ha[--Ga],Ha[Ga]=null;for(;t===Js;)Js=ni[--ii],ni[ii]=null,Gi=ni[--ii],ni[ii]=null,Hi=ni[--ii],ni[ii]=null}function Wg(t,n){ni[ii++]=Hi,ni[ii++]=Gi,ni[ii++]=Js,Hi=n.id,Gi=n.overflow,Js=t}var nn=null,mt=null,$e=!1,Zs=null,si=!1,Wh=Error(r(519));function Ws(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sl(ti(n,t)),Wh}function ep(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[wt]=t,n[jt]=o,a){case"dialog":Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":case"embed":Ue("load",n);break;case"video":case"audio":for(a=0;a<xl.length;a++)Ue(xl[a],n);break;case"source":Ue("error",n);break;case"img":case"image":case"link":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"input":Ue("invalid",n),pc(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ue("invalid",n);break;case"textarea":Ue("invalid",n),Gs(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||y0(n.textContent,a)?(o.popover!=null&&(Ue("beforetoggle",n),Ue("toggle",n)),o.onScroll!=null&&Ue("scroll",n),o.onScrollEnd!=null&&Ue("scrollend",n),o.onClick!=null&&(n.onclick=pi),n=!0):n=!1,n||Ws(t,!0)}function tp(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 31:case 13:si=!1;return;case 27:case 3:si=!0;return;default:nn=nn.return}}function Fa(t){if(t!==nn)return!1;if(!$e)return tp(t),$e=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||_d(t.type,t.memoizedProps)),a=!a),a&&mt&&Ws(t),tp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));mt=x0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));mt=x0(t)}else n===27?(n=mt,dr(t.type)?(t=Sd,Sd=null,mt=t):mt=n):mt=nn?ai(t.stateNode.nextSibling):null;return!0}function Zr(){mt=nn=null,$e=!1}function ef(){var t=Zs;return t!==null&&(Rn===null?Rn=t:Rn.push.apply(Rn,t),Zs=null),t}function sl(t){Zs===null?Zs=[t]:Zs.push(t)}var tf=M(null),Wr=null,vs=null;function er(t,n,a){ae(tf,n._currentValue),n._currentValue=a}function bs(t){t._currentValue=tf.current,F(tf)}function nf(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function sf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),nf(f.return,a,t),o||(p=null);break e}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),nf(p,a,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function $a(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var E=h.type;Ln(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===Ie.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Dl):t=[Dl])}h=h.return}t!==null&&sf(n,t,a,o),n.flags|=262144}function Uc(t){for(t=t.firstContext;t!==null;){if(!Ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ea(t){Wr=t,vs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function sn(t){return np(Wr,t)}function Pc(t,n){return Wr===null&&ea(t),np(t,n)}function np(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},vs===null){if(t===null)throw Error(r(308));vs=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else vs=vs.next=n;return a}var OT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},MT=s.unstable_scheduleCallback,VT=s.unstable_NormalPriority,Ut={$$typeof:Te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new OT,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&MT(VT,function(){t.controller.abort()})}var al=null,af=0,Qa=0,Ka=null;function kT(t,n){if(al===null){var a=al=[];af=0,Qa=cd(),Ka={status:"pending",value:void 0,then:function(o){a.push(o)}}}return af++,n.then(ip,ip),n}function ip(){if(--af===0&&al!==null){Ka!==null&&(Ka.status="fulfilled");var t=al;al=null,Qa=0,Ka=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function jT(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var sp=$.S;$.S=function(t,n){By=kt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&kT(t,n),sp!==null&&sp(t,n)};var ta=M(null);function of(){var t=ta.current;return t!==null?t:ut.pooledCache}function zc(t,n){n===null?ae(ta,ta.current):ae(ta,n.pool)}function rp(){var t=of();return t===null?null:{parent:Ut._currentValue,pool:t}}var Ya=Error(r(460)),lf=Error(r(474)),Bc=Error(r(542)),qc={then:function(){}};function ap(t){return t=t.status,t==="fulfilled"||t==="rejected"}function op(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(pi,pi),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cp(t),t;default:if(typeof n.status=="string")n.then(pi,pi);else{if(t=ut,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cp(t),t}throw ia=n,Ya}}function na(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ia=a,Ya):a}}var ia=null;function lp(){if(ia===null)throw Error(r(459));var t=ia;return ia=null,t}function cp(t){if(t===Ya||t===Bc)throw Error(r(483))}var Xa=null,ol=0;function Hc(t){var n=ol;return ol+=1,Xa===null&&(Xa=[]),op(Xa,t,n)}function ll(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Gc(t,n){throw n.$$typeof===S?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function up(t){function n(k,O){if(t){var U=k.deletions;U===null?(k.deletions=[O],k.flags|=16):U.push(O)}}function a(k,O){if(!t)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=ys(k,O),k.index=0,k.sibling=null,k}function f(k,O,U){return k.index=U,t?(U=k.alternate,U!==null?(U=U.index,U<O?(k.flags|=67108866,O):U):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,U,Y){return O===null||O.tag!==6?(O=Yh(U,k.mode,Y),O.return=k,O):(O=h(O,U),O.return=k,O)}function C(k,O,U,Y){var ge=U.type;return ge===ie?Q(k,O,U.props.children,Y,U.key):O!==null&&(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&na(ge)===O.type)?(O=h(O,U.props),ll(O,U),O.return=k,O):(O=jc(U.type,U.key,U.props,null,k.mode,Y),ll(O,U),O.return=k,O)}function P(k,O,U,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=Xh(U,k.mode,Y),O.return=k,O):(O=h(O,U.children||[]),O.return=k,O)}function Q(k,O,U,Y,ge){return O===null||O.tag!==7?(O=Jr(U,k.mode,Y,ge),O.return=k,O):(O=h(O,U),O.return=k,O)}function X(k,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Yh(""+O,k.mode,U),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case K:return U=jc(O.type,O.key,O.props,null,k.mode,U),ll(U,O),U.return=k,U;case W:return O=Xh(O,k.mode,U),O.return=k,O;case R:return O=na(O),X(k,O,U)}if(bt(O)||j(O))return O=Jr(O,k.mode,U,null),O.return=k,O;if(typeof O.then=="function")return X(k,Hc(O),U);if(O.$$typeof===Te)return X(k,Pc(k,O),U);Gc(k,O)}return null}function q(k,O,U,Y){var ge=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ge!==null?null:E(k,O,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case K:return U.key===ge?C(k,O,U,Y):null;case W:return U.key===ge?P(k,O,U,Y):null;case R:return U=na(U),q(k,O,U,Y)}if(bt(U)||j(U))return ge!==null?null:Q(k,O,U,Y,null);if(typeof U.then=="function")return q(k,O,Hc(U),Y);if(U.$$typeof===Te)return q(k,O,Pc(k,U),Y);Gc(k,U)}return null}function G(k,O,U,Y,ge){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(U)||null,E(O,k,""+Y,ge);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case K:return k=k.get(Y.key===null?U:Y.key)||null,C(O,k,Y,ge);case W:return k=k.get(Y.key===null?U:Y.key)||null,P(O,k,Y,ge);case R:return Y=na(Y),G(k,O,U,Y,ge)}if(bt(Y)||j(Y))return k=k.get(U)||null,Q(O,k,Y,ge,null);if(typeof Y.then=="function")return G(k,O,U,Hc(Y),ge);if(Y.$$typeof===Te)return G(k,O,U,Pc(O,Y),ge);Gc(O,Y)}return null}function ue(k,O,U,Y){for(var ge=null,Ze=null,fe=O,Me=O=0,Be=null;fe!==null&&Me<U.length;Me++){fe.index>Me?(Be=fe,fe=null):Be=fe.sibling;var We=q(k,fe,U[Me],Y);if(We===null){fe===null&&(fe=Be);break}t&&fe&&We.alternate===null&&n(k,fe),O=f(We,O,Me),Ze===null?ge=We:Ze.sibling=We,Ze=We,fe=Be}if(Me===U.length)return a(k,fe),$e&&_s(k,Me),ge;if(fe===null){for(;Me<U.length;Me++)fe=X(k,U[Me],Y),fe!==null&&(O=f(fe,O,Me),Ze===null?ge=fe:Ze.sibling=fe,Ze=fe);return $e&&_s(k,Me),ge}for(fe=o(fe);Me<U.length;Me++)Be=G(fe,k,Me,U[Me],Y),Be!==null&&(t&&Be.alternate!==null&&fe.delete(Be.key===null?Me:Be.key),O=f(Be,O,Me),Ze===null?ge=Be:Ze.sibling=Be,Ze=Be);return t&&fe.forEach(function(_r){return n(k,_r)}),$e&&_s(k,Me),ge}function be(k,O,U,Y){if(U==null)throw Error(r(151));for(var ge=null,Ze=null,fe=O,Me=O=0,Be=null,We=U.next();fe!==null&&!We.done;Me++,We=U.next()){fe.index>Me?(Be=fe,fe=null):Be=fe.sibling;var _r=q(k,fe,We.value,Y);if(_r===null){fe===null&&(fe=Be);break}t&&fe&&_r.alternate===null&&n(k,fe),O=f(_r,O,Me),Ze===null?ge=_r:Ze.sibling=_r,Ze=_r,fe=Be}if(We.done)return a(k,fe),$e&&_s(k,Me),ge;if(fe===null){for(;!We.done;Me++,We=U.next())We=X(k,We.value,Y),We!==null&&(O=f(We,O,Me),Ze===null?ge=We:Ze.sibling=We,Ze=We);return $e&&_s(k,Me),ge}for(fe=o(fe);!We.done;Me++,We=U.next())We=G(fe,k,Me,We.value,Y),We!==null&&(t&&We.alternate!==null&&fe.delete(We.key===null?Me:We.key),O=f(We,O,Me),Ze===null?ge=We:Ze.sibling=We,Ze=We);return t&&fe.forEach(function(Q1){return n(k,Q1)}),$e&&_s(k,Me),ge}function ct(k,O,U,Y){if(typeof U=="object"&&U!==null&&U.type===ie&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case K:e:{for(var ge=U.key;O!==null;){if(O.key===ge){if(ge=U.type,ge===ie){if(O.tag===7){a(k,O.sibling),Y=h(O,U.props.children),Y.return=k,k=Y;break e}}else if(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&na(ge)===O.type){a(k,O.sibling),Y=h(O,U.props),ll(Y,U),Y.return=k,k=Y;break e}a(k,O);break}else n(k,O);O=O.sibling}U.type===ie?(Y=Jr(U.props.children,k.mode,Y,U.key),Y.return=k,k=Y):(Y=jc(U.type,U.key,U.props,null,k.mode,Y),ll(Y,U),Y.return=k,k=Y)}return p(k);case W:e:{for(ge=U.key;O!==null;){if(O.key===ge)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){a(k,O.sibling),Y=h(O,U.children||[]),Y.return=k,k=Y;break e}else{a(k,O);break}else n(k,O);O=O.sibling}Y=Xh(U,k.mode,Y),Y.return=k,k=Y}return p(k);case R:return U=na(U),ct(k,O,U,Y)}if(bt(U))return ue(k,O,U,Y);if(j(U)){if(ge=j(U),typeof ge!="function")throw Error(r(150));return U=ge.call(U),be(k,O,U,Y)}if(typeof U.then=="function")return ct(k,O,Hc(U),Y);if(U.$$typeof===Te)return ct(k,O,Pc(k,U),Y);Gc(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(a(k,O.sibling),Y=h(O,U),Y.return=k,k=Y):(a(k,O),Y=Yh(U,k.mode,Y),Y.return=k,k=Y),p(k)):a(k,O)}return function(k,O,U,Y){try{ol=0;var ge=ct(k,O,U,Y);return Xa=null,ge}catch(fe){if(fe===Ya||fe===Bc)throw fe;var Ze=Un(29,fe,null,k.mode);return Ze.lanes=Y,Ze.return=k,Ze}finally{}}}var sa=up(!0),hp=up(!1),tr=!1;function cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function nr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ir(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(tt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=kc(t),Kg(t,null,a),n}return Vc(t,o,n,a),kc(t)}function cl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Bs(t,a)}}function hf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var ff=!1;function ul(){if(ff){var t=Ka;if(t!==null)throw t}}function hl(t,n,a,o){ff=!1;var h=t.updateQueue;tr=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,P=C.next;C.next=null,p===null?f=P:p.next=P,p=C;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==p&&(E===null?Q.firstBaseUpdate=P:E.next=P,Q.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;p=0,Q=P=C=null,E=f;do{var q=E.lane&-536870913,G=q!==E.lane;if(G?(ze&q)===q:(o&q)===q){q!==0&&q===Qa&&(ff=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ue=t,be=E;q=n;var ct=a;switch(be.tag){case 1:if(ue=be.payload,typeof ue=="function"){X=ue.call(ct,X,q);break e}X=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=be.payload,q=typeof ue=="function"?ue.call(ct,X,q):ue,q==null)break e;X=w({},X,q);break e;case 2:tr=!0}}q=E.callback,q!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[q]:G.push(q))}else G={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(P=Q=G,C=X):Q=Q.next=G,p|=q;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;G=E,E=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Q===null&&(C=X),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),lr|=p,t.lanes=p,t.memoizedState=X}}function fp(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function dp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)fp(a[t],n)}var Ja=M(null),Fc=M(0);function mp(t,n){t=Is,ae(Fc,t),ae(Ja,n),Is=t|n.baseLanes}function df(){ae(Fc,Is),ae(Ja,Ja.current)}function mf(){Is=Fc.current,F(Ja),F(Fc)}var Pn=M(null),ri=null;function sr(t){var n=t.alternate;ae(Dt,Dt.current&1),ae(Pn,t),ri===null&&(n===null||Ja.current!==null||n.memoizedState!==null)&&(ri=t)}function gf(t){ae(Dt,Dt.current),ae(Pn,t),ri===null&&(ri=t)}function gp(t){t.tag===22?(ae(Dt,Dt.current),ae(Pn,t),ri===null&&(ri=t)):rr()}function rr(){ae(Dt,Dt.current),ae(Pn,Pn.current)}function zn(t){F(Pn),ri===t&&(ri=null),F(Dt)}var Dt=M(0);function $c(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ed(a)||Td(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Es=0,Oe=null,ot=null,Pt=null,Qc=!1,Za=!1,ra=!1,Kc=0,fl=0,Wa=null,LT=0;function Rt(){throw Error(r(321))}function pf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Ln(t[a],n[a]))return!1;return!0}function yf(t,n,a,o,h,f){return Es=f,Oe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$.H=t===null||t.memoizedState===null?Zp:Of,ra=!1,f=a(o,h),ra=!1,Za&&(f=yp(n,a,o,h)),pp(t),f}function pp(t){$.H=gl;var n=ot!==null&&ot.next!==null;if(Es=0,Pt=ot=Oe=null,Qc=!1,fl=0,Wa=null,n)throw Error(r(300));t===null||zt||(t=t.dependencies,t!==null&&Uc(t)&&(zt=!0))}function yp(t,n,a,o){Oe=t;var h=0;do{if(Za&&(Wa=null),fl=0,Za=!1,25<=h)throw Error(r(301));if(h+=1,Pt=ot=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}$.H=Wp,f=n(a,o)}while(Za);return f}function UT(){var t=$.H,n=t.useState()[0];return n=typeof n.then=="function"?dl(n):n,t=t.useState()[0],(ot!==null?ot.memoizedState:null)!==t&&(Oe.flags|=1024),n}function _f(){var t=Kc!==0;return Kc=0,t}function vf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function bf(t){if(Qc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Qc=!1}Es=0,Pt=ot=Oe=null,Za=!1,fl=Kc=0,Wa=null}function vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Oe.memoizedState=Pt=t:Pt=Pt.next=t,Pt}function Ot(){if(ot===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var n=Pt===null?Oe.memoizedState:Pt.next;if(n!==null)Pt=n,ot=t;else{if(t===null)throw Oe.alternate===null?Error(r(467)):Error(r(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Pt===null?Oe.memoizedState=Pt=t:Pt=Pt.next=t}return Pt}function Yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(t){var n=fl;return fl+=1,Wa===null&&(Wa=[]),t=op(Wa,t,n),n=Oe,(Pt===null?n.memoizedState:Pt.next)===null&&(n=n.alternate,$.H=n===null||n.memoizedState===null?Zp:Of),t}function Xc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return dl(t);if(t.$$typeof===Te)return sn(t)}throw Error(r(438,String(t)))}function Ef(t){var n=null,a=Oe.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Oe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Yc(),Oe.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=V;return n.index++,a}function Ts(t,n){return typeof n=="function"?n(t):n}function Jc(t){var n=Ot();return Tf(n,ot,t)}function Tf(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,C=null,P=n,Q=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(ze&X)===X:(Es&X)===X){var q=P.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===Qa&&(Q=!0);else if((Es&q)===q){P=P.next,q===Qa&&(Q=!0);continue}else X={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=X,p=f):C=C.next=X,Oe.lanes|=q,lr|=q;X=P.action,ra&&a(f,X),f=P.hasEagerState?P.eagerState:a(f,X)}else q={lane:X,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=q,p=f):C=C.next=q,Oe.lanes|=X,lr|=X;P=P.next}while(P!==null&&P!==n);if(C===null?p=f:C.next=E,!Ln(f,t.memoizedState)&&(zt=!0,Q&&(a=Ka,a!==null)))throw a;t.memoizedState=f,t.baseState=p,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Sf(t){var n=Ot(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);Ln(f,n.memoizedState)||(zt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function _p(t,n,a){var o=Oe,h=Ot(),f=$e;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var p=!Ln((ot||h).memoizedState,a);if(p&&(h.memoizedState=a,zt=!0),h=h.queue,xf(Ep.bind(null,o,h,t),[t]),h.getSnapshot!==n||p||Pt!==null&&Pt.memoizedState.tag&1){if(o.flags|=2048,eo(9,{destroy:void 0},bp.bind(null,o,h,a,n),null),ut===null)throw Error(r(349));f||(Es&127)!==0||vp(o,n,a)}return a}function vp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Oe.updateQueue,n===null?(n=Yc(),Oe.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function bp(t,n,a,o){n.value=a,n.getSnapshot=o,Tp(n)&&Sp(t)}function Ep(t,n,a){return a(function(){Tp(n)&&Sp(t)})}function Tp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Ln(t,a)}catch{return!0}}function Sp(t){var n=Xr(t,2);n!==null&&Cn(n,t,2)}function Af(t){var n=vn();if(typeof t=="function"){var a=t;if(t=a(),ra){yn(!0);try{a()}finally{yn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:t},n}function Ap(t,n,a,o){return t.baseState=a,Tf(t,ot,typeof o=="function"?o:Ts)}function PT(t,n,a,o,h){if(eu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};$.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,wp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function wp(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=$.T,p={};$.T=p;try{var E=a(h,o),C=$.S;C!==null&&C(p,E),xp(t,n,E)}catch(P){wf(t,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),$.T=f}}else try{f=a(h,o),xp(t,n,f)}catch(P){wf(t,n,P)}}function xp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Rp(t,n,o)},function(o){return wf(t,n,o)}):Rp(t,n,a)}function Rp(t,n,a){n.status="fulfilled",n.value=a,Cp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,wp(t,a)))}function wf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Cp(n),n=n.next;while(n!==o)}t.action=null}function Cp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ip(t,n){return n}function Np(t,n){if($e){var a=ut.formState;if(a!==null){e:{var o=Oe;if($e){if(mt){t:{for(var h=mt,f=si;h.nodeType!==8;){if(!f){h=null;break t}if(h=ai(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){mt=ai(h.nextSibling),o=h.data==="F!";break e}}Ws(o)}o=!1}o&&(n=a[0])}}return a=vn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ip,lastRenderedState:n},a.queue=o,a=Yp.bind(null,Oe,o),o.dispatch=a,o=Af(!1),f=Df.bind(null,Oe,!1,o.queue),o=vn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=PT.bind(null,Oe,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Dp(t){var n=Ot();return Op(n,ot,t)}function Op(t,n,a){if(n=Tf(t,n,Ip)[0],t=Jc(Ts)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=dl(n)}catch(p){throw p===Ya?Bc:p}else o=n;n=Ot();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Oe.flags|=2048,eo(9,{destroy:void 0},zT.bind(null,h,a),null)),[o,f,t]}function zT(t,n){t.action=n}function Mp(t){var n=Ot(),a=ot;if(a!==null)return Op(n,a,t);Ot(),n=n.memoizedState,a=Ot();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function eo(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Oe.updateQueue,n===null&&(n=Yc(),Oe.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Vp(){return Ot().memoizedState}function Zc(t,n,a,o){var h=vn();Oe.flags|=t,h.memoizedState=eo(1|n,{destroy:void 0},a,o===void 0?null:o)}function Wc(t,n,a,o){var h=Ot();o=o===void 0?null:o;var f=h.memoizedState.inst;ot!==null&&o!==null&&pf(o,ot.memoizedState.deps)?h.memoizedState=eo(n,f,a,o):(Oe.flags|=t,h.memoizedState=eo(1|n,f,a,o))}function kp(t,n){Zc(8390656,8,t,n)}function xf(t,n){Wc(2048,8,t,n)}function BT(t){Oe.flags|=4;var n=Oe.updateQueue;if(n===null)n=Yc(),Oe.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function jp(t){var n=Ot().memoizedState;return BT({ref:n,nextImpl:t}),function(){if((tt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Lp(t,n){return Wc(4,2,t,n)}function Up(t,n){return Wc(4,4,t,n)}function Pp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function zp(t,n,a){a=a!=null?a.concat([t]):null,Wc(4,4,Pp.bind(null,n,t),a)}function Rf(){}function Bp(t,n){var a=Ot();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&pf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function qp(t,n){var a=Ot();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&pf(n,o[1]))return o[0];if(o=t(),ra){yn(!0);try{t()}finally{yn(!1)}}return a.memoizedState=[o,n],o}function Cf(t,n,a){return a===void 0||(Es&1073741824)!==0&&(ze&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Hy(),Oe.lanes|=t,lr|=t,a)}function Hp(t,n,a,o){return Ln(a,n)?a:Ja.current!==null?(t=Cf(t,a,o),Ln(t,n)||(zt=!0),t):(Es&42)===0||(Es&1073741824)!==0&&(ze&261930)===0?(zt=!0,t.memoizedState=a):(t=Hy(),Oe.lanes|=t,lr|=t,n)}function Gp(t,n,a,o,h){var f=re.p;re.p=f!==0&&8>f?f:8;var p=$.T,E={};$.T=E,Df(t,!1,n,a);try{var C=h(),P=$.S;if(P!==null&&P(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=jT(C,o);ml(t,n,Q,Hn(t))}else ml(t,n,o,Hn(t))}catch(X){ml(t,n,{then:function(){},status:"rejected",reason:X},Hn())}finally{re.p=f,p!==null&&E.types!==null&&(p.types=E.types),$.T=p}}function qT(){}function If(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=Fp(t).queue;Gp(t,h,n,ee,a===null?qT:function(){return $p(t),a(o)})}function Fp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:ee},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function $p(t){var n=Fp(t);n.next===null&&(n=t.alternate.memoizedState),ml(t,n.next.queue,{},Hn())}function Nf(){return sn(Dl)}function Qp(){return Ot().memoizedState}function Kp(){return Ot().memoizedState}function HT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Hn();t=nr(a);var o=ir(n,t,a);o!==null&&(Cn(o,n,a),cl(o,n,a)),n={cache:rf()},t.payload=n;return}n=n.return}}function GT(t,n,a){var o=Hn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},eu(t)?Xp(n,a):(a=Qh(t,n,a,o),a!==null&&(Cn(a,t,o),Jp(a,n,o)))}function Yp(t,n,a){var o=Hn();ml(t,n,a,o)}function ml(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(eu(t))Xp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,a);if(h.hasEagerState=!0,h.eagerState=E,Ln(E,p))return Vc(t,n,h,0),ut===null&&Mc(),!1}catch{}finally{}if(a=Qh(t,n,h,o),a!==null)return Cn(a,t,o),Jp(a,n,o),!0}return!1}function Df(t,n,a,o){if(o={lane:2,revertLane:cd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},eu(t)){if(n)throw Error(r(479))}else n=Qh(t,a,o,2),n!==null&&Cn(n,t,2)}function eu(t){var n=t.alternate;return t===Oe||n!==null&&n===Oe}function Xp(t,n){Za=Qc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Jp(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Bs(t,a)}}var gl={readContext:sn,use:Xc,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt};gl.useEffectEvent=Rt;var Zp={readContext:sn,use:Xc,useCallback:function(t,n){return vn().memoizedState=[t,n===void 0?null:n],t},useContext:sn,useEffect:kp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Zc(4194308,4,Pp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Zc(4194308,4,t,n)},useInsertionEffect:function(t,n){Zc(4,2,t,n)},useMemo:function(t,n){var a=vn();n=n===void 0?null:n;var o=t();if(ra){yn(!0);try{t()}finally{yn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=vn();if(a!==void 0){var h=a(n);if(ra){yn(!0);try{a(n)}finally{yn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=GT.bind(null,Oe,t),[o.memoizedState,t]},useRef:function(t){var n=vn();return t={current:t},n.memoizedState=t},useState:function(t){t=Af(t);var n=t.queue,a=Yp.bind(null,Oe,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Rf,useDeferredValue:function(t,n){var a=vn();return Cf(a,t,n)},useTransition:function(){var t=Af(!1);return t=Gp.bind(null,Oe,t.queue,!0,!1),vn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Oe,h=vn();if($e){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ut===null)throw Error(r(349));(ze&127)!==0||vp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,kp(Ep.bind(null,o,f,t),[t]),o.flags|=2048,eo(9,{destroy:void 0},bp.bind(null,o,f,a,n),null),a},useId:function(){var t=vn(),n=ut.identifierPrefix;if($e){var a=Gi,o=Hi;a=(o&~(1<<32-Ke(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Kc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=LT++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Nf,useFormState:Np,useActionState:Np,useOptimistic:function(t){var n=vn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Df.bind(null,Oe,!0,a),a.dispatch=n,[t,n]},useMemoCache:Ef,useCacheRefresh:function(){return vn().memoizedState=HT.bind(null,Oe)},useEffectEvent:function(t){var n=vn(),a={impl:t};return n.memoizedState=a,function(){if((tt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Of={readContext:sn,use:Xc,useCallback:Bp,useContext:sn,useEffect:xf,useImperativeHandle:zp,useInsertionEffect:Lp,useLayoutEffect:Up,useMemo:qp,useReducer:Jc,useRef:Vp,useState:function(){return Jc(Ts)},useDebugValue:Rf,useDeferredValue:function(t,n){var a=Ot();return Hp(a,ot.memoizedState,t,n)},useTransition:function(){var t=Jc(Ts)[0],n=Ot().memoizedState;return[typeof t=="boolean"?t:dl(t),n]},useSyncExternalStore:_p,useId:Qp,useHostTransitionStatus:Nf,useFormState:Dp,useActionState:Dp,useOptimistic:function(t,n){var a=Ot();return Ap(a,ot,t,n)},useMemoCache:Ef,useCacheRefresh:Kp};Of.useEffectEvent=jp;var Wp={readContext:sn,use:Xc,useCallback:Bp,useContext:sn,useEffect:xf,useImperativeHandle:zp,useInsertionEffect:Lp,useLayoutEffect:Up,useMemo:qp,useReducer:Sf,useRef:Vp,useState:function(){return Sf(Ts)},useDebugValue:Rf,useDeferredValue:function(t,n){var a=Ot();return ot===null?Cf(a,t,n):Hp(a,ot.memoizedState,t,n)},useTransition:function(){var t=Sf(Ts)[0],n=Ot().memoizedState;return[typeof t=="boolean"?t:dl(t),n]},useSyncExternalStore:_p,useId:Qp,useHostTransitionStatus:Nf,useFormState:Mp,useActionState:Mp,useOptimistic:function(t,n){var a=Ot();return ot!==null?Ap(a,ot,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:Kp};Wp.useEffectEvent=jp;function Mf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:w({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Vf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=Hn(),h=nr(o);h.payload=n,a!=null&&(h.callback=a),n=ir(t,h,o),n!==null&&(Cn(n,t,o),cl(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=Hn(),h=nr(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=ir(t,h,o),n!==null&&(Cn(n,t,o),cl(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Hn(),o=nr(a);o.tag=2,n!=null&&(o.callback=n),n=ir(t,o,a),n!==null&&(Cn(n,t,a),cl(n,t,a))}};function ey(t,n,a,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!tl(a,o)||!tl(h,f):!0}function ty(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Vf.enqueueReplaceState(n,n.state,null)}function aa(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ny(t){Oc(t)}function iy(t){console.error(t)}function sy(t){Oc(t)}function tu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ry(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function kf(t,n,a){return a=nr(a),a.tag=3,a.payload={element:null},a.callback=function(){tu(t,n)},a}function ay(t){return t=nr(t),t.tag=3,t}function oy(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){ry(n,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){ry(n,a,o),typeof h!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function FT(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&$a(n,a,h,!0),a=Pn.current,a!==null){switch(a.tag){case 31:case 13:return ri===null?du():a.alternate===null&&Ct===0&&(Ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===qc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),ad(t,o,h)),!1;case 22:return a.flags|=65536,o===qc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),ad(t,o,h)),!1}throw Error(r(435,a.tag))}return ad(t,o,h),du(),!1}if($e)return n=Pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Wh&&(t=Error(r(422),{cause:o}),sl(ti(t,a)))):(o!==Wh&&(n=Error(r(423),{cause:o}),sl(ti(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=ti(o,a),h=kf(t.stateNode,o,h),hf(t,h),Ct!==4&&(Ct=2)),!1;var f=Error(r(520),{cause:o});if(f=ti(f,a),Sl===null?Sl=[f]:Sl.push(f),Ct!==4&&(Ct=2),n===null)return!0;o=ti(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=kf(a.stateNode,o,t),hf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(cr===null||!cr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ay(h),oy(h,t,a,o),hf(a,h),!1}a=a.return}while(a!==null);return!1}var jf=Error(r(461)),zt=!1;function rn(t,n,a,o){n.child=t===null?hp(n,null,a,o):sa(n,t.child,a,o)}function ly(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return ea(n),o=yf(t,n,a,p,f,h),E=_f(),t!==null&&!zt?(vf(t,n,h),Ss(t,n,h)):($e&&E&&Jh(n),n.flags|=1,rn(t,n,o,h),n.child)}function cy(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!Kh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,uy(t,n,f,o,h)):(t=jc(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Gf(t,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(p,o)&&t.ref===n.ref)return Ss(t,n,h)}return n.flags|=1,t=ys(f,o),t.ref=n.ref,t.return=n,n.child=t}function uy(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(tl(f,o)&&t.ref===n.ref)if(zt=!1,n.pendingProps=o=f,Gf(t,h))(t.flags&131072)!==0&&(zt=!0);else return n.lanes=t.lanes,Ss(t,n,h)}return Lf(t,n,a,o,h)}function hy(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return fy(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&zc(n,f!==null?f.cachePool:null),f!==null?mp(n,f):df(),gp(n);else return o=n.lanes=536870912,fy(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(zc(n,f.cachePool),mp(n,f),rr(),n.memoizedState=null):(t!==null&&zc(n,null),df(),rr());return rn(t,n,h,a),n.child}function pl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function fy(t,n,a,o,h){var f=of();return f=f===null?null:{parent:Ut._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&zc(n,null),df(),gp(n),t!==null&&$a(t,n,o,!0),n.childLanes=h,null}function nu(t,n){return n=su({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function dy(t,n,a){return sa(n,t.child,null,a),t=nu(n,n.pendingProps),t.flags|=2,zn(n),n.memoizedState=null,t}function $T(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if($e){if(o.mode==="hidden")return t=nu(n,o),n.lanes=536870912,pl(null,t);if(gf(n),(t=mt)?(t=w0(t,si),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Js!==null?{id:Hi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},a=Xg(t),a.return=n,n.child=a,nn=n,mt=null)):t=null,t===null)throw Ws(n);return n.lanes=536870912,null}return nu(n,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(gf(n),h)if(n.flags&256)n.flags&=-257,n=dy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(zt||$a(t,n,a,!1),h=(a&t.childLanes)!==0,zt||h){if(o=ut,o!==null&&(p=Ur(o,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,Xr(t,p),Cn(o,t,p),jf;du(),n=dy(t,n,a)}else t=f.treeContext,mt=ai(p.nextSibling),nn=n,$e=!0,Zs=null,si=!1,t!==null&&Wg(n,t),n=nu(n,o),n.flags|=4096;return n}return t=ys(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function iu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Lf(t,n,a,o,h){return ea(n),a=yf(t,n,a,o,void 0,h),o=_f(),t!==null&&!zt?(vf(t,n,h),Ss(t,n,h)):($e&&o&&Jh(n),n.flags|=1,rn(t,n,a,h),n.child)}function my(t,n,a,o,h,f){return ea(n),n.updateQueue=null,a=yp(n,o,a,h),pp(t),o=_f(),t!==null&&!zt?(vf(t,n,f),Ss(t,n,f)):($e&&o&&Jh(n),n.flags|=1,rn(t,n,a,f),n.child)}function gy(t,n,a,o,h){if(ea(n),n.stateNode===null){var f=qa,p=a.contextType;typeof p=="object"&&p!==null&&(f=sn(p)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},cf(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?sn(p):qa,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Mf(n,a,p,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Vf.enqueueReplaceState(f,f.state,null),hl(n,o,f,h),ul(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=aa(a,E);f.props=C;var P=f.context,Q=a.contextType;p=qa,typeof Q=="object"&&Q!==null&&(p=sn(Q));var X=a.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&ty(n,f,o,p),tr=!1;var q=n.memoizedState;f.state=q,hl(n,o,f,h),ul(),P=n.memoizedState,E||q!==P||tr?(typeof X=="function"&&(Mf(n,a,X,o),P=n.memoizedState),(C=tr||ey(n,a,C,o,q,P,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=p,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,uf(t,n),p=n.memoizedProps,Q=aa(a,p),f.props=Q,X=n.pendingProps,q=f.context,P=a.contextType,C=qa,typeof P=="object"&&P!==null&&(C=sn(P)),E=a.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||q!==C)&&ty(n,f,o,C),tr=!1,q=n.memoizedState,f.state=q,hl(n,o,f,h),ul();var G=n.memoizedState;p!==X||q!==G||tr||t!==null&&t.dependencies!==null&&Uc(t.dependencies)?(typeof E=="function"&&(Mf(n,a,E,o),G=n.memoizedState),(Q=tr||ey(n,a,Q,o,q,G,C)||t!==null&&t.dependencies!==null&&Uc(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,G,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,G,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=G),f.props=o,f.state=G,f.context=C,o=Q):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,iu(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=sa(n,t.child,null,h),n.child=sa(n,null,a,h)):rn(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Ss(t,n,h),t}function py(t,n,a,o){return Zr(),n.flags|=256,rn(t,n,a,o),n.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(t){return{baseLanes:t,cachePool:rp()}}function zf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=qn),t}function yy(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Dt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if($e){if(h?sr(n):rr(),(t=mt)?(t=w0(t,si),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Js!==null?{id:Hi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},a=Xg(t),a.return=n,n.child=a,nn=n,mt=null)):t=null,t===null)throw Ws(n);return Td(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(rr(),h=n.mode,E=su({mode:"hidden",children:E},h),o=Jr(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Pf(a),o.childLanes=zf(t,p,a),n.memoizedState=Uf,pl(null,o)):(sr(n),Bf(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(sr(n),n.flags&=-257,n=qf(t,n,a)):n.memoizedState!==null?(rr(),n.child=t.child,n.flags|=128,n=null):(rr(),E=o.fallback,h=n.mode,o=su({mode:"visible",children:o.children},h),E=Jr(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,sa(n,t.child,null,a),o=n.child,o.memoizedState=Pf(a),o.childLanes=zf(t,p,a),n.memoizedState=Uf,n=pl(null,o));else if(sr(n),Td(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,o=Error(r(419)),o.stack="",o.digest=p,sl({value:o,source:null,stack:null}),n=qf(t,n,a)}else if(zt||$a(t,n,a,!1),p=(a&t.childLanes)!==0,zt||p){if(p=ut,p!==null&&(o=Ur(p,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Xr(t,o),Cn(p,t,o),jf;Ed(E)||du(),n=qf(t,n,a)}else Ed(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,mt=ai(E.nextSibling),nn=n,$e=!0,Zs=null,si=!1,t!==null&&Wg(n,t),n=Bf(n,o.children),n.flags|=4096);return n}return h?(rr(),E=o.fallback,h=n.mode,C=t.child,P=C.sibling,o=ys(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,P!==null?E=ys(P,E):(E=Jr(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,pl(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Pf(a):(h=E.cachePool,h!==null?(C=Ut._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=rp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=zf(t,p,a),n.memoizedState=Uf,pl(t.child,o)):(sr(n),a=t.child,t=a.sibling,a=ys(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=a,n.memoizedState=null,a)}function Bf(t,n){return n=su({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function su(t,n){return t=Un(22,t,null,n),t.lanes=0,t}function qf(t,n,a){return sa(n,t.child,null,a),t=Bf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function _y(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),nf(t.return,n,a)}function Hf(t,n,a,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function vy(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=Dt.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,ae(Dt,p),rn(t,n,o,a),o=$e?il:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_y(t,a,n);else if(t.tag===19)_y(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&$c(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Hf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&$c(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Hf(n,!0,a,null,f,o);break;case"together":Hf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Ss(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),lr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if($a(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=ys(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=ys(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Gf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Uc(t)))}function QT(t,n,a){switch(n.tag){case 3:Et(n,n.stateNode.containerInfo),er(n,Ut,t.memoizedState.cache),Zr();break;case 27:case 5:Ni(n);break;case 4:Et(n,n.stateNode.containerInfo);break;case 10:er(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,gf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(sr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?yy(t,n,a):(sr(n),t=Ss(t,n,a),t!==null?t.sibling:null);sr(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||($a(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return vy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(Dt,Dt.current),o)break;return null;case 22:return n.lanes=0,hy(t,n,a,n.pendingProps);case 24:er(n,Ut,t.memoizedState.cache)}return Ss(t,n,a)}function by(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)zt=!0;else{if(!Gf(t,a)&&(n.flags&128)===0)return zt=!1,QT(t,n,a);zt=(t.flags&131072)!==0}else zt=!1,$e&&(n.flags&1048576)!==0&&Zg(n,il,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=na(n.elementType),n.type=t,typeof t=="function")Kh(t)?(o=aa(t,o),n.tag=1,n=gy(null,n,t,o,a)):(n.tag=0,n=Lf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===ke){n.tag=11,n=ly(null,n,t,o,a);break e}else if(h===N){n.tag=14,n=cy(null,n,t,o,a);break e}}throw n=ht(t)||t,Error(r(306,n,""))}}return n;case 0:return Lf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=aa(o,n.pendingProps),gy(t,n,o,h,a);case 3:e:{if(Et(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,uf(t,n),hl(n,o,null,a);var p=n.memoizedState;if(o=p.cache,er(n,Ut,o),o!==f.cache&&sf(n,[Ut],a,!0),ul(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=py(t,n,o,a);break e}else if(o!==h){h=ti(Error(r(424)),n),sl(h),n=py(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(mt=ai(t.firstChild),nn=n,$e=!0,Zs=null,si=!0,a=hp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Zr(),o===h){n=Ss(t,n,a);break e}rn(t,n,o,a)}n=n.child}return n;case 26:return iu(t,n),t===null?(a=D0(n.type,null,n.pendingProps,null))?n.memoizedState=a:$e||(a=n.type,t=n.pendingProps,o=bu(xe.current).createElement(a),o[wt]=n,o[jt]=t,an(o,a,t),he(o),n.stateNode=o):n.memoizedState=D0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ni(n),t===null&&$e&&(o=n.stateNode=C0(n.type,n.pendingProps,xe.current),nn=n,si=!0,h=mt,dr(n.type)?(Sd=h,mt=ai(o.firstChild)):mt=h),rn(t,n,n.pendingProps.children,a),iu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&$e&&((h=o=mt)&&(o=S1(o,n.type,n.pendingProps,si),o!==null?(n.stateNode=o,nn=n,mt=ai(o.firstChild),si=!1,h=!0):h=!1),h||Ws(n)),Ni(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,_d(h,f)?o=null:p!==null&&_d(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=yf(t,n,UT,null,null,a),Dl._currentValue=h),iu(t,n),rn(t,n,o,a),n.child;case 6:return t===null&&$e&&((t=a=mt)&&(a=A1(a,n.pendingProps,si),a!==null?(n.stateNode=a,nn=n,mt=null,t=!0):t=!1),t||Ws(n)),null;case 13:return yy(t,n,a);case 4:return Et(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=sa(n,null,o,a):rn(t,n,o,a),n.child;case 11:return ly(t,n,n.type,n.pendingProps,a);case 7:return rn(t,n,n.pendingProps,a),n.child;case 8:return rn(t,n,n.pendingProps.children,a),n.child;case 12:return rn(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,er(n,n.type,o.value),rn(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,ea(n),h=sn(h),o=o(h),n.flags|=1,rn(t,n,o,a),n.child;case 14:return cy(t,n,n.type,n.pendingProps,a);case 15:return uy(t,n,n.type,n.pendingProps,a);case 19:return vy(t,n,a);case 31:return $T(t,n,a);case 22:return hy(t,n,a,n.pendingProps);case 24:return ea(n),o=sn(Ut),t===null?(h=of(),h===null&&(h=ut,f=rf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},cf(n),er(n,Ut,h)):((t.lanes&a)!==0&&(uf(t,n),hl(n,null,null,a),ul()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),er(n,Ut,o)):(o=f.cache,er(n,Ut,o),o!==h.cache&&sf(n,[Ut],a,!0))),rn(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function As(t){t.flags|=4}function Ff(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Qy())t.flags|=8192;else throw ia=qc,lf}else t.flags&=-16777217}function Ey(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!j0(n))if(Qy())t.flags|=8192;else throw ia=qc,lf}function ru(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Aa():536870912,t.lanes|=n,so|=n)}function yl(t,n){if(!$e)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function gt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function KT(t,n,a){var o=n.pendingProps;switch(Zh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(n),null;case 1:return gt(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),bs(Ut),Pe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Fa(n)?As(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ef())),gt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(As(n),f!==null?(gt(n),Ey(n,f)):(gt(n),Ff(n,h,null,o,a))):f?f!==t.memoizedState?(As(n),gt(n),Ey(n,f)):(gt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&As(n),gt(n),Ff(n,h,t,o,a)),null;case 27:if(En(n),a=xe.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&As(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return gt(n),null}t=te.current,Fa(n)?ep(n):(t=C0(h,o,a),n.stateNode=t,As(n))}return gt(n),null;case 5:if(En(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&As(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return gt(n),null}if(f=te.current,Fa(n))ep(n);else{var p=bu(xe.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[wt]=n,f[jt]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(an(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&As(n)}}return gt(n),Ff(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&As(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=xe.current,Fa(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=nn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[wt]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||y0(t.nodeValue,a)),t||Ws(n,!0)}else t=bu(t).createTextNode(o),t[wt]=n,n.stateNode=t}return gt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=Fa(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[wt]=n}else Zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),t=!1}else a=ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(zn(n),n):(zn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return gt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Fa(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[wt]=n}else Zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),h=!1}else h=ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(zn(n),n):(zn(n),null)}return zn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),ru(n,n.updateQueue),gt(n),null);case 4:return Pe(),t===null&&dd(n.stateNode.containerInfo),gt(n),null;case 10:return bs(n.type),gt(n),null;case 19:if(F(Dt),o=n.memoizedState,o===null)return gt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)yl(o,!1);else{if(Ct!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=$c(t),f!==null){for(n.flags|=128,yl(o,!1),t=f.updateQueue,n.updateQueue=t,ru(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Yg(a,t),a=a.sibling;return ae(Dt,Dt.current&1|2),$e&&_s(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&kt()>uu&&(n.flags|=128,h=!0,yl(o,!1),n.lanes=4194304)}else{if(!h)if(t=$c(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ru(n,t),yl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!$e)return gt(n),null}else 2*kt()-o.renderingStartTime>uu&&a!==536870912&&(n.flags|=128,h=!0,yl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=kt(),t.sibling=null,a=Dt.current,ae(Dt,h?a&1|2:a&1),$e&&_s(n,o.treeForkCount),t):(gt(n),null);case 22:case 23:return zn(n),mf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(gt(n),n.subtreeFlags&6&&(n.flags|=8192)):gt(n),a=n.updateQueue,a!==null&&ru(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&F(ta),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),bs(Ut),gt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function YT(t,n){switch(Zh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return bs(Ut),Pe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return En(n),null;case 31:if(n.memoizedState!==null){if(zn(n),n.alternate===null)throw Error(r(340));Zr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(zn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Zr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return F(Dt),null;case 4:return Pe(),null;case 10:return bs(n.type),null;case 22:case 23:return zn(n),mf(),t!==null&&F(ta),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return bs(Ut),null;case 25:return null;default:return null}}function Ty(t,n){switch(Zh(n),n.tag){case 3:bs(Ut),Pe();break;case 26:case 27:case 5:En(n);break;case 4:Pe();break;case 31:n.memoizedState!==null&&zn(n);break;case 13:zn(n);break;case 19:F(Dt);break;case 10:bs(n.type);break;case 22:case 23:zn(n),mf(),t!==null&&F(ta);break;case 24:bs(Ut)}}function _l(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,p=a.inst;o=f(),p.destroy=o}a=a.next}while(a!==h)}}catch(E){rt(n,n.return,E)}}function ar(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var C=a,P=E;try{P()}catch(Q){rt(h,C,Q)}}}o=o.next}while(o!==f)}}catch(Q){rt(n,n.return,Q)}}function Sy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{dp(n,a)}catch(o){rt(t,t.return,o)}}}function Ay(t,n,a){a.props=aa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){rt(t,n,o)}}function vl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){rt(t,n,h)}}function Fi(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){rt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){rt(t,n,h)}else a.current=null}function wy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){rt(t,t.return,h)}}function $f(t,n,a){try{var o=t.stateNode;y1(o,t.type,a,n),o[jt]=n}catch(h){rt(t,t.return,h)}}function xy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&dr(t.type)||t.tag===4}function Qf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&dr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kf(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=pi));else if(o!==4&&(o===27&&dr(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Kf(t,n,a),t=t.sibling;t!==null;)Kf(t,n,a),t=t.sibling}function au(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&dr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(au(t,n,a),t=t.sibling;t!==null;)au(t,n,a),t=t.sibling}function Ry(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);an(n,o,a),n[wt]=t,n[jt]=a}catch(f){rt(t,t.return,f)}}var ws=!1,Bt=!1,Yf=!1,Cy=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function XT(t,n){if(t=t.containerInfo,pd=Ru,t=zg(t),Bh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var p=0,E=-1,C=-1,P=0,Q=0,X=t,q=null;t:for(;;){for(var G;X!==a||h!==0&&X.nodeType!==3||(E=p+h),X!==f||o!==0&&X.nodeType!==3||(C=p+o),X.nodeType===3&&(p+=X.nodeValue.length),(G=X.firstChild)!==null;)q=X,X=G;for(;;){if(X===t)break t;if(q===a&&++P===h&&(E=p),q===f&&++Q===o&&(C=p),(G=X.nextSibling)!==null)break;X=q,q=X.parentNode}X=G}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(yd={focusedElem:t,selectionRange:a},Ru=!1,Xt=n;Xt!==null;)if(n=Xt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Xt=t;else for(;Xt!==null;){switch(n=Xt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ue=aa(a.type,h);t=o.getSnapshotBeforeUpdate(ue,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(be){rt(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)bd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Xt=t;break}Xt=n.return}}function Iy(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Rs(t,a),o&4&&_l(5,a);break;case 1:if(Rs(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(p){rt(a,a.return,p)}else{var h=aa(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){rt(a,a.return,p)}}o&64&&Sy(a),o&512&&vl(a,a.return);break;case 3:if(Rs(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{dp(t,n)}catch(p){rt(a,a.return,p)}}break;case 27:n===null&&o&4&&Ry(a);case 26:case 5:Rs(t,a),n===null&&o&4&&wy(a),o&512&&vl(a,a.return);break;case 12:Rs(t,a);break;case 31:Rs(t,a),o&4&&Oy(t,a);break;case 13:Rs(t,a),o&4&&My(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=r1.bind(null,a),w1(t,a))));break;case 22:if(o=a.memoizedState!==null||ws,!o){n=n!==null&&n.memoizedState!==null||Bt,h=ws;var f=Bt;ws=o,(Bt=n)&&!f?Cs(t,a,(a.subtreeFlags&8772)!==0):Rs(t,a),ws=h,Bt=f}break;case 30:break;default:Rs(t,a)}}function Ny(t){var n=t.alternate;n!==null&&(t.alternate=null,Ny(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&z(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,An=!1;function xs(t,n,a){for(a=a.child;a!==null;)Dy(t,n,a),a=a.sibling}function Dy(t,n,a){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(On,a)}catch{}switch(a.tag){case 26:Bt||Fi(a,n),xs(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Bt||Fi(a,n);var o=vt,h=An;dr(a.type)&&(vt=a.stateNode,An=!1),xs(t,n,a),Cl(a.stateNode),vt=o,An=h;break;case 5:Bt||Fi(a,n);case 6:if(o=vt,h=An,vt=null,xs(t,n,a),vt=o,An=h,vt!==null)if(An)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(a.stateNode)}catch(f){rt(a,n,f)}else try{vt.removeChild(a.stateNode)}catch(f){rt(a,n,f)}break;case 18:vt!==null&&(An?(t=vt,S0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),fo(t)):S0(vt,a.stateNode));break;case 4:o=vt,h=An,vt=a.stateNode.containerInfo,An=!0,xs(t,n,a),vt=o,An=h;break;case 0:case 11:case 14:case 15:ar(2,a,n),Bt||ar(4,a,n),xs(t,n,a);break;case 1:Bt||(Fi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ay(a,n,o)),xs(t,n,a);break;case 21:xs(t,n,a);break;case 22:Bt=(o=Bt)||a.memoizedState!==null,xs(t,n,a),Bt=o;break;default:xs(t,n,a)}}function Oy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{fo(t)}catch(a){rt(n,n.return,a)}}}function My(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{fo(t)}catch(a){rt(n,n.return,a)}}function JT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Cy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Cy),n;default:throw Error(r(435,t.tag))}}function ou(t,n){var a=JT(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=a1.bind(null,t,o);o.then(h,h)}})}function wn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(dr(E.type)){vt=E.stateNode,An=!1;break e}break;case 5:vt=E.stateNode,An=!1;break e;case 3:case 4:vt=E.stateNode.containerInfo,An=!0;break e}E=E.return}if(vt===null)throw Error(r(160));Dy(f,p,h),vt=null,An=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Vy(n,t),n=n.sibling}var Ti=null;function Vy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wn(n,t),xn(t),o&4&&(ar(3,t,t.return),_l(3,t),ar(5,t,t.return));break;case 1:wn(n,t),xn(t),o&512&&(Bt||a===null||Fi(a,a.return)),o&64&&ws&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Ti;if(wn(n,t),xn(t),o&512&&(Bt||a===null||Fi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Yn]||f[wt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),an(f,o,a),f[wt]=t,he(f),o=f;break e;case"link":var p=V0("link","href",h).get(o+(a.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(E,1);break t}}f=h.createElement(o),an(f,o,a),h.head.appendChild(f);break;case"meta":if(p=V0("meta","content",h).get(o+(a.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(E,1);break t}}f=h.createElement(o),an(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[wt]=t,he(f),o=f}t.stateNode=o}else k0(h,t.type,t.stateNode);else t.stateNode=M0(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?k0(h,t.type,t.stateNode):M0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&$f(t,t.memoizedProps,a.memoizedProps)}break;case 27:wn(n,t),xn(t),o&512&&(Bt||a===null||Fi(a,a.return)),a!==null&&o&4&&$f(t,t.memoizedProps,a.memoizedProps);break;case 5:if(wn(n,t),xn(t),o&512&&(Bt||a===null||Fi(a,a.return)),t.flags&32){h=t.stateNode;try{Sn(h,"")}catch(ue){rt(t,t.return,ue)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,$f(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Yf=!0);break;case 6:if(wn(n,t),xn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ue){rt(t,t.return,ue)}}break;case 3:if(Su=null,h=Ti,Ti=Eu(n.containerInfo),wn(n,t),Ti=h,xn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{fo(n.containerInfo)}catch(ue){rt(t,t.return,ue)}Yf&&(Yf=!1,ky(t));break;case 4:o=Ti,Ti=Eu(t.stateNode.containerInfo),wn(n,t),xn(t),Ti=o;break;case 12:wn(n,t),xn(t);break;case 31:wn(n,t),xn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ou(t,o)));break;case 13:wn(n,t),xn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(cu=kt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ou(t,o)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,P=ws,Q=Bt;if(ws=P||h,Bt=Q||C,wn(n,t),Bt=Q,ws=P,xn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||ws||Bt||oa(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=C.stateNode;var X=C.memoizedProps.style,q=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ue){rt(C,C.return,ue)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ue){rt(C,C.return,ue)}}}else if(n.tag===18){if(a===null){C=n;try{var G=C.stateNode;h?A0(G,!0):A0(C.stateNode,!1)}catch(ue){rt(C,C.return,ue)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,ou(t,a))));break;case 19:wn(n,t),xn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ou(t,o)));break;case 30:break;case 21:break;default:wn(n,t),xn(t)}}function xn(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(xy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Qf(t);au(t,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(Sn(p,""),a.flags&=-33);var E=Qf(t);au(t,E,p);break;case 3:case 4:var C=a.stateNode.containerInfo,P=Qf(t);Kf(t,P,C);break;default:throw Error(r(161))}}catch(Q){rt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function ky(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;ky(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Rs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Iy(t,n.alternate,n),n=n.sibling}function oa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ar(4,n,n.return),oa(n);break;case 1:Fi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ay(n,n.return,a),oa(n);break;case 27:Cl(n.stateNode);case 26:case 5:Fi(n,n.return),oa(n);break;case 22:n.memoizedState===null&&oa(n);break;case 30:oa(n);break;default:oa(n)}t=t.sibling}}function Cs(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Cs(h,f,a),_l(4,f);break;case 1:if(Cs(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){rt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)fp(C[h],E)}catch(P){rt(o,o.return,P)}}a&&p&64&&Sy(f),vl(f,f.return);break;case 27:Ry(f);case 26:case 5:Cs(h,f,a),a&&o===null&&p&4&&wy(f),vl(f,f.return);break;case 12:Cs(h,f,a);break;case 31:Cs(h,f,a),a&&p&4&&Oy(h,f);break;case 13:Cs(h,f,a),a&&p&4&&My(h,f);break;case 22:f.memoizedState===null&&Cs(h,f,a),vl(f,f.return);break;case 30:break;default:Cs(h,f,a)}n=n.sibling}}function Xf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&rl(a))}function Jf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&rl(t))}function Si(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)jy(t,n,a,o),n=n.sibling}function jy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Si(t,n,a,o),h&2048&&_l(9,n);break;case 1:Si(t,n,a,o);break;case 3:Si(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&rl(t)));break;case 12:if(h&2048){Si(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){rt(n,n.return,C)}}else Si(t,n,a,o);break;case 31:Si(t,n,a,o);break;case 13:Si(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Si(t,n,a,o):bl(t,n):f._visibility&2?Si(t,n,a,o):(f._visibility|=2,to(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Xf(p,n);break;case 24:Si(t,n,a,o),h&2048&&Jf(n.alternate,n);break;default:Si(t,n,a,o)}}function to(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=a,C=o,P=p.flags;switch(p.tag){case 0:case 11:case 15:to(f,p,E,C,h),_l(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?to(f,p,E,C,h):bl(f,p):(Q._visibility|=2,to(f,p,E,C,h)),h&&P&2048&&Xf(p.alternate,p);break;case 24:to(f,p,E,C,h),h&&P&2048&&Jf(p.alternate,p);break;default:to(f,p,E,C,h)}n=n.sibling}}function bl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:bl(a,o),h&2048&&Xf(o.alternate,o);break;case 24:bl(a,o),h&2048&&Jf(o.alternate,o);break;default:bl(a,o)}n=n.sibling}}var El=8192;function no(t,n,a){if(t.subtreeFlags&El)for(t=t.child;t!==null;)Ly(t,n,a),t=t.sibling}function Ly(t,n,a){switch(t.tag){case 26:no(t,n,a),t.flags&El&&t.memoizedState!==null&&L1(a,Ti,t.memoizedState,t.memoizedProps);break;case 5:no(t,n,a);break;case 3:case 4:var o=Ti;Ti=Eu(t.stateNode.containerInfo),no(t,n,a),Ti=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=El,El=16777216,no(t,n,a),El=o):no(t,n,a));break;default:no(t,n,a)}}function Uy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Tl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Xt=o,zy(o,t)}Uy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Py(t),t=t.sibling}function Py(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&ar(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,lu(t)):Tl(t);break;default:Tl(t)}}function lu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Xt=o,zy(o,t)}Uy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ar(8,n,n.return),lu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,lu(n));break;default:lu(n)}t=t.sibling}}function zy(t,n){for(;Xt!==null;){var a=Xt;switch(a.tag){case 0:case 11:case 15:ar(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:rl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Xt=o;else e:for(a=t;Xt!==null;){o=Xt;var h=o.sibling,f=o.return;if(Ny(o),o===a){Xt=null;break e}if(h!==null){h.return=f,Xt=h;break e}Xt=f}}}var ZT={getCacheForType:function(t){var n=sn(Ut),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return sn(Ut).controller.signal}},WT=typeof WeakMap=="function"?WeakMap:Map,tt=0,ut=null,Le=null,ze=0,st=0,Bn=null,or=!1,io=!1,Zf=!1,Is=0,Ct=0,lr=0,la=0,Wf=0,qn=0,so=0,Sl=null,Rn=null,ed=!1,cu=0,By=0,uu=1/0,hu=null,cr=null,$t=0,ur=null,ro=null,Ns=0,td=0,nd=null,qy=null,Al=0,id=null;function Hn(){return(tt&2)!==0&&ze!==0?ze&-ze:$.T!==null?cd():xa()}function Hy(){if(qn===0)if((ze&536870912)===0||$e){var t=us;us<<=1,(us&3932160)===0&&(us=262144),qn=t}else qn=536870912;return t=Pn.current,t!==null&&(t.flags|=32),qn}function Cn(t,n,a){(t===ut&&(st===2||st===9)||t.cancelPendingCommit!==null)&&(ao(t,0),hr(t,ze,qn,!1)),hs(t,a),((tt&2)===0||t!==ut)&&(t===ut&&((tt&2)===0&&(la|=a),Ct===4&&hr(t,ze,qn,!1)),$i(t))}function Gy(t,n,a){if((tt&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Mn(t,n),h=o?n1(t,n):rd(t,n,!0),f=o;do{if(h===0){io&&!o&&hr(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!e1(a)){h=rd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=Sl;var C=E.current.memoizedState.isDehydrated;if(C&&(ao(E,p).flags|=256),p=rd(E,p,!1),p!==2){if(Zf&&!C){E.errorRecoveryDisabledLanes|=f,la|=f,h=4;break e}f=Rn,Rn=h,f!==null&&(Rn===null?Rn=f:Rn.push.apply(Rn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){ao(t,0),hr(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:hr(o,n,qn,!or);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=cu+300-kt(),10<h)){if(hr(o,n,qn,!or),Qn(o,0,!0)!==0)break e;Ns=n,o.timeoutHandle=E0(Fy.bind(null,o,a,Rn,hu,ed,n,qn,la,so,or,f,"Throttled",-0,0),h);break e}Fy(o,a,Rn,hu,ed,n,qn,la,so,or,f,null,-0,0)}}break}while(!0);$i(t)}function Fy(t,n,a,o,h,f,p,E,C,P,Q,X,q,G){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pi},Ly(n,f,X);var ue=(f&62914560)===f?cu-kt():(f&4194048)===f?By-kt():0;if(ue=U1(X,ue),ue!==null){Ns=f,t.cancelPendingCommit=ue(Wy.bind(null,t,n,f,a,o,h,p,E,C,Q,X,null,q,G)),hr(t,f,p,!P);return}}Wy(t,n,f,a,o,h,p,E,C)}function e1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Ln(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function hr(t,n,a,o){n&=~Wf,n&=~la,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-Ke(h),p=1<<f;o[f]=-1,h&=~p}a!==0&&ki(t,a,n)}function fu(){return(tt&6)===0?(wl(0),!1):!0}function sd(){if(Le!==null){if(st===0)var t=Le.return;else t=Le,vs=Wr=null,bf(t),Xa=null,ol=0,t=Le;for(;t!==null;)Ty(t.alternate,t),t=t.return;Le=null}}function ao(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,b1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ns=0,sd(),ut=t,Le=a=ys(t.current,null),ze=n,st=0,Bn=null,or=!1,io=Mn(t,n),Zf=!1,so=qn=Wf=la=lr=Ct=0,Rn=Sl=null,ed=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-Ke(o),f=1<<h;n|=t[h],o&=~f}return Is=n,Mc(),a}function $y(t,n){Oe=null,$.H=gl,n===Ya||n===Bc?(n=lp(),st=3):n===lf?(n=lp(),st=4):st=n===jf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Bn=n,Le===null&&(Ct=1,tu(t,ti(n,t.current)))}function Qy(){var t=Pn.current;return t===null?!0:(ze&4194048)===ze?ri===null:(ze&62914560)===ze||(ze&536870912)!==0?t===ri:!1}function Ky(){var t=$.H;return $.H=gl,t===null?gl:t}function Yy(){var t=$.A;return $.A=ZT,t}function du(){Ct=4,or||(ze&4194048)!==ze&&Pn.current!==null||(io=!0),(lr&134217727)===0&&(la&134217727)===0||ut===null||hr(ut,ze,qn,!1)}function rd(t,n,a){var o=tt;tt|=2;var h=Ky(),f=Yy();(ut!==t||ze!==n)&&(hu=null,ao(t,n)),n=!1;var p=Ct;e:do try{if(st!==0&&Le!==null){var E=Le,C=Bn;switch(st){case 8:sd(),p=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(n=!0);var P=st;if(st=0,Bn=null,oo(t,E,C,P),a&&io){p=0;break e}break;default:P=st,st=0,Bn=null,oo(t,E,C,P)}}t1(),p=Ct;break}catch(Q){$y(t,Q)}while(!0);return n&&t.shellSuspendCounter++,vs=Wr=null,tt=o,$.H=h,$.A=f,Le===null&&(ut=null,ze=0,Mc()),p}function t1(){for(;Le!==null;)Xy(Le)}function n1(t,n){var a=tt;tt|=2;var o=Ky(),h=Yy();ut!==t||ze!==n?(hu=null,uu=kt()+500,ao(t,n)):io=Mn(t,n);e:do try{if(st!==0&&Le!==null){n=Le;var f=Bn;t:switch(st){case 1:st=0,Bn=null,oo(t,n,f,1);break;case 2:case 9:if(ap(f)){st=0,Bn=null,Jy(n);break}n=function(){st!==2&&st!==9||ut!==t||(st=7),$i(t)},f.then(n,n);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:ap(f)?(st=0,Bn=null,Jy(n)):(st=0,Bn=null,oo(t,n,f,7));break;case 5:var p=null;switch(Le.tag){case 26:p=Le.memoizedState;case 5:case 27:var E=Le;if(p?j0(p):E.stateNode.complete){st=0,Bn=null;var C=E.sibling;if(C!==null)Le=C;else{var P=E.return;P!==null?(Le=P,mu(P)):Le=null}break t}}st=0,Bn=null,oo(t,n,f,5);break;case 6:st=0,Bn=null,oo(t,n,f,6);break;case 8:sd(),Ct=6;break e;default:throw Error(r(462))}}i1();break}catch(Q){$y(t,Q)}while(!0);return vs=Wr=null,$.H=o,$.A=h,tt=a,Le!==null?0:(ut=null,ze=0,Mc(),Ct)}function i1(){for(;Le!==null&&!Vt();)Xy(Le)}function Xy(t){var n=by(t.alternate,t,Is);t.memoizedProps=t.pendingProps,n===null?mu(t):Le=n}function Jy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=my(a,n,n.pendingProps,n.type,void 0,ze);break;case 11:n=my(a,n,n.pendingProps,n.type.render,n.ref,ze);break;case 5:bf(n);default:Ty(a,n),n=Le=Yg(n,Is),n=by(a,n,Is)}t.memoizedProps=t.pendingProps,n===null?mu(t):Le=n}function oo(t,n,a,o){vs=Wr=null,bf(n),Xa=null,ol=0;var h=n.return;try{if(FT(t,h,n,a,ze)){Ct=1,tu(t,ti(a,t.current)),Le=null;return}}catch(f){if(h!==null)throw Le=h,f;Ct=1,tu(t,ti(a,t.current)),Le=null;return}n.flags&32768?($e||o===1?t=!0:io||(ze&536870912)!==0?t=!1:(or=t=!0,(o===2||o===9||o===3||o===6)&&(o=Pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Zy(n,t)):mu(n)}function mu(t){var n=t;do{if((n.flags&32768)!==0){Zy(n,or);return}t=n.return;var a=KT(n.alternate,n,Is);if(a!==null){Le=a;return}if(n=n.sibling,n!==null){Le=n;return}Le=n=t}while(n!==null);Ct===0&&(Ct=5)}function Zy(t,n){do{var a=YT(t.alternate,t);if(a!==null){a.flags&=32767,Le=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Le=t;return}Le=t=a}while(t!==null);Ct=6,Le=null}function Wy(t,n,a,o,h,f,p,E,C){t.cancelPendingCommit=null;do gu();while($t!==0);if((tt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=$h,wa(t,a,f,p,E,C),t===ut&&(Le=ut=null,ze=0),ro=n,ur=t,Ns=a,td=f,nd=h,qy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,o1(Mi,function(){return s0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=$.T,$.T=null,h=re.p,re.p=2,p=tt,tt|=4;try{XT(t,n,a)}finally{tt=p,re.p=h,$.T=o}}$t=1,e0(),t0(),n0()}}function e0(){if($t===1){$t=0;var t=ur,n=ro,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var o=re.p;re.p=2;var h=tt;tt|=4;try{Vy(n,t);var f=yd,p=zg(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Pg(E.ownerDocument.documentElement,E)){if(C!==null&&Bh(E)){var P=C.start,Q=C.end;if(Q===void 0&&(Q=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,q=X&&X.defaultView||window;if(q.getSelection){var G=q.getSelection(),ue=E.textContent.length,be=Math.min(C.start,ue),ct=C.end===void 0?be:Math.min(C.end,ue);!G.extend&&be>ct&&(p=ct,ct=be,be=p);var k=Ug(E,be),O=Ug(E,ct);if(k&&O&&(G.rangeCount!==1||G.anchorNode!==k.node||G.anchorOffset!==k.offset||G.focusNode!==O.node||G.focusOffset!==O.offset)){var U=X.createRange();U.setStart(k.node,k.offset),G.removeAllRanges(),be>ct?(G.addRange(U),G.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),G.addRange(U))}}}}for(X=[],G=E;G=G.parentNode;)G.nodeType===1&&X.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Ru=!!pd,yd=pd=null}finally{tt=h,re.p=o,$.T=a}}t.current=n,$t=2}}function t0(){if($t===2){$t=0;var t=ur,n=ro,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var o=re.p;re.p=2;var h=tt;tt|=4;try{Iy(t,n.alternate,n)}finally{tt=h,re.p=o,$.T=a}}$t=3}}function n0(){if($t===4||$t===3){$t=0,zs();var t=ur,n=ro,a=Ns,o=qy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?$t=5:($t=0,ro=ur=null,i0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(cr=null),mi(a),n=n.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(On,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=$.T,h=re.p,re.p=2,$.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{$.T=n,re.p=h}}(Ns&3)!==0&&gu(),$i(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===id?Al++:(Al=0,id=t):Al=0,wl(0)}}function i0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,rl(n)))}function gu(){return e0(),t0(),n0(),s0()}function s0(){if($t!==5)return!1;var t=ur,n=td;td=0;var a=mi(Ns),o=$.T,h=re.p;try{re.p=32>a?32:a,$.T=null,a=nd,nd=null;var f=ur,p=Ns;if($t=0,ro=ur=null,Ns=0,(tt&6)!==0)throw Error(r(331));var E=tt;if(tt|=4,Py(f.current),jy(f,f.current,p,a),tt=E,wl(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(On,f)}catch{}return!0}finally{re.p=h,$.T=o,i0(t,n)}}function r0(t,n,a){n=ti(a,n),n=kf(t.stateNode,n,2),t=ir(t,n,2),t!==null&&(hs(t,2),$i(t))}function rt(t,n,a){if(t.tag===3)r0(t,t,a);else for(;n!==null;){if(n.tag===3){r0(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(cr===null||!cr.has(o))){t=ti(a,t),a=ay(2),o=ir(n,a,2),o!==null&&(oy(a,o,n,t),hs(o,2),$i(o));break}}n=n.return}}function ad(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new WT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Zf=!0,h.add(a),t=s1.bind(null,t,n,a),n.then(t,t))}function s1(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ut===t&&(ze&a)===a&&(Ct===4||Ct===3&&(ze&62914560)===ze&&300>kt()-cu?(tt&2)===0&&ao(t,0):Wf|=a,so===ze&&(so=0)),$i(t)}function a0(t,n){n===0&&(n=Aa()),t=Xr(t,n),t!==null&&(hs(t,n),$i(t))}function r1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),a0(t,a)}function a1(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),a0(t,a)}function o1(t,n){return It(t,n)}var pu=null,lo=null,od=!1,yu=!1,ld=!1,fr=0;function $i(t){t!==lo&&t.next===null&&(lo===null?pu=lo=t:lo=lo.next=t),yu=!0,od||(od=!0,c1())}function wl(t,n){if(!ld&&yu){ld=!0;do for(var a=!1,o=pu;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Ke(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,u0(o,f))}else f=ze,f=Qn(o,o===ut?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Mn(o,f)||(a=!0,u0(o,f));o=o.next}while(a);ld=!1}}function l1(){o0()}function o0(){yu=od=!1;var t=0;fr!==0&&v1()&&(t=fr);for(var n=kt(),a=null,o=pu;o!==null;){var h=o.next,f=l0(o,n);f===0?(o.next=null,a===null?pu=h:a.next=h,h===null&&(lo=a)):(a=o,(t!==0||(f&3)!==0)&&(yu=!0)),o=h}$t!==0&&$t!==5||wl(t),fr!==0&&(fr=0)}function l0(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Ke(f),E=1<<p,C=h[p];C===-1?((E&a)===0||(E&o)!==0)&&(h[p]=qo(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=ut,a=ze,a=Qn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(st===2||st===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Dn(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Mn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&Dn(o),mi(a)){case 2:case 8:a=cs;break;case 32:a=Mi;break;case 268435456:a=Gn;break;default:a=Mi}return o=c0.bind(null,t),a=It(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&Dn(o),t.callbackPriority=2,t.callbackNode=null,2}function c0(t,n){if($t!==0&&$t!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(gu()&&t.callbackNode!==a)return null;var o=ze;return o=Qn(t,t===ut?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Gy(t,o,n),l0(t,kt()),t.callbackNode!=null&&t.callbackNode===a?c0.bind(null,t):null)}function u0(t,n){if(gu())return null;Gy(t,n,!0)}function c1(){E1(function(){(tt&6)!==0?It(Oi,l1):o0()})}function cd(){if(fr===0){var t=Qa;t===0&&(t=Fn,Fn<<=1,(Fn&261888)===0&&(Fn=256)),fr=t}return fr}function h0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Oa(""+t)}function f0(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function u1(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=h0((h[jt]||null).action),p=o.submitter;p&&(n=(n=p[jt]||null)?h0(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Pi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(fr!==0){var C=p?f0(h,p):new FormData(h);If(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=p?f0(h,p):new FormData(h),If(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var ud=0;ud<Fh.length;ud++){var hd=Fh[ud],h1=hd.toLowerCase(),f1=hd[0].toUpperCase()+hd.slice(1);Ei(h1,"on"+f1)}Ei(Hg,"onAnimationEnd"),Ei(Gg,"onAnimationIteration"),Ei(Fg,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(CT,"onTransitionRun"),Ei(IT,"onTransitionStart"),Ei(NT,"onTransitionCancel"),Ei($g,"onTransitionEnd"),Ne("onMouseEnter",["mouseout","mouseover"]),Ne("onMouseLeave",["mouseout","mouseover"]),Ne("onPointerEnter",["pointerout","pointerover"]),Ne("onPointerLeave",["pointerout","pointerover"]),Ye("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ye("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ye("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ye("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function d0(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],C=E.instance,P=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(Q){Oc(Q)}h.currentTarget=null,f=C}else for(p=0;p<o.length;p++){if(E=o[p],C=E.instance,P=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(Q){Oc(Q)}h.currentTarget=null,f=C}}}}function Ue(t,n){var a=n[gi];a===void 0&&(a=n[gi]=new Set);var o=t+"__bubble";a.has(o)||(m0(n,t,2,!1),a.add(o))}function fd(t,n,a){var o=0;n&&(o|=4),m0(a,t,o,n)}var _u="_reactListening"+Math.random().toString(36).slice(2);function dd(t){if(!t[_u]){t[_u]=!0,je.forEach(function(a){a!=="selectionchange"&&(d1.has(a)||fd(a,!1,t),fd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[_u]||(n[_u]=!0,fd("selectionchange",!1,n))}}function m0(t,n,a,o){switch(H0(n)){case 2:var h=B1;break;case 8:h=q1;break;default:h=Cd}a=h.bind(null,n,a,t),h=void 0,!qr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function md(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=Xn(E),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){o=f=p;continue e}E=E.parentNode}}o=o.return}Qs(function(){var P=f,Q=Jn(a),X=[];e:{var q=Qg.get(t);if(q!==void 0){var G=Pi,ue=t;switch(t){case"keypress":if(Gr(a)===0)break e;case"keydown":case"keyup":G=Ic;break;case"focusin":ue="focus",G=$r;break;case"focusout":ue="blur",G=$r;break;case"beforeblur":case"afterblur":G=$r;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=bc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=m;break;case Hg:case Gg:case Fg:G=Tc;break;case $g:G=T;break;case"scroll":case"scrollend":G=Xo;break;case"wheel":G=H;break;case"copy":case"cut":case"paste":G=Sc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=ps;break;case"toggle":case"beforetoggle":G=De}var be=(n&4)!==0,ct=!be&&(t==="scroll"||t==="scrollend"),k=be?q!==null?q+"Capture":null:q;be=[];for(var O=P,U;O!==null;){var Y=O;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||k===null||(Y=yi(O,k),Y!=null&&be.push(Rl(O,Y,U))),ct)break;O=O.return}0<be.length&&(q=new G(q,ue,null,a,Q),X.push({event:q,listeners:be}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",q&&a!==Qo&&(ue=a.relatedTarget||a.fromElement)&&(Xn(ue)||ue[Kn]))break e;if((G||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,G?(ue=a.relatedTarget||a.toElement,G=P,ue=ue?Xn(ue):null,ue!==null&&(ct=u(ue),be=ue.tag,ue!==ct||be!==5&&be!==27&&be!==6)&&(ue=null)):(G=null,ue=P),G!==ue)){if(be=Jo,Y="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(be=ps,Y="onPointerLeave",k="onPointerEnter",O="pointer"),ct=G==null?q:oe(G),U=ue==null?q:oe(ue),q=new be(Y,O+"leave",G,a,Q),q.target=ct,q.relatedTarget=U,Y=null,Xn(Q)===P&&(be=new be(k,O+"enter",ue,a,Q),be.target=U,be.relatedTarget=ct,Y=be),ct=Y,G&&ue)t:{for(be=m1,k=G,O=ue,U=0,Y=k;Y;Y=be(Y))U++;Y=0;for(var ge=O;ge;ge=be(ge))Y++;for(;0<U-Y;)k=be(k),U--;for(;0<Y-U;)O=be(O),Y--;for(;U--;){if(k===O||O!==null&&k===O.alternate){be=k;break t}k=be(k),O=be(O)}be=null}else be=null;G!==null&&g0(X,q,G,be,!1),ue!==null&&ct!==null&&g0(X,ct,ue,be,!0)}}e:{if(q=P?oe(P):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var Ze=Og;else if(Ng(q))if(Mg)Ze=wT;else{Ze=ST;var fe=TT}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?P&&Da(P.elementType)&&(Ze=Og):Ze=AT;if(Ze&&(Ze=Ze(t,P))){Dg(X,Ze,a,Q);break e}fe&&fe(t,q,P),t==="focusout"&&P&&q.type==="number"&&P.memoizedProps.value!=null&&Go(q,"number",q.value)}switch(fe=P?oe(P):window,t){case"focusin":(Ng(fe)||fe.contentEditable==="true")&&(Pa=fe,qh=P,nl=null);break;case"focusout":nl=qh=Pa=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,Bg(X,a,Q);break;case"selectionchange":if(RT)break;case"keydown":case"keyup":Bg(X,a,Q)}var Me;if(et)e:{switch(t){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Ua?Qr(t,a)&&(Be="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Be="onCompositionStart");Be&&(qi&&a.locale!=="ko"&&(Ua||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Ua&&(Me=Yo()):(Ui=Q,Ko="value"in Ui?Ui.value:Ui.textContent,Ua=!0)),fe=vu(P,Be),0<fe.length&&(Be=new Bi(Be,t,null,a,Q),X.push({event:Be,listeners:fe}),Me?Be.data=Me:(Me=La(a),Me!==null&&(Be.data=Me)))),(Me=Wn?_T(t,a):vT(t,a))&&(Be=vu(P,"onBeforeInput"),0<Be.length&&(fe=new Bi("onBeforeInput","beforeinput",null,a,Q),X.push({event:fe,listeners:Be}),fe.data=Me)),u1(X,t,P,a,Q)}d0(X,n)})}function Rl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function vu(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=yi(t,a),h!=null&&o.unshift(Rl(t,h,f)),h=yi(t,n),h!=null&&o.push(Rl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function m1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function g0(t,n,a,o,h){for(var f=n._reactName,p=[];a!==null&&a!==o;){var E=a,C=E.alternate,P=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||P===null||(C=P,h?(P=yi(a,f),P!=null&&p.unshift(Rl(a,P,C))):h||(P=yi(a,f),P!=null&&p.push(Rl(a,P,C)))),a=a.return}p.length!==0&&t.push({event:n,listeners:p})}var g1=/\r\n?/g,p1=/\u0000|\uFFFD/g;function p0(t){return(typeof t=="string"?t:""+t).replace(g1,`
`).replace(p1,"")}function y0(t,n){return n=p0(n),p0(t)===n}function lt(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Sn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Sn(t,""+o);break;case"className":Lt(t,"class",o);break;case"tabIndex":Lt(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Lt(t,a,o);break;case"style":$o(t,o,f);break;case"data":if(n!=="object"){Lt(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Oa(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&lt(t,n,"name",h.name,h,null),lt(t,n,"formEncType",h.formEncType,h,null),lt(t,n,"formMethod",h.formMethod,h,null),lt(t,n,"formTarget",h.formTarget,h,null)):(lt(t,n,"encType",h.encType,h,null),lt(t,n,"method",h.method,h,null),lt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Oa(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=pi);break;case"onScroll":o!=null&&Ue("scroll",t);break;case"onScrollEnd":o!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Oa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),hn(t,"popover",o);break;case"xlinkActuate":xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":xt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":xt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":xt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":xt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":hn(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=vc.get(a)||a,hn(t,a,o))}}function gd(t,n,a,o,h,f){switch(a){case"style":$o(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?Sn(t,o):(typeof o=="number"||typeof o=="bigint")&&Sn(t,""+o);break;case"onScroll":o!=null&&Ue("scroll",t);break;case"onScrollEnd":o!=null&&Ue("scrollend",t);break;case"onClick":o!=null&&(t.onclick=pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tt.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[jt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):hn(t,a,o)}}}function an(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:lt(t,n,f,p,a,null)}}h&&lt(t,n,"srcSet",a.srcSet,a,null),o&&lt(t,n,"src",a.src,a,null);return;case"input":Ue("invalid",t);var E=f=p=h=null,C=null,P=null;for(o in a)if(a.hasOwnProperty(o)){var Q=a[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":p=Q;break;case"checked":C=Q;break;case"defaultChecked":P=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:lt(t,n,o,Q,a,null)}}pc(t,f,E,C,P,p,h,!1);return;case"select":Ue("invalid",t),o=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:lt(t,n,h,E,a,null)}n=f,a=p,t.multiple=!!o,n!=null?Hs(t,!!o,n,!1):a!=null&&Hs(t,!!o,a,!0);return;case"textarea":Ue("invalid",t),f=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(E=a[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:lt(t,n,p,E,a,null)}Gs(t,o,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:lt(t,n,C,o,a,null)}return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(o=0;o<xl.length;o++)Ue(xl[o],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(o=a[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:lt(t,n,P,o,a,null)}return;default:if(Da(n)){for(Q in a)a.hasOwnProperty(Q)&&(o=a[Q],o!==void 0&&gd(t,n,Q,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&lt(t,n,E,o,a,null))}function y1(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,C=null,P=null,Q=null;for(G in a){var X=a[G];if(a.hasOwnProperty(G)&&X!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(G)||lt(t,n,G,null,o,X)}}for(var q in o){var G=o[q];if(X=a[q],o.hasOwnProperty(q)&&(G!=null||X!=null))switch(q){case"type":f=G;break;case"name":h=G;break;case"checked":P=G;break;case"defaultChecked":Q=G;break;case"value":p=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:G!==X&&lt(t,n,q,G,o,X)}}Na(t,p,E,C,P,Q,f,h);return;case"select":G=p=E=q=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":G=C;default:o.hasOwnProperty(f)||lt(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==C&&lt(t,n,h,f,o,C)}n=E,a=p,o=G,q!=null?Hs(t,!!a,q,!1):!!o!=!!a&&(n!=null?Hs(t,!!a,n,!0):Hs(t,!!a,a?[]:"",!1));return;case"textarea":G=q=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:lt(t,n,E,null,o,h)}for(p in o)if(h=o[p],f=a[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":q=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&lt(t,n,p,h,o,f)}yc(t,q,G);return;case"option":for(var ue in a)if(q=a[ue],a.hasOwnProperty(ue)&&q!=null&&!o.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:lt(t,n,ue,null,o,q)}for(C in o)if(q=o[C],G=a[C],o.hasOwnProperty(C)&&q!==G&&(q!=null||G!=null))switch(C){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:lt(t,n,C,q,o,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)q=a[be],a.hasOwnProperty(be)&&q!=null&&!o.hasOwnProperty(be)&&lt(t,n,be,null,o,q);for(P in o)if(q=o[P],G=a[P],o.hasOwnProperty(P)&&q!==G&&(q!=null||G!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:lt(t,n,P,q,o,G)}return;default:if(Da(n)){for(var ct in a)q=a[ct],a.hasOwnProperty(ct)&&q!==void 0&&!o.hasOwnProperty(ct)&&gd(t,n,ct,void 0,o,q);for(Q in o)q=o[Q],G=a[Q],!o.hasOwnProperty(Q)||q===G||q===void 0&&G===void 0||gd(t,n,Q,q,o,G);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!o.hasOwnProperty(k)&&lt(t,n,k,null,o,q);for(X in o)q=o[X],G=a[X],!o.hasOwnProperty(X)||q===G||q==null&&G==null||lt(t,n,X,q,o,G)}function _0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&_0(p)){for(p=0,E=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],P=C.startTime;if(P>E)break;var Q=C.transferSize,X=C.initiatorType;Q&&_0(X)&&(C=C.responseEnd,p+=Q*(C<E?1:(E-P)/(C-P)))}if(--o,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pd=null,yd=null;function bu(t){return t.nodeType===9?t:t.ownerDocument}function v0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function b0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function _d(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var vd=null;function v1(){var t=window.event;return t&&t.type==="popstate"?t===vd?!1:(vd=t,!0):(vd=null,!1)}var E0=typeof setTimeout=="function"?setTimeout:void 0,b1=typeof clearTimeout=="function"?clearTimeout:void 0,T0=typeof Promise=="function"?Promise:void 0,E1=typeof queueMicrotask=="function"?queueMicrotask:typeof T0<"u"?function(t){return T0.resolve(null).then(t).catch(T1)}:E0;function T1(t){setTimeout(function(){throw t})}function dr(t){return t==="head"}function S0(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),fo(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Cl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Cl(a);for(var f=a.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[Yn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&Cl(t.ownerDocument.body);a=h}while(a);fo(n)}function A0(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function bd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bd(a),z(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function S1(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Yn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ai(t.nextSibling),t===null)break}return null}function A1(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ai(t.nextSibling),t===null))return null;return t}function w0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ai(t.nextSibling),t===null))return null;return t}function Ed(t){return t.data==="$?"||t.data==="$~"}function Td(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function w1(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ai(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Sd=null;function x0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return ai(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function R0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function C0(t,n,a){switch(n=bu(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Cl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);z(t)}var oi=new Map,I0=new Set;function Eu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ds=re.d;re.d={f:x1,r:R1,D:C1,C:I1,L:N1,m:D1,X:M1,S:O1,M:V1};function x1(){var t=Ds.f(),n=fu();return t||n}function R1(t){var n=B(t);n!==null&&n.tag===5&&n.type==="form"?$p(n):Ds.r(t)}var co=typeof document>"u"?null:document;function N0(t,n,a){var o=co;if(o&&typeof n=="string"&&n){var h=Tn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),I0.has(h)||(I0.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),an(n,"link",t),he(n),o.head.appendChild(n)))}}function C1(t){Ds.D(t),N0("dns-prefetch",t,null)}function I1(t,n){Ds.C(t,n),N0("preconnect",t,n)}function N1(t,n,a){Ds.L(t,n,a);var o=co;if(o&&t&&n){var h='link[rel="preload"][as="'+Tn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Tn(a.imageSizes)+'"]')):h+='[href="'+Tn(t)+'"]';var f=h;switch(n){case"style":f=uo(t);break;case"script":f=ho(t)}oi.has(f)||(t=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),oi.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Il(f))||n==="script"&&o.querySelector(Nl(f))||(n=o.createElement("link"),an(n,"link",t),he(n),o.head.appendChild(n)))}}function D1(t,n){Ds.m(t,n);var a=co;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Tn(o)+'"][href="'+Tn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ho(t)}if(!oi.has(f)&&(t=w({rel:"modulepreload",href:t},n),oi.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nl(f)))return}o=a.createElement("link"),an(o,"link",t),he(o),a.head.appendChild(o)}}}function O1(t,n,a){Ds.S(t,n,a);var o=co;if(o&&t){var h=_e(o).hoistableStyles,f=uo(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(Il(f)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},a),(a=oi.get(f))&&Ad(t,a);var C=p=o.createElement("link");he(C),an(C,"link",t),C._p=new Promise(function(P,Q){C.onload=P,C.onerror=Q}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Tu(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function M1(t,n){Ds.X(t,n);var a=co;if(a&&t){var o=_e(a).hoistableScripts,h=ho(t),f=o.get(h);f||(f=a.querySelector(Nl(h)),f||(t=w({src:t,async:!0},n),(n=oi.get(h))&&wd(t,n),f=a.createElement("script"),he(f),an(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function V1(t,n){Ds.M(t,n);var a=co;if(a&&t){var o=_e(a).hoistableScripts,h=ho(t),f=o.get(h);f||(f=a.querySelector(Nl(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=oi.get(h))&&wd(t,n),f=a.createElement("script"),he(f),an(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function D0(t,n,a,o){var h=(h=xe.current)?Eu(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=uo(a.href),a=_e(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=uo(a.href);var f=_e(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(Il(t)))&&!f._p&&(p.instance=f,p.state.loading=5),oi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},oi.set(t,a),f||k1(h,t,a,p.state))),n&&o===null)throw Error(r(528,""));return p}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ho(a),a=_e(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function uo(t){return'href="'+Tn(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function O0(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function k1(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),an(n,"link",a),he(n),t.head.appendChild(n))}function ho(t){return'[src="'+Tn(t)+'"]'}function Nl(t){return"script[async]"+t}function M0(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Tn(a.href)+'"]');if(o)return n.instance=o,he(o),o;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),he(o),an(o,"style",h),Tu(o,a.precedence,t),n.instance=o;case"stylesheet":h=uo(a.href);var f=t.querySelector(Il(h));if(f)return n.state.loading|=4,n.instance=f,he(f),f;o=O0(a),(h=oi.get(h))&&Ad(o,h),f=(t.ownerDocument||t).createElement("link"),he(f);var p=f;return p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),an(f,"link",o),n.state.loading|=4,Tu(f,a.precedence,t),n.instance=f;case"script":return f=ho(a.src),(h=t.querySelector(Nl(f)))?(n.instance=h,he(h),h):(o=a,(h=oi.get(f))&&(o=w({},a),wd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),he(h),an(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Tu(o,a.precedence,t));return n.instance}function Tu(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Ad(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function wd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Su=null;function V0(t,n,a){if(Su===null){var o=new Map,h=Su=new Map;h.set(a,o)}else h=Su,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Yn]||f[wt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function k0(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function j1(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function j0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function L1(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=uo(o.href),f=n.querySelector(Il(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Au.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,he(f);return}f=n.ownerDocument||n,o=O0(o),(h=oi.get(h))&&Ad(o,h),f=f.createElement("link"),he(f);var p=f;p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),an(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Au.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var xd=0;function U1(t,n){return t.stylesheets&&t.count===0&&xu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&xu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&xd===0&&(xd=62500*_1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&xu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>xd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Au(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wu=null;function xu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wu=new Map,n.forEach(P1,t),wu=null,Au.call(t))}function P1(t,n){if(!(n.state.loading&4)){var a=wu.get(t);if(a)var o=a.get(null);else{a=new Map,wu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||o,f===o&&a.set(null,h),a.set(p,h),this.count++,o=Au.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Dl={$$typeof:Te,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function z1(t,n,a,o,h,f,p,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vn(0),this.hiddenUpdates=Vn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function L0(t,n,a,o,h,f,p,E,C,P,Q,X){return t=new z1(t,n,a,p,C,P,Q,X,E),n=1,f===!0&&(n|=24),f=Un(3,null,null,n),t.current=f,f.stateNode=t,n=rf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},cf(f),t}function U0(t){return t?(t=qa,t):qa}function P0(t,n,a,o,h,f){h=U0(h),o.context===null?o.context=h:o.pendingContext=h,o=nr(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=ir(t,o,n),a!==null&&(Cn(a,t,n),cl(a,t,n))}function z0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Rd(t,n){z0(t,n),(t=t.alternate)&&z0(t,n)}function B0(t){if(t.tag===13||t.tag===31){var n=Xr(t,67108864);n!==null&&Cn(n,t,67108864),Rd(t,67108864)}}function q0(t){if(t.tag===13||t.tag===31){var n=Hn();n=fs(n);var a=Xr(t,n);a!==null&&Cn(a,t,n),Rd(t,n)}}var Ru=!0;function B1(t,n,a,o){var h=$.T;$.T=null;var f=re.p;try{re.p=2,Cd(t,n,a,o)}finally{re.p=f,$.T=h}}function q1(t,n,a,o){var h=$.T;$.T=null;var f=re.p;try{re.p=8,Cd(t,n,a,o)}finally{re.p=f,$.T=h}}function Cd(t,n,a,o){if(Ru){var h=Id(o);if(h===null)md(t,n,o,Cu,a),G0(t,o);else if(G1(h,t,n,a,o))o.stopPropagation();else if(G0(t,o),n&4&&-1<H1.indexOf(t)){for(;h!==null;){var f=B(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=$n(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var C=1<<31-Ke(p);E.entanglements[1]|=C,p&=~C}$i(f),(tt&6)===0&&(uu=kt()+500,wl(0))}}break;case 31:case 13:E=Xr(f,2),E!==null&&Cn(E,f,2),fu(),Rd(f,2)}if(f=Id(o),f===null&&md(t,n,o,Cu,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else md(t,n,o,null,a)}}function Id(t){return t=Jn(t),Nd(t)}var Cu=null;function Nd(t){if(Cu=null,t=Xn(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Cu=t,null}function H0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ls()){case Oi:return 2;case cs:return 8;case Mi:case Sa:return 32;case Gn:return 268435456;default:return 32}default:return 32}}var Dd=!1,mr=null,gr=null,pr=null,Ol=new Map,Ml=new Map,yr=[],H1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G0(t,n){switch(t){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":Ol.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(n.pointerId)}}function Vl(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=B(n),n!==null&&B0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function G1(t,n,a,o,h){switch(n){case"focusin":return mr=Vl(mr,t,n,a,o,h),!0;case"dragenter":return gr=Vl(gr,t,n,a,o,h),!0;case"mouseover":return pr=Vl(pr,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Ol.set(f,Vl(Ol.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Ml.set(f,Vl(Ml.get(f)||null,t,n,a,o,h)),!0}return!1}function F0(t){var n=Xn(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,kn(t.priority,function(){q0(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,kn(t.priority,function(){q0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Iu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Id(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Qo=o,a.target.dispatchEvent(o),Qo=null}else return n=B(a),n!==null&&B0(n),t.blockedOn=a,!1;n.shift()}return!0}function $0(t,n,a){Iu(t)&&a.delete(n)}function F1(){Dd=!1,mr!==null&&Iu(mr)&&(mr=null),gr!==null&&Iu(gr)&&(gr=null),pr!==null&&Iu(pr)&&(pr=null),Ol.forEach($0),Ml.forEach($0)}function Nu(t,n){t.blockedOn===n&&(t.blockedOn=null,Dd||(Dd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,F1)))}var Du=null;function Q0(t){Du!==t&&(Du=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Du===t&&(Du=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Nd(o||a)===null)continue;break}var f=B(a);f!==null&&(t.splice(n,3),n-=3,If(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function fo(t){function n(C){return Nu(C,t)}mr!==null&&Nu(mr,t),gr!==null&&Nu(gr,t),pr!==null&&Nu(pr,t),Ol.forEach(n),Ml.forEach(n);for(var a=0;a<yr.length;a++){var o=yr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<yr.length&&(a=yr[0],a.blockedOn===null);)F0(a),a.blockedOn===null&&yr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],p=h[jt]||null;if(typeof f=="function")p||Q0(a);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[jt]||null)E=p.formAction;else if(Nd(h)!==null)continue}else E=p.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),Q0(a)}}}function K0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Od(t){this._internalRoot=t}Ou.prototype.render=Od.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Hn();P0(a,o,t,n,null,null)},Ou.prototype.unmount=Od.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;P0(t.current,2,null,t,null,null),fu(),n[Kn]=null}};function Ou(t){this._internalRoot=t}Ou.prototype.unstable_scheduleHydration=function(t){if(t){var n=xa();t={blockedOn:null,target:t,priority:n};for(var a=0;a<yr.length&&n!==0&&n<yr[a].priority;a++);yr.splice(a,0,t),a===0&&F0(t)}};var Y0=e.version;if(Y0!=="19.2.0")throw Error(r(527,Y0,"19.2.0"));re.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var $1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{On=Mu.inject($1),dt=Mu}catch{}}return jl.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=ny,f=iy,p=sy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=L0(t,1,!1,null,null,a,o,null,h,f,p,K0),t[Kn]=n.current,dd(t),new Od(n)},jl.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=ny,p=iy,E=sy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=L0(t,1,!0,n,a??null,o,h,C,f,p,E,K0),n.context=U0(null),a=n.current,o=Hn(),o=fs(o),h=nr(o),h.callback=null,ir(a,h,o),a=o,n.current.lanes=a,hs(n,a),$i(n),t[Kn]=n.current,dd(t),new Ou(n)},jl.version="19.2.0",jl}var r_;function sS(){if(r_)return kd.exports;r_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),kd.exports=iS(),kd.exports}var rS=sS();const aS="0.0.33",oS={version:aS};const lS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),a_=s=>{const e=cS(s);return e.charAt(0).toUpperCase()+e.slice(1)},Fv=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),uS=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var hS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const fS=Ee.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:d,...g},y)=>Ee.createElement("svg",{ref:y,...hS,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:Fv("lucide",l),...!u&&!uS(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,A])=>Ee.createElement(_,A)),...Array.isArray(u)?u:[u]]));const Xe=(s,e)=>{const i=Ee.forwardRef(({className:r,...l},u)=>Ee.createElement(fS,{ref:u,iconNode:e,className:Fv(`lucide-${lS(a_(s))}`,`lucide-${s}`,r),...l}));return i.displayName=a_(s),i};const dS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Vu=Xe("arrow-right",dS);const mS=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],gS=Xe("book-open",mS);const pS=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],yS=Xe("book",pS);const _S=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Pd=Xe("brain",_S);const vS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],bS=Xe("calendar",vS);const ES=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],TS=Xe("chevron-right",ES);const SS=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],AS=Xe("chevron-up",SS);const wS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zd=Xe("circle-check-big",wS);const xS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],RS=Xe("circle-x",xS);const CS=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]],IS=Xe("git-compare",CS);const NS=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],ku=Xe("headphones",NS);const DS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],o_=Xe("history",DS);const OS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],l_=Xe("info",OS);const MS=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],VS=Xe("key-round",MS);const kS=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Bd=Xe("lightbulb",kS);const jS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],LS=Xe("loader-circle",jS);const US=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],PS=Xe("lock",US);const zS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],BS=Xe("log-out",zS);const qS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],c_=Xe("mail",qS);const HS=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],ju=Xe("moon",HS);const GS=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],u_=Xe("pause",GS);const FS=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],qd=Xe("pen-line",FS);const $S=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],QS=Xe("play",$S);const KS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],YS=Xe("refresh-cw",KS);const XS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],h_=Xe("rotate-ccw",XS);const JS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],f_=Xe("search",JS);const ZS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],WS=Xe("send",ZS);const eA=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],Hd=Xe("skip-forward",eA);const tA=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Lu=Xe("sparkles",tA);const nA=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Uu=Xe("sun",nA);const iA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],sA=Xe("triangle-alert",iA);const rA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],aA=Xe("user",rA);const oA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Gd=Xe("x",oA),lA=()=>{};var d_={};const $v=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},cA=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[i++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[i++],d=s[i++],g=s[i++],y=((l&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const u=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},Qv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,g=d?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,A=u>>2,w=(u&3)<<4|g>>4;let S=(g&15)<<2|_>>6,K=_&63;y||(K=64,d||(S=64)),r.push(i[A],i[w],i[S],i[K])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray($v(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):cA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const w=l<s.length?i[s.charAt(l)]:64;if(++l,u==null||g==null||_==null||w==null)throw new uA;const S=u<<2|g>>4;if(r.push(S),_!==64){const K=g<<4&240|_>>2;if(r.push(K),w!==64){const W=_<<6&192|w;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class uA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hA=function(s){const e=$v(s);return Qv.encodeByteArray(e,!0)},nh=function(s){return hA(s).replace(/\./g,"")},Kv=function(s){try{return Qv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function fA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const dA=()=>fA().__FIREBASE_DEFAULTS__,mA=()=>{if(typeof process>"u"||typeof d_>"u")return;const s=d_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},gA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Kv(s[1]);return e&&JSON.parse(e)},Th=()=>{try{return lA()||dA()||mA()||gA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Yv=s=>Th()?.emulatorHosts?.[s],pA=s=>{const e=Yv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Xv=()=>Th()?.config,Jv=s=>Th()?.[`_${s}`];class yA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function Mo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Zv(s){return(await fetch(s,{credentials:"include"})).ok}function _A(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[nh(JSON.stringify(i)),nh(JSON.stringify(d)),""].join(".")}const Hl={};function vA(){const s={prod:[],emulator:[]};for(const e of Object.keys(Hl))Hl[e]?s.emulator.push(e):s.prod.push(e);return s}function bA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let m_=!1;function Wv(s,e){if(typeof window>"u"||typeof document>"u"||!Mo(window.location.host)||Hl[s]===e||Hl[s]||m_)return;Hl[s]=e;function i(S){return`__firebase__banner__${S}`}const r="__firebase__banner",u=vA().prod.length>0;function d(){const S=document.getElementById(r);S&&S.remove()}function g(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function y(S,K){S.setAttribute("width","24"),S.setAttribute("id",K),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function _(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{m_=!0,d()},S}function A(S,K){S.setAttribute("id",K),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function w(){const S=bA(r),K=i("text"),W=document.getElementById(K)||document.createElement("span"),ie=i("learnmore"),ne=document.getElementById(ie)||document.createElement("a"),ye=i("preprendIcon"),ve=document.getElementById(ye)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Te=S.element;g(Te),A(ne,ie);const ke=_();y(ve,ye),Te.append(ve,W,ne,ke),document.body.appendChild(Te)}u?(W.innerText="Preview backend disconnected.",ve.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ve.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function TA(){const s=Th()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function wA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xA(){const s=pn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function RA(){return!TA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CA(){try{return typeof indexedDB=="object"}catch{return!1}}function IA(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const NA="FirebaseError";class Ps extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=NA,Object.setPrototypeOf(this,Ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ac.prototype.create)}}class ac{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?DA(u,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Ps(l,g,r)}}function DA(s,e){return s.replace(OA,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const OA=/\{\$([^}]+)}/g;function MA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ma(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const u=s[l],d=e[l];if(g_(u)&&g_(d)){if(!ma(u,d))return!1}else if(u!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function g_(s){return s!==null&&typeof s=="object"}function oc(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ll(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Ul(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function VA(s,e){const i=new kA(s,e);return i.subscribe.bind(i)}class kA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");jA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=Fd),l.error===void 0&&(l.error=Fd),l.complete===void 0&&(l.complete=Fd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Fd(){}function Zt(s){return s&&s._delegate?s._delegate:s}class ga{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ca="[DEFAULT]";class LA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new yA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PA(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);r===g&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UA(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UA(s){return s===ca?void 0:s}function PA(s){return s.instantiationMode==="EAGER"}class zA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new LA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var qe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(qe||(qe={}));const BA={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},qA=qe.INFO,HA={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},GA=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=HA[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Om{constructor(e){this.name=e,this._logLevel=qA,this._logHandler=GA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const FA=(s,e)=>e.some(i=>s instanceof i);let p_,y_;function $A(){return p_||(p_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QA(){return y_||(y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eb=new WeakMap,om=new WeakMap,tb=new WeakMap,$d=new WeakMap,Mm=new WeakMap;function KA(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{i(Ar(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&eb.set(i,s)}).catch(()=>{}),Mm.set(e,s),e}function YA(s){if(om.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});om.set(s,e)}let lm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return om.get(s);if(e==="objectStoreNames")return s.objectStoreNames||tb.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ar(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function XA(s){lm=s(lm)}function JA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Qd(this),e,...i);return tb.set(r,e.sort?e.sort():[e]),Ar(r)}:QA().includes(s)?function(...e){return s.apply(Qd(this),e),Ar(eb.get(this))}:function(...e){return Ar(s.apply(Qd(this),e))}}function ZA(s){return typeof s=="function"?JA(s):(s instanceof IDBTransaction&&YA(s),FA(s,$A())?new Proxy(s,lm):s)}function Ar(s){if(s instanceof IDBRequest)return KA(s);if($d.has(s))return $d.get(s);const e=ZA(s);return e!==s&&($d.set(s,e),Mm.set(e,s)),e}const Qd=s=>Mm.get(s);function WA(s,e,{blocked:i,upgrade:r,blocking:l,terminated:u}={}){const d=indexedDB.open(s,e),g=Ar(d);return r&&d.addEventListener("upgradeneeded",y=>{r(Ar(d.result),y.oldVersion,y.newVersion,Ar(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{u&&y.addEventListener("close",()=>u()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const ew=["get","getKey","getAll","getAllKeys","count"],tw=["put","add","delete","clear"],Kd=new Map;function __(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Kd.get(e))return Kd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=tw.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||ew.includes(i)))return;const u=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&y.done]))[0]};return Kd.set(e,u),u}XA(s=>({...s,get:(e,i,r)=>__(e,i)||s.get(e,i,r),has:(e,i)=>!!__(e,i)||s.has(e,i)}));class nw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(iw(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function iw(s){return s.getComponent()?.type==="VERSION"}const cm="@firebase/app",v_="0.14.6";const ks=new Om("@firebase/app"),sw="@firebase/app-compat",rw="@firebase/analytics-compat",aw="@firebase/analytics",ow="@firebase/app-check-compat",lw="@firebase/app-check",cw="@firebase/auth",uw="@firebase/auth-compat",hw="@firebase/database",fw="@firebase/data-connect",dw="@firebase/database-compat",mw="@firebase/functions",gw="@firebase/functions-compat",pw="@firebase/installations",yw="@firebase/installations-compat",_w="@firebase/messaging",vw="@firebase/messaging-compat",bw="@firebase/performance",Ew="@firebase/performance-compat",Tw="@firebase/remote-config",Sw="@firebase/remote-config-compat",Aw="@firebase/storage",ww="@firebase/storage-compat",xw="@firebase/firestore",Rw="@firebase/ai",Cw="@firebase/firestore-compat",Iw="firebase",Nw="12.6.0";const um="[DEFAULT]",Dw={[cm]:"fire-core",[sw]:"fire-core-compat",[aw]:"fire-analytics",[rw]:"fire-analytics-compat",[lw]:"fire-app-check",[ow]:"fire-app-check-compat",[cw]:"fire-auth",[uw]:"fire-auth-compat",[hw]:"fire-rtdb",[fw]:"fire-data-connect",[dw]:"fire-rtdb-compat",[mw]:"fire-fn",[gw]:"fire-fn-compat",[pw]:"fire-iid",[yw]:"fire-iid-compat",[_w]:"fire-fcm",[vw]:"fire-fcm-compat",[bw]:"fire-perf",[Ew]:"fire-perf-compat",[Tw]:"fire-rc",[Sw]:"fire-rc-compat",[Aw]:"fire-gcs",[ww]:"fire-gcs-compat",[xw]:"fire-fst",[Cw]:"fire-fst-compat",[Rw]:"fire-vertex","fire-js":"fire-js",[Iw]:"fire-js-all"};const ih=new Map,Ow=new Map,hm=new Map;function b_(s,e){try{s.container.addComponent(e)}catch(i){ks.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function wo(s){const e=s.name;if(hm.has(e))return ks.debug(`There were multiple attempts to register component ${e}.`),!1;hm.set(e,s);for(const i of ih.values())b_(i,s);for(const i of Ow.values())b_(i,s);return!0}function Vm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function bn(s){return s==null?!1:s.settings!==void 0}const Mw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wr=new ac("app","Firebase",Mw);class Vw{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}}const Vo=Nw;function nb(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:um,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw wr.create("bad-app-name",{appName:String(l)});if(i||(i=Xv()),!i)throw wr.create("no-options");const u=ih.get(l);if(u){if(ma(i,u.options)&&ma(r,u.config))return u;throw wr.create("duplicate-app",{appName:l})}const d=new zA(l);for(const y of hm.values())d.addComponent(y);const g=new Vw(i,r,d);return ih.set(l,g),g}function ib(s=um){const e=ih.get(s);if(!e&&s===um&&Xv())return nb();if(!e)throw wr.create("no-app",{appName:s});return e}function xr(s,e,i){let r=Dw[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ks.warn(d.join(" "));return}wo(new ga(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const kw="firebase-heartbeat-database",jw=1,Yl="firebase-heartbeat-store";let Yd=null;function sb(){return Yd||(Yd=WA(kw,jw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Yl)}catch(i){console.warn(i)}}}}).catch(s=>{throw wr.create("idb-open",{originalErrorMessage:s.message})})),Yd}async function Lw(s){try{const i=(await sb()).transaction(Yl),r=await i.objectStore(Yl).get(rb(s));return await i.done,r}catch(e){if(e instanceof Ps)ks.warn(e.message);else{const i=wr.create("idb-get",{originalErrorMessage:e?.message});ks.warn(i.message)}}}async function E_(s,e){try{const r=(await sb()).transaction(Yl,"readwrite");await r.objectStore(Yl).put(e,rb(s)),await r.done}catch(i){if(i instanceof Ps)ks.warn(i.message);else{const r=wr.create("idb-set",{originalErrorMessage:i?.message});ks.warn(r.message)}}}function rb(s){return`${s.name}!${s.options.appId}`}const Uw=1024,Pw=30;class zw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new qw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=T_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>Pw){const l=Hw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ks.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=T_(),{heartbeatsToSend:i,unsentEntries:r}=Bw(this._heartbeatsCache.heartbeats),l=nh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ks.warn(e),""}}}function T_(){return new Date().toISOString().substring(0,10)}function Bw(s,e=Uw){const i=[];let r=s.slice();for(const l of s){const u=i.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),S_(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),S_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class qw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CA()?IA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Lw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return E_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return E_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function S_(s){return nh(JSON.stringify({version:2,heartbeats:s})).length}function Hw(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function Gw(s){wo(new ga("platform-logger",e=>new nw(e),"PRIVATE")),wo(new ga("heartbeat",e=>new zw(e),"PRIVATE")),xr(cm,v_,s),xr(cm,v_,"esm2020"),xr("fire-js","")}Gw("");var Fw="firebase",$w="12.6.0";xr(Fw,$w,"app");function ab(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Qw=ab,ob=new ac("auth","Firebase",ab());const sh=new Om("@firebase/auth");function Kw(s,...e){sh.logLevel<=qe.WARN&&sh.warn(`Auth (${Vo}): ${s}`,...e)}function $u(s,...e){sh.logLevel<=qe.ERROR&&sh.error(`Auth (${Vo}): ${s}`,...e)}function ui(s,...e){throw jm(s,...e)}function xi(s,...e){return jm(s,...e)}function km(s,e,i){const r={...Qw(),[e]:i};return new ac("auth","Firebase",r).create(e,{appName:s.name})}function Ri(s){return km(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yw(s,e,i){const r=i;if(!(e instanceof r))throw r.name!==e.constructor.name&&ui(s,"argument-error"),km(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jm(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return ob.create(s,...e)}function Se(s,e,...i){if(!s)throw jm(e,...i)}function Ms(s){const e="INTERNAL ASSERTION FAILED: "+s;throw $u(e),new Error(e)}function js(s,e){s||Ms(e)}function fm(){return typeof self<"u"&&self.location?.href||""}function Xw(){return A_()==="http:"||A_()==="https:"}function A_(){return typeof self<"u"&&self.location?.protocol||null}function Jw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Xw()||AA()||"connection"in navigator)?navigator.onLine:!0}function Zw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class lc{constructor(e,i){this.shortDelay=e,this.longDelay=i,js(i>e,"Short delay should be less than long delay!"),this.isMobile=EA()||wA()}get(){return Jw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lm(s,e){js(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class lb{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ww={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ex=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tx=new lc(3e4,6e4);function is(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function ss(s,e,i,r,l={}){return cb(s,l,async()=>{let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});const g=oc({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:y,...u};return SA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&Mo(s.emulatorConfig.host)&&(_.credentials="include"),lb.fetch()(await ub(s,s.config.apiHost,i,g),_)})}async function cb(s,e,i){s._canInitEmulator=!1;const r={...Ww,...e};try{const l=new ix(s),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Pu(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pu(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Pu(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Pu(s,"user-disabled",d);const A=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw km(s,A,_);ui(s,A)}}catch(l){if(l instanceof Ps)throw l;ui(s,"network-request-failed",{message:String(l)})}}async function ko(s,e,i,r,l={}){const u=await ss(s,e,i,r,l);return"mfaPendingCredential"in u&&ui(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function ub(s,e,i,r){const l=`${e}${i}?${r}`,u=s,d=u.config.emulator?Lm(s.config,l):`${s.config.apiScheme}://${l}`;return ex.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function nx(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ix{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(xi(this.auth,"network-request-failed")),tx.get())})}}function Pu(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=xi(s,e,r);return l.customData._tokenResponse=i,l}function w_(s){return s!==void 0&&s.enterprise!==void 0}class sx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return nx(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rx(s,e){return ss(s,"GET","/v2/recaptchaConfig",is(s,e))}async function ax(s,e){return ss(s,"POST","/v1/accounts:delete",e)}async function rh(s,e){return ss(s,"POST","/v1/accounts:lookup",e)}function Gl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ox(s,e=!1){const i=Zt(s),r=await i.getIdToken(e),l=Um(r);Se(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:r,authTime:Gl(Xd(l.auth_time)),issuedAtTime:Gl(Xd(l.iat)),expirationTime:Gl(Xd(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Xd(s){return Number(s)*1e3}function Um(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return $u("JWT malformed, contained fewer than 3 sections"),null;try{const l=Kv(i);return l?JSON.parse(l):($u("Failed to decode base64 JWT payload"),null)}catch(l){return $u("Caught error parsing JWT payload as JSON",l?.toString()),null}}function x_(s){const e=Um(s);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function xo(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof Ps&&lx(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function lx({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class cx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class dm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ah(s){const e=s.auth,i=await s.getIdToken(),r=await xo(s,rh(e,{idToken:i}));Se(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?hb(l.providerUserInfo):[],d=hx(s.providerData,u),g=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,_=g?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new dm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,A)}async function ux(s){const e=Zt(s);await ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hx(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function hb(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function fx(s,e){const i=await cb(s,{},async()=>{const r=oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=await ub(s,l,"/v1/token",`key=${u}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:r};return s.emulatorConfig&&Mo(s.emulatorConfig.host)&&(y.credentials="include"),lb.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function dx(s,e){return ss(s,"POST","/v2/accounts:revokeToken",is(s,e))}class vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):x_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const i=x_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:u}=await fx(e,i);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:u}=i,d=new vo;return r&&(Se(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(Se(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(Se(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vo,this.toJSON())}_performRefresh(){return Ms("not implemented")}}function vr(s,e){Se(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Ai{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new cx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new dm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await xo(this,this.stsTokenManager.getToken(this.auth,e));return Se(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return ox(this,e)}reload(){return ux(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await ah(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(Ri(this.auth));const e=await this.getIdToken();return await xo(this,ax(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,u=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:w,emailVerified:S,isAnonymous:K,providerData:W,stsTokenManager:ie}=i;Se(w&&ie,e,"internal-error");const ne=vo.fromJSON(this.name,ie);Se(typeof w=="string",e,"internal-error"),vr(r,e.name),vr(l,e.name),Se(typeof S=="boolean",e,"internal-error"),Se(typeof K=="boolean",e,"internal-error"),vr(u,e.name),vr(d,e.name),vr(g,e.name),vr(y,e.name),vr(_,e.name),vr(A,e.name);const ye=new Ai({uid:w,auth:e,email:l,emailVerified:S,displayName:r,isAnonymous:K,photoURL:d,phoneNumber:u,tenantId:g,stsTokenManager:ne,createdAt:_,lastLoginAt:A});return W&&Array.isArray(W)&&(ye.providerData=W.map(ve=>({...ve}))),y&&(ye._redirectEventId=y),ye}static async _fromIdTokenResponse(e,i,r=!1){const l=new vo;l.updateFromServerResponse(i);const u=new Ai({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await ah(u),u}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];Se(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?hb(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,g=new vo;g.updateFromIdToken(r);const y=new Ai({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new dm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(y,_),y}}const R_=new Map;function Vs(s){js(s instanceof Function,"Expected a class definition");let e=R_.get(s);return e?(js(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,R_.set(s,e),e)}class fb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}fb.type="NONE";const C_=fb;function Qu(s,e,i){return`firebase:${s}:${e}:${i}`}class bo{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=Qu(this.userKey,l.apiKey,u),this.fullPersistenceKey=Qu("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await rh(this.auth,{idToken:e}).catch(()=>{});return i?Ai._fromGetAccountInfoResponse(this.auth,i,e):null}return Ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new bo(Vs(C_),e,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=l[0]||Vs(C_);const d=Qu(r,e.config.apiKey,e.name);let g=null;for(const _ of i)try{const A=await _._get(d);if(A){let w;if(typeof A=="string"){const S=await rh(e,{idToken:A}).catch(()=>{});if(!S)break;w=await Ai._fromGetAccountInfoResponse(e,S,A)}else w=Ai._fromJSON(e,A);_!==u&&(g=w),u=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new bo(u,e,r):(u=y[0],g&&await u._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==u)try{await _._remove(d)}catch{}})),new bo(u,e,r))}}function I_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(db(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_b(e))return"Blackberry";if(vb(e))return"Webos";if(mb(e))return"Safari";if((e.includes("chrome/")||gb(e))&&!e.includes("edge/"))return"Chrome";if(yb(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function db(s=pn()){return/firefox\//i.test(s)}function mb(s=pn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gb(s=pn()){return/crios\//i.test(s)}function pb(s=pn()){return/iemobile/i.test(s)}function yb(s=pn()){return/android/i.test(s)}function _b(s=pn()){return/blackberry/i.test(s)}function vb(s=pn()){return/webos/i.test(s)}function Pm(s=pn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function mx(s=pn()){return Pm(s)&&!!window.navigator?.standalone}function gx(){return xA()&&document.documentMode===10}function bb(s=pn()){return Pm(s)||yb(s)||vb(s)||_b(s)||/windows phone/i.test(s)||pb(s)}function Eb(s,e=[]){let i;switch(s){case"Browser":i=I_(pn());break;case"Worker":i=`${I_(pn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Vo}/${r}`}class px{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=u=>new Promise((d,g)=>{try{const y=e(u);d(y)}catch(y){g(y)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function yx(s,e={}){return ss(s,"GET","/v2/passwordPolicy",is(s,e))}const _x=6;class vx{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??_x,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class bx{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N_(this),this.idTokenSubscription=new N_(this),this.beforeStateQueue=new px(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ob,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Vs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await rh(this,{idToken:e}),r=await Ai._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(bn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!u||u===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await ah(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Zw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(Ri(this));const i=e?Zt(e):null;return i&&Se(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(Ri(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(Ri(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yx(this),i=new vx(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ac("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await dx(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Vs(e)||this._popupRedirectResolver;Se(i,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[Vs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,r,l);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Eb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Kw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ii(s){return Zt(s)}class N_{constructor(e){this.auth=e,this.observer=null,this.addObserver=VA(i=>this.observer=i)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Sh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ex(s){Sh=s}function Tb(s){return Sh.loadJS(s)}function Tx(){return Sh.recaptchaEnterpriseScript}function Sx(){return Sh.gapiScript}function Ax(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class wx{constructor(){this.enterprise=new xx}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class xx{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const Rx="recaptcha-enterprise",Sb="NO_RECAPTCHA";class Cx{constructor(e){this.type=Rx,this.auth=Ii(e)}async verify(e="verify",i=!1){async function r(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,g)=>{rx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new sx(y);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,d(_.siteKey)}}).catch(y=>{g(y)})})}function l(u,d,g){const y=window.grecaptcha;w_(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(_=>{d(_)}).catch(()=>{d(Sb)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new wx().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{r(this.auth).then(g=>{if(!i&&w_(window.grecaptcha))l(g,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=Tx();y.length!==0&&(y+=g),Tb(y).then(()=>{l(g,u,d)}).catch(_=>{d(_)})}}).catch(g=>{d(g)})})}}async function D_(s,e,i,r=!1,l=!1){const u=new Cx(s);let d;if(l)d=Sb;else try{d=await u.verify(i)}catch{d=await u.verify(i,!0)}const g={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function oh(s,e,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await D_(s,e,i,i==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await D_(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(u)})}function Ix(s,e){const i=Vm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(ma(u,e??{}))return l;ui(l,"already-initialized")}return i.initialize({options:e})}function Nx(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Vs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function Dx(s,e,i){const r=Ii(s);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=Ab(e),{host:d,port:g}=Ox(e),y=g===null?"":`:${g}`,_={url:`${u}//${d}${y}/`},A=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(ma(_,r.config.emulator)&&ma(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,Mo(d)?(Zv(`${u}//${d}${y}`),Wv("Auth",!0)):Mx()}function Ab(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function Ox(s){const e=Ab(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:O_(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:O_(d)}}}function O_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Mx(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class zm{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Ms("not implemented")}_getIdTokenResponse(e){return Ms("not implemented")}_linkToIdToken(e,i){return Ms("not implemented")}_getReauthenticationResolver(e){return Ms("not implemented")}}async function Vx(s,e){return ss(s,"POST","/v1/accounts:signUp",e)}async function kx(s,e){return ko(s,"POST","/v1/accounts:signInWithPassword",is(s,e))}async function wb(s,e){return ss(s,"POST","/v1/accounts:sendOobCode",is(s,e))}async function jx(s,e){return wb(s,e)}async function Lx(s,e){return wb(s,e)}async function Ux(s,e){return ko(s,"POST","/v1/accounts:signInWithEmailLink",is(s,e))}async function Px(s,e){return ko(s,"POST","/v1/accounts:signInWithEmailLink",is(s,e))}class Xl extends zm{constructor(e,i,r,l=null){super("password",r),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new Xl(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new Xl(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oh(e,i,"signInWithPassword",kx);case"emailLink":return Ux(e,{email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oh(e,r,"signUpPassword",Vx);case"emailLink":return Px(e,{idToken:i,email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Eo(s,e){return ko(s,"POST","/v1/accounts:signInWithIdp",is(s,e))}const zx="http://localhost";class pa extends zm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ui("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...u}=i;if(!r||!l)return null;const d=new pa(r,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Eo(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,Eo(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Eo(e,i)}buildRequest(){const e={requestUri:zx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=oc(i)}return e}}function Bx(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qx(s){const e=Ll(Ul(s)).link,i=e?Ll(Ul(e)).deep_link_id:null,r=Ll(Ul(s)).deep_link_id;return(r?Ll(Ul(r)).link:null)||r||i||e||s}class Bm{constructor(e){const i=Ll(Ul(e)),r=i.apiKey??null,l=i.oobCode??null,u=Bx(i.mode??null);Se(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=qx(e);try{return new Bm(i)}catch{return null}}}class jo{constructor(){this.providerId=jo.PROVIDER_ID}static credential(e,i){return Xl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Bm.parseLink(i);return Se(r,"argument-error"),Xl._fromEmailAndCode(e,r.code,r.tenantId)}}jo.PROVIDER_ID="password";jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class qm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class cc extends qm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class br extends cc{constructor(){super("facebook.com")}static credential(e){return pa._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return br.credential(e.oauthAccessToken)}catch{return null}}}br.FACEBOOK_SIGN_IN_METHOD="facebook.com";br.PROVIDER_ID="facebook.com";class Os extends cc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return pa._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Os.credential(i,r)}catch{return null}}}Os.GOOGLE_SIGN_IN_METHOD="google.com";Os.PROVIDER_ID="google.com";class Er extends cc{constructor(){super("github.com")}static credential(e){return pa._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Er.credential(e.oauthAccessToken)}catch{return null}}}Er.GITHUB_SIGN_IN_METHOD="github.com";Er.PROVIDER_ID="github.com";class Tr extends cc{constructor(){super("twitter.com")}static credential(e,i){return pa._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Tr.credential(i,r)}catch{return null}}}Tr.TWITTER_SIGN_IN_METHOD="twitter.com";Tr.PROVIDER_ID="twitter.com";async function xb(s,e){return ko(s,"POST","/v1/accounts:signUp",is(s,e))}class ts{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const u=await Ai._fromIdTokenResponse(e,r,l),d=M_(r);return new ts({user:u,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=M_(r);return new ts({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function M_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function Hx(s){if(bn(s.app))return Promise.reject(Ri(s));const e=Ii(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new ts({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await xb(e,{returnSecureToken:!0}),r=await ts._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(r.user),r}class lh extends Ps{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,lh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new lh(e,i,r,l)}}function Rb(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?lh._fromErrorAndOperation(s,u,e,r):u})}async function Gx(s,e,i=!1){const r=await xo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return ts._forOperation(s,"link",r)}async function Fx(s,e,i=!1){const{auth:r}=s;if(bn(r.app))return Promise.reject(Ri(r));const l="reauthenticate";try{const u=await xo(s,Rb(r,l,e,s),i);Se(u.idToken,r,"internal-error");const d=Um(u.idToken);Se(d,r,"internal-error");const{sub:g}=d;return Se(s.uid===g,r,"user-mismatch"),ts._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&ui(r,"user-mismatch"),u}}async function Cb(s,e,i=!1){if(bn(s.app))return Promise.reject(Ri(s));const r="signIn",l=await Rb(s,r,e),u=await ts._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(u.user),u}async function $x(s,e){return Cb(Ii(s),e)}async function Qx(s,e){return ko(s,"POST","/v1/accounts:signInWithCustomToken",is(s,e))}async function Kx(s,e){if(bn(s.app))return Promise.reject(Ri(s));const i=Ii(s),r=await Qx(i,{token:e,returnSecureToken:!0}),l=await ts._fromIdTokenResponse(i,"signIn",r);return await i._updateCurrentUser(l.user),l}async function Ib(s){const e=Ii(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Yx(s,e,i){const r=Ii(s);await oh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Lx)}async function Xx(s,e,i){if(bn(s.app))return Promise.reject(Ri(s));const r=Ii(s),d=await oh(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xb).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&Ib(s),y}),g=await ts._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(g.user),g}function Jx(s,e,i){return bn(s.app)?Promise.reject(Ri(s)):$x(Zt(s),jo.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Ib(s),r})}async function Zx(s,e){const i=Zt(s),l={requestType:"VERIFY_EMAIL",idToken:await s.getIdToken()},{email:u}=await jx(i.auth,l);u!==s.email&&await s.reload()}async function Wx(s,e){return ss(s,"POST","/v1/accounts:update",e)}async function e2(s,{displayName:e,photoURL:i}){if(e===void 0&&i===void 0)return;const r=Zt(s),u={idToken:await r.getIdToken(),displayName:e,photoUrl:i,returnSecureToken:!0},d=await xo(r,Wx(r.auth,u));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const g=r.providerData.find(({providerId:y})=>y==="password");g&&(g.displayName=r.displayName,g.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function t2(s,e,i,r){return Zt(s).onIdTokenChanged(e,i,r)}function n2(s,e,i){return Zt(s).beforeAuthStateChanged(e,i)}function i2(s,e,i,r){return Zt(s).onAuthStateChanged(e,i,r)}function Jd(s){return Zt(s).signOut()}const ch="__sak";class Nb{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const s2=1e3,r2=10;class Db extends Nb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);gx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,r2):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},s2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Db.type="LOCAL";const a2=Db;class Ob extends Nb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Ob.type="SESSION";const Mb=Ob;function o2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ah{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new Ah(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:u}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,u)),y=await o2(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];function Hm(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class l2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((g,y)=>{const _=Hm("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(w){const S=w;if(S.data.eventId===_)switch(S.data.status){case"ack":clearTimeout(A),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(S.data.response);break;default:clearTimeout(A),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Yi(){return window}function c2(s){Yi().location.href=s}function Vb(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function u2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function h2(){return navigator?.serviceWorker?.controller||null}function f2(){return Vb()?self:null}const kb="firebaseLocalStorageDb",d2=1,uh="firebaseLocalStorage",jb="fbase_key";class uc{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function wh(s,e){return s.transaction([uh],e?"readwrite":"readonly").objectStore(uh)}function m2(){const s=indexedDB.deleteDatabase(kb);return new uc(s).toPromise()}function mm(){const s=indexedDB.open(kb,d2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(uh,{keyPath:jb})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(uh)?e(r):(r.close(),await m2(),e(await mm()))})})}async function V_(s,e,i){const r=wh(s,!0).put({[jb]:e,value:i});return new uc(r).toPromise()}async function g2(s,e){const i=wh(s,!1).get(e),r=await new uc(i).toPromise();return r===void 0?null:r.value}function k_(s,e){const i=wh(s,!0).delete(e);return new uc(i).toPromise()}const p2=800,y2=3;class Lb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>y2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(f2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await u2(),!this.activeServiceWorker)return;this.sender=new l2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||h2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mm();return await V_(e,ch,"1"),await k_(e,ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>V_(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>g2(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>k_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=wh(l,!1).getAll();return new uc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),p2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Lb.type="LOCAL";const _2=Lb;new lc(3e4,6e4);function Ub(s,e){return e?Vs(e):(Se(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Gm extends zm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Eo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function v2(s){return Cb(s.auth,new Gm(s),s.bypassAuthState)}function b2(s){const{auth:e,user:i}=s;return Se(i,e,"internal-error"),Fx(i,new Gm(s),s.bypassAuthState)}async function E2(s){const{auth:e,user:i}=s;return Se(i,e,"internal-error"),Gx(i,new Gm(s),s.bypassAuthState)}class Pb{constructor(e,i,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:u,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return v2;case"linkViaPopup":case"linkViaRedirect":return E2;case"reauthViaPopup":case"reauthViaRedirect":return b2;default:ui(this.auth,"internal-error")}}resolve(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const T2=new lc(2e3,1e4);async function S2(s,e,i){if(bn(s.app))return Promise.reject(xi(s,"operation-not-supported-in-this-environment"));const r=Ii(s);Yw(s,e,qm);const l=Ub(r,i);return new ua(r,"signInViaPopup",e,l).executeNotNull()}class ua extends Pb{constructor(e,i,r,l,u){super(e,i,l,u),this.provider=r,this.authWindow=null,this.pollId=null,ua.currentPopupAction&&ua.currentPopupAction.cancel(),ua.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){js(this.filter.length===1,"Popup operations only handle one event");const e=Hm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ua.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,T2.get())};e()}}ua.currentPopupAction=null;const A2="pendingRedirect",Ku=new Map;class w2 extends Pb{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Ku.get(this.auth._key());if(!e){try{const r=await x2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Ku.set(this.auth._key(),e)}return this.bypassAuthState||Ku.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function x2(s,e){const i=I2(e),r=C2(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function R2(s,e){Ku.set(s._key(),e)}function C2(s){return Vs(s._redirectPersistence)}function I2(s){return Qu(A2,s.config.apiKey,s.name)}async function N2(s,e,i=!1){if(bn(s.app))return Promise.reject(Ri(s));const r=Ii(s),l=Ub(r,e),d=await new w2(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const D2=600*1e3;class O2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!M2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!zb(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(xi(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=D2&&this.cachedEventUids.clear(),this.cachedEventUids.has(j_(e))}saveEventToCache(e){this.cachedEventUids.add(j_(e)),this.lastProcessedEventTime=Date.now()}}function j_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function zb({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function M2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zb(s);default:return!1}}async function V2(s,e={}){return ss(s,"GET","/v1/projects",e)}const k2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,j2=/^https?/;async function L2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await V2(s);for(const i of e)try{if(U2(i))return}catch{}ui(s,"unauthorized-domain")}function U2(s){const e=fm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!j2.test(i))return!1;if(k2.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const P2=new lc(3e4,6e4);function L_(){const s=Yi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function z2(s){return new Promise((e,i)=>{function r(){L_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{L_(),i(xi(s,"network-request-failed"))},timeout:P2.get()})}if(Yi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Yi().gapi?.load)r();else{const l=Ax("iframefcb");return Yi()[l]=()=>{gapi.load?r():i(xi(s,"network-request-failed"))},Tb(`${Sx()}?onload=${l}`).catch(u=>i(u))}}).catch(e=>{throw Yu=null,e})}let Yu=null;function B2(s){return Yu=Yu||z2(s),Yu}const q2=new lc(5e3,15e3),H2="__/auth/iframe",G2="emulator/auth/iframe",F2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Q2(s){const e=s.config;Se(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Lm(e,G2):`https://${s.config.authDomain}/${H2}`,r={apiKey:e.apiKey,appName:s.name,v:Vo},l=$2.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${oc(r).slice(1)}`}async function K2(s){const e=await B2(s),i=Yi().gapi;return Se(i,s,"internal-error"),e.open({where:document.body,url:Q2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:F2,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const d=xi(s,"network-request-failed"),g=Yi().setTimeout(()=>{u(d)},q2.get());function y(){Yi().clearTimeout(g),l(r)}r.ping(y).then(y,()=>{u(d)})}))}const Y2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},X2=500,J2=600,Z2="_blank",W2="http://localhost";class U_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eR(s,e,i,r=X2,l=J2){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const y={...Y2,width:r.toString(),height:l.toString(),top:u,left:d},_=pn().toLowerCase();i&&(g=gb(_)?Z2:i),db(_)&&(e=e||W2,y.scrollbars="yes");const A=Object.entries(y).reduce((S,[K,W])=>`${S}${K}=${W},`,"");if(mx(_)&&g!=="_self")return tR(e||"",g),new U_(null);const w=window.open(e||"",g,A);Se(w,s,"popup-blocked");try{w.focus()}catch{}return new U_(w)}function tR(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const nR="__/auth/handler",iR="emulator/auth/handler",sR=encodeURIComponent("fac");async function P_(s,e,i,r,l,u){Se(s.config.authDomain,s,"auth-domain-config-required"),Se(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Vo,eventId:l};if(e instanceof qm){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",MA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,w]of Object.entries({}))d[A]=w}if(e instanceof cc){const A=e.getScopes().filter(w=>w!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const y=await s._getAppCheckToken(),_=y?`#${sR}=${encodeURIComponent(y)}`:"";return`${rR(s)}?${oc(g).slice(1)}${_}`}function rR({config:s}){return s.emulator?Lm(s,iR):`https://${s.authDomain}/${nR}`}const Zd="webStorageSupport";class aR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mb,this._completeRedirectFn=N2,this._overrideRedirectResult=R2}async _openPopup(e,i,r,l){js(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await P_(e,i,r,fm(),l);return eR(e,u,Hm())}async _openRedirect(e,i,r,l){await this._originValidation(e);const u=await P_(e,i,r,fm(),l);return c2(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(js(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await K2(e),r=new O2(e);return i.register("authEvent",l=>(Se(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Zd,{type:Zd},l=>{const u=l?.[0]?.[Zd];u!==void 0&&i(!!u),ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=L2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return bb()||mb()||Pm()}}const oR=aR;var z_="@firebase/auth",B_="1.11.1";class lR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function cR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uR(s){wo(new ga("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;Se(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Eb(s)},_=new bx(r,l,u,y);return Nx(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),wo(new ga("auth-internal",e=>{const i=Ii(e.getProvider("auth").getImmediate());return(r=>new lR(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),xr(z_,B_,cR(s)),xr(z_,B_,"esm2020")}const hR=300,fR=Jv("authIdTokenMaxAge")||hR;let q_=null;const dR=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>fR)return;const l=i?.token;q_!==l&&(q_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function mR(s=ib()){const e=Vm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=Ix(s,{popupRedirectResolver:oR,persistence:[_2,a2,Mb]}),r=Jv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=dR(u.toString());n2(i,d,()=>d(i.currentUser)),t2(i,g=>d(g))}}const l=Yv("auth");return l&&Dx(i,`http://${l}`),i}function gR(){return document.getElementsByTagName("head")?.[0]??document}Ex({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const u=xi("internal-error");u.customData=l,i(u)},r.type="text/javascript",r.charset="UTF-8",gR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uR("Browser");var H_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Rr,Bb;(function(){var s;function e(N,R){function I(){}I.prototype=R.prototype,N.F=R.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(V,D,j){for(var x=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)x[ht-2]=arguments[ht];return R.prototype[D].apply(V,x)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,R,I){I||(I=0);const V=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)V[D]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(D=0;D<16;++D)V[D]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=N.g[0],I=N.g[1],D=N.g[2];let j=N.g[3],x;x=R+(j^I&(D^j))+V[0]+3614090360&4294967295,R=I+(x<<7&4294967295|x>>>25),x=j+(D^R&(I^D))+V[1]+3905402710&4294967295,j=R+(x<<12&4294967295|x>>>20),x=D+(I^j&(R^I))+V[2]+606105819&4294967295,D=j+(x<<17&4294967295|x>>>15),x=I+(R^D&(j^R))+V[3]+3250441966&4294967295,I=D+(x<<22&4294967295|x>>>10),x=R+(j^I&(D^j))+V[4]+4118548399&4294967295,R=I+(x<<7&4294967295|x>>>25),x=j+(D^R&(I^D))+V[5]+1200080426&4294967295,j=R+(x<<12&4294967295|x>>>20),x=D+(I^j&(R^I))+V[6]+2821735955&4294967295,D=j+(x<<17&4294967295|x>>>15),x=I+(R^D&(j^R))+V[7]+4249261313&4294967295,I=D+(x<<22&4294967295|x>>>10),x=R+(j^I&(D^j))+V[8]+1770035416&4294967295,R=I+(x<<7&4294967295|x>>>25),x=j+(D^R&(I^D))+V[9]+2336552879&4294967295,j=R+(x<<12&4294967295|x>>>20),x=D+(I^j&(R^I))+V[10]+4294925233&4294967295,D=j+(x<<17&4294967295|x>>>15),x=I+(R^D&(j^R))+V[11]+2304563134&4294967295,I=D+(x<<22&4294967295|x>>>10),x=R+(j^I&(D^j))+V[12]+1804603682&4294967295,R=I+(x<<7&4294967295|x>>>25),x=j+(D^R&(I^D))+V[13]+4254626195&4294967295,j=R+(x<<12&4294967295|x>>>20),x=D+(I^j&(R^I))+V[14]+2792965006&4294967295,D=j+(x<<17&4294967295|x>>>15),x=I+(R^D&(j^R))+V[15]+1236535329&4294967295,I=D+(x<<22&4294967295|x>>>10),x=R+(D^j&(I^D))+V[1]+4129170786&4294967295,R=I+(x<<5&4294967295|x>>>27),x=j+(I^D&(R^I))+V[6]+3225465664&4294967295,j=R+(x<<9&4294967295|x>>>23),x=D+(R^I&(j^R))+V[11]+643717713&4294967295,D=j+(x<<14&4294967295|x>>>18),x=I+(j^R&(D^j))+V[0]+3921069994&4294967295,I=D+(x<<20&4294967295|x>>>12),x=R+(D^j&(I^D))+V[5]+3593408605&4294967295,R=I+(x<<5&4294967295|x>>>27),x=j+(I^D&(R^I))+V[10]+38016083&4294967295,j=R+(x<<9&4294967295|x>>>23),x=D+(R^I&(j^R))+V[15]+3634488961&4294967295,D=j+(x<<14&4294967295|x>>>18),x=I+(j^R&(D^j))+V[4]+3889429448&4294967295,I=D+(x<<20&4294967295|x>>>12),x=R+(D^j&(I^D))+V[9]+568446438&4294967295,R=I+(x<<5&4294967295|x>>>27),x=j+(I^D&(R^I))+V[14]+3275163606&4294967295,j=R+(x<<9&4294967295|x>>>23),x=D+(R^I&(j^R))+V[3]+4107603335&4294967295,D=j+(x<<14&4294967295|x>>>18),x=I+(j^R&(D^j))+V[8]+1163531501&4294967295,I=D+(x<<20&4294967295|x>>>12),x=R+(D^j&(I^D))+V[13]+2850285829&4294967295,R=I+(x<<5&4294967295|x>>>27),x=j+(I^D&(R^I))+V[2]+4243563512&4294967295,j=R+(x<<9&4294967295|x>>>23),x=D+(R^I&(j^R))+V[7]+1735328473&4294967295,D=j+(x<<14&4294967295|x>>>18),x=I+(j^R&(D^j))+V[12]+2368359562&4294967295,I=D+(x<<20&4294967295|x>>>12),x=R+(I^D^j)+V[5]+4294588738&4294967295,R=I+(x<<4&4294967295|x>>>28),x=j+(R^I^D)+V[8]+2272392833&4294967295,j=R+(x<<11&4294967295|x>>>21),x=D+(j^R^I)+V[11]+1839030562&4294967295,D=j+(x<<16&4294967295|x>>>16),x=I+(D^j^R)+V[14]+4259657740&4294967295,I=D+(x<<23&4294967295|x>>>9),x=R+(I^D^j)+V[1]+2763975236&4294967295,R=I+(x<<4&4294967295|x>>>28),x=j+(R^I^D)+V[4]+1272893353&4294967295,j=R+(x<<11&4294967295|x>>>21),x=D+(j^R^I)+V[7]+4139469664&4294967295,D=j+(x<<16&4294967295|x>>>16),x=I+(D^j^R)+V[10]+3200236656&4294967295,I=D+(x<<23&4294967295|x>>>9),x=R+(I^D^j)+V[13]+681279174&4294967295,R=I+(x<<4&4294967295|x>>>28),x=j+(R^I^D)+V[0]+3936430074&4294967295,j=R+(x<<11&4294967295|x>>>21),x=D+(j^R^I)+V[3]+3572445317&4294967295,D=j+(x<<16&4294967295|x>>>16),x=I+(D^j^R)+V[6]+76029189&4294967295,I=D+(x<<23&4294967295|x>>>9),x=R+(I^D^j)+V[9]+3654602809&4294967295,R=I+(x<<4&4294967295|x>>>28),x=j+(R^I^D)+V[12]+3873151461&4294967295,j=R+(x<<11&4294967295|x>>>21),x=D+(j^R^I)+V[15]+530742520&4294967295,D=j+(x<<16&4294967295|x>>>16),x=I+(D^j^R)+V[2]+3299628645&4294967295,I=D+(x<<23&4294967295|x>>>9),x=R+(D^(I|~j))+V[0]+4096336452&4294967295,R=I+(x<<6&4294967295|x>>>26),x=j+(I^(R|~D))+V[7]+1126891415&4294967295,j=R+(x<<10&4294967295|x>>>22),x=D+(R^(j|~I))+V[14]+2878612391&4294967295,D=j+(x<<15&4294967295|x>>>17),x=I+(j^(D|~R))+V[5]+4237533241&4294967295,I=D+(x<<21&4294967295|x>>>11),x=R+(D^(I|~j))+V[12]+1700485571&4294967295,R=I+(x<<6&4294967295|x>>>26),x=j+(I^(R|~D))+V[3]+2399980690&4294967295,j=R+(x<<10&4294967295|x>>>22),x=D+(R^(j|~I))+V[10]+4293915773&4294967295,D=j+(x<<15&4294967295|x>>>17),x=I+(j^(D|~R))+V[1]+2240044497&4294967295,I=D+(x<<21&4294967295|x>>>11),x=R+(D^(I|~j))+V[8]+1873313359&4294967295,R=I+(x<<6&4294967295|x>>>26),x=j+(I^(R|~D))+V[15]+4264355552&4294967295,j=R+(x<<10&4294967295|x>>>22),x=D+(R^(j|~I))+V[6]+2734768916&4294967295,D=j+(x<<15&4294967295|x>>>17),x=I+(j^(D|~R))+V[13]+1309151649&4294967295,I=D+(x<<21&4294967295|x>>>11),x=R+(D^(I|~j))+V[4]+4149444226&4294967295,R=I+(x<<6&4294967295|x>>>26),x=j+(I^(R|~D))+V[11]+3174756917&4294967295,j=R+(x<<10&4294967295|x>>>22),x=D+(R^(j|~I))+V[2]+718787259&4294967295,D=j+(x<<15&4294967295|x>>>17),x=I+(j^(D|~R))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+j&4294967295}r.prototype.v=function(N,R){R===void 0&&(R=N.length);const I=R-this.blockSize,V=this.C;let D=this.h,j=0;for(;j<R;){if(D==0)for(;j<=I;)l(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<R;)if(V[D++]=N.charCodeAt(j++),D==this.blockSize){l(this,V),D=0;break}}else for(;j<R;)if(V[D++]=N[j++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=R},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;R=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=R&255,R/=256;for(this.v(N),N=Array(16),R=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)N[R++]=this.g[I]>>>V&255;return N};function u(N,R){var I=g;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=R(N)}function d(N,R){this.h=R;const I=[];let V=!0;for(let D=N.length-1;D>=0;D--){const j=N[D]|0;V&&j==R||(I[D]=j,V=!1)}this.g=I}var g={};function y(N){return-128<=N&&N<128?u(N,function(R){return new d([R|0],R<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return w;if(N<0)return ne(_(-N));const R=[];let I=1;for(let V=0;N>=I;V++)R[V]=N/I|0,I*=4294967296;return new d(R,0)}function A(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return ne(A(N.substring(1),R));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(R,8));let V=w;for(let j=0;j<N.length;j+=8){var D=Math.min(8,N.length-j);const x=parseInt(N.substring(j,j+D),R);D<8?(D=_(Math.pow(R,D)),V=V.j(D).add(_(x))):(V=V.j(I),V=V.add(_(x)))}return V}var w=y(0),S=y(1),K=y(16777216);s=d.prototype,s.m=function(){if(ie(this))return-ne(this).m();let N=0,R=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);N+=(V>=0?V:4294967296+V)*R,R*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(W(this))return"0";if(ie(this))return"-"+ne(this).toString(N);const R=_(Math.pow(N,6));var I=this;let V="";for(;;){const D=ke(I,R).g;I=ye(I,D.j(R));let j=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=D,W(I))return j+V;for(;j.length<6;)j="0"+j;V=j+V}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function W(N){if(N.h!=0)return!1;for(let R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function ie(N){return N.h==-1}s.l=function(N){return N=ye(this,N),ie(N)?-1:W(N)?0:1};function ne(N){const R=N.g.length,I=[];for(let V=0;V<R;V++)I[V]=~N.g[V];return new d(I,~N.h).add(S)}s.abs=function(){return ie(this)?ne(this):this},s.add=function(N){const R=Math.max(this.g.length,N.g.length),I=[];let V=0;for(let D=0;D<=R;D++){let j=V+(this.i(D)&65535)+(N.i(D)&65535),x=(j>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);V=x>>>16,j&=65535,x&=65535,I[D]=x<<16|j}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ye(N,R){return N.add(ne(R))}s.j=function(N){if(W(this)||W(N))return w;if(ie(this))return ie(N)?ne(this).j(ne(N)):ne(ne(this).j(N));if(ie(N))return ne(this.j(ne(N)));if(this.l(K)<0&&N.l(K)<0)return _(this.m()*N.m());const R=this.g.length+N.g.length,I=[];for(var V=0;V<2*R;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<N.g.length;D++){const j=this.i(V)>>>16,x=this.i(V)&65535,ht=N.i(D)>>>16,bt=N.i(D)&65535;I[2*V+2*D]+=x*bt,ve(I,2*V+2*D),I[2*V+2*D+1]+=j*bt,ve(I,2*V+2*D+1),I[2*V+2*D+1]+=x*ht,ve(I,2*V+2*D+1),I[2*V+2*D+2]+=j*ht,ve(I,2*V+2*D+2)}for(N=0;N<R;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=R;N<2*R;N++)I[N]=0;return new d(I,0)};function ve(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function Te(N,R){this.g=N,this.h=R}function ke(N,R){if(W(R))throw Error("division by zero");if(W(N))return new Te(w,w);if(ie(N))return R=ke(ne(N),R),new Te(ne(R.g),ne(R.h));if(ie(R))return R=ke(N,ne(R)),new Te(ne(R.g),R.h);if(N.g.length>30){if(ie(N)||ie(R))throw Error("slowDivide_ only works with positive integers.");for(var I=S,V=R;V.l(N)<=0;)I=Je(I),V=Je(V);var D=Ve(I,1),j=Ve(V,1);for(V=Ve(V,2),I=Ve(I,2);!W(V);){var x=j.add(V);x.l(N)<=0&&(D=D.add(I),j=x),V=Ve(V,1),I=Ve(I,1)}return R=ye(N,D.j(R)),new Te(D,R)}for(D=w;N.l(R)>=0;){for(I=Math.max(1,Math.floor(N.m()/R.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),j=_(I),x=j.j(R);ie(x)||x.l(N)>0;)I-=V,j=_(I),x=j.j(R);W(j)&&(j=S),D=D.add(j),N=ye(N,x)}return new Te(D,N)}s.B=function(N){return ke(this,N).h},s.and=function(N){const R=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)&N.i(V);return new d(I,this.h&N.h)},s.or=function(N){const R=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)|N.i(V);return new d(I,this.h|N.h)},s.xor=function(N){const R=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)^N.i(V);return new d(I,this.h^N.h)};function Je(N){const R=N.g.length+1,I=[];for(let V=0;V<R;V++)I[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(I,N.h)}function Ve(N,R){const I=R>>5;R%=32;const V=N.g.length-I,D=[];for(let j=0;j<V;j++)D[j]=R>0?N.i(j+I)>>>R|N.i(j+I+1)<<32-R:N.i(j+I);return new d(D,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Bb=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Rr=d}).apply(typeof H_<"u"?H_:typeof self<"u"?self:typeof window<"u"?window:{});var zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var qb,Pl,Hb,Xu,gm,Gb,Fb,$b;(function(){var s,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof zu=="object"&&zu];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(c,m){if(m)e:{var v=r;c=c.split(".");for(var T=0;T<c.length-1;T++){var L=c[T];if(!(L in v))break e;v=v[L]}c=c[c.length-1],T=v[c],m=m(T),m!=T&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var u=u||{},d=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function y(c,m,v){return c.call.apply(c.bind,arguments)}function _(c,m,v){return _=y,_.apply(null,arguments)}function A(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function w(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(T,L,H){for(var se=Array(arguments.length-2),De=2;De<arguments.length;De++)se[De-2]=arguments[De];return m.prototype[L].apply(T,se)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function K(c){const m=c.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=c[T];return v}return[]}function W(c,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const H=L.length||0;c.length=v+H;for(let se=0;se<H;se++)c[v+se]=L[se]}else c.push(L)}}class ie{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ne(c){d.setTimeout(()=>{throw c},0)}function ye(){var c=N;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class ve{constructor(){this.h=this.g=null}add(m,v){const T=Te.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var Te=new ie(()=>new ke,c=>c.reset());class ke{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Je,Ve=!1,N=new ve,R=()=>{const c=Promise.resolve(void 0);Je=()=>{c.then(I)}};function I(){for(var c;c=ye();){try{c.h.call(c.g)}catch(v){ne(v)}var m=Te;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Ve=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function x(c){return/^[\s\xa0]*$/.test(c)}function ht(c,m){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}w(ht,D),ht.prototype.init=function(c,m){const v=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ht.Z.h.call(this)},ht.prototype.h=function(){ht.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var bt="closure_listenable_"+(Math.random()*1e6|0),$=0;function re(c,m,v,T,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++$,this.da=this.fa=!1}function ee(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Fe(c,m,v){for(const T in c)m.call(v,c[T],T,c)}function de(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function M(c){const m={};for(const v in c)m[v]=c[v];return m}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)c[v]=T[v];for(let H=0;H<F.length;H++)v=F[H],Object.prototype.hasOwnProperty.call(T,v)&&(c[v]=T[v])}}function te(c){this.src=c,this.g={},this.h=0}te.prototype.add=function(c,m,v,T,L){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const se=xe(c,m,T,L);return se>-1?(m=c[se],v||(m.fa=!1)):(m=new re(m,this.src,H,!!T,L),m.fa=v,c.push(m)),m};function me(c,m){const v=m.type;if(v in c.g){var T=c.g[v],L=Array.prototype.indexOf.call(T,m,void 0),H;(H=L>=0)&&Array.prototype.splice.call(T,L,1),H&&(ee(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function xe(c,m,v,T){for(let L=0;L<c.length;++L){const H=c[L];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==T)return L}return-1}var Ie="closure_lm_"+(Math.random()*1e6|0),Et={};function Pe(c,m,v,T,L){if(Array.isArray(m)){for(let H=0;H<m.length;H++)Pe(c,m[H],v,T,L);return null}return v=os(v),c&&c[bt]?c.J(m,v,g(T)?!!T.capture:!1,L):Ni(c,m,v,!1,T,L)}function Ni(c,m,v,T,L,H){if(!m)throw Error("Invalid event type");const se=g(L)?!!L.capture:!!L;let De=Wt(c);if(De||(c[Ie]=De=new te(c)),v=De.add(m,v,T,se,H),v.proxy)return v;if(T=En(),v.proxy=T,T.src=c,T.listener=v,c.addEventListener)j||(L=se),L===void 0&&(L=!1),c.addEventListener(m.toString(),T,L);else if(c.attachEvent)c.attachEvent(Nn(m.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function En(){function c(v){return m.call(c.src,c.listener,v)}const m=as;return c}function rs(c,m,v,T,L){if(Array.isArray(m))for(var H=0;H<m.length;H++)rs(c,m[H],v,T,L);else T=g(T)?!!T.capture:!!T,v=os(v),c&&c[bt]?(c=c.i,H=String(m).toString(),H in c.g&&(m=c.g[H],v=xe(m,v,T,L),v>-1&&(ee(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[H],c.h--)))):c&&(c=Wt(c))&&(m=c.g[m.toString()],c=-1,m&&(c=xe(m,v,T,L)),(v=c>-1?m[c]:null)&&hi(v))}function hi(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[bt])me(m.i,c);else{var v=c.type,T=c.proxy;m.removeEventListener?m.removeEventListener(v,T,c.capture):m.detachEvent?m.detachEvent(Nn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Wt(m))?(me(v,c),v.h==0&&(v.src=null,m[Ie]=null)):ee(c)}}}function Nn(c){return c in Et?Et[c]:Et[c]="on"+c}function as(c,m){if(c.da)c=!0;else{m=new ht(m,this);const v=c.listener,T=c.ha||c.src;c.fa&&hi(c),c=v.call(T,m)}return c}function Wt(c){return c=c[Ie],c instanceof te?c:null}var Di="__closure_events_fn_"+(Math.random()*1e9>>>0);function os(c){return typeof c=="function"?c:(c[Di]||(c[Di]=function(m){return c.handleEvent(m)}),c[Di])}function yt(){V.call(this),this.i=new te(this),this.M=this,this.G=null}w(yt,V),yt.prototype[bt]=!0,yt.prototype.removeEventListener=function(c,m,v,T){rs(this,c,m,v,T)};function It(c,m){var v,T=c.G;if(T)for(v=[];T;T=T.G)v.push(T);if(c=c.M,T=m.type||m,typeof m=="string")m=new D(m,c);else if(m instanceof D)m.target=m.target||c;else{var L=m;m=new D(T,c),ae(m,L)}L=!0;let H,se;if(v)for(se=v.length-1;se>=0;se--)H=m.g=v[se],L=Dn(H,T,!0,m)&&L;if(H=m.g=c,L=Dn(H,T,!0,m)&&L,L=Dn(H,T,!1,m)&&L,v)for(se=0;se<v.length;se++)H=m.g=v[se],L=Dn(H,T,!1,m)&&L}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let T=0;T<v.length;T++)ee(v[T]);delete c.g[m],c.h--}}this.G=null},yt.prototype.J=function(c,m,v,T){return this.i.add(String(c),m,!1,v,T)},yt.prototype.K=function(c,m,v,T){return this.i.add(String(c),m,!0,v,T)};function Dn(c,m,v,T){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let H=0;H<m.length;++H){const se=m[H];if(se&&!se.da&&se.capture==v){const De=se.listener,Nt=se.ha||se.src;se.fa&&me(c.i,se),L=De.call(Nt,T)!==!1&&L}}return L&&!T.defaultPrevented}function Vt(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function zs(c){c.g=Vt(()=>{c.g=null,c.i&&(c.i=!1,zs(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class kt extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:zs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ls(c){V.call(this),this.h=c,this.g={}}w(ls,V);var Oi=[];function cs(c){Fe(c.g,function(m,v){this.g.hasOwnProperty(v)&&hi(m)},c),c.g={}}ls.prototype.N=function(){ls.Z.N.call(this),cs(this)},ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mi=d.JSON.stringify,Sa=d.JSON.parse,Gn=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function fi(){}function jr(){}var On={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function dt(){D.call(this,"d")}w(dt,D);function yn(){D.call(this,"c")}w(yn,D);var Ke={},di=null;function Vi(){return di=di||new yt}Ke.Ia="serverreachability";function Lr(c){D.call(this,Ke.Ia,c)}w(Lr,D);function Fn(c){const m=Vi();It(m,new Lr(m))}Ke.STAT_EVENT="statevent";function us(c,m){D.call(this,Ke.STAT_EVENT,c),this.stat=m}w(us,D);function At(c){const m=Vi();It(m,new us(m,c))}Ke.Ja="timingevent";function $n(c,m){D.call(this,Ke.Ja,c),this.size=m}w($n,D);function Qn(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function Mn(){this.g=!0}Mn.prototype.ua=function(){this.g=!1};function qo(c,m,v,T,L,H){c.info(function(){if(c.g)if(H){var se="",De=H.split("&");for(let et=0;et<De.length;et++){var Nt=De[et].split("=");if(Nt.length>1){const _t=Nt[0];Nt=Nt[1];const Wn=_t.split("_");se=Wn.length>=2&&Wn[1]=="type"?se+(_t+"="+Nt+"&"):se+(_t+"=redacted&")}}}else se=null;else se=H;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+se})}function Aa(c,m,v,T,L,H,se){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+H+" "+se})}function Vn(c,m,v,T){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+wa(c,v)+(T?" "+T:"")})}function hs(c,m){c.info(function(){return"TIMEOUT: "+m})}Mn.prototype.info=function(){};function wa(c,m){if(!c.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var v=H[c];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let se=1;se<T.length;se++)T[se]=""}}}}return Mi(H)}catch{return m}}var ki={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Bs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ur;function fs(){}w(fs,fi),fs.prototype.g=function(){return new XMLHttpRequest},Ur=new fs;function mi(c){return encodeURIComponent(String(c))}function xa(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function kn(c,m,v,T){this.j=c,this.i=m,this.l=v,this.S=T||1,this.V=new ls(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jn}function jn(){this.i=null,this.g="",this.h=!1}var wt={},jt={};function Kn(c,m,v){c.M=1,c.A=Pr(xt(m)),c.u=v,c.R=!0,gi(c,null)}function gi(c,m){c.F=Date.now(),Yn(c),c.B=xt(c.A);var v=c.B,T=c.S;Array.isArray(T)||(T=[String(T)]),Da(v.i,"t",T),c.C=0,v=c.j.L,c.h=new jn,c.g=Rc(c.j,v?m:null,!c.u),c.P>0&&(c.O=new kt(_(c.Y,c,c.g),c.P)),m=c.V,v=c.g,T=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Oi[0]=L.toString()),L=Oi);for(let H=0;H<L.length;H++){const se=Pe(v,L[H],T||m.handleEvent,!1,m.h||m);if(!se)break;m.g[se.key]=se}m=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),Fn(),qo(c.i,c.v,c.B,c.l,c.S,c.u)}kn.prototype.ba=function(c){c=c.target;const m=this.O;m&&_i(c)==3?m.j():this.Y(c)},kn.prototype.Y=function(c){try{if(c==this.g)e:{const De=_i(this.g),Nt=this.g.ya(),et=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||De!=4||Nt==7||(Nt==8||et<=0?Fn(3):Fn(2)),Xn(this);var m=this.g.ca();this.X=m;var v=Ra(this);if(this.o=m==200,Aa(this.i,this.v,this.B,this.l,this.S,De,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(T)){var H=T;break t}}H=null}if(c=H)Vn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_e(this,c);else{this.o=!1,this.m=3,At(12),oe(this),B(this);break e}}if(this.R){c=!0;let _t;for(;!this.K&&this.C<v.length;)if(_t=Ia(this,v),_t==jt){De==4&&(this.m=4,At(14),c=!1),Vn(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==wt){this.m=4,At(15),Vn(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else Vn(this.i,this.l,_t,null),_e(this,_t);if(Ca(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||v.length!=0||this.h.h||(this.m=1,At(16),c=!1),this.o=this.o&&c,!c)Vn(this.i,this.l,v,"[Invalid Chunked Response]"),oe(this),B(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Zo(se),se.P=!0,At(11))}}else Vn(this.i,this.l,v,null),_e(this,v);De==4&&oe(this),this.o&&!this.K&&(De==4?Sc(this.j,this):(this.o=!1,Yn(this)))}else gs(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),oe(this),B(this)}}}catch{}finally{}};function Ra(c){if(!Ca(c))return c.g.la();const m=tn(c.g);if(m==="")return"";let v="";const T=m.length,L=_i(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return oe(c),B(c),"";c.h.i=new d.TextDecoder}for(let H=0;H<T;H++)c.h.h=!0,v+=c.h.i.decode(m[H],{stream:!(L&&H==T-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function Ca(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Ia(c,m){var v=c.C,T=m.indexOf(`
`,v);return T==-1?jt:(v=Number(m.substring(v,T)),isNaN(v)?wt:(T+=1,T+v>m.length?jt:(m=m.slice(T,T+v),c.C=T+v,m)))}kn.prototype.cancel=function(){this.K=!0,oe(this)};function Yn(c){c.T=Date.now()+c.H,z(c,c.H)}function z(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Qn(_(c.aa,c),m)}function Xn(c){c.D&&(d.clearTimeout(c.D),c.D=null)}kn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(hs(this.i,this.B),this.M!=2&&(Fn(),At(17)),oe(this),this.m=2,B(this)):z(this,this.T-c)};function B(c){c.j.I==0||c.K||Sc(c.j,c)}function oe(c){Xn(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,cs(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function _e(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||Ne(v.h,c))){if(!c.L&&Ne(v.h,c)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ja(v),Ys(v);else break e;$r(v),At(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Qn(_(v.Va,v),6e3));Ye(v.h)<=1&&v.ta&&(v.ta=void 0)}else Bi(v,11)}else if((c.L||v.g==c)&&ja(v),!x(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let et=L[m];const _t=et[0];if(!(_t<=v.K))if(v.K=_t,et=et[1],v.I==2)if(et[0]=="c"){v.M=et[1],v.ba=et[2];const Wn=et[3];Wn!=null&&(v.ka=Wn,v.j.info("VER="+v.ka));const qi=et[4];qi!=null&&(v.za=qi,v.j.info("SVER="+v.za));const vi=et[5];vi!=null&&typeof vi=="number"&&vi>0&&(T=1.5*vi,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const bi=c.g;if(bi){const Qr=bi.g?bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qr){var H=T.h;H.g||Qr.indexOf("spdy")==-1&&Qr.indexOf("quic")==-1&&Qr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Ft(H,H.h),H.h=null))}if(T.G){const La=bi.g?bi.g.getResponseHeader("X-HTTP-Session-Id"):null;La&&(T.wa=La,it(T.J,T.G,La))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var se=c;if(T.na=xc(T,T.L?T.ba:null,T.W),se.L){ds(T.h,se);var De=se,Nt=T.O;Nt&&(De.H=Nt),De.D&&(Xn(De),Yn(De)),T.g=se}else Ec(T);v.i.length>0&&zi(v)}else et[0]!="stop"&&et[0]!="close"||Bi(v,7);else v.I==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?Bi(v,7):Xo(v):et[0]!="noop"&&v.l&&v.l.qa(et),v.A=0)}}Fn(4)}catch{}}var he=class{constructor(c,m){this.g=c,this.map=m}};function je(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tt(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ye(c){return c.h?1:c.g?c.g.size:0}function Ne(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Ft(c,m){c.g?c.g.add(m):c.h=m}function ds(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}je.prototype.cancel=function(){if(this.i=en(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function en(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return K(c.i)}var un=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hn(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const T=c[v].indexOf("=");let L,H=null;T>=0?(L=c[v].substring(0,T),H=c[v].substring(T+1)):L=c[v],m(L,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Lt(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof Lt?(this.l=c.l,Yt(this,c.j),this.o=c.o,this.g=c.g,qs(this,c.u),this.h=c.h,Ho(this,vc(c.i)),this.m=c.m):c&&(m=String(c).match(un))?(this.l=!1,Yt(this,m[1]||"",!0),this.o=ji(m[2]||""),this.g=ji(m[3]||"",!0),qs(this,m[4]),this.h=ji(m[5]||"",!0),Ho(this,m[6]||"",!0),this.m=ji(m[7]||"")):(this.l=!1,this.i=new Gs(null,this.l))}Lt.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(zr(m,Na,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(zr(m,Na,!0),"@"),c.push(mi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(zr(v,v.charAt(0)=="/"?Go:pc,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",zr(v,yc)),c.join("")},Lt.prototype.resolve=function(c){const m=xt(this);let v=!!c.j;v?Yt(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var T=c.h;if(v)qs(m,c.u);else if(v=!!c.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const H=[];for(let se=0;se<L.length;){const De=L[se++];De=="."?T&&se==L.length&&H.push(""):De==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),T&&se==L.length&&H.push("")):(H.push(De),T=!0)}T=H.join("/")}else T=L}return v?m.h=T:v=c.i.toString()!=="",v?Ho(m,vc(c.i)):v=!!c.m,v&&(m.m=c.m),m};function xt(c){return new Lt(c)}function Yt(c,m,v){c.j=v?ji(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function qs(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Ho(c,m,v){m instanceof Gs?(c.i=m,Oa(c.i,c.l)):(v||(m=zr(m,Hs)),c.i=new Gs(m,c.l))}function it(c,m,v){c.i.set(m,v)}function Pr(c){return it(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ji(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function zr(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,Tn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Tn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Na=/[#\/\?@]/g,pc=/[#\?:]/g,Go=/[#\?]/g,Hs=/[#\?@]/g,yc=/#/g;function Gs(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Sn(c){c.g||(c.g=new Map,c.h=0,c.i&&hn(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Gs.prototype,s.add=function(c,m){Sn(this),this.i=null,c=Fs(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function _c(c,m){Sn(c),m=Fs(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Fo(c,m){return Sn(c),m=Fs(c,m),c.g.has(m)}s.forEach=function(c,m){Sn(this),this.g.forEach(function(v,T){v.forEach(function(L){c.call(m,L,T,this)},this)},this)};function $o(c,m){Sn(c);let v=[];if(typeof m=="string")Fo(c,m)&&(v=v.concat(c.g.get(Fs(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return Sn(this),this.i=null,c=Fs(this,c),Fo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=$o(this,c),c.length>0?String(c[0]):m):m};function Da(c,m,v){_c(c,m),v.length>0&&(c.i=null,c.g.set(Fs(c,m),K(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=mi(v);v=$o(this,v);for(let H=0;H<v.length;H++){let se=L;v[H]!==""&&(se+="="+mi(v[H])),c.push(se)}}return this.i=c.join("&")};function vc(c){const m=new Gs;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function Fs(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function Oa(c,m){m&&!c.j&&(Sn(c),c.i=null,c.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(_c(this,T),Da(this,L,v))},c)),c.j=m}function pi(c,m){const v=new Mn;if(d.Image){const T=new Image;T.onload=A(Jn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Jn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(Jn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Jn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else m(!1)}function Qo(c,m){const v=new Mn,T=new AbortController,L=setTimeout(()=>{T.abort(),Jn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:T.signal}).then(H=>{clearTimeout(L),H.ok?Jn(v,"TestPingServer: ok",!0,m):Jn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Jn(v,"TestPingServer: error",!1,m)})}function Jn(c,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function $s(){this.g=new Gn}function Li(c){this.i=c.Sb||null,this.h=c.ab||!1}w(Li,fi),Li.prototype.g=function(){return new Br(this.i,this.h)};function Br(c,m){yt.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Br,yt),s=Br.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,yi(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Qs(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ma(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ma(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Qs(this):yi(this),this.readyState==3&&Ma(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,Qs(this))},s.Na=function(c){this.g&&(this.response=c,Qs(this))},s.ga=function(){this.g&&Qs(this)};function Qs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,yi(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function yi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Br.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Zn(c){let m="";return Fe(c,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function qr(c,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Zn(v),typeof c=="string"?v!=null&&mi(v):it(c,m,v))}function at(c){yt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(at,yt);var Ui=/^https?$/i,Ko=["POST","PUT"];s=at.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ur.g(),this.g.onreadystatechange=S(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(H){Hr(this,H);return}if(c=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())v.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),L=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Ko,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,se]of v)this.g.setRequestHeader(H,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){Hr(this,H)}};function Hr(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Yo(c),ms(c)}function Yo(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,It(this,"complete"),It(this,"abort"),ms(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ms(this,!0)),at.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Gr(this):this.Xa())},s.Xa=function(){Gr(this)};function Gr(c){if(c.h&&typeof u<"u"){if(c.v&&_i(c)==4)setTimeout(c.Ca.bind(c),0);else if(It(c,"readystatechange"),_i(c)==4){c.h=!1;try{const H=c.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=H===0){let se=String(c.D).match(un)[1]||null;!se&&d.self&&d.self.location&&(se=d.self.location.protocol.slice(0,-1)),T=!Ui.test(se?se.toLowerCase():"")}v=T}if(v)It(c,"complete"),It(c,"success");else{c.o=6;try{var L=_i(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Yo(c)}}finally{ms(c)}}}}function ms(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||It(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function _i(c){return c.g?c.g.readyState:0}s.ca=function(){try{return _i(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Sa(m)}};function tn(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function gs(c){const m={};c=(c.g&&_i(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(x(c[T]))continue;var v=xa(c[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[L]||[];m[L]=H,H.push(v)}de(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function Ks(c){this.za=0,this.i=[],this.j=new Mn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Pi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Pi("baseRetryDelayMs",5e3,c),this.Za=Pi("retryDelaySeedMs",1e4,c),this.Ta=Pi("forwardChannelMaxRetries",2,c),this.va=Pi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new je(c&&c.concurrentRequestLimit),this.Ba=new $s,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ks.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,T){At(0),this.W=c,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=xc(this,null,this.W),zi(this)};function Xo(c){if(Va(c),c.I==3){var m=c.V++,v=xt(c.J);if(it(v,"SID",c.M),it(v,"RID",m),it(v,"TYPE","terminate"),Fr(c,v),m=new kn(c,c.j,m),m.M=2,m.A=Pr(xt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Rc(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Yn(m)}wc(c)}function Ys(c){c.g&&(Zo(c),c.g.cancel(),c.g=null)}function Va(c){Ys(c),c.v&&(d.clearTimeout(c.v),c.v=null),ja(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function zi(c){if(!Tt(c.h)&&!c.m){c.m=!0;var m=c.Ea;Je||R(),Ve||(Je(),Ve=!0),N.add(m,c),c.D=0}}function ka(c,m){return Ye(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Qn(_(c.Ea,c,m),Ac(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new kn(this,this.j,c);let H=this.o;if(this.U&&(H?(H=M(H),ae(H,this.U)):H=this.U),this.u!==null||this.R||(L.J=H,H=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=bc(this,L,m),v=xt(this.J),it(v,"RID",c),it(v,"CVER",22),this.G&&it(v,"X-HTTP-Session-Id",this.G),Fr(this,v),H&&(this.R?m="headers="+mi(Zn(H))+"&"+m:this.u&&qr(v,this.u,H)),Ft(this.h,L),this.Ra&&it(v,"TYPE","init"),this.S?(it(v,"$req",m),it(v,"SID","null"),L.U=!0,Kn(L,v,null)):Kn(L,v,m),this.I=2}}else this.I==3&&(c?Jo(this,c):this.i.length==0||Tt(this.h)||Jo(this))};function Jo(c,m){var v;m?v=m.l:v=c.V++;const T=xt(c.J);it(T,"SID",c.M),it(T,"RID",v),it(T,"AID",c.K),Fr(c,T),c.u&&c.o&&qr(T,c.u,c.o),v=new kn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=bc(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ft(c.h,v),Kn(v,T,m)}function Fr(c,m){c.H&&Fe(c.H,function(v,T){it(m,T,v)}),c.l&&Fe({},function(v,T){it(m,T,v)})}function bc(c,m,v){v=Math.min(c.i.length,v);const T=c.l?_(c.l.Ka,c.l,c):null;e:{var L=c.i;let De=-1;for(;;){const Nt=["count="+v];De==-1?v>0?(De=L[0].g,Nt.push("ofs="+De)):De=0:Nt.push("ofs="+De);let et=!0;for(let _t=0;_t<v;_t++){var H=L[_t].g;const Wn=L[_t].map;if(H-=De,H<0)De=Math.max(0,L[_t].g-100),et=!1;else try{H="req"+H+"_"||"";try{var se=Wn instanceof Map?Wn:Object.entries(Wn);for(const[qi,vi]of se){let bi=vi;g(vi)&&(bi=Mi(vi)),Nt.push(H+qi+"="+encodeURIComponent(bi))}}catch(qi){throw Nt.push(H+"type="+encodeURIComponent("_badmap")),qi}}catch{T&&T(Wn)}}if(et){se=Nt.join("&");break e}}se=void 0}return c=c.i.splice(0,v),m.G=c,se}function Ec(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Je||R(),Ve||(Je(),Ve=!0),N.add(m,c),c.A=0}}function $r(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Qn(_(c.Da,c),Ac(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Tc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Qn(_(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),Ys(this),Tc(this))};function Zo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Tc(c){c.g=new kn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=xt(c.na);it(m,"RID","rpc"),it(m,"SID",c.M),it(m,"AID",c.K),it(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&it(m,"TO",c.ia),it(m,"TYPE","xmlhttp"),Fr(c,m),c.u&&c.o&&qr(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Pr(xt(m)),v.u=null,v.R=!0,gi(v,c)}s.Va=function(){this.C!=null&&(this.C=null,Ys(this),$r(this),At(19))};function ja(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Sc(c,m){var v=null;if(c.g==m){ja(c),Zo(c),c.g=null;var T=2}else if(Ne(c.h,m))v=m.G,ds(c.h,m),T=1;else return;if(c.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;T=Vi(),It(T,new $n(T,v)),zi(c)}else Ec(c);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ka(c,m)||T==2&&$r(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),L){case 1:Bi(c,5);break;case 4:Bi(c,10);break;case 3:Bi(c,6);break;default:Bi(c,2)}}}function Ac(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Bi(c,m){if(c.j.info("Error code "+m),m==2){var v=_(c.bb,c),T=c.Ua;const L=!T;T=new Lt(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Yt(T,"https"),Pr(T),L?pi(T.toString(),v):Qo(T.toString(),v)}else At(2);c.I=0,c.l&&c.l.pa(m),wc(c),Va(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function wc(c){if(c.I=0,c.ja=[],c.l){const m=en(c.h);(m.length!=0||c.i.length!=0)&&(W(c.ja,m),W(c.ja,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.oa()}}function xc(c,m,v){var T=v instanceof Lt?xt(v):new Lt(v);if(T.g!="")m&&(T.g=m+"."+T.g),qs(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const H=new Lt(null);T&&Yt(H,T),m&&(H.g=m),L&&qs(H,L),v&&(H.h=v),T=H}return v=c.G,m=c.wa,v&&m&&it(T,v,m),it(T,"VER",c.ka),Fr(c,T),T}function Rc(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new at(new Li({ab:v})):new at(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cc(){}s=Cc.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Xs(){}Xs.prototype.g=function(c,m){return new _n(c,m)};function _n(c,m){yt.call(this),this.g=new Ks(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!x(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new ps(this)}w(_n,yt),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Xo(this.g)},_n.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Mi(c),c=v);m.i.push(new he(m.Ya++,c)),m.I==3&&zi(m)},_n.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,_n.Z.N.call(this)};function Ic(c){dt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}w(Ic,dt);function Nc(){yn.call(this),this.status=1}w(Nc,yn);function ps(c){this.g=c}w(ps,Cc),ps.prototype.ra=function(){It(this.g,"a")},ps.prototype.qa=function(c){It(this.g,new Ic(c))},ps.prototype.pa=function(c){It(this.g,new Nc)},ps.prototype.oa=function(){It(this.g,"b")},Xs.prototype.createWebChannel=Xs.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,$b=function(){return new Xs},Fb=function(){return Vi()},Gb=Ke,gm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ki.NO_ERROR=0,ki.TIMEOUT=8,ki.HTTP_ERROR=6,Xu=ki,Bs.COMPLETE="complete",Hb=Bs,jr.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",yt.prototype.listen=yt.prototype.J,Pl=jr,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,qb=at}).apply(typeof zu<"u"?zu:typeof self<"u"?self:typeof window<"u"?window:{});const G_="@firebase/firestore",F_="4.9.2";class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let Lo="12.3.0";const ya=new Om("@firebase/firestore");function go(){return ya.logLevel}function ce(s,...e){if(ya.logLevel<=qe.DEBUG){const i=e.map(Fm);ya.debug(`Firestore (${Lo}): ${s}`,...i)}}function Ls(s,...e){if(ya.logLevel<=qe.ERROR){const i=e.map(Fm);ya.error(`Firestore (${Lo}): ${s}`,...i)}}function Ro(s,...e){if(ya.logLevel<=qe.WARN){const i=e.map(Fm);ya.warn(`Firestore (${Lo}): ${s}`,...i)}}function Fm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ae(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,Qb(s,r,i)}function Qb(s,e,i){let r=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Ls(r),new Error(r)}function nt(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||Qb(e,l,r)}function Ce(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Ps{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fa{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Kb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(mn.UNAUTHENTICATED)))}shutdown(){}}class yR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class _R{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){nt(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let u=new fa;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new fa,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new fa)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string",31837,{l:r}),new Kb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class vR{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bR{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new vR(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ER{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){nt(this.o===void 0,3512);const r=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(nt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new $_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function TR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class $m{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=TR(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<i&&(r+=e.charAt(l[u]%62))}return r}}function He(s,e){return s<e?-1:s>e?1:0}function pm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),u=e.charAt(r);if(l!==u)return Wd(l)===Wd(u)?He(l,u):Wd(l)?1:-1}return He(s.length,e.length)}const SR=55296,AR=57343;function Wd(s){const e=s.charCodeAt(0);return e>=SR&&e<=AR}function Co(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}const Q_="__name__";class Ki{constructor(e,i,r){i===void 0?i=0:i>e.length&&Ae(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Ae(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Ki.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ki?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const u=Ki.compareSegments(e.get(l),i.get(l));if(u!==0)return u}return He(e.length,i.length)}static compareSegments(e,i){const r=Ki.isNumericId(e),l=Ki.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Ki.extractNumericId(e).compare(Ki.extractNumericId(i)):pm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rr.fromString(e.substring(4,e.length-2))}}class ft extends Ki{construct(e,i,r){return new ft(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ft(i)}static emptyPath(){return new ft([])}}const wR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Ki{construct(e,i,r){return new ln(e,i,r)}static isValidIdentifier(e){return wR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q_}static keyField(){return new ln([Q_])}static fromServerFormat(e){const i=[];let r="",l=0;const u=()=>{if(r.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new le(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new le(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(u(),l++)}if(u(),d)throw new le(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(i)}static emptyPath(){return new ln([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(ft.fromString(e))}static fromName(e){return new pe(ft.fromString(e).popFirst(5))}static empty(){return new pe(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ft.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new ft(e.slice()))}}function Yb(s,e,i){if(!i)throw new le(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function xR(s,e,i,r){if(e===!0&&r===!0)throw new le(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function K_(s){if(!pe.isDocumentKey(s))throw new le(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Y_(s){if(pe.isDocumentKey(s))throw new le(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Xb(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function xh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ae(12329,{type:typeof s})}function To(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new le(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=xh(s);throw new le(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Gt(s,e){const i={typeString:s};return e&&(i.value=e),i}function hc(s,e){if(!Xb(s))throw new le(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new le(J.INVALID_ARGUMENT,i);return!0}const X_=-62135596800,J_=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*J_);return new pt(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<X_)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/J_}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hc(e,pt._jsonSchema))return new pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-X_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pt._jsonSchemaVersion="firestore/timestamp/1.0",pt._jsonSchema={type:Gt("string",pt._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new pt(0,0))}static max(){return new we(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Jl=-1;function RR(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=we.fromTimestamp(r===1e9?new pt(i+1,0):new pt(i,r));return new Ir(l,pe.empty(),e)}function CR(s){return new Ir(s.readTime,s.key,Jl)}class Ir{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Ir(we.min(),pe.empty(),Jl)}static max(){return new Ir(we.max(),pe.empty(),Jl)}}function IR(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=pe.comparator(s.documentKey,e.documentKey),i!==0?i:He(s.largestBatchId,e.largestBatchId))}const NR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Uo(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==NR)throw s;ce("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,r)=>{i(e)}))}static reject(e){return new Z(((i,r)=>{r(e)}))}static waitFor(e){return new Z(((i,r)=>{let l=0,u=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++u,d&&u===l&&i()}),(y=>r(y)))})),d=!0,u===l&&i()}))}static or(e){let i=Z.resolve(!1);for(const r of e)i=i.next((l=>l?Z.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,u)=>{r.push(i.call(this,l,u))})),this.waitFor(r)}static mapArray(e,i){return new Z(((r,l)=>{const u=e.length,d=new Array(u);let g=0;for(let y=0;y<u;y++){const _=y;i(e[_]).next((A=>{d[_]=A,++g,g===u&&r(d)}),(A=>l(A)))}}))}static doWhile(e,i){return new Z(((r,l)=>{const u=()=>{e()===!0?i().next((()=>{u()}),l):r()};u()}))}}function OR(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Po(s){return s.name==="IndexedDbTransactionError"}class Rh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rh.ce=-1;const Qm=-1;function Ch(s){return s==null}function hh(s){return s===0&&1/s==-1/0}function MR(s){return typeof s=="number"&&Number.isInteger(s)&&!hh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Jb="";function VR(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Z_(e)),e=kR(s.get(i),e);return Z_(e)}function kR(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":i+="";break;case Jb:i+="";break;default:i+=u}}return i}function Z_(s){return s+Jb+""}function W_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function va(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Zb(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class St{constructor(e,i){this.comparator=e,this.root=i||on.EMPTY}insert(e,i){return new St(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bu(this.root,e,this.comparator,!0)}}class Bu{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?r(e.key,i):1,i&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,i,r,l,u){this.key=e,this.value=i,this.color=r??on.RED,this.left=l??on.EMPTY,this.right=u??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,u){return new on(e??this.key,i??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,i,r),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return on.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,i,r,l,u){return this}insert(e,i,r){return new on(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new ev(this.data.getIterator())}getIteratorFrom(e){return new ev(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Kt(this.comparator);return i.data=e,i}}class ev{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wi{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new wi([])}unionWith(e){let i=new Kt(ln.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new wi(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class Wb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Wb("Invalid base64 string: "+u):u}})(e);return new cn(i)}static fromUint8Array(e){const i=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new cn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const jR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(s){if(nt(!!s,39018),typeof s=="string"){let e=0;const i=jR.exec(s);if(nt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mt(s.seconds),nanos:Mt(s.nanos)}}function Mt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Dr(s){return typeof s=="string"?cn.fromBase64String(s):cn.fromUint8Array(s)}const eE="server_timestamp",tE="__type__",nE="__previous_value__",iE="__local_write_time__";function Km(s){return(s?.mapValue?.fields||{})[tE]?.stringValue===eE}function Ih(s){const e=s.mapValue.fields[nE];return Km(e)?Ih(e):e}function Zl(s){const e=Nr(s.mapValue.fields[iE].timestampValue);return new pt(e.seconds,e.nanos)}class LR{constructor(e,i,r,l,u,d,g,y,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const fh="(default)";class Wl{constructor(e,i){this.projectId=e,this.database=i||fh}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===fh}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}const sE="__type__",UR="__max__",qu={mapValue:{}},rE="__vector__",dh="value";function Or(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Km(s)?4:zR(s)?9007199254740991:PR(s)?10:11:Ae(28295,{value:s})}function ns(s,e){if(s===e)return!0;const i=Or(s);if(i!==Or(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Zl(s).isEqual(Zl(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=Nr(l.timestampValue),g=Nr(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,u){return Dr(l.bytesValue).isEqual(Dr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,u){return Mt(l.geoPointValue.latitude)===Mt(u.geoPointValue.latitude)&&Mt(l.geoPointValue.longitude)===Mt(u.geoPointValue.longitude)})(s,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Mt(l.integerValue)===Mt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=Mt(l.doubleValue),g=Mt(u.doubleValue);return d===g?hh(d)===hh(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return Co(s.arrayValue.values||[],e.arrayValue.values||[],ns);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},g=u.mapValue.fields||{};if(W_(d)!==W_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!ns(d[y],g[y])))return!1;return!0})(s,e);default:return Ae(52216,{left:s})}}function ec(s,e){return(s.values||[]).find((i=>ns(i,e)))!==void 0}function Io(s,e){if(s===e)return 0;const i=Or(s),r=Or(e);if(i!==r)return He(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return He(s.booleanValue,e.booleanValue);case 2:return(function(u,d){const g=Mt(u.integerValue||u.doubleValue),y=Mt(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,e);case 3:return tv(s.timestampValue,e.timestampValue);case 4:return tv(Zl(s),Zl(e));case 5:return pm(s.stringValue,e.stringValue);case 6:return(function(u,d){const g=Dr(u),y=Dr(d);return g.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(u,d){const g=u.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const A=He(g[_],y[_]);if(A!==0)return A}return He(g.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,d){const g=He(Mt(u.latitude),Mt(d.latitude));return g!==0?g:He(Mt(u.longitude),Mt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return nv(s.arrayValue,e.arrayValue);case 10:return(function(u,d){const g=u.fields||{},y=d.fields||{},_=g[dh]?.arrayValue,A=y[dh]?.arrayValue,w=He(_?.values?.length||0,A?.values?.length||0);return w!==0?w:nv(_,A)})(s.mapValue,e.mapValue);case 11:return(function(u,d){if(u===qu.mapValue&&d===qu.mapValue)return 0;if(u===qu.mapValue)return 1;if(d===qu.mapValue)return-1;const g=u.fields||{},y=Object.keys(g),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let w=0;w<y.length&&w<A.length;++w){const S=pm(y[w],A[w]);if(S!==0)return S;const K=Io(g[y[w]],_[A[w]]);if(K!==0)return K}return He(y.length,A.length)})(s.mapValue,e.mapValue);default:throw Ae(23264,{he:i})}}function tv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return He(s,e);const i=Nr(s),r=Nr(e),l=He(i.seconds,r.seconds);return l!==0?l:He(i.nanos,r.nanos)}function nv(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const u=Io(i[l],r[l]);if(u)return u}return He(i.length,r.length)}function No(s){return ym(s)}function ym(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Nr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Dr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return pe.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const u of i.values||[])l?l=!1:r+=",",r+=ym(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const d of r)u?u=!1:l+=",",l+=`${d}:${ym(i.fields[d])}`;return l+"}"})(s.mapValue):Ae(61005,{value:s})}function Ju(s){switch(Or(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ih(s);return e?16+Ju(e):16;case 5:return 2*s.stringValue.length;case 6:return Dr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+Ju(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return va(r.fields,((u,d)=>{l+=u.length+Ju(d)})),l})(s.mapValue);default:throw Ae(13486,{value:s})}}function iv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function _m(s){return!!s&&"integerValue"in s}function Ym(s){return!!s&&"arrayValue"in s}function sv(s){return!!s&&"nullValue"in s}function rv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Zu(s){return!!s&&"mapValue"in s}function PR(s){return(s?.mapValue?.fields||{})[sE]?.stringValue===rE}function Fl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return va(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Fl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Fl(s.arrayValue.values[i]);return e}return{...s}}function zR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===UR}class li{constructor(e){this.value=e}static empty(){return new li({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Zu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(i)}setAll(e){let i=ln.emptyPath(),r={},l=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=Fl(d):l.push(g.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,l)}delete(e){const i=this.field(e.popLast());Zu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ns(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];Zu(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){va(i,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new li(Fl(this.value))}}function aE(s){const e=[];return va(s.fields,((i,r)=>{const l=new ln([i]);if(Zu(r)){const u=aE(r.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new wi(e)}class gn{constructor(e,i,r,l,u,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(e){return new gn(e,0,we.min(),we.min(),we.min(),li.empty(),0)}static newFoundDocument(e,i,r,l){return new gn(e,1,i,we.min(),r,l,0)}static newNoDocument(e,i){return new gn(e,2,i,we.min(),we.min(),li.empty(),0)}static newUnknownDocument(e,i){return new gn(e,3,i,we.min(),we.min(),li.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mh{constructor(e,i){this.position=e,this.inclusive=i}}function av(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const u=e[l],d=s.position[l];if(u.field.isKeyField()?r=pe.comparator(pe.fromName(d.referenceValue),i.key):r=Io(d,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function ov(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ns(s.position[i],e.position[i]))return!1;return!0}class tc{constructor(e,i="asc"){this.field=e,this.dir=i}}function BR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class oE{}class Ht extends oE{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new HR(e,i,r):i==="array-contains"?new $R(e,r):i==="in"?new QR(e,r):i==="not-in"?new KR(e,r):i==="array-contains-any"?new YR(e,r):new Ht(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new GR(e,r):new FR(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Io(i,this.value)):i!==null&&Or(this.value)===Or(i)&&this.matchesComparison(Io(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends oE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ci(e,i)}matches(e){return lE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lE(s){return s.op==="and"}function cE(s){return qR(s)&&lE(s)}function qR(s){for(const e of s.filters)if(e instanceof Ci)return!1;return!0}function vm(s){if(s instanceof Ht)return s.field.canonicalString()+s.op.toString()+No(s.value);if(cE(s))return s.filters.map((e=>vm(e))).join(",");{const e=s.filters.map((i=>vm(i))).join(",");return`${s.op}(${e})`}}function uE(s,e){return s instanceof Ht?(function(r,l){return l instanceof Ht&&r.op===l.op&&r.field.isEqual(l.field)&&ns(r.value,l.value)})(s,e):s instanceof Ci?(function(r,l){return l instanceof Ci&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,d,g)=>u&&uE(d,l.filters[g])),!0):!1})(s,e):void Ae(19439)}function hE(s){return s instanceof Ht?(function(i){return`${i.field.canonicalString()} ${i.op} ${No(i.value)}`})(s):s instanceof Ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(hE).join(" ,")+"}"})(s):"Filter"}class HR extends Ht{constructor(e,i,r){super(e,i,r),this.key=pe.fromName(r.referenceValue)}matches(e){const i=pe.comparator(e.key,this.key);return this.matchesComparison(i)}}class GR extends Ht{constructor(e,i){super(e,"in",i),this.keys=fE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class FR extends Ht{constructor(e,i){super(e,"not-in",i),this.keys=fE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function fE(s,e){return(e.arrayValue?.values||[]).map((i=>pe.fromName(i.referenceValue)))}class $R extends Ht{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ym(i)&&ec(i.arrayValue,this.value)}}class QR extends Ht{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ec(this.value.arrayValue,i)}}class KR extends Ht{constructor(e,i){super(e,"not-in",i)}matches(e){if(ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ec(this.value.arrayValue,i)}}class YR extends Ht{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ym(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>ec(this.value.arrayValue,r)))}}class XR{constructor(e,i=null,r=[],l=[],u=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=d,this.endAt=g,this.Te=null}}function lv(s,e=null,i=[],r=[],l=null,u=null,d=null){return new XR(s,e,i,r,l,u,d)}function Xm(s){const e=Ce(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>vm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Ch(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>No(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>No(r))).join(",")),e.Te=i}return e.Te}function Jm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!BR(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!uE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!ov(s.startAt,e.startAt)&&ov(s.endAt,e.endAt)}function bm(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class zo{constructor(e,i=null,r=[],l=[],u=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function JR(s,e,i,r,l,u,d,g){return new zo(s,e,i,r,l,u,d,g)}function Zm(s){return new zo(s)}function cv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function dE(s){return s.collectionGroup!==null}function $l(s){const e=Ce(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Kt(ln.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new tc(u,r))})),i.has(ln.keyField().canonicalString())||e.Ie.push(new tc(ln.keyField(),r))}return e.Ie}function Xi(s){const e=Ce(s);return e.Ee||(e.Ee=ZR(e,$l(s))),e.Ee}function ZR(s,e){if(s.limitType==="F")return lv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new tc(l.field,u)}));const i=s.endAt?new mh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new mh(s.startAt.position,s.startAt.inclusive):null;return lv(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Em(s,e){const i=s.filters.concat([e]);return new zo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function gh(s,e,i){return new zo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Nh(s,e){return Jm(Xi(s),Xi(e))&&s.limitType===e.limitType}function mE(s){return`${Xm(Xi(s))}|lt:${s.limitType}`}function po(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>hE(l))).join(", ")}]`),Ch(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>No(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>No(l))).join(",")),`Target(${r})`})(Xi(s))}; limitType=${s.limitType})`}function Dh(s,e){return e.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):pe.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,l){for(const u of $l(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,g,y){const _=av(d,g,y);return d.inclusive?_<=0:_<0})(r.startAt,$l(r),l)||r.endAt&&!(function(d,g,y){const _=av(d,g,y);return d.inclusive?_>=0:_>0})(r.endAt,$l(r),l))})(s,e)}function WR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function gE(s){return(e,i)=>{let r=!1;for(const l of $l(s)){const u=eC(l,e,i);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function eC(s,e,i){const r=s.field.isKeyField()?pe.comparator(e.key,i.key):(function(u,d,g){const y=d.data.field(u),_=g.data.field(u);return y!==null&&_!==null?Io(y,_):Ae(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:s.dir})}}class ba{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,((i,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return Zb(this.inner)}size(){return this.innerSize}}const tC=new St(pe.comparator);function Us(){return tC}const pE=new St(pe.comparator);function zl(...s){let e=pE;for(const i of s)e=e.insert(i.key,i);return e}function yE(s){let e=pE;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function ha(){return Ql()}function _E(){return Ql()}function Ql(){return new ba((s=>s.toString()),((s,e)=>s.isEqual(e)))}const nC=new St(pe.comparator),iC=new Kt(pe.comparator);function Ge(...s){let e=iC;for(const i of s)e=e.add(i);return e}const sC=new Kt(He);function rC(){return sC}function Wm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(e)?"-0":e}}function vE(s){return{integerValue:""+s}}function aC(s,e){return MR(e)?vE(e):Wm(s,e)}class Oh{constructor(){this._=void 0}}function oC(s,e,i){return s instanceof nc?(function(l,u){const d={fields:{[tE]:{stringValue:eE},[iE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Km(u)&&(u=Ih(u)),u&&(d.fields[nE]=u),{mapValue:d}})(i,e):s instanceof ic?EE(s,e):s instanceof sc?TE(s,e):(function(l,u){const d=bE(l,u),g=uv(d)+uv(l.Ae);return _m(d)&&_m(l.Ae)?vE(g):Wm(l.serializer,g)})(s,e)}function lC(s,e,i){return s instanceof ic?EE(s,e):s instanceof sc?TE(s,e):i}function bE(s,e){return s instanceof ph?(function(r){return _m(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class nc extends Oh{}class ic extends Oh{constructor(e){super(),this.elements=e}}function EE(s,e){const i=SE(e);for(const r of s.elements)i.some((l=>ns(l,r)))||i.push(r);return{arrayValue:{values:i}}}class sc extends Oh{constructor(e){super(),this.elements=e}}function TE(s,e){let i=SE(e);for(const r of s.elements)i=i.filter((l=>!ns(l,r)));return{arrayValue:{values:i}}}class ph extends Oh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function uv(s){return Mt(s.integerValue||s.doubleValue)}function SE(s){return Ym(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class cC{constructor(e,i){this.field=e,this.transform=i}}function uC(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof ic&&l instanceof ic||r instanceof sc&&l instanceof sc?Co(r.elements,l.elements,ns):r instanceof ph&&l instanceof ph?ns(r.Ae,l.Ae):r instanceof nc&&l instanceof nc})(s.transform,e.transform)}class hC{constructor(e,i){this.version=e,this.transformResults=i}}class Ji{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ji}static exists(e){return new Ji(void 0,e)}static updateTime(e){return new Ji(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Mh{}function AE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new eg(s.key,Ji.none()):new fc(s.key,s.data,Ji.none());{const i=s.data,r=li.empty();let l=new Kt(ln.comparator);for(let u of e.fields)if(!l.has(u)){let d=i.field(u);d===null&&u.length>1&&(u=u.popLast(),d=i.field(u)),d===null?r.delete(u):r.set(u,d),l=l.add(u)}return new Ea(s.key,r,new wi(l.toArray()),Ji.none())}}function fC(s,e,i){s instanceof fc?(function(l,u,d){const g=l.value.clone(),y=fv(l.fieldTransforms,u,d.transformResults);g.setAll(y),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof Ea?(function(l,u,d){if(!Wu(l.precondition,u))return void u.convertToUnknownDocument(d.version);const g=fv(l.fieldTransforms,u,d.transformResults),y=u.data;y.setAll(wE(l)),y.setAll(g),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Kl(s,e,i,r){return s instanceof fc?(function(u,d,g,y){if(!Wu(u.precondition,d))return g;const _=u.value.clone(),A=dv(u.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof Ea?(function(u,d,g,y){if(!Wu(u.precondition,d))return g;const _=dv(u.fieldTransforms,y,d),A=d.data;return A.setAll(wE(u)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(s,e,i,r):(function(u,d,g){return Wu(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function dC(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),u=bE(r.transform,l||null);u!=null&&(i===null&&(i=li.empty()),i.set(r.field,u))}return i||null}function hv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Co(r,l,((u,d)=>uC(u,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class fc extends Mh{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ea extends Mh{constructor(e,i,r,l,u=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function wE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function fv(s,e,i){const r=new Map;nt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const u=s[l],d=u.transform,g=e.data.field(u.field);r.set(u.field,lC(d,g,i[l]))}return r}function dv(s,e,i){const r=new Map;for(const l of s){const u=l.transform,d=i.data.field(l.field);r.set(l.field,oC(u,d,e))}return r}class eg extends Mh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mC extends Mh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gC{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&fC(u,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Kl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Kl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=_E();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=i.has(l.key)?null:g;const y=AE(d,g);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(we.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,((i,r)=>hv(i,r)))&&Co(this.baseMutations,e.baseMutations,((i,r)=>hv(i,r)))}}class tg{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){nt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return nC})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,r[d].version);return new tg(e,i,r,l)}}class pC{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class yC{constructor(e,i){this.count=e,this.unchangedNames=i}}var qt,Qe;function _C(s){switch(s){case J.OK:return Ae(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ae(15467,{code:s})}}function xE(s){if(s===void 0)return Ls("GRPC error has no .code"),J.UNKNOWN;switch(s){case qt.OK:return J.OK;case qt.CANCELLED:return J.CANCELLED;case qt.UNKNOWN:return J.UNKNOWN;case qt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case qt.INTERNAL:return J.INTERNAL;case qt.UNAVAILABLE:return J.UNAVAILABLE;case qt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case qt.NOT_FOUND:return J.NOT_FOUND;case qt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case qt.ABORTED:return J.ABORTED;case qt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case qt.DATA_LOSS:return J.DATA_LOSS;default:return Ae(39323,{code:s})}}(Qe=qt||(qt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function vC(){return new TextEncoder}const bC=new Rr([4294967295,4294967295],0);function mv(s){const e=vC().encode(s),i=new Bb;return i.update(e),new Uint8Array(i.digest())}function gv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Rr([i,r],0),new Rr([l,u],0)]}class ng{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Bl(`Invalid padding: ${i}`);if(r<0)throw new Bl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Rr.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(Rr.fromNumber(r)));return l.compare(bC)===1&&(l=new Rr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=mv(e),[r,l]=gv(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new ng(u,l,i);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=mv(e),[r,l]=gv(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vh{constructor(e,i,r,l,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,dc.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Vh(we.min(),l,new St(He),Us(),Ge())}}class dc{constructor(e,i,r,l,u){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new dc(r,i,Ge(),Ge(),Ge())}}class eh{constructor(e,i,r,l){this.be=e,this.removedTargetIds=i,this.key=r,this.De=l}}class RE{constructor(e,i){this.targetId=e,this.Ce=i}}class CE{constructor(e,i,r=cn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class pv{constructor(){this.ve=0,this.Fe=yv(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),i=Ge(),r=Ge();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:Ae(38017,{changeType:u})}})),new dc(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=yv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class EC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Us(),this.Je=Hu(),this.He=Hu(),this.Ye=new St(He)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const u=l.target;if(bm(u))if(r===0){const d=new pe(u.path);this.et(i,d,gn.newNoDocument(d,we.min()))}else nt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=i;let d,g;try{d=Dr(r).toUint8Array()}catch(y){if(y instanceof Wb)return Ro("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new ng(d,l,u)}catch(y){return Ro(y instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((u=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(i,u,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((u,d)=>{const g=this.ot(d);if(g){if(u.current&&bm(g.target)){const y=new pe(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,gn.newNoDocument(y,e))}u.Be&&(i.set(d,u.ke()),u.qe())}}));let r=Ge();this.He.forEach(((u,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const l=new Vh(e,i,this.Ye,this.je,r);return this.je=Us(),this.Je=Hu(),this.He=Hu(),this.Ye=new St(He),l}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new pv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Kt(He),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Kt(He),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ce("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new pv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Hu(){return new St(pe.comparator)}function yv(){return new St(pe.comparator)}const TC={asc:"ASCENDING",desc:"DESCENDING"},SC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AC={and:"AND",or:"OR"};class wC{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Tm(s,e){return s.useProto3Json||Ch(e)?e:{value:e}}function yh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function xC(s,e){return yh(s,e.toTimestamp())}function Zi(s){return nt(!!s,49232),we.fromTimestamp((function(i){const r=Nr(i);return new pt(r.seconds,r.nanos)})(s))}function ig(s,e){return Sm(s,e).canonicalString()}function Sm(s,e){const i=(function(l){return new ft(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function NE(s){const e=ft.fromString(s);return nt(kE(e),10190,{key:e.toString()}),e}function Am(s,e){return ig(s.databaseId,e.path)}function em(s,e){const i=NE(e);if(i.get(1)!==s.databaseId.projectId)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pe(OE(i))}function DE(s,e){return ig(s.databaseId,e)}function RC(s){const e=NE(s);return e.length===4?ft.emptyPath():OE(e)}function wm(s){return new ft(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function OE(s){return nt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function _v(s,e,i){return{name:Am(s,e),fields:i.value.mapValue.fields}}function CC(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ae(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(_,A){return _.useProto3Json?(nt(A===void 0||typeof A=="string",58123),cn.fromBase64String(A||"")):(nt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),cn.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const A=_.code===void 0?J.UNKNOWN:xE(_.code);return new le(A,_.message||"")})(d);i=new CE(r,l,u,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=em(s,r.document.name),u=Zi(r.document.updateTime),d=r.document.createTime?Zi(r.document.createTime):we.min(),g=new li({mapValue:{fields:r.document.fields}}),y=gn.newFoundDocument(l,u,d,g),_=r.targetIds||[],A=r.removedTargetIds||[];i=new eh(_,A,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=em(s,r.document),u=r.readTime?Zi(r.readTime):we.min(),d=gn.newNoDocument(l,u),g=r.removedTargetIds||[];i=new eh([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=em(s,r.document),u=r.removedTargetIds||[];i=new eh([],u,l,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,d=new yC(l,u),g=r.targetId;i=new RE(g,d)}}return i}function IC(s,e){let i;if(e instanceof fc)i={update:_v(s,e.key,e.value)};else if(e instanceof eg)i={delete:Am(s,e.key)};else if(e instanceof Ea)i={update:_v(s,e.key,e.data),updateMask:UC(e.fieldMask)};else{if(!(e instanceof mC))return Ae(16599,{Vt:e.type});i={verify:Am(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(u,d){const g=d.transform;if(g instanceof nc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ic)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof sc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ph)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Ae(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:xC(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)})(s,e.precondition)),i}function NC(s,e){return s&&s.length>0?(nt(e!==void 0,14353),s.map((i=>(function(l,u){let d=l.updateTime?Zi(l.updateTime):Zi(u);return d.isEqual(we.min())&&(d=Zi(u)),new hC(d,l.transformResults||[])})(i,e)))):[]}function DC(s,e){return{documents:[DE(s,e.path)]}}function OC(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=DE(s,l);const u=(function(_){if(_.length!==0)return VE(Ci.create(_,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const d=(function(_){if(_.length!==0)return _.map((A=>(function(S){return{field:yo(S.field),direction:kC(S.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Tm(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function MC(s){let e=RC(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){nt(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:e=e.child(A.collectionId)}let u=[];i.where&&(u=(function(w){const S=ME(w);return S instanceof Ci&&cE(S)?S.getFilters():[S]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((S=>(function(W){return new tc(_o(W.field),(function(ne){switch(ne){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(S)))})(i.orderBy));let g=null;i.limit&&(g=(function(w){let S;return S=typeof w=="object"?w.value:w,Ch(S)?null:S})(i.limit));let y=null;i.startAt&&(y=(function(w){const S=!!w.before,K=w.values||[];return new mh(K,S)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const S=!w.before,K=w.values||[];return new mh(K,S)})(i.endAt)),JR(e,l,d,u,g,"F",y,_)}function VC(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function ME(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=_o(i.unaryFilter.field);return Ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=_o(i.unaryFilter.field);return Ht.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=_o(i.unaryFilter.field);return Ht.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=_o(i.unaryFilter.field);return Ht.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ht.create(_o(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ci.create(i.compositeFilter.filters.map((r=>ME(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(i.compositeFilter.op))})(s):Ae(30097,{filter:s})}function kC(s){return TC[s]}function jC(s){return SC[s]}function LC(s){return AC[s]}function yo(s){return{fieldPath:s.canonicalString()}}function _o(s){return ln.fromServerFormat(s.fieldPath)}function VE(s){return s instanceof Ht?(function(i){if(i.op==="=="){if(rv(i.value))return{unaryFilter:{field:yo(i.field),op:"IS_NAN"}};if(sv(i.value))return{unaryFilter:{field:yo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(rv(i.value))return{unaryFilter:{field:yo(i.field),op:"IS_NOT_NAN"}};if(sv(i.value))return{unaryFilter:{field:yo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yo(i.field),op:jC(i.op),value:i.value}}})(s):s instanceof Ci?(function(i){const r=i.getFilters().map((l=>VE(l)));return r.length===1?r[0]:{compositeFilter:{op:LC(i.op),filters:r}}})(s):Ae(54877,{filter:s})}function UC(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function kE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Sr{constructor(e,i,r,l,u=we.min(),d=we.min(),g=cn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new Sr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class PC{constructor(e){this.yt=e}}function zC(s){const e=MC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?gh(e,e.limit,"L"):e}class BC{constructor(){this.Cn=new qC}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Ir.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Ir.min())}updateCollectionGroup(e,i,r){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class qC{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new Kt(ft.comparator),u=!l.has(r);return this.index[i]=l.add(r),u}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Kt(ft.comparator)).toArray()}}const vv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jE=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(jE,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class Do{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Do(0)}static cr(){return new Do(-1)}}const bv="LruGarbageCollector",HC=1048576;function Ev([s,e],[i,r]){const l=He(s,i);return l===0?He(e,r):l}class GC{constructor(e){this.Ir=e,this.buffer=new Kt(Ev),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Ev(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class FC{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(bv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Po(i)?ce(bv,"Ignoring IndexedDB error during garbage collection: ",i):await Uo(i)}await this.Vr(3e5)}))}}class $C{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(Rh.ce);const r=new GC(i);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(vv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,l,u,d,g,y,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(e,l)))).next((w=>(r=w,g=Date.now(),this.removeTargets(e,r,i)))).next((w=>(u=w,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(_=Date.now(),go()<=qe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${u} targets in `+(y-g)+`ms
	Removed ${w} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:w}))))}}function QC(s,e){return new $C(s,e)}class KC{constructor(){this.changes=new ba((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class YC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class XC{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&Kl(r.mutation,l,wi.empty(),pt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Ge()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Ge()){const l=ha();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((u=>{let d=zl();return u.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=ha();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Ge())))}populateOverlays(e,i,r){const l=[];return r.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,r,l){let u=Us();const d=Ql(),g=(function(){return Ql()})();return i.forEach(((y,_)=>{const A=r.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof Ea)?u=u.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Kl(A.mutation,_,A.mutation.getFieldMask(),pt.now())):d.set(_.key,wi.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>g.set(_,new YC(A,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const r=Ql();let l=new St(((d,g)=>d-g)),u=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let A=r.get(y)||wi.empty();A=g.applyToLocalView(_,A),r.set(y,A);const w=(l.get(g.batchId)||Ge()).add(y);l=l.insert(g.batchId,w)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,A=y.value,w=_E();A.forEach((S=>{if(!u.has(S)){const K=AE(i.get(S),r.get(S));K!==null&&w.set(S,K),u=u.add(S)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,w))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return(function(d){return pe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):dE(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-u.size):Z.resolve(ha());let g=Jl,y=u;return d.next((_=>Z.forEach(_,((A,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),u.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(e,A).next((S=>{y=y.insert(A,S)}))))).next((()=>this.populateOverlays(e,_,u))).next((()=>this.computeViews(e,y,_,Ge()))).next((A=>({batchId:g,changes:yE(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pe(i)).next((r=>{let l=zl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const u=i.collectionGroup;let d=zl();return this.indexManager.getCollectionParents(e,u).next((g=>Z.forEach(g,(y=>{const _=(function(w,S){return new zo(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,r,l).next((A=>{A.forEach(((w,S)=>{d=d.insert(w,S)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,u,l)))).next((d=>{u.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,gn.newInvalidDocument(A)))}));let g=zl();return d.forEach(((y,_)=>{const A=u.get(y);A!==void 0&&Kl(A.mutation,_,wi.empty(),pt.now()),Dh(i,_)&&(g=g.insert(y,_))})),g}))}}class JC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Zi(l.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:zC(l.bundledQuery),readTime:Zi(l.readTime)}})(i)),Z.resolve()}}class ZC{constructor(){this.overlays=new St(pe.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const r=ha();return Z.forEach(i,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,u)=>{this.St(e,i,u)})),Z.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,i,r){const l=ha(),u=i.length+1,d=new pe(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===u&&y.largestBatchId>r&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let u=new St(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=u.get(_.largestBatchId);A===null&&(A=ha(),u=u.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=ha(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>g.set(_,A))),!(g.size()>=l)););return Z.resolve(g)}St(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new pC(i,r));let u=this.qr.get(i);u===void 0&&(u=Ge(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}class WC{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class sg{constructor(){this.Qr=new Kt(Jt.$r),this.Ur=new Kt(Jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Jt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Jt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new pe(new ft([])),r=new Jt(i,e),l=new Jt(i,e+1),u=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new pe(new ft([])),r=new Jt(i,e),l=new Jt(i,e+1);let u=Ge();return this.Ur.forEachInRange([r,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const i=new Jt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Jt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return pe.comparator(e.key,i.key)||He(e.Yr,i.Yr)}static Kr(e,i){return He(e.Yr,i.Yr)||pe.comparator(e.key,i.key)}}class eI{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Kt(Jt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new gC(u,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Jt(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.ei(r),u=l<0?0:l;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Qm:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Jt(i,0),l=new Jt(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,l],(d=>{const g=this.Xr(d.Yr);u.push(g)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Kt(He);return i.forEach((l=>{const u=new Jt(l,0),d=new Jt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(g=>{r=r.add(g.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let u=r;pe.isDocumentKey(u)||(u=u.child(""));const d=new Jt(new pe(u),0);let g=new Kt(He);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(g=g.add(y.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){nt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(l=>{const u=new Jt(l.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Jt(i,0),l=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class tI{constructor(e){this.ri=e,this.docs=(function(){return new St(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),u=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():gn.newInvalidDocument(i))}getEntries(e,i){let r=Us();return i.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():gn.newInvalidDocument(l))})),Z.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let u=Us();const d=i.path,g=new pe(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||IR(CR(A),r)<=0||(l.has(A.key)||Dh(i,A))&&(u=u.insert(A.key,A.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,i,r,l){Ae(9500)}ii(e,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new nI(this)}getSize(e){return Z.resolve(this.size)}}class nI extends KC{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class iI{constructor(e){this.persistence=e,this.si=new ba((i=>Xm(i)),Jm),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new sg,this.targetCount=0,this.ai=Do.ur()}forEachTarget(e,i){return this.si.forEach(((r,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Do(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,r){let l=0;const u=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),Z.waitFor(u).next((()=>l))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),Z.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class LE{constructor(e,i){this.ui={},this.overlays={},this.ci=new Rh(0),this.li=!1,this.li=!0,this.hi=new WC,this.referenceDelegate=e(this),this.Pi=new iI(this),this.indexManager=new BC,this.remoteDocumentCache=(function(l){return new tI(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new PC(i),this.Ii=new JC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new ZC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new eI(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){ce("MemoryPersistence","Starting transaction:",e);const l=new sI(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class sI extends DR{constructor(e){super(),this.currentSequenceNumber=e}}class rg{constructor(e){this.persistence=e,this.Ri=new sg,this.Vi=null}static mi(e){return new rg(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const l=pe.fromPath(r);return this.gi(e,l).next((u=>{u||i.removeEntry(l,we.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class _h{constructor(e,i){this.persistence=e,this.pi=new ba((r=>VR(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=QC(this,i)}static mi(e,i){return new _h(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((r,l)=>this.br(e,r,l).next((u=>u?Z.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((g=>{g||(r++,u.removeEntry(d,we.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ju(e.data.value)),i}br(e,i,r){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ag{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=l}static As(e,i){let r=Ge(),l=Ge();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new ag(e,i.fromCache,r,l)}}class rI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class aI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return RA()?8:OR(pn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const u={result:null};return this.ys(e,i).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(e,i,l,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new rI;return this.Ss(e,i,d).next((g=>{if(u.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>u.result))}bs(e,i,r,l){return r.documentReadCount<this.fs?(go()<=qe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",po(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(go()<=qe.DEBUG&&ce("QueryEngine","Query:",po(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(go()<=qe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",po(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xi(i))):Z.resolve())}ys(e,i){if(cv(i))return Z.resolve(null);let r=Xi(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=gh(i,null,"F"),r=Xi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const d=Ge(...u);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(e,gh(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,r,l){return cv(i)||l.isEqual(we.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((u=>{const d=this.Ds(i,u);return this.Cs(i,d,r,l)?Z.resolve(null):(go()<=qe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),po(i)),this.vs(e,d,i,RR(l,Jl)).next((g=>g)))}))}Ds(e,i){let r=new Kt(gE(e));return i.forEach(((l,u)=>{Dh(e,u)&&(r=r.add(u))})),r}Cs(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,i,r){return go()<=qe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",po(i)),this.ps.getDocumentsMatchingQuery(e,i,Ir.min(),r)}vs(e,i,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((u=>(i.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const og="LocalStore",oI=3e8;class lI{constructor(e,i,r,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new St(He),this.xs=new ba((u=>Xm(u)),Jm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function cI(s,e,i,r){return new lI(s,e,i,r)}async function UE(s,e){const i=Ce(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],g=[];let y=Ge();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of u){g.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(r,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function uI(s,e){const i=Ce(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,A){const w=_.batch,S=w.keys();let K=Z.resolve();return S.forEach((W=>{K=K.next((()=>A.getEntry(y,W))).next((ie=>{const ne=_.docVersions.get(W);nt(ne!==null,48541),ie.version.compareTo(ne)<0&&(w.applyToRemoteDocument(ie,_),ie.isValidDocument()&&(ie.setReadTime(_.commitVersion),A.addEntry(ie)))}))})),K.next((()=>g.mutationQueue.removeMutationBatch(y,w)))})(i,r,e,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let y=Ge();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function PE(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function hI(s,e){const i=Ce(s),r=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];e.targetChanges.forEach(((A,w)=>{const S=l.get(w);if(!S)return;g.push(i.Pi.removeMatchingKeys(u,A.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(u,A.addedDocuments,w))));let K=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?K=K.withResumeToken(cn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):A.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(A.resumeToken,r)),l=l.insert(w,K),(function(ie,ne,ye){return ie.resumeToken.approximateByteSize()===0||ne.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=oI?!0:ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0})(S,K,A)&&g.push(i.Pi.updateTargetData(u,K))}));let y=Us(),_=Ge();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(u,A))})),g.push(fI(u,d,e.documentUpdates).next((A=>{y=A.ks,_=A.qs}))),!r.isEqual(we.min())){const A=i.Pi.getLastRemoteSnapshotVersion(u).next((w=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));g.push(A)}return Z.waitFor(g).next((()=>d.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,y,_))).next((()=>y))})).then((u=>(i.Ms=l,u)))}function fI(s,e,i){let r=Ge(),l=Ge();return i.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let d=Us();return i.forEach(((g,y)=>{const _=u.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(we.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):ce(og,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function dI(s,e){const i=Ce(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Qm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function mI(s,e){const i=Ce(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,e).next((u=>u?(l=u,Z.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new Sr(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function xm(s,e,i){const r=Ce(s),l=r.Ms.get(e),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Po(d))throw d;ce(og,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function Tv(s,e,i){const r=Ce(s);let l=we.min(),u=Ge();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const w=Ce(y),S=w.xs.get(A);return S!==void 0?Z.resolve(w.Ms.get(S)):w.Pi.getTargetData(_,A)})(r,d,Xi(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{u=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?l:we.min(),i?u:Ge()))).next((g=>(gI(r,WR(e),g),{documents:g,Qs:u})))))}function gI(s,e,i){let r=s.Os.get(e)||we.min();i.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(e,r)}class Sv{constructor(){this.activeTargetIds=rC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pI{constructor(){this.Mo=new Sv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Sv,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yI{Oo(e){}shutdown(){}}const Av="ConnectivityMonitor";class wv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(Av,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(Av,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Gu=null;function Rm(){return Gu===null?Gu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gu++,"0x"+Gu.toString(16)}const tm="RestConnection",_I={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===fh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,i,r,l,u){const d=Rm(),g=this.zo(e,i.toUriEncodedString());ce(tm,`Sending RPC '${e}' ${d}:`,g,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,u);const{host:_}=new URL(g),A=Mo(_);return this.Jo(e,g,y,r,A).then((w=>(ce(tm,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw Ro(tm,`RPC '${e}' ${d} failed with error: `,w,"url: ",g,"request:",r),w}))}Ho(e,i,r,l,u,d){return this.Go(e,i,r,l,u)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Lo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}zo(e,i){const r=_I[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class bI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const dn="WebChannelConnection";class EI extends vI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,l,u){const d=Rm();return new Promise(((g,y)=>{const _=new qb;_.setWithCredentials(!0),_.listenOnce(Hb.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Xu.NO_ERROR:const w=_.getResponseJson();ce(dn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),g(w);break;case Xu.TIMEOUT:ce(dn,`RPC '${e}' ${d} timed out`),y(new le(J.DEADLINE_EXCEEDED,"Request time out"));break;case Xu.HTTP_ERROR:const S=_.getStatus();if(ce(dn,`RPC '${e}' ${d} failed with status:`,S,"response text:",_.getResponseText()),S>0){let K=_.getResponseJson();Array.isArray(K)&&(K=K[0]);const W=K?.error;if(W&&W.status&&W.message){const ie=(function(ye){const ve=ye.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ve)>=0?ve:J.UNKNOWN})(W.status);y(new le(ie,W.message))}else y(new le(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new le(J.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ce(dn,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(l);ce(dn,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",A,r,15)}))}T_(e,i,r){const l=Rm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=$b(),g=Fb(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const A=u.join("");ce(dn,`Creating RPC '${e}' stream ${l}: ${A}`,y);const w=d.createWebChannel(A,y);this.I_(w);let S=!1,K=!1;const W=new bI({Yo:ne=>{K?ce(dn,`Not sending because RPC '${e}' stream ${l} is closed:`,ne):(S||(ce(dn,`Opening RPC '${e}' stream ${l} transport.`),w.open(),S=!0),ce(dn,`RPC '${e}' stream ${l} sending:`,ne),w.send(ne))},Zo:()=>w.close()}),ie=(ne,ye,ve)=>{ne.listen(ye,(Te=>{try{ve(Te)}catch(ke){setTimeout((()=>{throw ke}),0)}}))};return ie(w,Pl.EventType.OPEN,(()=>{K||(ce(dn,`RPC '${e}' stream ${l} transport opened.`),W.o_())})),ie(w,Pl.EventType.CLOSE,(()=>{K||(K=!0,ce(dn,`RPC '${e}' stream ${l} transport closed`),W.a_(),this.E_(w))})),ie(w,Pl.EventType.ERROR,(ne=>{K||(K=!0,Ro(dn,`RPC '${e}' stream ${l} transport errored. Name:`,ne.name,"Message:",ne.message),W.a_(new le(J.UNAVAILABLE,"The operation could not be completed")))})),ie(w,Pl.EventType.MESSAGE,(ne=>{if(!K){const ye=ne.data[0];nt(!!ye,16349);const ve=ye,Te=ve?.error||ve[0]?.error;if(Te){ce(dn,`RPC '${e}' stream ${l} received error:`,Te);const ke=Te.status;let Je=(function(R){const I=qt[R];if(I!==void 0)return xE(I)})(ke),Ve=Te.message;Je===void 0&&(Je=J.INTERNAL,Ve="Unknown error status: "+ke+" with message "+Te.message),K=!0,W.a_(new le(Je,Ve)),w.close()}else ce(dn,`RPC '${e}' stream ${l} received:`,ye),W.u_(ye)}})),ie(g,Gb.STAT_EVENT,(ne=>{ne.stat===gm.PROXY?ce(dn,`RPC '${e}' stream ${l} detected buffering proxy`):ne.stat===gm.NOPROXY&&ce(dn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function nm(){return typeof document<"u"?document:null}function kh(s){return new wC(s,!0)}class zE{constructor(e,i,r=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&ce("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const xv="PersistentStream";class BE{constructor(e,i,r,l,u,d,g,y){this.Mi=e,this.S_=r,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Ls(i.toString()),Ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new le(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(xv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ce(xv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class TI extends BE{constructor(e,i,r,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=u}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=CC(this.serializer,e),r=(function(u){if(!("targetChange"in u))return we.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?we.min():d.readTime?Zi(d.readTime):we.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=wm(this.serializer),i.addTarget=(function(u,d){let g;const y=d.target;if(g=bm(y)?{documents:DC(u,y)}:{query:OC(u,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=IE(u,d.resumeToken);const _=Tm(u,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(we.min())>0){g.readTime=yh(u,d.snapshotVersion.toTimestamp());const _=Tm(u,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const r=VC(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=wm(this.serializer),i.removeTarget=e,this.q_(i)}}class SI extends BE{constructor(e,i,r,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=NC(e.writeResults,e.commitTime),r=Zi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=wm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>IC(this.serializer,r)))};this.q_(i)}}class AI{}class wI extends AI{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(e,Sm(i,r),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(J.UNKNOWN,u.toString())}))}Ho(e,i,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,Sm(i,r),l,d,g,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new le(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class xI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ls(i),this.aa=!1):ce("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const _a="RemoteStore";class RI{constructor(e,i,r,l,u){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Ta(this)&&(ce(_a,"Restarting streams for network reachability change."),await(async function(y){const _=Ce(y);_.Ea.add(4),await mc(_),_.Ra.set("Unknown"),_.Ea.delete(4),await jh(_)})(this))}))})),this.Ra=new xI(r,l)}}async function jh(s){if(Ta(s))for(const e of s.da)await e(!0)}async function mc(s){for(const e of s.da)await e(!1)}function qE(s,e){const i=Ce(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),hg(i)?ug(i):Bo(i).O_()&&cg(i,e))}function lg(s,e){const i=Ce(s),r=Bo(i);i.Ia.delete(e),r.O_()&&HE(i,e),i.Ia.size===0&&(r.O_()?r.L_():Ta(i)&&i.Ra.set("Unknown"))}function cg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Bo(s).Y_(e)}function HE(s,e){s.Va.Ue(e),Bo(s).Z_(e)}function ug(s){s.Va=new EC({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Bo(s).start(),s.Ra.ua()}function hg(s){return Ta(s)&&!Bo(s).x_()&&s.Ia.size>0}function Ta(s){return Ce(s).Ea.size===0}function GE(s){s.Va=void 0}async function CI(s){s.Ra.set("Online")}async function II(s){s.Ia.forEach(((e,i)=>{cg(s,e)}))}async function NI(s,e){GE(s),hg(s)?(s.Ra.ha(e),ug(s)):s.Ra.set("Unknown")}async function DI(s,e,i){if(s.Ra.set("Online"),e instanceof CE&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,e)}catch(r){ce(_a,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vh(s,r)}else if(e instanceof eh?s.Va.Ze(e):e instanceof RE?s.Va.st(e):s.Va.tt(e),!i.isEqual(we.min()))try{const r=await PE(s.localStore);i.compareTo(r)>=0&&await(function(u,d){const g=u.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=u.Ia.get(_);A&&u.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const A=u.Ia.get(y);if(!A)return;u.Ia.set(y,A.withResumeToken(cn.EMPTY_BYTE_STRING,A.snapshotVersion)),HE(u,y);const w=new Sr(A.target,y,_,A.sequenceNumber);cg(u,w)})),u.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){ce(_a,"Failed to raise snapshot:",r),await vh(s,r)}}async function vh(s,e,i){if(!Po(e))throw e;s.Ea.add(1),await mc(s),s.Ra.set("Offline"),i||(i=()=>PE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ce(_a,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await jh(s)}))}function FE(s,e){return e().catch((i=>vh(s,i,e)))}async function Lh(s){const e=Ce(s),i=Mr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Qm;for(;OI(e);)try{const l=await dI(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,MI(e,l)}catch(l){await vh(e,l)}$E(e)&&QE(e)}function OI(s){return Ta(s)&&s.Ta.length<10}function MI(s,e){s.Ta.push(e);const i=Mr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function $E(s){return Ta(s)&&!Mr(s).x_()&&s.Ta.length>0}function QE(s){Mr(s).start()}async function VI(s){Mr(s).ra()}async function kI(s){const e=Mr(s);for(const i of s.Ta)e.ea(i.mutations)}async function jI(s,e,i){const r=s.Ta.shift(),l=tg.from(r,e,i);await FE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Lh(s)}async function LI(s,e){e&&Mr(s).X_&&await(async function(r,l){if((function(d){return _C(d)&&d!==J.ABORTED})(l.code)){const u=r.Ta.shift();Mr(r).B_(),await FE(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Lh(r)}})(s,e),$E(s)&&QE(s)}async function Rv(s,e){const i=Ce(s);i.asyncQueue.verifyOperationInProgress(),ce(_a,"RemoteStore received new credentials");const r=Ta(i);i.Ea.add(3),await mc(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await jh(i)}async function UI(s,e){const i=Ce(s);e?(i.Ea.delete(2),await jh(i)):e||(i.Ea.add(2),await mc(i),i.Ra.set("Unknown"))}function Bo(s){return s.ma||(s.ma=(function(i,r,l){const u=Ce(i);return u.sa(),new TI(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:CI.bind(null,s),t_:II.bind(null,s),r_:NI.bind(null,s),H_:DI.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),hg(s)?ug(s):s.Ra.set("Unknown")):(await s.ma.stop(),GE(s))}))),s.ma}function Mr(s){return s.fa||(s.fa=(function(i,r,l){const u=Ce(i);return u.sa(),new SI(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:VI.bind(null,s),r_:LI.bind(null,s),ta:kI.bind(null,s),na:jI.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Lh(s)):(await s.fa.stop(),s.Ta.length>0&&(ce(_a,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class fg{constructor(e,i,r,l,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new fa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,u){const d=Date.now()+r,g=new fg(e,i,d,l,u);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dg(s,e){if(Ls("AsyncQueue",`${e}: ${s}`),Po(s))return new le(J.UNAVAILABLE,`${e}: ${s}`);throw s}class So{static emptySet(e){return new So(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||pe.comparator(i.key,r.key):(i,r)=>pe.comparator(i.key,r.key),this.keyedMap=zl(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof So)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new So;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class Cv{constructor(){this.ga=new St(pe.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Oo{constructor(e,i,r,l,u,d,g,y,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,l,u){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Oo(e,i,So.emptySet(i),d,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class PI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class zI{constructor(){this.queries=Iv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Ce(i),u=l.queries;l.queries=Iv(),u.forEach(((d,g)=>{for(const y of g.Sa)y.onError(r)}))})(this,new le(J.ABORTED,"Firestore shutting down"))}}function Iv(){return new ba((s=>mE(s)),Nh)}async function BI(s,e){const i=Ce(s);let r=3;const l=e.query;let u=i.queries.get(l);u?!u.ba()&&e.Da()&&(r=2):(u=new PI,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(l,!0);break;case 1:u.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=dg(d,`Initialization of query '${po(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,u),u.Sa.push(e),e.va(i.onlineState),u.wa&&e.Fa(u.wa)&&mg(i)}async function qI(s,e){const i=Ce(s),r=e.query;let l=3;const u=i.queries.get(r);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function HI(s,e){const i=Ce(s);let r=!1;for(const l of e){const u=l.query,d=i.queries.get(u);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&mg(i)}function GI(s,e,i){const r=Ce(s),l=r.queries.get(e);if(l)for(const u of l.Sa)u.onError(i);r.queries.delete(e)}function mg(s){s.Ca.forEach((e=>{e.next()}))}var Cm,Nv;(Nv=Cm||(Cm={})).Ma="default",Nv.Cache="cache";class FI{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new Oo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cm.Cache}}class KE{constructor(e){this.key=e}}class YE{constructor(e){this.key=e}}class $I{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=gE(e),this.tu=new So(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new Cv,l=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((A,w)=>{const S=l.get(A),K=Dh(this.query,w)?w:null,W=!!S&&this.mutatedKeys.has(S.key),ie=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let ne=!1;S&&K?S.data.isEqual(K.data)?W!==ie&&(r.track({type:3,doc:K}),ne=!0):this.su(S,K)||(r.track({type:2,doc:K}),ne=!0,(y&&this.eu(K,y)>0||_&&this.eu(K,_)<0)&&(g=!0)):!S&&K?(r.track({type:0,doc:K}),ne=!0):S&&!K&&(r.track({type:1,doc:S}),ne=!0,(y||_)&&(g=!0)),ne&&(K?(d=d.add(K),u=ie?u.add(A):u.delete(A)):(d=d.delete(A),u=u.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),u=u.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:g,mutatedKeys:u}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,w)=>(function(K,W){const ie=ne=>{switch(ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:ne})}};return ie(K)-ie(W)})(A.type,w.type)||this.eu(A.doc,w.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new Oo(this.query,e.tu,u,d,e.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Cv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new YE(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new KE(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ge();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gg="SyncEngine";class QI{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class KI{constructor(e){this.key=e,this.hu=!1}}class YI{constructor(e,i,r,l,u,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ba((g=>mE(g)),Nh),this.Iu=new Map,this.Eu=new Set,this.du=new St(pe.comparator),this.Au=new Map,this.Ru=new sg,this.Vu={},this.mu=new Map,this.fu=Do.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function XI(s,e,i=!0){const r=tT(s);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await XE(r,e,i,!0),l}async function JI(s,e){const i=tT(s);await XE(i,e,!0,!1)}async function XE(s,e,i,r){const l=await mI(s.localStore,Xi(e)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,i);let g;return r&&(g=await ZI(s,e,u,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&qE(s.remoteStore,l),g}async function ZI(s,e,i,r,l){s.pu=(w,S,K)=>(async function(ie,ne,ye,ve){let Te=ne.view.ru(ye);Te.Cs&&(Te=await Tv(ie.localStore,ne.query,!1).then((({documents:N})=>ne.view.ru(N,Te))));const ke=ve&&ve.targetChanges.get(ne.targetId),Je=ve&&ve.targetMismatches.get(ne.targetId)!=null,Ve=ne.view.applyChanges(Te,ie.isPrimaryClient,ke,Je);return Ov(ie,ne.targetId,Ve.au),Ve.snapshot})(s,w,S,K);const u=await Tv(s.localStore,e,!0),d=new $I(e,u.Qs),g=d.ru(u.documents),y=dc.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),_=d.applyChanges(g,s.isPrimaryClient,y);Ov(s,i,_.au);const A=new QI(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function WI(s,e,i){const r=Ce(s),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((d=>!Nh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await xm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&lg(r.remoteStore,l.targetId),Im(r,l.targetId)})).catch(Uo)):(Im(r,l.targetId),await xm(r.localStore,l.targetId,!0))}async function eN(s,e){const i=Ce(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),lg(i.remoteStore,r.targetId))}async function tN(s,e,i){const r=lN(s);try{const l=await(function(d,g){const y=Ce(d),_=pt.now(),A=g.reduce(((K,W)=>K.add(W.key)),Ge());let w,S;return y.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let W=Us(),ie=Ge();return y.Ns.getEntries(K,A).next((ne=>{W=ne,W.forEach(((ye,ve)=>{ve.isValidDocument()||(ie=ie.add(ye))}))})).next((()=>y.localDocuments.getOverlayedDocuments(K,W))).next((ne=>{w=ne;const ye=[];for(const ve of g){const Te=dC(ve,w.get(ve.key).overlayedDocument);Te!=null&&ye.push(new Ea(ve.key,Te,aE(Te.value.mapValue),Ji.exists(!0)))}return y.mutationQueue.addMutationBatch(K,_,ye,g)})).next((ne=>{S=ne;const ye=ne.applyToLocalDocumentSet(w,ie);return y.documentOverlayCache.saveOverlays(K,ne.batchId,ye)}))})).then((()=>({batchId:S.batchId,changes:yE(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new St(He)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,i),await gc(r,l.changes),await Lh(r.remoteStore)}catch(l){const u=dg(l,"Failed to persist write");i.reject(u)}}async function JE(s,e){const i=Ce(s);try{const r=await hI(i.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=i.Au.get(u);d&&(nt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?nt(d.hu,14607):l.removedDocuments.size>0&&(nt(d.hu,42227),d.hu=!1))})),await gc(i,r,e)}catch(r){await Uo(r)}}function Dv(s,e,i){const r=Ce(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((u,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=Ce(d);y.onlineState=g;let _=!1;y.queries.forEach(((A,w)=>{for(const S of w.Sa)S.va(g)&&(_=!0)})),_&&mg(y)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function nN(s,e,i){const r=Ce(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),u=l&&l.key;if(u){let d=new St(pe.comparator);d=d.insert(u,gn.newNoDocument(u,we.min()));const g=Ge().add(u),y=new Vh(we.min(),new Map,new St(He),d,g);await JE(r,y),r.du=r.du.remove(u),r.Au.delete(e),pg(r)}else await xm(r.localStore,e,!1).then((()=>Im(r,e,i))).catch(Uo)}async function iN(s,e){const i=Ce(s),r=e.batch.batchId;try{const l=await uI(i.localStore,e);WE(i,r,null),ZE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await gc(i,l)}catch(l){await Uo(l)}}async function sN(s,e,i){const r=Ce(s);try{const l=await(function(d,g){const y=Ce(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,g).next((w=>(nt(w!==null,37113),A=w.keys(),y.mutationQueue.removeMutationBatch(_,w)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(r.localStore,e);WE(r,e,i),ZE(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await gc(r,l)}catch(l){await Uo(l)}}function ZE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function WE(s,e,i){const r=Ce(s);let l=r.Vu[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(i?u.reject(i):u.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function Im(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||eT(s,r)}))}function eT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(lg(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),pg(s))}function Ov(s,e,i){for(const r of i)r instanceof KE?(s.Ru.addReference(r.key,e),rN(s,r)):r instanceof YE?(ce(gg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||eT(s,r.key)):Ae(19791,{wu:r})}function rN(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ce(gg,"New document in limbo: "+i),s.Eu.add(r),pg(s))}function pg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new pe(ft.fromString(e)),r=s.fu.next();s.Au.set(r,new KI(i)),s.du=s.du.insert(i,r),qE(s.remoteStore,new Sr(Xi(Zm(i.path)),r,"TargetPurposeLimboResolution",Rh.ce))}}async function gc(s,e,i){const r=Ce(s),l=[],u=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,y)=>{d.push(r.pu(y,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){l.push(_);const A=ag.As(y.targetId,_);u.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(y,_){const A=Ce(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Z.forEach(_,(S=>Z.forEach(S.Es,(K=>A.persistence.referenceDelegate.addReference(w,S.targetId,K))).next((()=>Z.forEach(S.ds,(K=>A.persistence.referenceDelegate.removeReference(w,S.targetId,K)))))))))}catch(w){if(!Po(w))throw w;ce(og,"Failed to update sequence numbers: "+w)}for(const w of _){const S=w.targetId;if(!w.fromCache){const K=A.Ms.get(S),W=K.snapshotVersion,ie=K.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(S,ie)}}})(r.localStore,u))}async function aN(s,e){const i=Ce(s);if(!i.currentUser.isEqual(e)){ce(gg,"User change. New user:",e.toKey());const r=await UE(i.localStore,e);i.currentUser=e,(function(u,d){u.mu.forEach((g=>{g.forEach((y=>{y.reject(new le(J.CANCELLED,d))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gc(i,r.Ls)}}function oN(s,e){const i=Ce(s),r=i.Au.get(e);if(r&&r.hu)return Ge().add(r.key);{let l=Ge();const u=i.Iu.get(e);if(!u)return l;for(const d of u){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function tT(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=JE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nN.bind(null,e),e.Pu.H_=HI.bind(null,e.eventManager),e.Pu.yu=GI.bind(null,e.eventManager),e}function lN(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sN.bind(null,e),e}class bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return cI(this.persistence,new aI,e.initialUser,this.serializer)}Cu(e){return new LE(rg.mi,this.serializer)}Du(e){return new pI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bh.provider={build:()=>new bh};class cN extends bh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){nt(this.persistence.referenceDelegate instanceof _h,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new FC(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new LE((r=>_h.mi(r,i)),this.serializer)}}class Nm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Dv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aN.bind(null,this.syncEngine),await UI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new zI})()}createDatastore(e){const i=kh(e.databaseInfo.databaseId),r=(function(u){return new EI(u)})(e.databaseInfo);return(function(u,d,g,y){return new wI(u,d,g,y)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,u,d,g){return new RI(r,l,u,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>Dv(this.syncEngine,i,0)),(function(){return wv.v()?new wv:new yI})())}createSyncEngine(e,i){return(function(l,u,d,g,y,_,A){const w=new YI(l,u,d,g,y,_);return A&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ce(i);ce(_a,"RemoteStore shutting down."),r.Ea.add(5),await mc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Nm.provider={build:()=>new Nm};class uN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ls("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Vr="FirestoreClient";class hN{constructor(e,i,r,l,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=mn.UNAUTHENTICATED,this.clientId=$m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{ce(Vr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ce(Vr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=dg(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function im(s,e){s.asyncQueue.verifyOperationInProgress(),ce(Vr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await UE(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Mv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await fN(s);ce(Vr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>Rv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>Rv(e.remoteStore,l))),s._onlineComponents=e}async function fN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ce(Vr,"Using user provided OfflineComponentProvider");try{await im(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ro("Error using user provided cache. Falling back to memory cache: "+i),await im(s,new bh)}}else ce(Vr,"Using default OfflineComponentProvider"),await im(s,new cN(void 0));return s._offlineComponents}async function nT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ce(Vr,"Using user provided OnlineComponentProvider"),await Mv(s,s._uninitializedComponentsProvider._online)):(ce(Vr,"Using default OnlineComponentProvider"),await Mv(s,new Nm))),s._onlineComponents}function dN(s){return nT(s).then((e=>e.syncEngine))}async function Vv(s){const e=await nT(s),i=e.eventManager;return i.onListen=XI.bind(null,e.syncEngine),i.onUnlisten=WI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=JI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=eN.bind(null,e.syncEngine),i}function iT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const kv=new Map;const sT="firestore.googleapis.com",jv=!0;class Lv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sT,this.ssl=jv}else this.host=e.host,this.ssl=e.ssl??jv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HC)throw new le(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uh{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new pR;switch(r.type){case"firstParty":return new bR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=kv.get(i);r&&(ce("ComponentProvider","Removing Datastore"),kv.delete(i),r.terminate())})(this),Promise.resolve()}}function mN(s,e,i,r={}){s=To(s,Uh);const l=Mo(e),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;l&&(Zv(`https://${g}`),Wv("Firestore",!0)),u.host!==sT&&u.host!==g&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:g,ssl:l,emulatorOptions:r};if(!ma(y,d)&&(s._setSettings(y),r.mockUserToken)){let _,A;if(typeof r.mockUserToken=="string")_=r.mockUserToken,A=mn.MOCK_USER;else{_=_A(r.mockUserToken,s._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new le(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new mn(w)}s._authCredentials=new yR(new Kb(_,A))}}class kr{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new kr(this.firestore,e,this._query)}}class Qt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}toJSON(){return{type:Qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(hc(i,Qt._jsonSchema))return new Qt(e,r||null,new pe(ft.fromString(i.referencePath)))}}Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:Gt("string",Qt._jsonSchemaVersion),referencePath:Gt("string")};class Cr extends kr{constructor(e,i,r){super(e,i,Zm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new pe(e))}withConverter(e){return new Cr(this.firestore,e,this._path)}}function Uv(s,e,...i){if(s=Zt(s),Yb("collection","path",e),s instanceof Uh){const r=ft.fromString(e,...i);return Y_(r),new Cr(s,null,r)}{if(!(s instanceof Qt||s instanceof Cr))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ft.fromString(e,...i));return Y_(r),new Cr(s.firestore,null,r)}}function rT(s,e,...i){if(s=Zt(s),arguments.length===1&&(e=$m.newId()),Yb("doc","path",e),s instanceof Uh){const r=ft.fromString(e,...i);return K_(r),new Qt(s,null,new pe(r))}{if(!(s instanceof Qt||s instanceof Cr))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ft.fromString(e,...i));return K_(r),new Qt(s.firestore,s instanceof Cr?s.converter:null,new pe(r))}}const Pv="AsyncQueue";class zv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zE(this,"async_queue_retry"),this._c=()=>{const r=nm();r&&ce(Pv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=nm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=nm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new fa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Po(e))throw e;ce(Pv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ls("INTERNAL UNHANDLED ERROR: ",Bv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=fg.createAndSchedule(this,e,i,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Ae(47125,{Pc:Bv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Bv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function qv(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const u of r)if(u in l&&typeof l[u]=="function")return!0;return!1})(s,["next","error","complete"])}class rc extends Uh{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new zv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zv(e),this._firestoreClient=void 0,await e}}}function gN(s,e){const i=typeof s=="object"?s:ib(),r=typeof s=="string"?s:fh,l=Vm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=pA("firestore");u&&mN(l,...u)}return l}function aT(s){if(s._terminated)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||pN(s),s._firestoreClient}function pN(s){const e=s._freezeSettings(),i=(function(l,u,d,g){return new LR(l,u,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,iT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new hN(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class ci{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ci(cn.fromBase64String(e))}catch(i){throw new le(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ci(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hc(e,ci._jsonSchema))return ci.fromBase64String(e.bytes)}}ci._jsonSchemaVersion="firestore/bytes/1.0",ci._jsonSchema={type:Gt("string",ci._jsonSchemaVersion),bytes:Gt("string")};class yg{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new le(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _g{constructor(e){this._methodName=e}}class Wi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new le(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new le(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wi._jsonSchemaVersion}}static fromJSON(e){if(hc(e,Wi._jsonSchema))return new Wi(e.latitude,e.longitude)}}Wi._jsonSchemaVersion="firestore/geoPoint/1.0",Wi._jsonSchema={type:Gt("string",Wi._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};class es{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:es._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hc(e,es._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new es(e.vectorValues);throw new le(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}es._jsonSchemaVersion="firestore/vectorValue/1.0",es._jsonSchema={type:Gt("string",es._jsonSchemaVersion),vectorValues:Gt("object")};const yN=/^__.*__$/;class _N{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Ea(e,this.data,this.fieldMask,i,this.fieldTransforms):new fc(e,this.data,i,this.fieldTransforms)}}function oT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:s})}}class vg{constructor(e,i,r,l,u,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new vg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Eh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(oT(this.Ac)&&yN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class vN{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||kh(e)}Cc(e,i,r,l=!1){return new vg({Ac:e,methodName:i,Dc:r,path:ln.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lT(s){const e=s._freezeSettings(),i=kh(s._databaseId);return new vN(s._databaseId,!!e.ignoreUndefinedProperties,i)}function bN(s,e,i,r,l,u={}){const d=s.Cc(u.merge||u.mergeFields?2:0,e,i,l);hT("Data must be an object, but it was:",d,r);const g=cT(r,d);let y,_;if(u.merge)y=new wi(d.fieldMask),_=d.fieldTransforms;else if(u.mergeFields){const A=[];for(const w of u.mergeFields){const S=TN(e,w,i);if(!d.contains(S))throw new le(J.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);AN(A,S)||A.push(S)}y=new wi(A),_=d.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,_=d.fieldTransforms;return new _N(new li(g),y,_)}class bg extends _g{_toFieldTransform(e){return new cC(e.path,new nc)}isEqual(e){return e instanceof bg}}function EN(s,e,i,r=!1){return Eg(i,s.Cc(r?4:3,e))}function Eg(s,e){if(uT(s=Zt(s)))return hT("Unsupported field value:",e,s),cT(s,e);if(s instanceof _g)return(function(r,l){if(!oT(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const u=[];let d=0;for(const g of r){let y=Eg(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),d++}return{arrayValue:{values:u}}})(s,e)}return(function(r,l){if((r=Zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aC(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=pt.fromDate(r);return{timestampValue:yh(l.serializer,u)}}if(r instanceof pt){const u=new pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yh(l.serializer,u)}}if(r instanceof Wi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ci)return{bytesValue:IE(l.serializer,r._byteString)};if(r instanceof Qt){const u=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ig(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof es)return(function(d,g){return{mapValue:{fields:{[sE]:{stringValue:rE},[dh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Wm(g.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${xh(r)}`)})(s,e)}function cT(s,e){const i={};return Zb(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(s,((r,l)=>{const u=Eg(l,e.mc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function uT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof pt||s instanceof Wi||s instanceof ci||s instanceof Qt||s instanceof _g||s instanceof es)}function hT(s,e,i){if(!uT(i)||!Xb(i)){const r=xh(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function TN(s,e,i){if((e=Zt(e))instanceof yg)return e._internalPath;if(typeof e=="string")return fT(s,e);throw Eh("Field path arguments must be of type string or ",s,!1,void 0,i)}const SN=new RegExp("[~\\*/\\[\\]]");function fT(s,e,i){if(e.search(SN)>=0)throw Eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new yg(...e.split("."))._internalPath}catch{throw Eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Eh(s,e,i,r,l){const u=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new le(J.INVALID_ARGUMENT,g+s+y)}function AN(s,e){return s.some((i=>i.isEqual(e)))}class dT{constructor(e,i,r,l,u){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Tg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class wN extends dT{data(){return super.data()}}function Tg(s,e){return typeof e=="string"?fT(s,e):e instanceof yg?e._internalPath:e._delegate._internalPath}function xN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new le(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sg{}class Ag extends Sg{}function RN(s,e,...i){let r=[];e instanceof Sg&&r.push(e),r=r.concat(i),(function(u){const d=u.filter((y=>y instanceof xg)).length,g=u.filter((y=>y instanceof wg)).length;if(d>1||d>0&&g>0)throw new le(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class wg extends Ag{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new wg(e,i,r)}_apply(e){const i=this._parse(e);return mT(e._query,i),new kr(e.firestore,e.converter,Em(e._query,i))}_parse(e){const i=lT(e.firestore);return(function(u,d,g,y,_,A,w){let S;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new le(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Gv(w,A);const W=[];for(const ie of w)W.push(Hv(y,u,ie));S={arrayValue:{values:W}}}else S=Hv(y,u,w)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Gv(w,A),S=EN(g,d,w,A==="in"||A==="not-in");return Ht.create(_,A,S)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class xg extends Sg{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new xg(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Ci.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,u){let d=l;const g=u.getFlattenedFilters();for(const y of g)mT(d,y),d=Em(d,y)})(e._query,i),new kr(e.firestore,e.converter,Em(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Rg extends Ag{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Rg(e,i)}_apply(e){const i=(function(l,u,d){if(l.startAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tc(u,d)})(e._query,this._field,this._direction);return new kr(e.firestore,e.converter,(function(l,u){const d=l.explicitOrderBy.concat([u]);return new zo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function CN(s,e="asc"){const i=e,r=Tg("orderBy",s);return Rg._create(r,i)}class Cg extends Ag{constructor(e,i,r){super(),this.type=e,this._limit=i,this._limitType=r}static _create(e,i,r){return new Cg(e,i,r)}_apply(e){return new kr(e.firestore,e.converter,gh(e._query,this._limit,this._limitType))}}function IN(s){return Cg._create("limit",s,"F")}function Hv(s,e,i){if(typeof(i=Zt(i))=="string"){if(i==="")throw new le(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dE(e)&&i.indexOf("/")!==-1)throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(ft.fromString(i));if(!pe.isDocumentKey(r))throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return iv(s,new pe(r))}if(i instanceof Qt)return iv(s,i._key);throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xh(i)}.`)}function Gv(s,e){if(!Array.isArray(s)||s.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mT(s,e){const i=(function(l,u){for(const d of l)for(const g of d.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class NN{convertValue(e,i="none"){switch(Or(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return va(e,((l,u)=>{r[l]=this.convertValue(u,i)})),r}convertVectorValue(e){const i=e.fields?.[dh].arrayValue?.values?.map((r=>Mt(r.doubleValue)));return new es(i)}convertGeoPoint(e){return new Wi(Mt(e.latitude),Mt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Ih(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const i=Nr(e);return new pt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ft.fromString(e);nt(kE(r),9688,{name:e});const l=new Wl(r.get(1),r.get(3)),u=new pe(r.popFirst(5));return l.isEqual(i)||Ls(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}function DN(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class ql{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class da extends dT{constructor(e,i,r,l,u,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Tg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=da._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}da._jsonSchemaVersion="firestore/documentSnapshot/1.0",da._jsonSchema={type:Gt("string",da._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class th extends da{data(e={}){return super.data(e)}}class Ao{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new ql(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new th(this._firestore,this._userDataWriter,r.key,r,new ql(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new le(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new th(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ql(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const y=new th(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ql(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:ON(g.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$m.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ON(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:s})}}Ao._jsonSchemaVersion="firestore/querySnapshot/1.0",Ao._jsonSchema={type:Gt("string",Ao._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class gT extends NN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ci(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,i)}}function MN(s){return pT(To(s.firestore,rc),[new eg(s._key,Ji.none())])}function VN(s,e){const i=To(s.firestore,rc),r=rT(s),l=DN(s.converter,e);return pT(i,[bN(lT(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,Ji.exists(!1))]).then((()=>r))}function kN(s,...e){s=Zt(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||qv(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(qv(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let u,d,g;if(s instanceof Qt)d=To(s.firestore,rc),g=Zm(s._key.path),u={next:y=>{e[r]&&e[r](jN(d,s,y))},error:e[r+1],complete:e[r+2]};else{const y=To(s,kr);d=To(y.firestore,rc),g=y._query;const _=new gT(d);u={next:A=>{e[r]&&e[r](new Ao(d,_,y,A))},error:e[r+1],complete:e[r+2]},xN(s._query)}return(function(_,A,w,S){const K=new uN(S),W=new FI(A,K,w);return _.asyncQueue.enqueueAndForget((async()=>BI(await Vv(_),W))),()=>{K.Nu(),_.asyncQueue.enqueueAndForget((async()=>qI(await Vv(_),W)))}})(aT(d),g,l,u)}function pT(s,e){return(function(r,l){const u=new fa;return r.asyncQueue.enqueueAndForget((async()=>tN(await dN(r),l,u))),u.promise})(aT(s),e)}function jN(s,e,i){const r=i.docs.get(e._key),l=new gT(s);return new da(s,l,e._key,r,new ql(i.hasPendingWrites,i.fromCache),e.converter)}function LN(){return new bg("serverTimestamp")}(function(e,i=!0){(function(l){Lo=l})(Vo),wo(new ga("firestore",((r,{instanceIdentifier:l,options:u})=>{const d=r.getProvider("app").getImmediate(),g=new rc(new _R(r.getProvider("auth-internal")),new ER(d,r.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new le(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(_.options.projectId,A)})(d,l),d);return u={useFetchStreams:i,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),xr(G_,F_,e),xr(G_,F_,"esm2020")})();const UN=oS.version,PN={apiKey:"AIzaSyBeQemubnB8jBWLiPZob5HiDC4yubuxupI",authDomain:"learn-d8e71.firebaseapp.com",projectId:"learn-d8e71",storageBucket:"learn-d8e71.firebasestorage.app",messagingSenderId:"1098133970936",appId:"1:1098133970936:web:fed75c94fc73c36585000d",measurementId:"G-VH6H0XJKLP"},zN=typeof __firebase_config<"u"?JSON.parse(__firebase_config):PN,yT=nb(zN),Qi=mR(yT),sm=gN(yT),Fu=typeof __app_id<"u"?__app_id:"default-app-id",mo=()=>b.jsx("style",{children:`
    @import url('https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&display=swap');
    body, textarea, input, button { font-family: 'Be Vietnam Pro', sans-serif !important; }
    .diff-anim { animation: fadeIn 0.5s ease-out; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
    .custom-scrollbar::-webkit-scrollbar { width: 6px; }
    .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
    .custom-scrollbar::-webkit-scrollbar-thumb { background-color: rgba(156, 163, 175, 0.5); border-radius: 20px; }
    .score-circle { transition: stroke-dashoffset 1s ease-in-out; transform: rotate(-90deg); transform-origin: 50% 50%; }
    .tooltip-word { position: relative; z-index: 10; cursor: help; }
    .tooltip-word:hover { z-index: 999999; }
    .tooltip-content { 
      visibility: hidden; 
      opacity: 0;
      position: absolute; 
      bottom: 125%; 
      left: 50%; 
      transform: translateX(-50%);
      background-color: rgba(0, 0, 0, 0.9); 
      color: #fff; 
      text-align: center; 
      padding: 8px 12px; 
      border-radius: 8px; 
      white-space: nowrap; 
      z-index: 999999 !important;
      font-size: 0.875rem;
      transition: opacity 0.2s, visibility 0.2s;
      pointer-events: none;
    }
    .tooltip-word:hover .tooltip-content { 
      visibility: visible; 
      opacity: 1; 
    }
    .tooltip-content::after {
      content: "";
      position: absolute;
      top: 100%;
      left: 50%;
      margin-left: -5px;
      border-width: 5px;
      border-style: solid;
      border-color: rgba(0, 0, 0, 0.9) transparent transparent transparent;
    }
  `}),BN=["Startup cng ngh","Tr tu nhn to","Khoa hc v tr","Cng ngh Blockchain","Du lch bi","m thc ng ph","Li sng ti gin","Sc khe tinh thn","Email cng vic","K nng m phn","Ti chnh c nhn","Lnh o nhm","Review phim","Lch s th gii","Nhip nh ng ph","Bin i kh hu"],rm=(s,e)=>{const i=W=>W.replace(/[']/g,"'"),r=W=>i(W).replace(/([.,!?;:()])/g," $1 ").trim().split(/\s+/),l=W=>W.toLowerCase().replace(/[.,/#!$%^&*;:{}=\-_`~()?"']/g,""),u=r(s),d=r(e),g=u.length,y=d.length,_=Array(g+1).fill().map(()=>Array(y+1).fill(0));for(let W=1;W<=g;W++)for(let ie=1;ie<=y;ie++){const ne=l(u[W-1]),ye=l(d[ie-1]);u[W-1].toLowerCase()===d[ie-1].toLowerCase()||ne!==""&&ne===ye?_[W][ie]=_[W-1][ie-1]+1:_[W][ie]=Math.max(_[W-1][ie],_[W][ie-1])}let A=g,w=y;const S=[];for(;A>0&&w>0;){const W=l(u[A-1]),ie=l(d[w-1]);u[A-1].toLowerCase()===d[w-1].toLowerCase()||W!==""&&W===ie?(S.unshift({type:"same",value:u[A-1]}),A--,w--):_[A-1][w]>_[A][w-1]?(S.unshift({type:"remove",value:u[A-1]}),A--):(S.unshift({type:"add",value:d[w-1]}),w--)}for(;A>0;)S.unshift({type:"remove",value:u[A-1]}),A--;for(;w>0;)S.unshift({type:"add",value:d[w-1]}),w--;const K=[];for(let W=0;W<S.length;W++)S[W].type==="remove"&&S[W+1]?.type==="add"?(K.push({type:"replace",oldVal:S[W].value,newVal:S[W+1].value}),W++):K.push(S[W]);return K},Ig="AIzaSyDqDfB3lsg11GFoIarvbL_B7H1EKkm4aKo",qN=async(s,e)=>{let i="";switch(e){case"short":i="Generate a SHORT story/essay (approx 5-8 sentences). Keep it concise.";break;case"medium":i="Generate a MEDIUM length story/essay (approx 12-15 sentences).";break;case"long":i="Generate a LONG, DETAILED story/essay (more than 20 sentences). Elaborate on details.";break;default:i="Generate a MEDIUM length story/essay (approx 10-15 sentences)."}const r=`
    You are an expert English tutor for Vietnamese students.
    Task: Create a translation lesson based on the topic: "${s}".
    CRITICAL REQUIREMENT: ${i}. Split content into logical sentences.
    Output Format: STRICT JSON ONLY. No markdown.
    JSON Structure: {
      "title": "Short catchy title in Vietnamese",
      "type": "Story/Article/Email/Essay",
      "sentences": [
        {
          "id": 1,
          "vietnamese_full": "Full Vietnamese sentence",
          "segments": [{"text": "VN word", "trans": "EN meaning"}],
          "acceptableAnswers": ["Full English sentence 1", "Full English sentence 2"],
          "grammar_hint": "Explain grammar/usage in Vietnamese",
          "structure": "Formula (S+V+O)",
          "example_en": "English example",
          "example_vi": "Vietnamese example",
          "vocabulary": [{"word": "Word", "meaning": "Meaning"}]
        }
      ]
    }
  `;try{const l=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-native-audio-dialog:generateContent?key=${Ig}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:r}]}],generationConfig:{responseMimeType:"application/json"}})});if(!l.ok)throw console.error("API Error:",l.status,await l.text()),new Error("API Call Failed");const u=await l.json();return JSON.parse(u.candidates[0].content.parts[0].text)}catch(l){return console.error("AI Generation Error:",l),null}},HN=async(s,e,i)=>{const r=`
        You are a strict translation judge for English learners.
        
        Vietnamese original: "${e}"
        User's English translation: "${s}"
        Correct answers: ${i.join(" OR ")}
        
        STRICT RULES:
        1. Check spelling FIRST - if there are obvious typos (like "daiy" instead of "daily"), mark as INCORRECT
        2. Only accept minor typos like: "teh""the" (adjacent keys), "recieve""receive" (common mistakes)
        3. Do NOT accept: completely wrong letters, missing letters that change meaning
        4. Check grammar - subject-verb agreement, tense, articles
        5. Check meaning accuracy - must convey the SAME meaning as Vietnamese
        
        Scoring logic:
        - If spelling errors are obvious/multiple: isCorrect = false
        - If meaning is wrong: isCorrect = false
        - If grammar is severely wrong: isCorrect = false
        - Only mark as correct if both meaning AND form are acceptable
        
        In feedback (Vietnamese):
        - List ALL errors specifically: "Li chnh t: 'daiy' phi l 'daily', 'toughts' phi l 'thoughts'"
        - Mention grammar errors if any
        - Explain meaning differences if wrong
        
        Return JSON ONLY: { "isCorrect": boolean, "feedback": "detailed Vietnamese explanation" }
    `;try{const u=await(await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-native-audio-dialog:generateContent?key=${Ig}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:r}]}],generationConfig:{responseMimeType:"application/json"}})})).json();return JSON.parse(u.candidates[0].content.parts[0].text)}catch(l){return console.error("API Error:",l),{isCorrect:null,feedback:"Li kt ni API. Vui lng th li.",apiError:!0}}},GN=async(s,e)=>{let i="";switch(e){case"short":i="Generate 5-8 sentences for dictation practice.";break;case"medium":i="Generate 12-15 sentences for dictation practice.";break;case"long":i="Generate 20-25 sentences for dictation practice.";break;default:i="Generate 10-15 sentences for dictation practice."}const r=`
You are an English dictation teacher for Vietnamese students.
Topic: "${s}"
Task: Create an English dictation exercise. ${i}

Requirements:
- All sentences in ENGLISH only
- Natural, conversational English
- Varied difficulty (mix of easy/medium/hard)
- Clear, complete sentences
- Contextually connected to the topic

Output JSON ONLY:
{
  "title": "Catchy title in Vietnamese (VD: 'Nghe Chnh T: Cuc Sng Trn Sao Ha')",
  "type": "Dictation",
  "learningMode": "listen",
  "sentences": [
    {
      "id": 1,
      "english": "The full English sentence to dictate",
      "hint": "Optional Vietnamese hint about context",
      "difficulty": "easy|medium|hard"
    }
  ]
}
  `;try{const l=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-native-audio-dialog:generateContent?key=${Ig}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:r}]}],generationConfig:{responseMimeType:"application/json"}})});if(!l.ok)throw console.error("API Error:",l.status,await l.text()),new Error("API Call Failed");const u=await l.json();return JSON.parse(u.candidates[0].content.parts[0].text)}catch(l){return console.error("AI Generation Error:",l),null}},am=()=>[...BN].sort(()=>.5-Math.random()).slice(0,4);function FN(){const[s,e]=Ee.useState(null),[i,r]=Ee.useState(!0),[l,u]=Ee.useState("login"),[d,g]=Ee.useState(""),[y,_]=Ee.useState("medium"),[A,w]=Ee.useState("write"),[S,K]=Ee.useState(!0),[W,ie]=Ee.useState(()=>am()),[ne,ye]=Ee.useState([]),[ve,Te]=Ee.useState("all"),[ke,Je]=Ee.useState("login"),[Ve,N]=Ee.useState(""),[R,I]=Ee.useState(""),[V,D]=Ee.useState(""),[j,x]=Ee.useState(""),[ht,bt]=Ee.useState(!1),[$,re]=Ee.useState(!1),[ee,Fe]=Ee.useState(null),[de,M]=Ee.useState(0),[F,ae]=Ee.useState(""),[te,me]=Ee.useState("idle"),[xe,Ie]=Ee.useState(null),[Et,Pe]=Ee.useState(""),[Ni,En]=Ee.useState(null),[rs,hi]=Ee.useState(!1),[Nn,as]=Ee.useState(!1),[Wt,Di]=Ee.useState([]),[os,yt]=Ee.useState([]),[It,Dn]=Ee.useState(!1),[Vt,zs]=Ee.useState(null),[kt,ls]=Ee.useState({mistakes:0,hints:0,fullAnswers:0}),[Oi,cs]=Ee.useState({visible:!1,x:0,y:0,itemId:null}),[Mi,Sa]=Ee.useState(!1),[Gn,fi]=Ee.useState(!1),[jr,On]=Ee.useState(1),[dt,yn]=Ee.useState("one"),Ke=Ee.useRef({mistakes:0,hints:0,fullAnswers:0}),di=Ee.useRef({hintUsed:!1,fullUsed:!1}),Vi=Ee.useRef(null),Lr=Ee.useRef(null),Fn=Ee.useRef(null);Ee.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token&&await Kx(Qi,__initial_auth_token),r(!1)})();const oe=i2(Qi,_e=>{e(_e),_e&&_e.email&&_e.emailVerified||_e&&_e.isAnonymous?u("home"):_e&&_e.email&&!_e.emailVerified||u("login")});return()=>oe()},[]),Ee.useEffect(()=>{if(s){console.log(" Setting up history listener for user:",s.uid);const B=RN(Uv(sm,"artifacts",Fu,"users",s.uid,"history"),CN("timestamp","desc"),IN(20)),oe=kN(B,_e=>{const he=_e.docs.map(je=>({id:je.id,...je.data()}));console.log(" History updated:",he.length,"items"),ye(he)},_e=>{console.error(" Error fetching history:",_e)});return()=>oe()}else console.log(" No user, clearing history data"),ye([])},[s]),Ee.useEffect(()=>{l==="learning"&&(Lr.current?.scrollIntoView({behavior:"smooth"}),Vi.current&&te!=="correct"&&te!=="checking"&&Vi.current.focus())},[te,rs,Nn,de,l]);const us=async B=>{B.preventDefault(),x("");try{const oe=await Jx(Qi,Ve,R);if(oe.user&&!oe.user.emailVerified){await Jd(Qi),x("Email cha c xc thc. Vui lng kim tra hp th.");return}}catch(oe){oe.code==="auth/invalid-credential"||oe.code==="auth/user-not-found"||oe.code==="auth/wrong-password"?x("Email hoc mt khu khng chnh xc."):x("ng nhp tht bi. Vui lng th li.")}},At=async B=>{if(B.preventDefault(),x(""),re(!1),!V){x("Vui lng nhp tn hin th");return}try{const oe=await Xx(Qi,Ve,R);await e2(oe.user,{displayName:V}),await Zx(oe.user),re(!0),await Jd(Qi),Je("login")}catch(oe){console.error(oe),oe.code==="auth/email-already-in-use"?x("Email ny  c s dng. Vui lng ng nhp."):oe.code==="auth/weak-password"?x("Mt khu qu yu."):x("ng k tht bi. Vui lng th li.")}},$n=async B=>{if(B.preventDefault(),x(""),bt(!1),!Ve){x("Vui lng nhp email.");return}try{await Yx(Qi,Ve),bt(!0),x("")}catch{x("Li gi email. Vui lng th li sau.")}},Qn=async()=>{x("");try{const B=new Os;await S2(Qi,B)}catch(B){x("ng nhp Google tht bi."),console.error(B)}},Mn=async()=>{x("");try{await Hx(Qi),u("home")}catch{x("Li ng nhp khch.")}},qo=async()=>{await Jd(Qi),u("login"),N(""),I(""),D(""),Je("login"),re(!1)},Aa=async B=>{if(B.preventDefault(),!d.trim())return;u("generating"),Ke.current={mistakes:0,hints:0,fullAnswers:0},di.current={hintUsed:!1,fullUsed:!1};const oe=A==="listen"?await GN(d,y):await qN(d,y);oe?.sentences?.length>0?(Fe(oe),M(0),Di(new Array(oe.sentences.length).fill(!1)),yt(Array.from({length:oe.sentences.length},()=>[])),ae(""),me("idle"),Ie(null),Pe(""),En(null),hi(!1),as(!1),Dn(!1),u("learning")):u("error")},Vn=(B=null)=>{const oe=ee?.sentences?.length||1,_e=Wt.filter(Boolean).length,he=B||Ke.current,je=_e/oe*100,Tt=he.mistakes*3+he.fullAnswers*10;return Math.max(0,Math.round(je-Tt))},hs=async()=>{if(console.log(" handleSaveResult called"),console.log("  - User:",s?`${s.uid} (${s.email||"anonymous"})`:"NULL"),console.log("  - Course:",ee?ee.title:"NULL"),!s||!ee){console.warn(" Cannot save history - User:",!!s,"Course:",!!ee);return}Sa(!0);const B=Vn(),oe=Wt.filter(Boolean).length,_e=Wt.length-oe,he={topic:ee.title,score:B,totalSentences:ee.sentences.length,completedCorrectly:oe,failedSentences:_e,timestamp:LN(),mistakes:Ke.current.mistakes,hints:Ke.current.hints,fullAnswers:Ke.current.fullAnswers,level:y,courseData:ee,completedStatus:Wt,sentenceErrors:os.reduce((je,Tt,Ye)=>(Tt&&Tt.length>0&&(je[Ye]=Tt),je),{})};console.log(" Saving history doc:",{topic:he.topic,score:he.score,totalSentences:he.totalSentences,path:`artifacts/${Fu}/users/${s.uid}/history`});try{const je=await VN(Uv(sm,"artifacts",Fu,"users",s.uid,"history"),he);console.log(" History saved successfully with ID:",je.id),console.log("   Path:",je.path)}catch(je){console.error(" Error saving history:",je),console.error("   Error code:",je.code),console.error("   Error message:",je.message)}finally{Sa(!1)}},wa=async B=>{if(B.preventDefault(),!F.trim())return;const oe=ee.sentences[de];if(ee.learningMode==="listen"){const Ne=oe.english,Ft=en=>en.trim().toLowerCase().replace(/[.,!?;:"'`]/g,"").replace(/\s+/g," ");if(Ft(F)===Ft(Ne)){me("correct");const en=[...Wt];en[de]=!0,Di(en);const un=oe.hint||"";Pe(`Chnh xc! ${un}`);const hn=rm(F,Ne);Ie(hn),En(Ne)}else{me("incorrect"),Ke.current.mistakes+=1;const en=rm(F,Ne);Ie(en),En(null),Pe("Cha chnh xc. Kim tra li!");const un=Ne.trim().split(/\s+/);let hn="Cha chnh xc. Kim tra li!";if(dt==="one"&&F.trim().split(/\s+/).length<un.length){const xt=F.trim().split(/\s+/).length;hn+=` Gi  t tip theo: "${un[xt]}"`}else dt==="all"&&(hn+=` Gi  ton b: "${Ne}"`);Pe(hn);const Lt=[...os];Lt[de]||(Lt[de]=[]),Lt[de].push({userAnswer:F,correctAnswer:Ne,feedback:"Sai chnh t",timestamp:new Date().toISOString()}),yt(Lt)}return}me("checking");const _e=oe.segments.map(Ne=>Ne.text).join(""),he=await HN(F,_e,oe.acceptableAnswers);let je=null,Tt=1/0,Ye=null;if(oe.acceptableAnswers.forEach(Ne=>{const Ft=rm(F,Ne),ds=Ft.reduce((en,un)=>{if(un.type==="same")return en;const hn=Lt=>Lt.replace(/[.,/#!$%^&*;:{}=\-_`~()?"']/g,"");return un.type==="replace"&&hn(un.oldVal)===""&&hn(un.newVal)===""||un.type!=="replace"&&hn(un.value)===""?en:en+1},0);ds<Tt&&(Tt=ds,je=Ne,Ye=Ft)}),he.apiError){me("idle"),Pe(he.feedback||"Li kt ni API. Vui lng th li.");return}if(he.isCorrect){me("correct");const Ne=[...Wt];Ne[de]=!0,Di(Ne),Ie(Ye),En(je),he.feedback&&he.feedback.trim()?Pe(he.feedback):Pe(Tt===0?"Chnh xc tuyt i!":"Chnh xc!")}else{me("incorrect"),Ie(Ye),En(null),Pe(typeof he.feedback=="string"?he.feedback:"Cu tr li cha chnh xc."),Ke.current.mistakes+=1;const Ne=[...os];Ne[de]||(Ne[de]=[]),Ne[de].push({userAnswer:F,correctAnswer:je,feedback:typeof he.feedback=="string"?he.feedback:"Cha chnh xc.",timestamp:new Date().toISOString()}),yt(Ne)}},ki=async()=>{await hs(),ls({...Ke.current}),u("summary")},Bs=()=>{de<ee.sentences.length-1?(M(B=>B+1),ae(""),me("idle"),Ie(null),Pe(""),En(null),hi(!1),as(!1),di.current={hintUsed:!1,fullUsed:!1},yn("none")):ki()},Ur=()=>Dn(!0),fs=()=>{Dn(!1),ki()},mi=()=>Dn(!1),xa=()=>{const B=[...Wt];B[de]=!1,Di(B),Ke.current.mistakes+=1,Bs()},kn=(B,oe)=>{B.preventDefault(),cs({visible:!0,x:B.clientX,y:B.clientY,itemId:oe})},jn=async B=>{if(!(!s||!B))try{await MN(rT(sm,"artifacts",Fu,"users",s.uid,"history",B)),cs({visible:!1,x:0,y:0,itemId:null})}catch(oe){console.error("Li xa lch s:",oe)}},wt=()=>cs({visible:!1,x:0,y:0,itemId:null}),jt=()=>{hi(!0),di.current.hintUsed||(Ke.current.hints+=1,di.current.hintUsed=!0)},Kn=()=>{as(!0),di.current.fullUsed||(Ke.current.fullAnswers+=1,di.current.fullUsed=!0)},gi=()=>K(!S),Ra=()=>{if(!ee||A!=="listen")return;const oe=ee.sentences[de].english;if(Gn){window.speechSynthesis.cancel(),fi(!1);return}const _e=new SpeechSynthesisUtterance(oe);_e.lang="en-US",_e.rate=jr*.9,_e.onstart=()=>fi(!0),_e.onend=()=>fi(!1),_e.onerror=()=>fi(!1),window.speechSynthesis.speak(_e)},Ca=()=>{window.speechSynthesis.cancel(),fi(!1),setTimeout(()=>Ra(),100)},Ia=B=>{On(B),Gn&&(window.speechSynthesis.cancel(),fi(!1))},Yn=()=>{u("home"),g(""),me("idle"),Ie(null),Pe(""),En(null),ie(am())},z={bg:S?"bg-slate-900":"bg-gray-50",text:S?"text-slate-200":"text-slate-700",cardBg:S?"bg-slate-800":"bg-white",cardBorder:S?"border-slate-700":"border-gray-300",secondaryText:S?"text-slate-400":"text-slate-600",inputBg:S?"bg-slate-900":"bg-gray-50",inputBorder:S?"border-slate-700":"border-gray-300",inputText:S?"text-slate-200":"text-gray-900",highlightBg:S?"bg-indigo-900/50":"bg-indigo-100",highlightText:S?"text-indigo-200":"text-indigo-950",successBg:S?"bg-green-900/30":"bg-green-50",successText:S?"text-green-300":"text-green-800",errorBg:S?"bg-red-900/30":"bg-red-50",errorText:S?"text-red-300":"text-red-800"},Xn=()=>xe?b.jsx("span",{className:"leading-relaxed break-words",children:xe.map((B,oe)=>{if(B.type==="same")return b.jsx("span",{className:"text-green-500 dark:text-green-400 mr-1.5",children:B.value},oe);if(B.type==="replace"){const _e=te==="correct"?"text-yellow-500 dark:text-yellow-400 mr-1.5 underline decoration-dotted":"text-red-400 dark:text-red-400 line-through decoration-red-500/50 decoration-2 cursor-help mr-1.5";return b.jsxs("span",{className:`relative group inline-block ${_e}`,children:[B.oldVal,te!=="correct"&&b.jsxs("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-1.5 bg-slate-900 border border-slate-700 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50 shadow-xl pointer-events-none transform -translate-y-1 group-hover:translate-y-0 duration-200",children:["Sa thnh: ",b.jsx("span",{className:"font-bold text-green-400",children:B.newVal}),b.jsx("span",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-slate-900"})]})]},oe)}else{if(B.type==="remove")return te==="correct"?null:b.jsx("span",{className:"text-red-400 dark:text-red-400 line-through mr-1.5 decoration-2 opacity-80",children:B.value},oe);if(B.type==="add")return te==="correct"?null:b.jsx("span",{className:"inline-block w-5 h-5 border-b-2 border-dashed border-amber-500 mr-1.5 relative group align-middle",children:b.jsxs("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-1.5 bg-amber-900 border border-amber-700 text-amber-100 text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50 shadow-xl",children:["Thiu: ",B.value]})},oe)}return null})}):F;if(i)return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 text-white",children:b.jsx(LS,{className:"w-8 h-8 animate-spin"})});if(l==="login")return b.jsxs("div",{className:`min-h-screen ${z.bg} flex flex-col items-center justify-center p-4 ${z.text} font-sans`,children:[b.jsx(mo,{}),b.jsx("button",{onClick:gi,className:`absolute top-4 right-4 p-2.5 rounded-full ${S?z.cardBg+" text-yellow-400 border "+z.cardBorder:"bg-gradient-to-br from-orange-50 to-amber-50 hover:from-orange-100 hover:to-amber-100 text-orange-600 border border-orange-200"}`,children:S?b.jsx(ju,{className:"w-5 h-5"}):b.jsx(Uu,{className:"w-5 h-5"})}),b.jsxs("div",{className:`max-w-md w-full ${z.cardBg} p-8 rounded-3xl shadow-2xl border ${z.cardBorder}`,children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("div",{className:"w-20 h-20 bg-indigo-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-indigo-500/30",children:b.jsx(Lu,{className:"w-10 h-10 text-white"})}),b.jsx("h1",{className:`text-3xl font-bold mb-2 ${z.text}`,children:"AI English Tutor"}),b.jsx("p",{className:z.secondaryText,children:"ng nhp  lu qu trnh hc tp"})]}),$&&b.jsxs("div",{className:"mb-6 p-4 bg-green-500/20 border border-green-500/50 rounded-xl text-green-400 text-sm flex items-center gap-2 animate-in fade-in slide-in-from-top-2",children:[b.jsx(zd,{className:"w-5 h-5 flex-shrink-0"}),b.jsx("span",{children:"Link xc thc  gi! Vui lng kim tra email."})]}),ke!=="forgot"&&b.jsxs("div",{className:`flex ${S?"bg-slate-700":"bg-gradient-to-r from-indigo-100/50 to-purple-100/50"} rounded-lg p-1 mb-6`,children:[b.jsx("button",{onClick:()=>{Je("login"),x("")},className:`flex-1 py-2.5 rounded-md text-sm font-bold transition-all ${ke==="login"?S?"bg-slate-600 text-white shadow-md":"bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-md":S?"text-slate-400 hover:text-white":"!bg-white text-indigo-600 hover:text-indigo-800"}`,children:"ng nhp"}),b.jsx("button",{onClick:()=>{Je("register"),x("")},className:`flex-1 py-2.5 rounded-md text-sm font-bold transition-all ${ke==="register"?S?"bg-slate-600 text-white shadow-md":"bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-md":S?"text-slate-400 hover:text-white":"!bg-white !text-indigo-600 hover:!text-indigo-800"}`,children:"ng k"})]}),ke==="forgot"?b.jsxs("form",{onSubmit:$n,className:"space-y-4 animate-in fade-in",children:[b.jsxs("div",{className:"text-left",children:[b.jsx("label",{className:`text-xs font-bold ${S?"text-slate-500":"text-slate-600"} uppercase ml-1`,children:"Email ng k"}),b.jsxs("div",{className:"relative",children:[b.jsx(c_,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 ${S?"text-slate-500":"text-slate-400"}`}),b.jsx("input",{type:"email",value:Ve,onChange:B=>N(B.target.value),placeholder:"name@example.com",className:`w-full p-4 pl-12 rounded-xl ${S?"bg-slate-900 border-slate-700 text-white":"bg-slate-100 border-slate-300 text-slate-900"} border focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none mt-1`,required:!0})]})]}),ht?b.jsxs("div",{className:"p-3 bg-green-500/20 border border-green-500/50 rounded-xl text-green-400 text-sm flex items-center gap-2",children:[b.jsx(zd,{className:"w-4 h-4"}),"  gi link khi phc!"]}):j&&b.jsx("p",{className:"text-red-500 text-sm bg-red-500/10 p-2 rounded border border-red-500/20",children:j}),b.jsxs("button",{type:"submit",className:`w-full ${S?"bg-indigo-600 hover:bg-indigo-500":"bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700"} text-white font-bold py-4 rounded-xl transition-all shadow-lg active:scale-95 flex items-center justify-center gap-2`,children:[b.jsx(VS,{className:"w-5 h-5"})," Gi link khi phc"]}),b.jsx("button",{type:"button",onClick:()=>{Je("login"),x(""),bt(!1)},className:`w-full ${S?"text-slate-400 hover:text-white":"text-indigo-600 hover:text-indigo-800"} text-sm underline mt-2 font-semibold`,children:"Quay li ng nhp"})]}):b.jsxs("form",{onSubmit:ke==="login"?us:At,className:"space-y-4 animate-in fade-in",children:[ke==="register"&&b.jsxs("div",{className:"text-left",children:[b.jsx("label",{className:`text-xs font-bold ${S?"text-slate-500":"text-slate-600"} uppercase ml-1`,children:"Tn hin th"}),b.jsx("input",{type:"text",value:V,onChange:B=>D(B.target.value),placeholder:"VD: Minh T",className:`w-full p-4 rounded-xl ${S?"bg-slate-900 border-slate-700 text-white":"bg-slate-100 border-slate-300 text-slate-900"} border focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none mt-1`,required:!0})]}),b.jsxs("div",{className:"text-left",children:[b.jsx("label",{className:`text-xs font-bold ${S?"text-slate-500":"text-slate-600"} uppercase ml-1`,children:"Email"}),b.jsxs("div",{className:"relative",children:[b.jsx(c_,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 ${S?"text-slate-500":"text-slate-400"}`}),b.jsx("input",{type:"email",value:Ve,onChange:B=>N(B.target.value),placeholder:"name@example.com",className:`w-full p-4 pl-12 rounded-xl ${S?"bg-slate-900 border-slate-700 text-white":"bg-slate-100 border-slate-300 text-slate-900"} border focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none mt-1`,required:!0})]})]}),b.jsxs("div",{className:"text-left",children:[b.jsx("label",{className:`text-xs font-bold ${S?"text-slate-500":"text-slate-600"} uppercase ml-1`,children:"Mt khu"}),b.jsxs("div",{className:"relative",children:[b.jsx(PS,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 ${S?"text-slate-500":"text-slate-400"}`}),b.jsx("input",{type:"password",value:R,onChange:B=>I(B.target.value),placeholder:"",className:`w-full p-4 pl-12 rounded-xl ${S?"bg-slate-900 border-slate-700 text-white":"bg-slate-100 border-slate-300 text-slate-900"} border focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none mt-1`,required:!0})]})]}),j&&b.jsx("p",{className:"text-red-500 text-sm bg-red-500/10 p-2 rounded border border-red-500/20",children:j}),ke==="login"&&b.jsx("div",{className:"text-right",children:b.jsx("button",{type:"button",onClick:()=>{Je("forgot"),x("")},className:`text-xs font-bold px-3 py-1.5 rounded-lg transition-all ${S?"text-indigo-400 hover:text-indigo-300":"bg-gradient-to-br from-indigo-50 to-purple-50 hover:from-indigo-100 hover:to-purple-100 text-indigo-700 border border-indigo-200"}`,children:"Qun mt khu?"})}),b.jsx("button",{type:"submit",className:`w-full ${S?"bg-indigo-600 hover:bg-indigo-700":"bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700"} text-white font-bold py-4 rounded-xl transition-all shadow-lg active:scale-95`,children:ke==="login"?"ng nhp":"ng k ti khon"})]}),ke!=="forgot"&&b.jsxs("div",{className:"mt-6 flex flex-col gap-3 animate-in fade-in",children:[b.jsxs("button",{onClick:Qn,className:"w-full bg-gradient-to-r from-blue-500 to-red-500 hover:from-blue-600 hover:to-red-600 text-white font-bold py-3 rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg",children:[b.jsx("span",{className:"text-lg font-bold",children:"G"})," Tip tc vi Google"]}),b.jsx("button",{onClick:Mn,className:`w-full py-3 rounded-xl font-bold transition-all ${S?"bg-slate-700 text-slate-300 hover:bg-slate-600 hover:text-white border border-slate-600":"bg-gradient-to-br from-slate-50 to-gray-50 hover:from-slate-100 hover:to-gray-100 text-slate-700 border border-slate-300 hover:border-slate-400"}`,children:"Dng th khng cn ti khon"})]})]})]});if(l==="history")return b.jsxs("div",{className:`min-h-screen ${z.bg} p-4 transition-colors duration-300 font-sans`,onClick:wt,children:[b.jsx(mo,{}),b.jsxs("header",{className:"max-w-4xl mx-auto flex items-center justify-between mb-8 pt-4",children:[b.jsxs("button",{onClick:()=>u("home"),className:`flex items-center gap-2 ${S?z.secondaryText+" hover:"+z.text:"text-indigo-600 hover:text-indigo-700"} font-medium transition-colors`,children:[b.jsx(Vu,{className:"w-5 h-5 rotate-180"})," Quay li"]}),b.jsxs("div",{className:"text-center",children:[b.jsx("h1",{className:`text-xl font-bold ${z.text}`,children:"Lch s hc tp"}),s&&b.jsxs("p",{className:"text-xs text-indigo-500 font-medium mt-1",children:[ne.length," bi hc"]})]}),b.jsx("button",{onClick:gi,className:`p-2 rounded-full ${S?z.cardBg+" text-yellow-400 border "+z.cardBorder:"bg-gradient-to-br from-orange-50 to-amber-50 hover:from-orange-100 hover:to-amber-100 text-orange-600 border border-orange-200"}`,children:S?b.jsx(ju,{className:"w-5 h-5"}):b.jsx(Uu,{className:"w-5 h-5"})})]}),s&&ne.length>0&&b.jsx("div",{className:"max-w-4xl mx-auto flex justify-center gap-2 mb-6",children:[{id:"all",label:"Tt c",icon:null},{id:"write",label:"Dch vn",icon:b.jsx(qd,{className:"w-4 h-4"})},{id:"listen",label:"Nghe",icon:b.jsx(ku,{className:"w-4 h-4"})}].map(B=>b.jsxs("button",{onClick:()=>Te(B.id),className:`flex items-center gap-2 px-4 py-2 rounded-xl font-bold text-sm transition-all ${ve===B.id?S?"bg-indigo-600 text-white shadow-lg":"bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-lg":S?`${z.bg} ${z.secondaryText} border border-slate-700 hover:border-indigo-500`:"bg-white text-slate-700 border border-slate-300 hover:border-indigo-400"}`,children:[B.icon," ",B.label]},B.id))}),b.jsx("div",{className:"max-w-4xl mx-auto space-y-4 pb-10",children:s?ne.filter(B=>ve==="all"||B.courseData&&B.courseData.learningMode===ve||!B.courseData?.learningMode&&ve==="write").length===0?b.jsxs("div",{className:`text-center py-20 ${z.secondaryText}`,children:[b.jsx("p",{className:"mb-2",children:"Khng c bi hc no."}),b.jsx("p",{className:"text-xs opacity-70",children:"Hon thnh mt bi hc  xem lch s ti y"})]}):ne.filter(B=>ve==="all"||B.courseData&&B.courseData.learningMode===ve||!B.courseData?.learningMode&&ve==="write").map(B=>b.jsxs("div",{onClick:()=>zs(B),onContextMenu:oe=>kn(oe,B.id),className:`${z.cardBg} p-5 rounded-2xl border ${z.cardBorder} flex items-center justify-between hover:scale-[1.01] transition-transform cursor-pointer group`,children:[b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[b.jsx("h3",{className:`font-bold ${z.text} text-lg group-hover:text-indigo-500 transition-colors`,children:B.topic}),b.jsxs("span",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-bold ${B.courseData?.learningMode==="listen"?"bg-purple-500/20 text-purple-500 border border-purple-500/30":"bg-blue-500/20 text-blue-500 border border-blue-500/30"}`,children:[B.courseData?.learningMode==="listen"?b.jsx(ku,{className:"w-3 h-3"}):b.jsx(qd,{className:"w-3 h-3"}),B.courseData?.learningMode==="listen"?"Nghe":"Dch"]})]}),b.jsxs("div",{className:`flex items-center gap-4 text-xs ${z.secondaryText}`,children:[b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(bS,{className:"w-3 h-3"})," ",B.timestamp&&typeof B.timestamp.toDate=="function"?B.timestamp.toDate().toLocaleDateString("vi-VN"):"Va xong"]}),b.jsx("span",{className:"flex items-center gap-1 bg-indigo-500/10 text-indigo-500 px-2 py-0.5 rounded uppercase font-bold",children:B.level||"medium"})]})]}),b.jsxs("div",{className:"flex items-center gap-6",children:[b.jsxs("div",{className:"text-right hidden sm:block",children:[b.jsx("div",{className:`text-sm ${z.secondaryText}`,children:"im s"}),b.jsx("div",{className:`font-bold text-lg ${B.score>=80?"text-green-500":B.score>=50?"text-yellow-500":"text-red-500"}`,children:Math.round(B.score)})]}),b.jsx(TS,{className:`w-5 h-5 ${z.secondaryText}`})]})]},B.id)):b.jsxs("div",{className:`text-center py-20 ${z.secondaryText}`,children:[b.jsx("p",{className:"mb-4",children:"Vui lng ng nhp  xem lch s"}),b.jsx("button",{onClick:()=>u("login"),className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-xl shadow-lg transition-all active:scale-95",children:"ng nhp"})]})}),Oi.visible&&b.jsx("div",{className:`fixed z-50 ${z.cardBg} border-2 ${z.cardBorder} rounded-xl shadow-2xl overflow-hidden`,style:{top:Oi.y,left:Oi.x},onClick:B=>B.stopPropagation(),children:b.jsxs("button",{onClick:()=>jn(Oi.itemId),className:"px-5 py-3 text-red-500 hover:bg-red-500/10 flex items-center gap-3 text-sm font-bold whitespace-nowrap",children:[b.jsx(Gd,{className:"w-4 h-4"}),"Xa bi hc ny"]})}),Vt&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4 animate-in fade-in backdrop-blur-sm",onClick:()=>zs(null),children:b.jsxs("div",{className:`${z.cardBg} w-full max-w-3xl max-h-[85vh] rounded-3xl shadow-2xl overflow-hidden flex flex-col`,onClick:B=>B.stopPropagation(),children:[b.jsxs("div",{className:`p-6 border-b ${z.cardBorder} flex justify-between items-center bg-indigo-600`,children:[b.jsx("h2",{className:"text-xl font-bold text-white truncate pr-4",children:Vt.topic}),b.jsx("button",{onClick:()=>zs(null),className:"text-white/80 hover:text-white",children:b.jsx(Gd,{className:"w-6 h-6"})})]}),b.jsx("div",{className:`flex-1 overflow-y-auto p-6 ${z.bg} custom-scrollbar`,children:Vt.courseData&&Vt.courseData.sentences?b.jsx("div",{className:"space-y-4",children:Vt.courseData.sentences.map((B,oe)=>{const _e=Vt.completedStatus&&Vt.completedStatus[oe],he=Vt.sentenceErrors&&Vt.sentenceErrors[oe],je=he&&Array.isArray(he)?he.length:he?1:0,Tt=_e||je>0,Ye=_e?"correct":Tt?"incorrect":"skipped";return b.jsx("div",{className:`${z.cardBg} p-4 rounded-xl border-2 transition-all ${Ye==="correct"?"border-green-500/50":Ye==="incorrect"?"border-red-500/50":"border-gray-500/50"}`,children:b.jsxs("div",{className:"flex gap-3",children:[b.jsx("span",{className:`flex-shrink-0 w-7 h-7 rounded-full flex items-center justify-center text-sm font-bold ${Ye==="correct"?"bg-green-500 text-white":Ye==="incorrect"?"bg-red-500 text-white":"bg-gray-500 text-white"}`,children:Ye==="correct"?"":Ye==="incorrect"?"":""}),b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[b.jsxs("span",{className:"text-xs font-bold text-indigo-400",children:["Cu ",oe+1]}),b.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-bold ${Ye==="correct"?"bg-green-500/20 text-green-500":Ye==="incorrect"?"bg-red-500/20 text-red-500":"bg-gray-500/20 text-gray-500"}`,children:Ye==="correct"?"ng":Ye==="incorrect"?"Sai":"Cha lm"}),je>0&&b.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-orange-500/20 text-orange-500 font-bold",children:[je," ln sai"]})]}),b.jsx("p",{className:`font-medium ${z.text} mb-2 text-base`,children:Vt.courseData.learningMode==="listen"?B.english||"Audio Question":B.vietnamese_full||(B.segments?B.segments.map(Ne=>Ne.text).join(""):"")}),b.jsxs("div",{className:`${S?"bg-slate-800":"bg-slate-100"} p-3 rounded-lg mb-2`,children:[b.jsx("p",{className:"text-xs font-bold text-indigo-400 mb-1",children:"p n ng:"}),b.jsx("p",{className:"text-green-500 italic text-sm font-medium",children:Vt.courseData.learningMode==="listen"?B.english:B.acceptableAnswers[0]})]}),he&&je>0&&b.jsx("div",{className:`${S?"bg-red-900/20":"bg-red-50"} p-3 rounded-lg border ${S?"border-red-800":"border-red-200"}`,children:Array.isArray(he)&&he.length>0?b.jsxs("div",{className:"space-y-3",children:[b.jsxs("p",{className:"text-xs font-bold text-red-400 mb-2",children:["Chi tit cc ln sai (",he.length," ln):"]}),he.map((Ne,Ft)=>b.jsxs("div",{className:`${S?"bg-red-900/30":"bg-red-100"} p-2 rounded border ${S?"border-red-800":"border-red-300"}`,children:[b.jsxs("p",{className:"text-xs font-bold text-orange-400 mb-1",children:["Ln ",Ft+1,":"]}),b.jsxs("p",{className:`${S?"text-red-300":"text-red-700"} italic text-sm mb-1`,children:['"',Ne.userAnswer||"Khng tr li",'"']}),Ne.feedback&&b.jsxs("p",{className:`${S?"text-orange-300":"text-orange-700"} text-xs`,children:[" ",Ne.feedback]})]},Ft))]}):he.userAnswer?b.jsxs(b.Fragment,{children:[b.jsx("p",{className:"text-xs font-bold text-red-400 mb-1",children:"Cu tr li ca bn:"}),b.jsx("p",{className:`${S?"text-red-300":"text-red-700"} italic text-sm mb-2 font-medium`,children:he.userAnswer}),he.feedback&&b.jsxs(b.Fragment,{children:[b.jsx("p",{className:"text-xs font-bold text-orange-400 mb-1",children:"Li sai:"}),b.jsx("p",{className:`${S?"text-orange-300":"text-orange-700"} text-xs`,children:he.feedback})]})]}):null}),Ye==="skipped"&&b.jsx("div",{className:`${S?"bg-gray-800/50":"bg-gray-100"} p-3 rounded-lg border ${S?"border-gray-700":"border-gray-300"}`,children:b.jsx("p",{className:`text-xs italic ${z.secondaryText}`,children:"Cu ny cha c lm (b qua)"})})]})]})},oe)})}):b.jsx("p",{className:`${z.secondaryText} text-center py-10`,children:"Chi tit bi hc khng kh dng cho mc ny."})}),b.jsxs("div",{className:`p-4 border-t ${z.cardBorder} ${z.cardBg} flex justify-between items-center text-sm`,children:[b.jsxs("div",{className:"flex gap-4",children:[b.jsxs("span",{className:z.text,children:["im: ",b.jsx("strong",{className:Vt.score>=50?"text-green-500":"text-red-500",children:Math.round(Vt.score)})]}),b.jsxs("span",{className:"text-green-500 font-bold",children:[" ",Vt.completedCorrectly||0]}),b.jsxs("span",{className:"text-red-500 font-bold",children:[" ",Vt.failedSentences||0]})]}),b.jsxs("span",{className:z.secondaryText,children:["Tng: ",Vt.totalSentences," cu"]})]})]})})]});if(l==="generating")return b.jsxs("div",{className:`min-h-screen ${z.bg} flex flex-col items-center justify-center p-4`,children:[b.jsx(mo,{}),b.jsxs("div",{className:"text-center space-y-8",children:[b.jsxs("div",{className:"relative w-20 h-20 mx-auto",children:[b.jsx("div",{className:`absolute inset-0 border-4 ${S?"border-slate-700":"border-slate-200"} rounded-full`}),b.jsx("div",{className:"absolute inset-0 border-4 border-indigo-500 rounded-full border-t-transparent animate-spin"}),b.jsx(Pd,{className:"absolute inset-0 m-auto text-indigo-500 w-8 h-8 animate-pulse"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("h2",{className:`text-xl font-bold ${z.text}`,children:"AI ang vit bi lun..."}),b.jsxs("p",{className:`${z.secondaryText}`,children:["Ch : ",b.jsxs("span",{className:"text-indigo-500",children:['"',d,'"']})]})]})]})]});if(l==="error")return b.jsxs("div",{className:`min-h-screen ${z.bg} flex flex-col items-center justify-center p-4`,children:[b.jsx(mo,{}),b.jsxs("div",{className:"text-center space-y-6",children:[b.jsx("div",{className:"w-20 h-20 mx-auto bg-red-500/10 rounded-full flex items-center justify-center",children:b.jsx(Gd,{className:"w-10 h-10 text-red-500"})}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("h2",{className:`text-xl font-bold ${z.text}`,children:"Khng th to bi hc"}),b.jsx("p",{className:`${z.secondaryText}`,children:"C li xy ra khi to ni dung. Vui lng th li."})]}),b.jsx("button",{onClick:()=>u("home"),className:`px-6 py-3 ${S?"bg-indigo-600 hover:bg-indigo-500":"bg-indigo-600 hover:bg-indigo-700"} text-white font-bold rounded-xl transition-all shadow-lg active:scale-95`,children:"Quay li trang ch"})]})]});if(l==="summary"){const B=Vn(kt);let oe="Cn c gng",_e="text-red-500";B>=90?(oe="Xut sc",_e="text-green-500"):B>=80?(oe="Gii",_e="text-blue-500"):B>=65?(oe="Kh",_e="text-yellow-500"):B>=50&&(oe="Trung bnh",_e="text-orange-500");const je=2*Math.PI*50,Tt=je-B/100*je,Ye=Wt.filter(Boolean).length,Ne=(ee?.sentences?.length||0)-Ye;return b.jsxs("div",{className:`min-h-screen ${z.bg} flex items-center justify-center p-4`,children:[b.jsx(mo,{}),Mi&&b.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-indigo-600 text-white px-4 py-3 rounded-xl shadow-lg flex items-center gap-2 animate-in slide-in-from-top-2",children:[b.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),b.jsx("span",{className:"text-sm font-bold",children:"ang lu lch s..."})]}),b.jsxs("div",{className:`max-w-3xl w-full ${z.cardBg} rounded-3xl shadow-2xl p-8 md:p-12 border ${z.cardBorder}`,children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsxs("div",{className:"relative w-40 h-40 mx-auto mb-6",children:[b.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 120 120",children:[b.jsx("circle",{cx:"60",cy:"60",r:"50",fill:"none",stroke:S?"#374151":"#e5e7eb",strokeWidth:"10"}),b.jsx("circle",{className:"score-circle",cx:"60",cy:"60",r:"50",fill:"none",stroke:B>=80?"#10B981":B>=50?"#F59E0B":"#EF4444",strokeWidth:"10",strokeDasharray:je,strokeDashoffset:Tt,strokeLinecap:"round"})]}),b.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[b.jsx("span",{className:`text-4xl font-bold ${z.text}`,children:B}),b.jsx("span",{className:`text-xs uppercase font-bold ${z.secondaryText}`,children:"im"})]})]}),b.jsx("h1",{className:`text-3xl font-bold ${_e} mb-2`,children:oe}),b.jsxs("p",{className:`${z.secondaryText}`,children:["Ch : ",b.jsx("span",{className:"font-bold text-indigo-500",children:ee?.title})]})]}),b.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[b.jsxs("div",{className:`${S?"bg-slate-900":"bg-slate-50"} p-4 rounded-2xl text-center border ${z.cardBorder}`,children:[b.jsx(RS,{className:"w-6 h-6 text-red-500 mx-auto mb-2"}),b.jsx("div",{className:`text-2xl font-bold ${z.text}`,children:kt.mistakes}),b.jsx("div",{className:`text-xs ${z.secondaryText}`,children:"Li sai (-2)"})]}),b.jsxs("div",{className:`${S?"bg-slate-900":"bg-slate-50"} p-4 rounded-2xl text-center border ${z.cardBorder}`,children:[b.jsx(Hd,{className:"w-6 h-6 text-orange-500 mx-auto mb-2"}),b.jsx("div",{className:`text-2xl font-bold ${z.text}`,children:Ne}),b.jsx("div",{className:`text-xs ${z.secondaryText}`,children:"B qua (-10)"})]}),b.jsxs("div",{className:`${S?"bg-slate-900":"bg-slate-50"} p-4 rounded-2xl text-center border ${z.cardBorder}`,children:[b.jsx(Bd,{className:"w-6 h-6 text-yellow-500 mx-auto mb-2"}),b.jsx("div",{className:`text-2xl font-bold ${z.text}`,children:kt.hints}),b.jsx("div",{className:`text-xs ${z.secondaryText}`,children:"Gi  (0)"})]}),b.jsxs("div",{className:`${S?"bg-slate-900":"bg-slate-50"} p-4 rounded-2xl text-center border ${z.cardBorder}`,children:[b.jsx(gS,{className:"w-6 h-6 text-blue-500 mx-auto mb-2"}),b.jsx("div",{className:`text-2xl font-bold ${z.text}`,children:kt.fullAnswers}),b.jsx("div",{className:`text-xs ${z.secondaryText}`,children:"p n (-15)"})]})]}),b.jsxs("div",{className:`${S?"bg-slate-900":"bg-slate-50"} p-6 rounded-2xl text-left mb-8 border ${z.cardBorder} max-h-60 overflow-y-auto custom-scrollbar`,children:[b.jsx("h4",{className:`text-xs font-bold ${z.secondaryText} uppercase mb-2`,children:"on vn hon chnh"}),b.jsx("p",{className:`${z.text} text-base leading-relaxed`,children:ee?.sentences.map(Ft=>ee.learningMode==="listen"?Ft.english:Ft.acceptableAnswers[0]).join(" ")})]}),b.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3",children:[b.jsxs("button",{onClick:Yn,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-xl flex items-center justify-center gap-2 shadow-lg transition-transform active:scale-95",children:[b.jsx(h_,{className:"w-5 h-5"})," Bi hc mi"]}),b.jsxs("button",{onClick:()=>u("history"),className:`${S?"bg-slate-600 hover:bg-slate-700":"bg-slate-500 hover:bg-slate-600"} text-white font-bold py-3 px-8 rounded-xl flex items-center justify-center gap-2 shadow-lg transition-transform active:scale-95`,children:[b.jsx(o_,{className:"w-5 h-5"})," Xem lch s"]})]})]})]})}return b.jsxs("div",{className:`min-h-screen ${z.bg} ${z.text} ${l==="learning"?"p-2 md:p-3":"p-4 md:p-6"} flex flex-col font-medium transition-colors duration-300 font-sans`,children:[b.jsx(mo,{}),It&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 animate-in fade-in",children:b.jsxs("div",{className:`${z.cardBg} p-6 rounded-2xl shadow-2xl max-w-sm w-full border ${z.cardBorder}`,children:[b.jsx("h3",{className:`text-lg font-bold ${z.text} mb-2`,children:"Kt thc sm?"}),b.jsx("p",{className:`${z.secondaryText} mb-6 text-sm`,children:"Bn c chc mun dng? Cc cu cha hon thnh s b tnh l b qua v tr im."}),b.jsxs("div",{className:"flex gap-3 justify-end",children:[b.jsx("button",{onClick:mi,className:`px-4 py-2 rounded-xl text-sm font-bold ${z.secondaryText} hover:${z.bg}`,children:"Hy"}),b.jsx("button",{onClick:fs,className:"px-4 py-2 rounded-xl text-sm font-bold bg-red-500 hover:bg-red-600 text-white",children:"Kt thc ngay"})]})]})}),l==="home"&&b.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center max-w-2xl mx-auto w-full animate-in fade-in slide-in-from-bottom-8",children:[b.jsxs("div",{className:"absolute top-4 left-4 flex items-center gap-3",children:[b.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-600 flex items-center justify-center text-white font-bold text-lg shadow-lg cursor-pointer hover:scale-105 transition-transform",onClick:()=>u("history"),children:s?.displayName?.charAt(0)||b.jsx(aA,{className:"w-5 h-5"})}),b.jsxs("div",{className:"hidden md:block",children:[b.jsx("p",{className:`text-xs font-bold ${z.secondaryText}`,children:"Xin cho,"}),b.jsx("p",{className:`font-bold ${z.text}`,children:s?.displayName||"Hc vin"})]})]}),b.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[b.jsx("button",{onClick:()=>u("history"),className:`p-2.5 rounded-full ${S?z.cardBg+" "+z.secondaryText+" hover:"+z.text:"bg-gradient-to-br from-indigo-50 to-purple-50 hover:from-indigo-100 hover:to-purple-100 text-indigo-600"} border ${S?z.cardBorder:"border-indigo-200"}`,title:"Lch s",children:b.jsx(o_,{className:"w-5 h-5"})}),b.jsx("button",{onClick:gi,className:`p-2.5 rounded-full ${S?z.cardBg+" text-yellow-400 border "+z.cardBorder:"bg-gradient-to-br from-orange-50 to-amber-50 hover:from-orange-100 hover:to-amber-100 text-orange-600 border border-orange-200"}`,children:S?b.jsx(ju,{className:"w-5 h-5"}):b.jsx(Uu,{className:"w-5 h-5"})}),b.jsx("button",{onClick:qo,className:`p-2.5 rounded-full ${S?z.cardBg+" text-red-500 hover:bg-red-500/10":"bg-gradient-to-br from-rose-50 to-red-50 hover:from-rose-100 hover:to-red-100 text-rose-600"} border ${S?z.cardBorder:"border-rose-200"}`,title:"ng xut",children:b.jsx(BS,{className:"w-5 h-5"})})]}),b.jsxs("div",{className:"space-y-4 text-center mb-8 mt-12",children:[b.jsx("div",{className:`inline-flex items-center justify-center p-4 ${z.cardBg} rounded-full shadow-xl mb-2`,children:b.jsx(Lu,{className:"w-12 h-12 text-indigo-500"})}),b.jsx("h1",{className:`text-4xl md:text-5xl font-extrabold ${S?"text-white":"text-slate-900"} tracking-tight`,children:"AI English Tutor"}),b.jsx("p",{className:`text-base md:text-lg ${z.secondaryText}`,children:"Luyn dch thc t. Chm im & sa li thng minh."})]}),b.jsxs("div",{className:`${z.cardBg} p-5 rounded-3xl shadow-2xl border ${z.cardBorder} w-full transition-all`,children:[b.jsx("div",{className:"flex justify-center gap-2 mb-4",children:[{id:"write",label:"Dch Vn",icon:b.jsx(qd,{className:"w-4 h-4"})},{id:"listen",label:"Nghe Chnh T",icon:b.jsx(ku,{className:"w-4 h-4"})}].map(B=>b.jsxs("button",{onClick:()=>w(B.id),className:`flex items-center gap-2 px-5 py-3 text-sm font-bold rounded-xl border-2 transition-all ${A===B.id?S?"bg-indigo-600 text-white border-indigo-600 shadow-lg shadow-indigo-500/30":"bg-gradient-to-r from-indigo-500 to-purple-600 text-white border-transparent shadow-lg":S?`${z.bg} ${z.secondaryText} border-slate-700 hover:border-indigo-500`:"bg-gradient-to-br from-slate-50 to-gray-50 text-slate-700 border-slate-300 hover:border-indigo-400 hover:from-indigo-50 hover:to-purple-50 hover:text-indigo-600"}`,children:[B.icon," ",B.label]},B.id))}),b.jsx("div",{className:"flex justify-center gap-2 mb-5",children:[{id:"short",label:"Ngn"},{id:"medium",label:"Va"},{id:"long",label:"Di"}].map(B=>b.jsx("button",{onClick:()=>_(B.id),className:`px-4 py-2 text-xs font-bold rounded-xl border-2 transition-all ${y===B.id?S?"bg-indigo-600 text-white border-indigo-600":"bg-gradient-to-r from-indigo-500 to-purple-600 text-white border-transparent":S?`${z.bg} ${z.secondaryText} border-slate-700 hover:border-indigo-500`:"bg-gradient-to-br from-slate-50 to-gray-50 text-slate-700 border-slate-300 hover:border-indigo-400 hover:from-indigo-50 hover:to-purple-50 hover:text-indigo-600"}`,children:B.label},B.id))}),b.jsxs("form",{onSubmit:Aa,className:"relative flex items-center",children:[b.jsx("div",{className:"pl-4 text-indigo-400",children:b.jsx(Pd,{className:"w-6 h-6"})}),b.jsx("input",{ref:Fn,type:"text",value:d,onChange:B=>g(B.target.value),placeholder:"Nhp ch  (VD: Cuc sng  Sao Ha)...",className:`w-full p-4 text-base bg-transparent outline-none ${z.inputText} placeholder-slate-400 font-medium`}),b.jsx("button",{type:"submit",disabled:!d.trim(),className:"bg-indigo-600 hover:bg-indigo-700 text-white p-3 rounded-xl m-1 transition-all shadow-md active:scale-95",children:b.jsx(Vu,{className:"w-6 h-6"})})]})]}),b.jsxs("div",{className:`flex flex-wrap justify-center gap-2 text-sm ${z.secondaryText} mt-6`,children:[W.map(B=>b.jsx("button",{onClick:()=>g(B),className:`${S?z.cardBg+" border-2 border-slate-700 hover:border-indigo-500":"bg-gradient-to-br from-indigo-50 to-purple-50 border-2 border-indigo-200 hover:border-indigo-400 hover:from-indigo-100 hover:to-purple-100"} px-4 py-2 rounded-full ${S?"hover:text-indigo-400":"hover:text-indigo-700"} transition-all shadow-sm hover:shadow-md ${S?"text-slate-300":"text-slate-700"} font-medium`,children:B},B)),b.jsx("button",{onClick:()=>ie(am()),className:`p-2 rounded-full transition-all ${S?"hover:bg-indigo-500/10 text-indigo-400":"bg-gradient-to-br from-indigo-50 to-purple-50 hover:from-indigo-100 hover:to-purple-100 text-indigo-600 border border-indigo-200"}`,children:b.jsx(YS,{className:"w-4 h-4"})})]})]}),l==="learning"&&ee&&b.jsxs(b.Fragment,{children:[b.jsxs("header",{className:"w-full mb-4 flex items-center justify-between px-1 lg:px-4",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("button",{onClick:()=>u("home"),className:`p-2 rounded-full transition-all ${S?"hover:bg-slate-800 text-slate-400":"bg-gradient-to-br from-indigo-50 to-purple-50 hover:from-indigo-100 hover:to-purple-100 text-indigo-600 border border-indigo-200"}`,children:b.jsx(Vu,{className:"w-6 h-6 rotate-180"})}),b.jsxs("div",{children:[b.jsx("h1",{className:`text-xl font-bold ${z.text} flex items-center gap-3`,children:ee.title}),b.jsx("span",{className:"text-xs font-bold bg-indigo-500/10 text-indigo-500 px-3 py-1 rounded-full uppercase border border-indigo-500/20",children:ee.type})]})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs("button",{onClick:Ur,className:`hidden md:flex items-center gap-1 px-3 py-1.5 rounded-lg ${S?"bg-slate-500/10 hover:bg-slate-500/20 text-slate-400":"bg-rose-50 hover:bg-rose-100 text-rose-600 border border-rose-200"} text-xs font-bold transition-colors`,children:[b.jsx(Hd,{className:"w-4 h-4"})," Kt thc"]}),b.jsx("button",{onClick:gi,className:`p-2 rounded-full ${S?z.cardBg+" text-yellow-400 shadow-sm border "+z.cardBorder:"bg-gradient-to-br from-orange-50 to-amber-50 hover:from-orange-100 hover:to-amber-100 text-orange-600 shadow-sm border border-orange-200"}`,children:S?b.jsx(ju,{className:"w-5 h-5"}):b.jsx(Uu,{className:"w-5 h-5"})}),b.jsxs("div",{className:`hidden md:flex ${z.cardBg} px-4 py-2 rounded-xl shadow-sm border ${z.cardBorder} text-sm font-bold`,children:[b.jsx("span",{className:`${z.secondaryText} mr-2`,children:"TIN "})," ",b.jsxs("span",{className:"text-indigo-500",children:[de+1," ",b.jsx("span",{className:z.secondaryText,children:"/"})," ",ee.sentences.length]})]})]})]}),b.jsxs("div",{className:"w-full grid grid-cols-1 lg:grid-cols-12 gap-4 flex-1 min-h-0 px-1 lg:px-4",children:[ee.learningMode==="listen"?b.jsx("div",{className:`lg:col-span-8 ${z.cardBg} p-8 rounded-3xl ${S?"shadow-xl":"shadow-2xl shadow-slate-300/50"} border-2 ${z.cardBorder} overflow-y-auto h-[30vh] lg:h-auto flex flex-col items-center justify-center`,children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:`w-40 h-40 mx-auto mb-8 rounded-full flex items-center justify-center transition-all ${Gn?"bg-gradient-to-br from-indigo-500 to-purple-600 shadow-2xl shadow-indigo-500/50 scale-105":S?"bg-gradient-to-br from-indigo-600 to-purple-700":"bg-gradient-to-br from-indigo-500 to-purple-600"}`,children:Gn?b.jsx(u_,{className:"w-20 h-20 text-white animate-pulse"}):b.jsx(ku,{className:"w-20 h-20 text-white"})}),b.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[b.jsxs("button",{onClick:Ra,className:`flex items-center gap-2 px-6 py-4 rounded-xl font-bold text-white shadow-lg transition-all active:scale-95 ${Gn?"bg-red-500 hover:bg-red-600":"bg-indigo-600 hover:bg-indigo-700"}`,children:[Gn?b.jsx(u_,{className:"w-6 h-6"}):b.jsx(QS,{className:"w-6 h-6"}),Gn?"Tm dng":"Nghe"]}),b.jsxs("button",{onClick:Ca,className:"flex items-center gap-2 px-6 py-4 rounded-xl font-bold bg-purple-600 hover:bg-purple-700 text-white shadow-lg transition-all active:scale-95",children:[b.jsx(h_,{className:"w-6 h-6"}),"Nghe li"]})]}),b.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[b.jsx("span",{className:`text-sm font-bold ${z.secondaryText}`,children:"Tc :"}),[.5,.75,1,1.25,1.5].map(B=>b.jsxs("button",{onClick:()=>Ia(B),className:`px-3 py-2 text-sm font-bold rounded-lg transition-all ${jr===B?"bg-indigo-600 text-white shadow-md":S?`${z.bg} ${z.secondaryText} hover:bg-slate-700`:"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[B,"x"]},B))]}),b.jsxs("p",{className:`text-base ${z.text} mb-2`,children:["Cu ",b.jsx("span",{className:"font-bold text-indigo-500",children:de+1})," / ",ee.sentences.length]}),ee.sentences[de].hint&&b.jsx("div",{className:`mt-6 p-4 rounded-xl ${S?"bg-amber-900/20 border border-amber-900/30":"bg-amber-50 border border-amber-200"}`,children:b.jsxs("p",{className:`text-sm ${S?"text-amber-400":"text-amber-700"} flex items-center gap-2`,children:[b.jsx(l_,{className:"w-4 h-4"}),b.jsx("span",{className:"font-bold",children:"Gi :"})," ",ee.sentences[de].hint]})})]})}):b.jsx("div",{className:`lg:col-span-8 ${z.cardBg} p-6 pt-16 rounded-3xl ${S?"shadow-xl":"shadow-2xl shadow-slate-300/50"} border-2 ${z.cardBorder} overflow-y-auto h-[30vh] lg:h-auto custom-scrollbar`,children:b.jsx("div",{className:`text-base md:text-lg leading-[3] ${z.text} font-sans relative`,style:{zIndex:1},children:ee.sentences.map((B,oe)=>{const _e=Wt[oe],he=oe===de;if(_e)return b.jsxs("span",{className:"text-green-500 dark:text-green-400 transition-all duration-500 mr-1",children:[B.acceptableAnswers[0]," "]},B.id);let je="transition-all duration-300 inline mr-1 rounded px-1 ";return he?je+=`${z.highlightBg} ${z.highlightText} shadow-[inset_0_0_0_2px_rgba(99,102,241,0.5)] py-1 `:je+=S?"text-slate-500 ":"text-gray-800 ",b.jsx("span",{className:je,children:B.segments.map((Tt,Ye)=>{const Ne=B.segments[Ye+1],Ft=Ne&&!/^[.,!?;:)]/.test(Ne.text);return b.jsxs(Z1.Fragment,{children:[b.jsxs("span",{className:"relative inline-block group cursor-help",title:Tt.trans,children:[b.jsx("span",{className:"hover:bg-yellow-200/30 dark:hover:bg-yellow-600/20 rounded px-0.5 transition-colors",children:Tt.text}),b.jsxs("span",{className:"hidden group-hover:block absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-sm rounded-lg whitespace-nowrap z-[9999] pointer-events-none shadow-xl",children:[Tt.trans,b.jsx("span",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]}),Ft&&" "]},Ye)})},B.id)})})}),b.jsxs("div",{className:"lg:col-span-4 flex flex-col h-full gap-4 min-h-[500px]",children:[b.jsxs("div",{className:`flex-1 ${z.cardBg} rounded-3xl ${S?"shadow-xl":"shadow-2xl shadow-slate-300/50"} border-2 ${z.cardBorder} flex flex-col overflow-hidden relative`,children:[b.jsxs("div",{className:`flex-1 p-6 overflow-y-auto ${z.bg} space-y-6 custom-scrollbar`,children:[b.jsxs("div",{className:"flex gap-4 animate-in slide-in-from-left-4",children:[b.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:b.jsx(Pd,{className:"w-6 h-6 text-indigo-600"})}),b.jsxs("div",{className:`${z.cardBg} p-5 rounded-3xl rounded-tl-none shadow-sm border ${z.cardBorder} w-full`,children:[b.jsx("p",{className:`text-xs font-bold ${z.secondaryText} uppercase mb-2`,children:ee.learningMode==="listen"?"Nghe v g li":"Dch cu ny"}),ee.learningMode==="listen"?b.jsx("div",{className:`text-lg p-4 rounded-xl border-2 italic font-bold ${S?"bg-purple-900/60 text-purple-100 border-purple-700":"bg-purple-100 text-purple-950 border-purple-300"}`,children:" Nghe audio v g chnh xc nhng g bn nghe c"}):b.jsxs("div",{className:`text-lg p-4 rounded-xl border-2 italic font-bold ${S?"bg-indigo-900/60 text-indigo-100 border-indigo-700":"bg-indigo-100 text-indigo-950 border-indigo-300"}`,children:['"',ee.sentences[de].segments.map((B,oe)=>{const _e=ee.sentences[de].segments[oe+1],he=_e&&!/^[.,!?;:)]/.test(_e.text)?" ":"";return B.text+he}),'"']})]})]}),te!=="idle"&&te!=="checking"&&b.jsxs("div",{className:"flex gap-4 flex-row-reverse animate-in slide-in-from-right-4",children:[b.jsx("div",{className:`w-10 h-10 ${S?"bg-slate-700":"bg-gradient-to-br from-indigo-100 to-purple-100"} rounded-2xl flex items-center justify-center flex-shrink-0`,children:b.jsx("div",{className:`w-6 h-6 rounded-full ${S?"bg-slate-500":"bg-gradient-to-br from-indigo-400 to-purple-500"}`})}),b.jsx("div",{className:`p-5 rounded-3xl rounded-tr-none shadow-lg max-w-[85%] text-lg relative overflow-visible z-10 font-medium border-2 ${S?te==="correct"?"bg-slate-800 text-white border-green-500":"bg-slate-800 text-white border-red-500":te==="correct"?"bg-white text-slate-900 border-green-500":"bg-white text-slate-900 border-red-500"}`,children:Xn()})]}),te==="correct"&&b.jsxs("div",{className:"flex gap-4 animate-in slide-in-from-left-4",children:[b.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:b.jsx(zd,{className:"w-6 h-6 text-green-600"})}),b.jsxs("div",{className:`${z.successBg} p-5 rounded-3xl rounded-tl-none border ${S?"border-green-800":"border-green-200"} w-full`,children:[b.jsx("p",{className:`font-bold ${z.successText} text-lg mb-2`,children:"Tuyt vi!"}),Et&&b.jsx("p",{className:`text-sm ${z.successText} mb-3 italic`,children:String(Et)}),Ni&&b.jsxs("div",{className:`mt-3 ${z.cardBg} p-3 rounded-xl border ${z.cardBorder}`,children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx(IS,{className:"w-4 h-4 text-indigo-400"}),b.jsx("span",{className:"text-xs font-bold text-indigo-400 uppercase",children:"p n mu"})]}),b.jsx("p",{className:`${z.text} text-sm italic`,children:Ni})]}),b.jsxs("button",{onClick:Bs,className:"mt-4 w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg active:scale-95 transition-all",children:["Cu tip theo ",b.jsx(Vu,{className:"w-5 h-5"})]})]})]}),te==="checking"&&b.jsxs("div",{className:"flex gap-4 animate-in slide-in-from-left-4",children:[b.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-2xl flex items-center justify-center flex-shrink-0 animate-pulse",children:b.jsx(f_,{className:"w-6 h-6 text-indigo-600"})}),b.jsx("div",{className:`${z.cardBg} p-4 rounded-3xl rounded-tl-none border ${z.cardBorder} text-sm italic ${z.secondaryText}`,children:"AI ang kim tra ng ngha cu tr li ca bn..."})]}),te==="incorrect"&&b.jsxs("div",{className:"flex gap-4 animate-in slide-in-from-left-4",children:[b.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:b.jsx(sA,{className:"w-6 h-6 text-red-600"})}),b.jsxs("div",{className:`${z.errorBg} p-5 rounded-3xl rounded-tl-none border ${S?"border-red-800":"border-red-200"} w-full`,children:[b.jsx("p",{className:`font-bold ${z.errorText} mb-3 text-lg`,children:"Cha chnh xc lm."}),b.jsxs("div",{className:`mb-3 ${z.cardBg} p-4 rounded-xl border ${S?"border-red-500/30":"border-red-200"}`,children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx(f_,{className:"w-4 h-4 text-indigo-400"}),b.jsx("span",{className:"text-xs font-bold text-indigo-400 uppercase",children:"AI Phn tch li sai"})]}),b.jsx("p",{className:`${z.text} text-sm italic leading-relaxed`,children:String(Et||"Cu tr li cha st ngha. Hy kim tra t vng v ng php.")})]})]})]}),b.jsx("div",{ref:Lr})]}),b.jsx("div",{className:`p-4 md:p-6 ${z.cardBg} border-t ${z.cardBorder} z-20 transition-colors duration-300`,children:b.jsxs("form",{onSubmit:wa,children:[b.jsx("textarea",{ref:Vi,value:F,onChange:B=>{const oe=B.target.value;ae(oe),te==="incorrect"&&me("idle")},disabled:te==="correct"||te==="checking",onKeyDown:B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),te!=="correct"&&te!=="checking"&&wa(B))},placeholder:te==="correct"?"ang ch...":"Nhp cu dch...",className:`w-full p-4 rounded-2xl ${z.inputBg} ${z.inputBorder} border-2 focus:border-indigo-500 outline-none resize-none text-base shadow-inner ${z.inputText}`,rows:"2"}),te!=="correct"&&te!=="checking"&&b.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[ee?.learningMode==="listen"&&b.jsxs("button",{type:"button",onClick:xa,className:"px-4 py-2.5 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-xl shadow-lg active:scale-95 transition-all font-bold flex items-center gap-2",children:[b.jsx(Hd,{className:"w-4 h-4"})," B qua"]}),b.jsxs("button",{type:"submit",disabled:!F.trim(),className:"px-6 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl shadow-lg active:scale-95 disabled:opacity-50 transition-all font-bold flex items-center gap-2",children:[b.jsx(WS,{className:"w-4 h-4"})," Gi"]})]})]})})]}),te!=="correct"&&b.jsx("div",{className:`${z.cardBg} rounded-3xl shadow-lg border ${z.cardBorder} overflow-hidden flex-shrink-0 transition-all duration-300`,children:rs?b.jsxs("div",{className:`p-5 ${S?"bg-amber-900/20":"bg-amber-50"} animate-in fade-in relative border-2 ${S?"border-amber-900/30":"border-amber-200"}`,children:[b.jsx("button",{onClick:()=>hi(!1),className:`absolute top-3 right-3 p-1.5 rounded-full transition-colors ${S?"bg-white/10 hover:bg-white/20 text-amber-400":"bg-amber-200/50 hover:bg-amber-300/70 text-amber-700"}`,title:"Thu gn",children:b.jsx(AS,{className:"w-4 h-4"})}),b.jsxs("div",{className:"space-y-4",children:[ee.learningMode==="listen"?b.jsxs("div",{children:[b.jsxs("p",{className:`text-xs font-bold ${S?"text-amber-400":"text-amber-600"} uppercase mb-2 flex items-center gap-2`,children:[b.jsx(Lu,{className:"w-4 h-4"})," Gi "]}),b.jsx("p",{className:`${z.text} text-sm mb-3 font-medium ${z.cardBg} p-3 rounded-xl border-2 ${S?"border-amber-900/30":"border-amber-300"}`,children:ee.sentences[de].hint||"Nghe k v ch  chnh t!"})]}):b.jsxs("div",{children:[b.jsxs("p",{className:`text-xs font-bold ${S?"text-amber-400":"text-amber-600"} uppercase mb-2 flex items-center gap-2`,children:[b.jsx(Lu,{className:"w-4 h-4"})," Gi  Ng php"]}),b.jsx("p",{className:`${z.text} text-sm mb-3 font-medium ${z.cardBg} p-3 rounded-xl border-2 ${S?"border-amber-900/30":"border-amber-300"}`,children:ee.sentences[de].grammar_hint})]}),ee.sentences[de].structure&&b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[b.jsxs("div",{children:[b.jsxs("p",{className:"text-xs font-bold ${isDarkMode ? 'text-amber-400' : 'text-amber-600'} uppercase mb-2 flex items-center gap-2",children:[b.jsx(l_,{className:"w-4 h-4"})," Cu trc"]}),b.jsx("div",{className:`${z.text} text-sm ${z.cardBg} p-2 rounded-lg border-2 ${S?"border-amber-900/30":"border-amber-300"} font-mono text-xs`,children:ee.sentences[de].structure})]}),b.jsxs("div",{children:[b.jsxs("p",{className:"text-xs font-bold ${isDarkMode ? 'text-amber-400' : 'text-amber-600'} uppercase mb-2 flex items-center gap-2",children:[b.jsx(yS,{className:"w-4 h-4"})," V d"]}),b.jsxs("div",{className:`${z.text} text-sm ${z.cardBg} p-2 rounded-lg border-2 ${S?"border-amber-900/30":"border-amber-300"} italic`,children:[b.jsx("p",{className:"mb-1 text-indigo-400",children:ee.sentences[de].example_en}),b.jsx("p",{className:"text-xs opacity-80",children:ee.sentences[de].example_vi})]})]})]}),ee.sentences[de].vocabulary&&b.jsxs("div",{children:[b.jsx("p",{className:`text-xs font-bold ${S?"text-amber-400":"text-amber-600"} uppercase mb-2`,children:"T vng cn dng"}),b.jsx("div",{className:"flex flex-wrap gap-2",children:ee.sentences[de].vocabulary.map((B,oe)=>b.jsxs("span",{className:`text-xs ${z.cardBg} px-2 py-1 rounded-lg ${S?"text-amber-400":"text-amber-700"} border-2 ${S?"border-amber-900":"border-amber-300"} font-medium`,children:[B.word,": ",B.meaning]},oe))})]}),Nn?b.jsxs("p",{className:`${z.text} font-serif italic text-base border-t ${z.cardBorder} pt-2 mt-2`,children:['"',ee.learningMode==="listen"?ee.sentences[de].english:ee.sentences[de].acceptableAnswers[0],'"']}):b.jsx("button",{onClick:Kn,className:`text-xs font-bold ${S?"text-slate-400 hover:text-white":"text-amber-700 hover:text-amber-900"} hover:underline`,children:"Xem p n y "})]})]}):ee?.learningMode==="listen"?b.jsxs("div",{className:`w-full p-4 ${S?"bg-slate-800":"bg-gradient-to-r from-amber-50 to-yellow-50"} border-2 ${S?"border-amber-900/30":"border-amber-200"} rounded-lg`,children:[b.jsx("div",{className:"flex items-center justify-center mb-2",children:b.jsxs("span",{className:`text-xs font-bold ${S?"text-amber-400":"text-amber-700"} uppercase flex items-center gap-2`,children:[b.jsx(Bd,{className:"w-4 h-4"})," Ch  gi "]})}),b.jsxs("div",{className:"flex items-center justify-center gap-3",children:[b.jsx("span",{className:`text-sm font-medium ${dt==="one"?S?"text-amber-300":"text-amber-700":S?"text-slate-500":"text-slate-400"}`,children:"1 t"}),b.jsx("button",{onClick:()=>yn(dt==="one"?"all":"one"),className:`relative w-14 h-7 rounded-full transition-colors ${dt==="all"?"bg-amber-500":S?"bg-slate-600":"bg-slate-300"}`,children:b.jsx("div",{className:`absolute top-1 ${dt==="all"?"right-1":"left-1"} w-5 h-5 bg-white rounded-full shadow-md transition-all`})}),b.jsx("span",{className:`text-sm font-medium ${dt==="all"?S?"text-amber-300":"text-amber-700":S?"text-slate-500":"text-slate-400"}`,children:"C cu"})]})]}):b.jsxs("button",{onClick:jt,className:`w-full flex items-center justify-center gap-2 py-4 ${S?"text-amber-500 hover:bg-amber-500/10":"bg-gradient-to-r from-amber-50 to-yellow-50 hover:from-amber-100 hover:to-yellow-100 text-amber-700 border-2 border-amber-200"} font-bold text-sm transition-colors`,children:[b.jsx(Bd,{className:"w-5 h-5"})," XEM GI "]})})]})]})]}),b.jsx("div",{className:"fixed bottom-4 right-4 text-xs opacity-50 hover:opacity-100 transition-opacity z-50",children:b.jsxs("span",{className:S?"text-slate-400":"text-slate-600",children:["v",UN]})})]})}rS.createRoot(document.getElementById("root")).render(b.jsx(Ee.StrictMode,{children:b.jsx(FN,{})}));
